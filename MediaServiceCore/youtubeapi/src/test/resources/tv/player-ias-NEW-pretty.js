(function() {
    /*

     Copyright The Closure Library Authors.
     SPDX-License-Identifier: Apache-2.0
    */
    'use strict';
    var h;

    function aa(a) {
        var b = 0;
        return function() {
            return b < a.length ? {
                done: !1,
                value: a[b++]
            } : {
                done: !0
            }
        }
    }
    var ba = "function" == typeof Object.defineProperties ? Object.defineProperty : function(a, b, c) {
        if (a == Array.prototype || a == Object.prototype) return a;
        a[b] = c.value;
        return a
    };

    function aaa(a) {
        a = ["object" == typeof globalThis && globalThis, a, "object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global];
        for (var b = 0; b < a.length; ++b) {
            var c = a[b];
            if (c && c.Math == Math) return c
        }
        throw Error("Cannot find global object");
    }
    var ca = aaa(this);

    function da(a, b) {
        if (b) a: {
            var c = ca;a = a.split(".");
            for (var d = 0; d < a.length - 1; d++) {
                var e = a[d];
                if (!(e in c)) break a;
                c = c[e]
            }
            a = a[a.length - 1];d = c[a];b = b(d);b != d && null != b && ba(c, a, {
                configurable: !0,
                writable: !0,
                value: b
            })
        }
    }
    da("Symbol", function(a) {
        function b(f) {
            if (this instanceof b) throw new TypeError("Symbol is not a constructor");
            return new c(d + (f || "") + "_" + e++, f)
        }

        function c(f, g) {
            this.i = f;
            ba(this, "description", {
                configurable: !0,
                writable: !0,
                value: g
            })
        }
        if (a) return a;
        c.prototype.toString = function() {
            return this.i
        };
        var d = "jscomp_symbol_" + (1E9 * Math.random() >>> 0) + "_",
            e = 0;
        return b
    });
    da("Symbol.iterator", function(a) {
        if (a) return a;
        a = Symbol("Symbol.iterator");
        for (var b = "Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "), c = 0; c < b.length; c++) {
            var d = ca[b[c]];
            "function" === typeof d && "function" != typeof d.prototype[a] && ba(d.prototype, a, {
                configurable: !0,
                writable: !0,
                value: function() {
                    return ea(aa(this))
                }
            })
        }
        return a
    });

    function ea(a) {
        a = {
            next: a
        };
        a[Symbol.iterator] = function() {
            return this
        };
        return a
    }

    function t(a) {
        var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];
        return b ? b.call(a) : {
            next: aa(a)
        }
    }

    function fa(a) {
        for (var b, c = []; !(b = a.next()).done;) c.push(b.value);
        return c
    }

    function ha(a) {
        return a instanceof Array ? a : fa(t(a))
    }
    var ia = "function" == typeof Object.create ? Object.create : function(a) {
            function b() {}
            b.prototype = a;
            return new b
        },
        baa = function() {
            function a() {
                function c() {}
                new c;
                Reflect.construct(c, [], function() {});
                return new c instanceof c
            }
            if ("undefined" != typeof Reflect && Reflect.construct) {
                if (a()) return Reflect.construct;
                var b = Reflect.construct;
                return function(c, d, e) {
                    c = b(c, d);
                    e && Reflect.setPrototypeOf(c, e.prototype);
                    return c
                }
            }
            return function(c, d, e) {
                void 0 === e && (e = c);
                e = ia(e.prototype || Object.prototype);
                return Function.prototype.apply.call(c, e, d) || e
            }
        }(),
        la;
    if ("function" == typeof Object.setPrototypeOf) la = Object.setPrototypeOf;
    else {
        var ma;
        a: {
            var caa = {
                    a: !0
                },
                na = {};
            try {
                na.__proto__ = caa;
                ma = na.a;
                break a
            } catch (a) {}
            ma = !1
        }
        la = ma ? function(a, b) {
            a.__proto__ = b;
            if (a.__proto__ !== b) throw new TypeError(a + " is not extensible");
            return a
        } : null
    }
    var oa = la;

    function v(a, b) {
        a.prototype = ia(b.prototype);
        a.prototype.constructor = a;
        if (oa) oa(a, b);
        else
            for (var c in b)
                if ("prototype" != c)
                    if (Object.defineProperties) {
                        var d = Object.getOwnPropertyDescriptor(b, c);
                        d && Object.defineProperty(a, c, d)
                    } else a[c] = b[c];
        a.re = b.prototype
    }

    function pa() {
        this.G = !1;
        this.C = null;
        this.l = void 0;
        this.i = 1;
        this.B = this.D = 0;
        this.J = this.u = null
    }

    function qa(a) {
        if (a.G) throw new TypeError("Generator is already running");
        a.G = !0
    }
    pa.prototype.I = function(a) {
        this.l = a
    };

    function ra(a, b) {
        a.u = {
            uy: b,
            Bz: !0
        };
        a.i = a.D || a.B
    }
    pa.prototype.return = function(a) {
        this.u = {
            return: a
        };
        this.i = this.B
    };

    function w(a, b, c) {
        a.i = c;
        return {
            value: b
        }
    }
    pa.prototype.Ya = function(a) {
        this.i = a
    };

    function sa(a) {
        a.i = 0
    }

    function ta(a, b, c) {
        a.D = b;
        void 0 != c && (a.B = c)
    }

    function ua(a, b) {
        a.i = b;
        a.D = 0
    }

    function va(a) {
        a.D = 0;
        var b = a.u.uy;
        a.u = null;
        return b
    }

    function wa(a) {
        a.J = [a.u];
        a.D = 0;
        a.B = 0
    }

    function xa(a, b) {
        var c = a.J.splice(0)[0];
        (c = a.u = a.u || c) ? c.Bz ? a.i = a.D || a.B : void 0 != c.Ya && a.B < c.Ya ? (a.i = c.Ya, a.u = null) : a.i = a.B: a.i = b
    }

    function daa(a) {
        this.i = new pa;
        this.l = a
    }

    function eaa(a, b) {
        qa(a.i);
        var c = a.i.C;
        if (c) return ya(a, "return" in c ? c["return"] : function(d) {
            return {
                value: d,
                done: !0
            }
        }, b, a.i.return);
        a.i.return(b);
        return Aa(a)
    }

    function ya(a, b, c, d) {
        try {
            var e = b.call(a.i.C, c);
            if (!(e instanceof Object)) throw new TypeError("Iterator result " + e + " is not an object");
            if (!e.done) return a.i.G = !1, e;
            var f = e.value
        } catch (g) {
            return a.i.C = null, ra(a.i, g), Aa(a)
        }
        a.i.C = null;
        d.call(a.i, f);
        return Aa(a)
    }

    function Aa(a) {
        for (; a.i.i;) try {
            var b = a.l(a.i);
            if (b) return a.i.G = !1, {
                value: b.value,
                done: !1
            }
        } catch (c) {
            a.i.l = void 0, ra(a.i, c)
        }
        a.i.G = !1;
        if (a.i.u) {
            b = a.i.u;
            a.i.u = null;
            if (b.Bz) throw b.uy;
            return {
                value: b.return,
                done: !0
            }
        }
        return {
            value: void 0,
            done: !0
        }
    }

    function faa(a) {
        this.next = function(b) {
            qa(a.i);
            a.i.C ? b = ya(a, a.i.C.next, b, a.i.I) : (a.i.I(b), b = Aa(a));
            return b
        };
        this.throw = function(b) {
            qa(a.i);
            a.i.C ? b = ya(a, a.i.C["throw"], b, a.i.I) : (ra(a.i, b), b = Aa(a));
            return b
        };
        this.return = function(b) {
            return eaa(a, b)
        };
        this[Symbol.iterator] = function() {
            return this
        }
    }

    function y(a, b) {
        b = new faa(new daa(b));
        oa && a.prototype && oa(b, a.prototype);
        return b
    }
    da("Reflect", function(a) {
        return a ? a : {}
    });
    da("Reflect.construct", function() {
        return baa
    });
    da("Reflect.setPrototypeOf", function(a) {
        return a ? a : oa ? function(b, c) {
            try {
                return oa(b, c), !0
            } catch (d) {
                return !1
            }
        } : null
    });

    function Ca(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b)
    }
    da("WeakMap", function(a) {
        function b(l) {
            this.i = (k += Math.random() + 1).toString();
            if (l) {
                l = t(l);
                for (var m; !(m = l.next()).done;) m = m.value, this.set(m[0], m[1])
            }
        }

        function c() {}

        function d(l) {
            var m = typeof l;
            return "object" === m && null !== l || "function" === m
        }

        function e(l) {
            if (!Ca(l, g)) {
                var m = new c;
                ba(l, g, {
                    value: m
                })
            }
        }

        function f(l) {
            var m = Object[l];
            m && (Object[l] = function(n) {
                if (n instanceof c) return n;
                Object.isExtensible(n) && e(n);
                return m(n)
            })
        }
        if (function() {
                if (!a || !Object.seal) return !1;
                try {
                    var l = Object.seal({}),
                        m = Object.seal({}),
                        n = new a([
                            [l, 2],
                            [m, 3]
                        ]);
                    if (2 != n.get(l) || 3 != n.get(m)) return !1;
                    n.delete(l);
                    n.set(m, 4);
                    return !n.has(l) && 4 == n.get(m)
                } catch (p) {
                    return !1
                }
            }()) return a;
        var g = "$jscomp_hidden_" + Math.random();
        f("freeze");
        f("preventExtensions");
        f("seal");
        var k = 0;
        b.prototype.set = function(l, m) {
            if (!d(l)) throw Error("Invalid WeakMap key");
            e(l);
            if (!Ca(l, g)) throw Error("WeakMap key fail: " + l);
            l[g][this.i] = m;
            return this
        };
        b.prototype.get = function(l) {
            return d(l) && Ca(l, g) ? l[g][this.i] : void 0
        };
        b.prototype.has = function(l) {
            return d(l) && Ca(l, g) && Ca(l[g], this.i)
        };
        b.prototype.delete = function(l) {
            return d(l) && Ca(l, g) && Ca(l[g], this.i) ? delete l[g][this.i] : !1
        };
        return b
    });
    da("Map", function(a) {
        function b() {
            var k = {};
            return k.previous = k.next = k.head = k
        }

        function c(k, l) {
            var m = k.i;
            return ea(function() {
                if (m) {
                    for (; m.head != k.i;) m = m.previous;
                    for (; m.next != m.head;) return m = m.next, {
                        done: !1,
                        value: l(m)
                    };
                    m = null
                }
                return {
                    done: !0,
                    value: void 0
                }
            })
        }

        function d(k, l) {
            var m = l && typeof l;
            "object" == m || "function" == m ? f.has(l) ? m = f.get(l) : (m = "" + ++g, f.set(l, m)) : m = "p_" + l;
            var n = k.data_[m];
            if (n && Ca(k.data_, m))
                for (k = 0; k < n.length; k++) {
                    var p = n[k];
                    if (l !== l && p.key !== p.key || l === p.key) return {
                        id: m,
                        list: n,
                        index: k,
                        Be: p
                    }
                }
            return {
                id: m,
                list: n,
                index: -1,
                Be: void 0
            }
        }

        function e(k) {
            this.data_ = {};
            this.i = b();
            this.size = 0;
            if (k) {
                k = t(k);
                for (var l; !(l = k.next()).done;) l = l.value, this.set(l[0], l[1])
            }
        }
        if (function() {
                if (!a || "function" != typeof a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
                try {
                    var k = Object.seal({
                            x: 4
                        }),
                        l = new a(t([
                            [k, "s"]
                        ]));
                    if ("s" != l.get(k) || 1 != l.size || l.get({
                            x: 4
                        }) || l.set({
                            x: 4
                        }, "t") != l || 2 != l.size) return !1;
                    var m = l.entries(),
                        n = m.next();
                    if (n.done || n.value[0] != k || "s" != n.value[1]) return !1;
                    n = m.next();
                    return n.done || 4 != n.value[0].x || "t" != n.value[1] || !m.next().done ? !1 : !0
                } catch (p) {
                    return !1
                }
            }()) return a;
        var f = new WeakMap;
        e.prototype.set = function(k, l) {
            k = 0 === k ? 0 : k;
            var m = d(this, k);
            m.list || (m.list = this.data_[m.id] = []);
            m.Be ? m.Be.value = l : (m.Be = {
                next: this.i,
                previous: this.i.previous,
                head: this.i,
                key: k,
                value: l
            }, m.list.push(m.Be), this.i.previous.next = m.Be, this.i.previous = m.Be, this.size++);
            return this
        };
        e.prototype.delete = function(k) {
            k = d(this, k);
            return k.Be && k.list ? (k.list.splice(k.index, 1), k.list.length || delete this.data_[k.id], k.Be.previous.next = k.Be.next, k.Be.next.previous = k.Be.previous, k.Be.head = null, this.size--, !0) : !1
        };
        e.prototype.clear = function() {
            this.data_ = {};
            this.i = this.i.previous = b();
            this.size = 0
        };
        e.prototype.has = function(k) {
            return !!d(this, k).Be
        };
        e.prototype.get = function(k) {
            return (k = d(this, k).Be) && k.value
        };
        e.prototype.entries = function() {
            return c(this, function(k) {
                return [k.key, k.value]
            })
        };
        e.prototype.keys = function() {
            return c(this, function(k) {
                return k.key
            })
        };
        e.prototype.values = function() {
            return c(this, function(k) {
                return k.value
            })
        };
        e.prototype.forEach = function(k, l) {
            for (var m = this.entries(), n; !(n = m.next()).done;) n = n.value, k.call(l, n[1], n[0], this)
        };
        e.prototype[Symbol.iterator] = e.prototype.entries;
        var g = 0;
        return e
    });

    function Da(a, b, c) {
        if (null == a) throw new TypeError("The 'this' value for String.prototype." + c + " must not be null or undefined");
        if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + c + " must not be a regular expression");
        return a + ""
    }
    da("String.prototype.endsWith", function(a) {
        return a ? a : function(b, c) {
            var d = Da(this, b, "endsWith");
            b += "";
            void 0 === c && (c = d.length);
            c = Math.max(0, Math.min(c | 0, d.length));
            for (var e = b.length; 0 < e && 0 < c;)
                if (d[--c] != b[--e]) return !1;
            return 0 >= e
        }
    });

    function Ea(a, b, c) {
        a instanceof String && (a = String(a));
        for (var d = a.length, e = 0; e < d; e++) {
            var f = a[e];
            if (b.call(c, f, e, a)) return {
                mz: e,
                HB: f
            }
        }
        return {
            mz: -1,
            HB: void 0
        }
    }
    da("Array.prototype.find", function(a) {
        return a ? a : function(b, c) {
            return Ea(this, b, c).HB
        }
    });
    da("String.prototype.startsWith", function(a) {
        return a ? a : function(b, c) {
            var d = Da(this, b, "startsWith");
            b += "";
            var e = d.length,
                f = b.length;
            c = Math.max(0, Math.min(c | 0, d.length));
            for (var g = 0; g < f && c < e;)
                if (d[c++] != b[g++]) return !1;
            return g >= f
        }
    });
    da("String.prototype.repeat", function(a) {
        return a ? a : function(b) {
            var c = Da(this, null, "repeat");
            if (0 > b || 1342177279 < b) throw new RangeError("Invalid count value");
            b |= 0;
            for (var d = ""; b;)
                if (b & 1 && (d += c), b >>>= 1) c += c;
            return d
        }
    });

    function Fa(a, b) {
        a instanceof String && (a += "");
        var c = 0,
            d = !1,
            e = {
                next: function() {
                    if (!d && c < a.length) {
                        var f = c++;
                        return {
                            value: b(f, a[f]),
                            done: !1
                        }
                    }
                    d = !0;
                    return {
                        done: !0,
                        value: void 0
                    }
                }
            };
        e[Symbol.iterator] = function() {
            return e
        };
        return e
    }
    da("Array.prototype.entries", function(a) {
        return a ? a : function() {
            return Fa(this, function(b, c) {
                return [b, c]
            })
        }
    });
    da("Object.setPrototypeOf", function(a) {
        return a || oa
    });
    var gaa = "function" == typeof Object.assign ? Object.assign : function(a, b) {
        for (var c = 1; c < arguments.length; c++) {
            var d = arguments[c];
            if (d)
                for (var e in d) Ca(d, e) && (a[e] = d[e])
        }
        return a
    };
    da("Object.assign", function(a) {
        return a || gaa
    });
    da("Promise", function(a) {
        function b(g) {
            this.Oa = 0;
            this.Qc = void 0;
            this.i = [];
            this.C = !1;
            var k = this.l();
            try {
                g(k.resolve, k.reject)
            } catch (l) {
                k.reject(l)
            }
        }

        function c() {
            this.i = null
        }

        function d(g) {
            return g instanceof b ? g : new b(function(k) {
                k(g)
            })
        }
        if (a) return a;
        c.prototype.l = function(g) {
            if (null == this.i) {
                this.i = [];
                var k = this;
                this.u(function() {
                    k.C()
                })
            }
            this.i.push(g)
        };
        var e = ca.setTimeout;
        c.prototype.u = function(g) {
            e(g, 0)
        };
        c.prototype.C = function() {
            for (; this.i && this.i.length;) {
                var g = this.i;
                this.i = [];
                for (var k = 0; k < g.length; ++k) {
                    var l = g[k];
                    g[k] = null;
                    try {
                        l()
                    } catch (m) {
                        this.B(m)
                    }
                }
            }
            this.i = null
        };
        c.prototype.B = function(g) {
            this.u(function() {
                throw g;
            })
        };
        b.prototype.l = function() {
            function g(m) {
                return function(n) {
                    l || (l = !0, m.call(k, n))
                }
            }
            var k = this,
                l = !1;
            return {
                resolve: g(this.K),
                reject: g(this.u)
            }
        };
        b.prototype.K = function(g) {
            if (g === this) this.u(new TypeError("A Promise cannot resolve to itself"));
            else if (g instanceof b) this.T(g);
            else {
                a: switch (typeof g) {
                    case "object":
                        var k = null != g;
                        break a;
                    case "function":
                        k = !0;
                        break a;
                    default:
                        k = !1
                }
                k ? this.J(g) : this.B(g)
            }
        };
        b.prototype.J = function(g) {
            var k = void 0;
            try {
                k = g.then
            } catch (l) {
                this.u(l);
                return
            }
            "function" == typeof k ? this.X(k, g) : this.B(g)
        };
        b.prototype.u = function(g) {
            this.D(2, g)
        };
        b.prototype.B = function(g) {
            this.D(1, g)
        };
        b.prototype.D = function(g, k) {
            if (0 != this.Oa) throw Error("Cannot settle(" + g + ", " + k + "): Promise already settled in state" + this.Oa);
            this.Oa = g;
            this.Qc = k;
            2 === this.Oa && this.U();
            this.G()
        };
        b.prototype.U = function() {
            var g = this;
            e(function() {
                if (g.I()) {
                    var k = ca.console;
                    "undefined" !== typeof k && k.error(g.Qc)
                }
            }, 1)
        };
        b.prototype.I = function() {
            if (this.C) return !1;
            var g = ca.CustomEvent,
                k = ca.Event,
                l = ca.dispatchEvent;
            if ("undefined" === typeof l) return !0;
            "function" === typeof g ? g = new g("unhandledrejection", {
                cancelable: !0
            }) : "function" === typeof k ? g = new k("unhandledrejection", {
                cancelable: !0
            }) : (g = ca.document.createEvent("CustomEvent"), g.initCustomEvent("unhandledrejection", !1, !0, g));
            g.promise = this;
            g.reason = this.Qc;
            return l(g)
        };
        b.prototype.G = function() {
            if (null != this.i) {
                for (var g = 0; g < this.i.length; ++g) f.l(this.i[g]);
                this.i = null
            }
        };
        var f = new c;
        b.prototype.T = function(g) {
            var k = this.l();
            g.yp(k.resolve, k.reject)
        };
        b.prototype.X = function(g, k) {
            var l = this.l();
            try {
                g.call(k, l.resolve, l.reject)
            } catch (m) {
                l.reject(m)
            }
        };
        b.prototype.then = function(g, k) {
            function l(q, r) {
                return "function" == typeof q ? function(u) {
                    try {
                        m(q(u))
                    } catch (x) {
                        n(x)
                    }
                } : r
            }
            var m, n, p = new b(function(q, r) {
                m = q;
                n = r
            });
            this.yp(l(g, m), l(k, n));
            return p
        };
        b.prototype.catch = function(g) {
            return this.then(void 0, g)
        };
        b.prototype.yp = function(g, k) {
            function l() {
                switch (m.Oa) {
                    case 1:
                        g(m.Qc);
                        break;
                    case 2:
                        k(m.Qc);
                        break;
                    default:
                        throw Error("Unexpected state: " + m.Oa);
                }
            }
            var m = this;
            null == this.i ? f.l(l) : this.i.push(l);
            this.C = !0
        };
        b.resolve = d;
        b.reject = function(g) {
            return new b(function(k, l) {
                l(g)
            })
        };
        b.race = function(g) {
            return new b(function(k, l) {
                for (var m = t(g), n = m.next(); !n.done; n = m.next()) d(n.value).yp(k, l)
            })
        };
        b.all = function(g) {
            var k = t(g),
                l = k.next();
            return l.done ? d([]) : new b(function(m, n) {
                function p(u) {
                    return function(x) {
                        q[u] = x;
                        r--;
                        0 == r && m(q)
                    }
                }
                var q = [],
                    r = 0;
                do q.push(void 0), r++, d(l.value).yp(p(q.length - 1), n), l = k.next(); while (!l.done)
            })
        };
        return b
    });
    da("Array.prototype.keys", function(a) {
        return a ? a : function() {
            return Fa(this, function(b) {
                return b
            })
        }
    });
    da("Set", function(a) {
        function b(c) {
            this.i = new Map;
            if (c) {
                c = t(c);
                for (var d; !(d = c.next()).done;) this.add(d.value)
            }
            this.size = this.i.size
        }
        if (function() {
                if (!a || "function" != typeof a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
                try {
                    var c = Object.seal({
                            x: 4
                        }),
                        d = new a(t([c]));
                    if (!d.has(c) || 1 != d.size || d.add(c) != d || 1 != d.size || d.add({
                            x: 4
                        }) != d || 2 != d.size) return !1;
                    var e = d.entries(),
                        f = e.next();
                    if (f.done || f.value[0] != c || f.value[1] != c) return !1;
                    f = e.next();
                    return f.done || f.value[0] == c || 4 != f.value[0].x || f.value[1] != f.value[0] ? !1 : e.next().done
                } catch (g) {
                    return !1
                }
            }()) return a;
        b.prototype.add = function(c) {
            c = 0 === c ? 0 : c;
            this.i.set(c, c);
            this.size = this.i.size;
            return this
        };
        b.prototype.delete = function(c) {
            c = this.i.delete(c);
            this.size = this.i.size;
            return c
        };
        b.prototype.clear = function() {
            this.i.clear();
            this.size = 0
        };
        b.prototype.has = function(c) {
            return this.i.has(c)
        };
        b.prototype.entries = function() {
            return this.i.entries()
        };
        b.prototype.values = function() {
            return this.i.values()
        };
        b.prototype.keys = b.prototype.values;
        b.prototype[Symbol.iterator] = b.prototype.values;
        b.prototype.forEach = function(c, d) {
            var e = this;
            this.i.forEach(function(f) {
                return c.call(d, f, f, e)
            })
        };
        return b
    });
    da("Array.prototype.values", function(a) {
        return a ? a : function() {
            return Fa(this, function(b, c) {
                return c
            })
        }
    });
    da("Array.from", function(a) {
        return a ? a : function(b, c, d) {
            c = null != c ? c : function(k) {
                return k
            };
            var e = [],
                f = "undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];
            if ("function" == typeof f) {
                b = f.call(b);
                for (var g = 0; !(f = b.next()).done;) e.push(c.call(d, f.value, g++))
            } else
                for (f = b.length, g = 0; g < f; g++) e.push(c.call(d, b[g], g));
            return e
        }
    });
    da("Array.prototype.findIndex", function(a) {
        return a ? a : function(b, c) {
            return Ea(this, b, c).mz
        }
    });
    da("Object.entries", function(a) {
        return a ? a : function(b) {
            var c = [],
                d;
            for (d in b) Ca(b, d) && c.push([d, b[d]]);
            return c
        }
    });
    da("Math.trunc", function(a) {
        return a ? a : function(b) {
            b = Number(b);
            if (isNaN(b) || Infinity === b || -Infinity === b || 0 === b) return b;
            var c = Math.floor(Math.abs(b));
            return 0 > b ? -c : c
        }
    });
    da("Array.prototype.fill", function(a) {
        return a ? a : function(b, c, d) {
            var e = this.length || 0;
            0 > c && (c = Math.max(0, e + c));
            if (null == d || d > e) d = e;
            d = Number(d);
            0 > d && (d = Math.max(0, e + d));
            for (c = Number(c || 0); c < d; c++) this[c] = b;
            return this
        }
    });

    function Ga(a) {
        return a ? a : Array.prototype.fill
    }
    da("Int8Array.prototype.fill", Ga);
    da("Uint8Array.prototype.fill", Ga);
    da("Uint8ClampedArray.prototype.fill", Ga);
    da("Int16Array.prototype.fill", Ga);
    da("Uint16Array.prototype.fill", Ga);
    da("Int32Array.prototype.fill", Ga);
    da("Uint32Array.prototype.fill", Ga);
    da("Float32Array.prototype.fill", Ga);
    da("Float64Array.prototype.fill", Ga);
    da("Array.prototype.flat", function(a) {
        return a ? a : function(b) {
            b = void 0 === b ? 1 : b;
            for (var c = [], d = 0; d < this.length; d++) {
                var e = this[d];
                Array.isArray(e) && 0 < b ? (e = Array.prototype.flat.call(e, b - 1), c.push.apply(c, e)) : c.push(e)
            }
            return c
        }
    });
    da("Number.isNaN", function(a) {
        return a ? a : function(b) {
            return "number" === typeof b && isNaN(b)
        }
    });
    da("Number.MAX_SAFE_INTEGER", function() {
        return 9007199254740991
    });
    da("Object.is", function(a) {
        return a ? a : function(b, c) {
            return b === c ? 0 !== b || 1 / b === 1 / c : b !== b && c !== c
        }
    });
    da("Array.prototype.includes", function(a) {
        return a ? a : function(b, c) {
            var d = this;
            d instanceof String && (d = String(d));
            var e = d.length;
            c = c || 0;
            for (0 > c && (c = Math.max(c + e, 0)); c < e; c++) {
                var f = d[c];
                if (f === b || Object.is(f, b)) return !0
            }
            return !1
        }
    });
    da("String.prototype.includes", function(a) {
        return a ? a : function(b, c) {
            return -1 !== Da(this, b, "includes").indexOf(b, c || 0)
        }
    });
    da("Object.values", function(a) {
        return a ? a : function(b) {
            var c = [],
                d;
            for (d in b) Ca(b, d) && c.push(b[d]);
            return c
        }
    });
    da("String.prototype.padStart", function(a) {
        return a ? a : function(b, c) {
            var d = Da(this, null, "padStart");
            b -= d.length;
            c = void 0 !== c ? String(c) : " ";
            return (0 < b && c ? c.repeat(Math.ceil(b / c.length)).substring(0, b) : "") + d
        }
    });
    da("Object.fromEntries", function(a) {
        return a ? a : function(b) {
            var c = {};
            if (!(Symbol.iterator in b)) throw new TypeError("" + b + " is not iterable");
            b = b[Symbol.iterator].call(b);
            for (var d = b.next(); !d.done; d = b.next()) {
                d = d.value;
                if (Object(d) !== d) throw new TypeError("iterable for fromEntries should yield objects");
                c[d[0]] = d[1]
            }
            return c
        }
    });
    da("Number.isFinite", function(a) {
        return a ? a : function(b) {
            return "number" !== typeof b ? !1 : !isNaN(b) && Infinity !== b && -Infinity !== b
        }
    });
    da("WeakSet", function(a) {
        function b(c) {
            this.i = new WeakMap;
            if (c) {
                c = t(c);
                for (var d; !(d = c.next()).done;) this.add(d.value)
            }
        }
        if (function() {
                if (!a || !Object.seal) return !1;
                try {
                    var c = Object.seal({}),
                        d = Object.seal({}),
                        e = new a([c]);
                    if (!e.has(c) || e.has(d)) return !1;
                    e.delete(c);
                    e.add(d);
                    return !e.has(c) && e.has(d)
                } catch (f) {
                    return !1
                }
            }()) return a;
        b.prototype.add = function(c) {
            this.i.set(c, !0);
            return this
        };
        b.prototype.has = function(c) {
            return this.i.has(c)
        };
        b.prototype.delete = function(c) {
            return this.i.delete(c)
        };
        return b
    });
    da("Number.parseInt", function(a) {
        return a || parseInt
    });
    da("Math.log2", function(a) {
        return a ? a : function(b) {
            return Math.log(b) / Math.LN2
        }
    });
    var Ha = Ha || {},
        A = this || self;

    function Ia(a, b, c) {
        a = a.split(".");
        c = c || A;
        a[0] in c || "undefined" == typeof c.execScript || c.execScript("var " + a[0]);
        for (var d; a.length && (d = a.shift());) a.length || void 0 === b ? c[d] && c[d] !== Object.prototype[d] ? c = c[d] : c = c[d] = {} : c[d] = b
    }

    function Ja(a, b) {
        a = a.split(".");
        b = b || A;
        for (var c = 0; c < a.length; c++)
            if (b = b[a[c]], null == b) return null;
        return b
    }

    function Ka() {}

    function La(a) {
        a.Xt = void 0;
        a.getInstance = function() {
            return a.Xt ? a.Xt : a.Xt = new a
        }
    }

    function Ma(a) {
        var b = typeof a;
        return "object" != b ? b : a ? Array.isArray(a) ? "array" : b : "null"
    }

    function Na(a) {
        var b = Ma(a);
        return "array" == b || "object" == b && "number" == typeof a.length
    }

    function Oa(a) {
        var b = typeof a;
        return "object" == b && null != a || "function" == b
    }

    function Pa(a) {
        return Object.prototype.hasOwnProperty.call(a, Ra) && a[Ra] || (a[Ra] = ++haa)
    }
    var Ra = "closure_uid_" + (1E9 * Math.random() >>> 0),
        haa = 0;

    function iaa(a, b, c) {
        return a.call.apply(a.bind, arguments)
    }

    function jaa(a, b, c) {
        if (!a) throw Error();
        if (2 < arguments.length) {
            var d = Array.prototype.slice.call(arguments, 2);
            return function() {
                var e = Array.prototype.slice.call(arguments);
                Array.prototype.unshift.apply(e, d);
                return a.apply(b, e)
            }
        }
        return function() {
            return a.apply(b, arguments)
        }
    }

    function Sa(a, b, c) {
        Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? Sa = iaa : Sa = jaa;
        return Sa.apply(null, arguments)
    }

    function Ta(a, b) {
        var c = Array.prototype.slice.call(arguments, 1);
        return function() {
            var d = c.slice();
            d.push.apply(d, arguments);
            return a.apply(this, d)
        }
    }

    function Ua(a, b) {
        for (var c in b) a[c] = b[c]
    }

    function Va() {
        return Date.now()
    }

    function Wa(a, b) {
        Ia(a, b, void 0)
    }

    function Xa(a, b) {
        function c() {}
        c.prototype = b.prototype;
        a.re = b.prototype;
        a.prototype = new c;
        a.prototype.constructor = a;
        a.uf = function(d, e, f) {
            for (var g = Array(arguments.length - 2), k = 2; k < arguments.length; k++) g[k - 2] = arguments[k];
            return b.prototype[e].apply(d, g)
        }
    }

    function Ya(a) {
        return a
    };

    function Za(a, b) {
        if (Error.captureStackTrace) Error.captureStackTrace(this, Za);
        else {
            var c = Error().stack;
            c && (this.stack = c)
        }
        a && (this.message = String(a));
        b && (this.SD = b)
    }
    Xa(Za, Error);
    Za.prototype.name = "CustomError";
    var $a;

    function ab(a, b) {
        var c = Za.call;
        a = a.split("%s");
        for (var d = "", e = a.length - 1, f = 0; f < e; f++) d += a[f] + (f < b.length ? b[f] : "%s");
        c.call(Za, this, d + a[e])
    }
    Xa(ab, Za);
    ab.prototype.name = "AssertionError";

    function bb() {};

    function cb(a) {
        for (var b = [], c = 0, d = 0; d < a.length; d++) {
            var e = a.charCodeAt(d);
            255 < e && (b[c++] = e & 255, e >>= 8);
            b[c++] = e
        }
        return b
    }

    function db(a) {
        if (8192 >= a.length) return String.fromCharCode.apply(null, a);
        for (var b = "", c = 0; c < a.length; c += 8192) b += String.fromCharCode.apply(null, Array.prototype.slice.call(a, c, c + 8192));
        return b
    }

    function kaa(a) {
        return Array.prototype.map.call(a, function(b) {
            b = b.toString(16);
            return 1 < b.length ? b : "0" + b
        }).join("")
    }

    function eb(a) {
        for (var b = [], c = 0, d = 0; c < a.length;) {
            var e = a[c++];
            if (128 > e) b[d++] = String.fromCharCode(e);
            else if (191 < e && 224 > e) {
                var f = a[c++];
                b[d++] = String.fromCharCode((e & 31) << 6 | f & 63)
            } else if (239 < e && 365 > e) {
                f = a[c++];
                var g = a[c++],
                    k = a[c++];
                e = ((e & 7) << 18 | (f & 63) << 12 | (g & 63) << 6 | k & 63) - 65536;
                b[d++] = String.fromCharCode(55296 + (e >> 10));
                b[d++] = String.fromCharCode(56320 + (e & 1023))
            } else f = a[c++], g = a[c++], b[d++] = String.fromCharCode((e & 15) << 12 | (f & 63) << 6 | g & 63)
        }
        return b.join("")
    };

    function fb(a) {
        return function() {
            return a
        }
    }

    function gb(a) {
        var b = b || 0;
        return function() {
            return a.apply(this, Array.prototype.slice.call(arguments, 0, b))
        }
    }

    function ib(a) {
        var b = !1,
            c;
        return function() {
            b || (c = a(), b = !0);
            return c
        }
    }

    function jb(a) {
        var b = a;
        return function() {
            if (b) {
                var c = b;
                b = null;
                c()
            }
        }
    };

    function kb(a) {
        return a[a.length - 1]
    }
    var lb = Array.prototype.indexOf ? function(a, b) {
            return Array.prototype.indexOf.call(a, b, void 0)
        } : function(a, b) {
            if ("string" === typeof a) return "string" !== typeof b || 1 != b.length ? -1 : a.indexOf(b, 0);
            for (var c = 0; c < a.length; c++)
                if (c in a && a[c] === b) return c;
            return -1
        },
        nb = Array.prototype.forEach ? function(a, b, c) {
            Array.prototype.forEach.call(a, b, c)
        } : function(a, b, c) {
            for (var d = a.length, e = "string" === typeof a ? a.split("") : a, f = 0; f < d; f++) f in e && b.call(c, e[f], f, a)
        };

    function laa(a, b) {
        var c = a.length,
            d = "string" === typeof a ? a.split("") : a;
        for (--c; 0 <= c; --c) c in d && b.call(void 0, d[c], c, a)
    }
    var ob = Array.prototype.filter ? function(a, b, c) {
            return Array.prototype.filter.call(a, b, c)
        } : function(a, b, c) {
            for (var d = a.length, e = [], f = 0, g = "string" === typeof a ? a.split("") : a, k = 0; k < d; k++)
                if (k in g) {
                    var l = g[k];
                    b.call(c, l, k, a) && (e[f++] = l)
                } return e
        },
        pb = Array.prototype.map ? function(a, b) {
            return Array.prototype.map.call(a, b, void 0)
        } : function(a, b) {
            for (var c = a.length, d = Array(c), e = "string" === typeof a ? a.split("") : a, f = 0; f < c; f++) f in e && (d[f] = b.call(void 0, e[f], f, a));
            return d
        },
        qb = Array.prototype.reduce ? function(a, b, c) {
            return Array.prototype.reduce.call(a, b, c)
        } : function(a, b, c) {
            var d = c;
            nb(a, function(e, f) {
                d = b.call(void 0, d, e, f, a)
            });
            return d
        },
        rb = Array.prototype.some ? function(a, b) {
            return Array.prototype.some.call(a, b, void 0)
        } : function(a, b) {
            for (var c = a.length, d = "string" === typeof a ? a.split("") : a, e = 0; e < c; e++)
                if (e in d && b.call(void 0, d[e], e, a)) return !0;
            return !1
        },
        sb = Array.prototype.every ? function(a, b, c) {
            return Array.prototype.every.call(a, b, c)
        } : function(a, b, c) {
            for (var d = a.length, e = "string" === typeof a ? a.split("") : a, f = 0; f < d; f++)
                if (f in e && !b.call(c, e[f], f, a)) return !1;
            return !0
        };

    function tb(a, b) {
        b = vb(a, b, void 0);
        return 0 > b ? null : "string" === typeof a ? a.charAt(b) : a[b]
    }

    function vb(a, b, c) {
        for (var d = a.length, e = "string" === typeof a ? a.split("") : a, f = 0; f < d; f++)
            if (f in e && b.call(c, e[f], f, a)) return f;
        return -1
    }

    function wb(a, b, c) {
        var d = a.length,
            e = "string" === typeof a ? a.split("") : a;
        for (--d; 0 <= d; d--)
            if (d in e && b.call(c, e[d], d, a)) return d;
        return -1
    }

    function xb(a, b) {
        return 0 <= lb(a, b)
    }

    function yb(a) {
        if (!Array.isArray(a))
            for (var b = a.length - 1; 0 <= b; b--) delete a[b];
        a.length = 0
    }

    function zb(a, b) {
        b = lb(a, b);
        var c;
        (c = 0 <= b) && Ab(a, b);
        return c
    }

    function Ab(a, b) {
        return 1 == Array.prototype.splice.call(a, b, 1).length
    }

    function maa(a, b) {
        b = vb(a, b, void 0);
        0 <= b && Ab(a, b)
    }

    function naa(a, b) {
        var c = 0;
        laa(a, function(d, e) {
            b.call(void 0, d, e, a) && Ab(a, e) && c++
        })
    }

    function Bb(a) {
        return Array.prototype.concat.apply([], arguments)
    }

    function Cb(a) {
        var b = a.length;
        if (0 < b) {
            for (var c = Array(b), d = 0; d < b; d++) c[d] = a[d];
            return c
        }
        return []
    }

    function Db(a, b) {
        for (var c = 1; c < arguments.length; c++) {
            var d = arguments[c];
            if (Na(d)) {
                var e = a.length || 0,
                    f = d.length || 0;
                a.length = e + f;
                for (var g = 0; g < f; g++) a[e + g] = d[g]
            } else a.push(d)
        }
    }

    function Eb(a, b, c, d) {
        Array.prototype.splice.apply(a, Fb(arguments, 1))
    }

    function Fb(a, b, c) {
        return 2 >= arguments.length ? Array.prototype.slice.call(a, b) : Array.prototype.slice.call(a, b, c)
    }

    function oaa(a) {
        for (var b = 0, c = 0, d = {}; c < a.length;) {
            var e = a[c++],
                f = Oa(e) ? "o" + Pa(e) : (typeof e).charAt(0) + e;
            Object.prototype.hasOwnProperty.call(d, f) || (d[f] = !0, a[b++] = e)
        }
        a.length = b
    }

    function Gb(a, b, c) {
        return Hb(a, c || Ib, !1, b)
    }

    function Jb(a, b) {
        return Hb(a, b, !0, void 0, void 0)
    }

    function Hb(a, b, c, d, e) {
        for (var f = 0, g = a.length, k; f < g;) {
            var l = f + (g - f >>> 1),
                m = void 0;
            c ? m = b.call(e, a[l], l, a) : m = b(d, a[l]);
            0 < m ? f = l + 1 : (g = l, k = !m)
        }
        return k ? f : -f - 1
    }

    function Kb(a, b) {
        a.sort(b || Ib)
    }

    function paa(a, b) {
        var c = Ib;
        Kb(a, function(d, e) {
            return c(b(d), b(e))
        })
    }

    function Lb(a, b) {
        if (!Na(a) || !Na(b) || a.length != b.length) return !1;
        for (var c = a.length, d = qaa, e = 0; e < c; e++)
            if (!d(a[e], b[e])) return !1;
        return !0
    }

    function Ib(a, b) {
        return a > b ? 1 : a < b ? -1 : 0
    }

    function qaa(a, b) {
        return a === b
    }

    function Mb(a, b, c) {
        c = Gb(a, b, c);
        0 > c && Eb(a, -(c + 1), 0, b)
    }

    function raa(a) {
        for (var b = [], c = 0; c < a; c++) b[c] = "";
        return b
    };

    function Nb(a, b, c) {
        for (var d in a) b.call(c, a[d], d, a)
    }

    function Ob(a, b) {
        var c = {},
            d;
        for (d in a) b.call(void 0, a[d], d, a) && (c[d] = a[d]);
        return c
    }

    function Pb(a, b) {
        var c = {},
            d;
        for (d in a) c[d] = b.call(void 0, a[d], d, a);
        return c
    }

    function Qb(a, b, c) {
        for (var d in a)
            if (b.call(c, a[d], d, a)) return !0;
        return !1
    }

    function Rb(a, b) {
        for (var c in a)
            if (!b.call(void 0, a[c], c, a)) return !1;
        return !0
    }

    function Sb(a) {
        for (var b in a) return b
    }

    function Tb(a) {
        for (var b in a) return a[b]
    }

    function Ub(a) {
        var b = [],
            c = 0,
            d;
        for (d in a) b[c++] = a[d];
        return b
    }

    function Vb(a) {
        var b = [],
            c = 0,
            d;
        for (d in a) b[c++] = d;
        return b
    }

    function Wb(a, b) {
        return null !== a && b in a
    }

    function Xb(a, b) {
        for (var c in a)
            if (a[c] == b) return !0;
        return !1
    }

    function Yb(a, b, c) {
        for (var d in a)
            if (b.call(c, a[d], d, a)) return d
    }

    function ac(a, b) {
        return (b = Yb(a, b, void 0)) && a[b]
    }

    function bc(a) {
        for (var b in a) return !1;
        return !0
    }

    function cc(a) {
        for (var b in a) delete a[b]
    }

    function dc(a, b) {
        b in a && delete a[b]
    }

    function saa(a, b) {
        if (null !== a && b in a) throw Error('The object already contains the key "' + b + '"');
        a[b] = !0
    }

    function ec(a, b, c) {
        return null !== a && b in a ? a[b] : c
    }

    function fc(a, b) {
        for (var c in a)
            if (!(c in b) || a[c] !== b[c]) return !1;
        for (var d in b)
            if (!(d in a)) return !1;
        return !0
    }

    function gc(a) {
        var b = {},
            c;
        for (c in a) b[c] = a[c];
        return b
    }

    function hc(a) {
        if (!a || "object" !== typeof a) return a;
        if ("function" === typeof a.clone) return a.clone();
        if ("undefined" !== typeof Map && a instanceof Map) return new Map(a);
        if ("undefined" !== typeof Set && a instanceof Set) return new Set(a);
        var b = Array.isArray(a) ? [] : "function" !== typeof ArrayBuffer || "function" !== typeof ArrayBuffer.isView || !ArrayBuffer.isView(a) || a instanceof DataView ? {} : new a.constructor(a.length),
            c;
        for (c in a) b[c] = hc(a[c]);
        return b
    }
    var ic = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");

    function jc(a, b) {
        for (var c, d, e = 1; e < arguments.length; e++) {
            d = arguments[e];
            for (c in d) a[c] = d[c];
            for (var f = 0; f < ic.length; f++) c = ic[f], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c])
        }
    }

    function kc(a) {
        var b = a;
        Object.isFrozen && !Object.isFrozen(a) && (b = Object.create(a), Object.freeze(b));
        return b
    };
    var taa = {
        area: !0,
        base: !0,
        br: !0,
        col: !0,
        command: !0,
        embed: !0,
        hr: !0,
        img: !0,
        input: !0,
        keygen: !0,
        link: !0,
        meta: !0,
        param: !0,
        source: !0,
        track: !0,
        wbr: !0
    };
    var lc;

    function mc() {
        if (void 0 === lc) {
            var a = null,
                b = A.trustedTypes;
            if (b && b.createPolicy) {
                try {
                    a = b.createPolicy("goog#html", {
                        createHTML: Ya,
                        createScript: Ya,
                        createScriptURL: Ya
                    })
                } catch (c) {
                    A.console && A.console.error(c.message)
                }
                lc = a
            } else lc = a
        }
        return lc
    };

    function nc(a, b) {
        this.i = a === pc && b || "";
        this.l = qc
    }
    nc.prototype.Kg = !0;
    nc.prototype.Qf = function() {
        return this.i
    };

    function rc(a) {
        return a instanceof nc && a.constructor === nc && a.l === qc ? a.i : "type_error:Const"
    }

    function sc(a) {
        return new nc(pc, a)
    }
    var qc = {},
        pc = {};
    var uaa = {};

    function tc(a, b) {
        this.i = b === uaa ? a : "";
        this.Kg = !0
    }
    tc.prototype.Qf = function() {
        return this.i.toString()
    };
    tc.prototype.toString = function() {
        return this.i.toString()
    };
    var uc = /^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;

    function vc(a, b) {
        this.i = b === wc ? a : ""
    }
    h = vc.prototype;
    h.Kg = !0;
    h.Qf = function() {
        return this.i.toString()
    };
    h.Tt = !0;
    h.Wl = function() {
        return 1
    };
    h.toString = function() {
        return this.i + ""
    };

    function xc(a) {
        return a instanceof vc && a.constructor === vc ? a.i : "type_error:TrustedResourceUrl"
    }

    function vaa(a, b) {
        var c = rc(a);
        if (!waa.test(c)) throw Error("Invalid TrustedResourceUrl format: " + c);
        a = c.replace(xaa, function(d, e) {
            if (!Object.prototype.hasOwnProperty.call(b, e)) throw Error('Found marker, "' + e + '", in format string, "' + c + '", but no valid label mapping found in args: ' + JSON.stringify(b));
            d = b[e];
            return d instanceof nc ? rc(d) : encodeURIComponent(String(d))
        });
        return yc(a)
    }
    var xaa = /%{(\w+)}/g,
        waa = /^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,
        wc = {};

    function yc(a) {
        var b = mc();
        a = b ? b.createScriptURL(a) : a;
        return new vc(a, wc)
    };

    function zc(a, b) {
        return 0 == a.lastIndexOf(b, 0)
    }

    function Ac(a, b) {
        var c = a.length - b.length;
        return 0 <= c && a.indexOf(b, c) == c
    }

    function Ec(a) {
        return /^[\s\xa0]*$/.test(a)
    }
    var Fc = String.prototype.trim ? function(a) {
        return a.trim()
    } : function(a) {
        return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]
    };

    function Gc(a, b) {
        if (b) a = a.replace(Hc, "&amp;").replace(Ic, "&lt;").replace(Jc, "&gt;").replace(Kc, "&quot;").replace(Lc, "&#39;").replace(Mc, "&#0;");
        else {
            if (!yaa.test(a)) return a; - 1 != a.indexOf("&") && (a = a.replace(Hc, "&amp;")); - 1 != a.indexOf("<") && (a = a.replace(Ic, "&lt;")); - 1 != a.indexOf(">") && (a = a.replace(Jc, "&gt;")); - 1 != a.indexOf('"') && (a = a.replace(Kc, "&quot;")); - 1 != a.indexOf("'") && (a = a.replace(Lc, "&#39;")); - 1 != a.indexOf("\x00") && (a = a.replace(Mc, "&#0;"))
        }
        return a
    }
    var Hc = /&/g,
        Ic = /</g,
        Jc = />/g,
        Kc = /"/g,
        Lc = /'/g,
        Mc = /\x00/g,
        yaa = /[\x00&<>"']/;

    function Nc(a, b) {
        return -1 != a.toLowerCase().indexOf(b.toLowerCase())
    }

    function Oc(a, b) {
        var c = 0;
        a = Fc(String(a)).split(".");
        b = Fc(String(b)).split(".");
        for (var d = Math.max(a.length, b.length), e = 0; 0 == c && e < d; e++) {
            var f = a[e] || "",
                g = b[e] || "";
            do {
                f = /(\d*)(\D*)(.*)/.exec(f) || ["", "", "", ""];
                g = /(\d*)(\D*)(.*)/.exec(g) || ["", "", "", ""];
                if (0 == f[0].length && 0 == g[0].length) break;
                c = Pc(0 == f[1].length ? 0 : parseInt(f[1], 10), 0 == g[1].length ? 0 : parseInt(g[1], 10)) || Pc(0 == f[2].length, 0 == g[2].length) || Pc(f[2], g[2]);
                f = f[3];
                g = g[3]
            } while (0 == c)
        }
        return c
    }

    function Pc(a, b) {
        return a < b ? -1 : a > b ? 1 : 0
    };

    function Qc(a, b) {
        this.i = b === Rc ? a : ""
    }
    h = Qc.prototype;
    h.Kg = !0;
    h.Qf = function() {
        return this.i.toString()
    };
    h.Tt = !0;
    h.Wl = function() {
        return 1
    };
    h.toString = function() {
        return this.i.toString()
    };

    function Sc(a) {
        return a instanceof Qc && a.constructor === Qc ? a.i : "type_error:SafeUrl"
    }
    var zaa = /^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,
        Aaa = /^data:(.*);base64,[a-z0-9+\/]+=*$/i,
        Tc = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;

    function Uc(a) {
        if (a instanceof Qc) return a;
        a = "object" == typeof a && a.Kg ? a.Qf() : String(a);
        if (Tc.test(a)) a = new Qc(a, Rc);
        else {
            a = String(a);
            a = a.replace(/(%0A|%0D)/g, "");
            var b = a.match(Aaa);
            a = b && zaa.test(b[1]) ? new Qc(a, Rc) : null
        }
        return a
    }

    function Wc(a) {
        if (a instanceof Qc) return a;
        a = "object" == typeof a && a.Kg ? a.Qf() : String(a);
        Tc.test(a) || (a = "about:invalid#zClosurez");
        return new Qc(a, Rc)
    }
    var Rc = {},
        Xc = new Qc("about:invalid#zClosurez", Rc);

    function Yc(a, b) {
        this.i = b === Zc ? a : ""
    }
    Yc.prototype.Kg = !0;
    Yc.prototype.Qf = function() {
        return this.i
    };
    Yc.prototype.toString = function() {
        return this.i.toString()
    };

    function $c(a) {
        return a instanceof Yc && a.constructor === Yc ? a.i : "type_error:SafeStyle"
    }
    var Zc = {},
        ad = new Yc("", Zc);

    function bd(a) {
        var b = "",
            c;
        for (c in a)
            if (Object.prototype.hasOwnProperty.call(a, c)) {
                if (!/^[-_a-zA-Z0-9]+$/.test(c)) throw Error("Name allows only [-_a-zA-Z0-9], got: " + c);
                var d = a[c];
                null != d && (d = Array.isArray(d) ? d.map(cd).join(" ") : cd(d), b += c + ":" + d + ";")
            } return b ? new Yc(b, Zc) : ad
    }

    function cd(a) {
        if (a instanceof Qc) return 'url("' + Sc(a).replace(/</g, "%3c").replace(/[\\"]/g, "\\$&") + '")';
        a = a instanceof nc ? rc(a) : Baa(String(a));
        if (/[{;}]/.test(a)) throw new ab("Value does not allow [{;}], got: %s.", [a]);
        return a
    }

    function Baa(a) {
        var b = a.replace(dd, "$1").replace(dd, "$1").replace(ed, "url");
        if (Caa.test(b)) {
            if (Daa.test(a)) return "zClosurez";
            for (var c = b = !0, d = 0; d < a.length; d++) {
                var e = a.charAt(d);
                "'" == e && c ? b = !b : '"' == e && b && (c = !c)
            }
            if (!b || !c || !Eaa(a)) return "zClosurez"
        } else return "zClosurez";
        return Faa(a)
    }

    function Eaa(a) {
        for (var b = !0, c = /^[-_a-zA-Z0-9]$/, d = 0; d < a.length; d++) {
            var e = a.charAt(d);
            if ("]" == e) {
                if (b) return !1;
                b = !0
            } else if ("[" == e) {
                if (!b) return !1;
                b = !1
            } else if (!b && !c.test(e)) return !1
        }
        return b
    }
    var Caa = /^[-,."'%_!# a-zA-Z0-9\[\]]+$/,
        ed = /\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,
        dd = /\b(calc|cubic-bezier|fit-content|hsl|hsla|linear-gradient|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,
        Daa = /\/\*/;

    function Faa(a) {
        return a.replace(ed, function(b, c, d, e) {
            var f = "";
            d = d.replace(/^(['"])(.*)\1$/, function(g, k, l) {
                f = k;
                return l
            });
            b = (Uc(d) || Xc).Qf();
            return c + f + b + f + e
        })
    }

    function Gaa(a) {
        function b(d) {
            Array.isArray(d) ? d.forEach(b) : c += $c(d)
        }
        var c = "";
        Array.prototype.forEach.call(arguments, b);
        return c ? new Yc(c, Zc) : ad
    };
    var fd;
    a: {
        var gd = A.navigator;
        if (gd) {
            var hd = gd.userAgent;
            if (hd) {
                fd = hd;
                break a
            }
        }
        fd = ""
    }

    function id(a) {
        return -1 != fd.indexOf(a)
    };

    function jd() {
        return id("Firefox") || id("FxiOS")
    }

    function ld() {
        return id("Safari") && !(md() || id("Coast") || id("Opera") || id("Edge") || id("Edg/") || id("OPR") || jd() || id("Silk") || id("Android"))
    }

    function md() {
        return (id("Chrome") || id("CriOS")) && !id("Edge")
    };

    function nd(a, b, c) {
        this.i = c === od ? a : "";
        this.l = b
    }
    h = nd.prototype;
    h.Tt = !0;
    h.Wl = function() {
        return this.l
    };
    h.Kg = !0;
    h.Qf = function() {
        return this.i.toString()
    };
    h.toString = function() {
        return this.i.toString()
    };

    function pd(a) {
        return a instanceof nd && a.constructor === nd ? a.i : "type_error:SafeHtml"
    }

    function qd(a) {
        if (a instanceof nd) return a;
        var b = "object" == typeof a,
            c = null;
        b && a.Tt && (c = a.Wl());
        return rd(Gc(b && a.Kg ? a.Qf() : String(a)), c)
    }
    var sd = /^[a-zA-Z0-9-]+$/,
        Haa = {
            action: !0,
            cite: !0,
            data: !0,
            formaction: !0,
            href: !0,
            manifest: !0,
            poster: !0,
            src: !0
        },
        Iaa = {
            APPLET: !0,
            BASE: !0,
            EMBED: !0,
            IFRAME: !0,
            LINK: !0,
            MATH: !0,
            META: !0,
            OBJECT: !0,
            SCRIPT: !0,
            STYLE: !0,
            SVG: !0,
            TEMPLATE: !0
        };

    function Jaa(a) {
        function b(f) {
            Array.isArray(f) ? f.forEach(b) : (f = qd(f), e.push(pd(f).toString()), f = f.Wl(), 0 == d ? d = f : 0 != f && d != f && (d = null))
        }
        var c = qd(td),
            d = c.Wl(),
            e = [];
        a.forEach(b);
        return rd(e.join(pd(c).toString()), d)
    }

    function Kaa(a) {
        return Jaa(Array.prototype.slice.call(arguments))
    }
    var od = {};

    function rd(a, b) {
        var c = mc();
        a = c ? c.createHTML(a) : a;
        return new nd(a, b, od)
    }
    var td = new nd(A.trustedTypes && A.trustedTypes.emptyHTML || "", 0, od);

    function ud(a, b) {
        rc(a);
        rc(a);
        return rd(b, null)
    }

    function Laa(a) {
        var b = sc("Output of CSS sanitizer");
        rc(b);
        rc(b);
        return new Yc(a, Zc)
    }

    function Maa(a, b) {
        rc(a);
        rc(a);
        return yc(b)
    };
    var Naa = ib(function() {
        var a = document.createElement("div"),
            b = document.createElement("div");
        b.appendChild(document.createElement("div"));
        a.appendChild(b);
        b = a.firstChild.firstChild;
        a.innerHTML = pd(td);
        return !b.parentElement
    });

    function vd(a, b) {
        b = b instanceof Qc ? b : Wc(b);
        a.href = Sc(b)
    }

    function Oaa(a, b) {
        a.rel = "stylesheet";
        Nc("stylesheet", "stylesheet") ? (a.href = xc(b).toString(), (b = wd('style[nonce],link[rel="stylesheet"][nonce]', a.ownerDocument && a.ownerDocument.defaultView)) && a.setAttribute("nonce", b)) : a.href = b instanceof vc ? xc(b).toString() : b instanceof Qc ? Sc(b) : Sc(Wc(b))
    }

    function xd(a, b, c) {
        return a.parseFromString(pd(b), c)
    }
    var Paa = /^[\w+/_-]+[=]{0,2}$/;

    function wd(a, b) {
        b = (b || A).document;
        return b.querySelector ? (a = b.querySelector(a)) && (a = a.nonce || a.getAttribute("nonce")) && Paa.test(a) ? a : "" : ""
    };

    function yd(a) {
        return encodeURIComponent(String(a))
    }

    function Bd(a) {
        return decodeURIComponent(a.replace(/\+/g, " "))
    }

    function Cd(a) {
        return a = Gc(a, void 0)
    }
    var Qaa = String.prototype.repeat ? function(a, b) {
        return a.repeat(b)
    } : function(a, b) {
        return Array(b + 1).join(a)
    };

    function Dd(a) {
        a = String(a);
        var b = a.indexOf("."); - 1 == b && (b = a.length);
        return Qaa("0", Math.max(0, 2 - b)) + a
    }

    function Ed(a) {
        return null == a ? "" : String(a)
    }

    function Fd(a) {
        for (var b = 0, c = 0; c < a.length; ++c) b = 31 * b + a.charCodeAt(c) >>> 0;
        return b
    }

    function Gd(a) {
        var b = Number(a);
        return 0 == b && Ec(a) ? NaN : b
    }

    function Hd(a) {
        return String(a).replace(/\-([a-z])/g, function(b, c) {
            return c.toUpperCase()
        })
    }

    function Id() {
        return "googleAvInapp".replace(/([A-Z])/g, "-$1").toLowerCase()
    }

    function Raa(a) {
        return a.replace(/(^|[\s]+)([a-z])/g, function(b, c, d) {
            return c + d.toUpperCase()
        })
    }

    function Saa(a) {
        var b = 1;
        a = a.split(":");
        for (var c = []; 0 < b && a.length;) c.push(a.shift()), b--;
        a.length && c.push(a.join(":"));
        return c
    };
    var Jd = "function" === typeof Uint8Array.prototype.slice,
        Kd = 0,
        Ld = 0;

    function Md(a, b) {
        var c = b & 2147483648;
        c && (a = ~a + 1 >>> 0, b = ~b >>> 0, 0 == a && (b = b + 1 >>> 0));
        a = 4294967296 * b + (a >>> 0);
        return c ? -a : a
    }

    function Nd(a) {
        return a.constructor === Uint8Array ? a : a.constructor === ArrayBuffer ? new Uint8Array(a) : a.constructor === Array ? new Uint8Array(a) : a.constructor === String ? Od(a) : a instanceof Uint8Array ? new Uint8Array(a.buffer, a.byteOffset, a.byteLength) : new Uint8Array(0)
    };

    function Pd(a, b, c) {
        this.l = null;
        this.i = this.u = this.B = 0;
        this.C = !1;
        a && Qd(this, a, b, c)
    }

    function Wd(a, b, c) {
        if (Xd.length) {
            var d = Xd.pop();
            a && Qd(d, a, b, c);
            return d
        }
        return new Pd(a, b, c)
    }
    h = Pd.prototype;
    h.clone = function() {
        return Wd(this.l, this.B, this.u - this.B)
    };
    h.clear = function() {
        this.l = null;
        this.i = this.u = this.B = 0;
        this.C = !1
    };

    function Qd(a, b, c, d) {
        a.l = Nd(b);
        a.B = void 0 !== c ? c : 0;
        a.u = void 0 !== d ? a.B + d : a.l.length;
        a.i = a.B
    }
    h.reset = function() {
        this.i = this.B
    };
    h.advance = function(a) {
        this.i += a
    };

    function Yd(a) {
        for (var b = 128, c = 0, d = 0, e = 0; 4 > e && 128 <= b; e++) b = a.l[a.i++], c |= (b & 127) << 7 * e;
        128 <= b && (b = a.l[a.i++], c |= (b & 127) << 28, d |= (b & 127) >> 4);
        if (128 <= b)
            for (e = 0; 5 > e && 128 <= b; e++) b = a.l[a.i++], d |= (b & 127) << 7 * e + 3;
        if (128 > b) return Md(c >>> 0, d >>> 0);
        a.C = !0
    }

    function Zd(a) {
        var b = a.l;
        var c = b[a.i + 0];
        var d = c & 127;
        if (128 > c) return a.i += 1, d;
        c = b[a.i + 1];
        d |= (c & 127) << 7;
        if (128 > c) return a.i += 2, d;
        c = b[a.i + 2];
        d |= (c & 127) << 14;
        if (128 > c) return a.i += 3, d;
        c = b[a.i + 3];
        d |= (c & 127) << 21;
        if (128 > c) return a.i += 4, d;
        c = b[a.i + 4];
        d |= (c & 15) << 28;
        if (128 > c) return a.i += 5, d >>> 0;
        a.i += 5;
        128 <= b[a.i++] && 128 <= b[a.i++] && 128 <= b[a.i++] && 128 <= b[a.i++] && a.i++;
        return d
    }
    h.Pe = function() {
        var a = this.l[this.i + 0];
        this.i += 1;
        return a
    };
    h.eh = function() {
        var a = this.l[this.i + 0],
            b = this.l[this.i + 1];
        this.i += 2;
        return a << 0 | b << 8
    };
    h.Mb = function() {
        var a = this.l[this.i + 0],
            b = this.l[this.i + 1],
            c = this.l[this.i + 2],
            d = this.l[this.i + 3];
        this.i += 4;
        return (a << 0 | b << 8 | c << 16 | d << 24) >>> 0
    };
    h.zd = function() {
        var a = this.l[this.i + 0],
            b = this.l[this.i + 1],
            c = this.l[this.i + 2],
            d = this.l[this.i + 3];
        this.i += 4;
        return a << 0 | b << 8 | c << 16 | d << 24
    };
    h.zm = function() {
        var a = this.Mb(),
            b = this.Mb();
        return Md(a, b)
    };
    h.Ad = function(a) {
        var b = this.l,
            c = this.i;
        a = c + a;
        for (var d = [], e = ""; c < a;) {
            var f = b[c++];
            if (128 > f) d.push(f);
            else if (192 > f) continue;
            else if (224 > f) {
                var g = b[c++];
                d.push((f & 31) << 6 | g & 63)
            } else if (240 > f) {
                g = b[c++];
                var k = b[c++];
                d.push((f & 15) << 12 | (g & 63) << 6 | k & 63)
            } else if (248 > f) {
                g = b[c++];
                k = b[c++];
                var l = b[c++];
                f = (f & 7) << 18 | (g & 63) << 12 | (k & 63) << 6 | l & 63;
                f -= 65536;
                d.push((f >> 10 & 1023) + 55296, (f & 1023) + 56320)
            }
            8192 <= d.length && (e += String.fromCharCode.apply(null, d), d.length = 0)
        }
        e += db(d);
        this.i = c;
        return e
    };
    var Xd = [];

    function $d(a) {
        this.i = Wd(a, void 0, void 0);
        this.C = this.i.i;
        this.l = this.u = -1;
        this.B = !1
    }
    h = $d.prototype;
    h.reset = function() {
        this.i.reset();
        this.l = this.u = -1
    };
    h.advance = function(a) {
        this.i.advance(a)
    };

    function ae(a) {
        var b = a.i;
        (b = b.i == b.u) || (b = a.B) || (b = a.i, b = b.C || 0 > b.i || b.i > b.u);
        if (b) return !1;
        a.C = a.i.i;
        b = Zd(a.i);
        var c = b & 7;
        if (0 != c && 5 != c && 1 != c && 2 != c && 3 != c && 4 != c) return a.B = !0, !1;
        a.u = b >>> 3;
        a.l = c;
        return !0
    }

    function be(a) {
        switch (a.l) {
            case 0:
                if (0 != a.l) be(a);
                else {
                    for (a = a.i; a.l[a.i] & 128;) a.i++;
                    a.i++
                }
                break;
            case 1:
                1 != a.l ? be(a) : a.i.advance(8);
                break;
            case 2:
                if (2 != a.l) be(a);
                else {
                    var b = Zd(a.i);
                    a.i.advance(b)
                }
                break;
            case 5:
                5 != a.l ? be(a) : a.i.advance(4);
                break;
            case 3:
                b = a.u;
                do {
                    if (!ae(a)) {
                        a.B = !0;
                        break
                    }
                    if (4 == a.l) {
                        a.u != b && (a.B = !0);
                        break
                    }
                    be(a)
                } while (1);
                break;
            default:
                a.B = !0
        }
    }
    h.zd = function() {
        return Zd(this.i)
    };
    h.zm = function() {
        return Yd(this.i)
    };
    h.Mb = function() {
        return Zd(this.i)
    };
    h.Ad = function() {
        var a = Zd(this.i);
        return this.i.Ad(a)
    };

    function ce(a) {
        var b = Zd(a.i);
        a = a.i;
        if (0 > b || a.i + b > a.l.length) a.C = !0, b = new Uint8Array(0);
        else {
            var c = a.l;
            var d = a.i,
                e = a.i + b;
            c = Jd ? c.slice(d, e) : new Uint8Array(c.subarray(d, e));
            a.i += b;
            b = c
        }
        return b
    };

    function de() {
        this.i = new Uint8Array(64);
        this.l = 0
    }
    de.prototype.push = function(a) {
        if (!(this.l + 1 < this.i.length)) {
            var b = this.i;
            this.i = new Uint8Array(Math.ceil(1 + 2 * this.i.length));
            this.i.set(b)
        }
        this.i[this.l++] = a
    };
    de.prototype.length = function() {
        return this.l
    };
    de.prototype.end = function() {
        var a = this.i,
            b = this.l;
        this.l = 0;
        return Jd ? a.slice(0, b) : new Uint8Array(a.subarray(0, b))
    };

    function ee(a, b) {
        for (; 127 < b;) a.push(b & 127 | 128), b >>>= 7;
        a.push(b)
    }

    function fe(a, b) {
        a.push(b >>> 0 & 255);
        a.push(b >>> 8 & 255);
        a.push(b >>> 16 & 255);
        a.push(b >>> 24 & 255)
    };

    function ge() {
        return id("iPhone") && !id("iPod") && !id("iPad")
    }

    function he() {
        return ge() || id("iPad") || id("iPod")
    }

    function ie() {
        var a = fd,
            b = "";
        id("Windows") ? (b = /Windows (?:NT|Phone) ([0-9.]+)/, b = (a = b.exec(a)) ? a[1] : "0.0") : he() ? (b = /(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/, b = (a = b.exec(a)) && a[1].replace(/_/g, ".")) : id("Macintosh") ? (b = /Mac OS X ([0-9_.]+)/, b = (a = b.exec(a)) ? a[1].replace(/_/g, ".") : "10") : Nc(fd, "KaiOS") ? (b = /(?:KaiOS)\/(\S+)/i, b = (a = b.exec(a)) && a[1]) : id("Android") ? (b = /Android\s+([^\);]+)(\)|;)/, b = (a = b.exec(a)) && a[1]) : id("CrOS") && (b = /(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/, b = (a = b.exec(a)) && a[1]);
        return b || ""
    };

    function je(a) {
        je[" "](a);
        return a
    }
    je[" "] = Ka;

    function ke(a, b) {
        try {
            return je(a[b]), !0
        } catch (c) {}
        return !1
    }

    function le(a, b, c, d) {
        d = d ? d(b) : b;
        return Object.prototype.hasOwnProperty.call(a, d) ? a[d] : a[d] = c(b)
    };
    var me = id("Opera"),
        ne = id("Trident") || id("MSIE"),
        oe = id("Edge"),
        pe = oe || ne,
        qe = id("Gecko") && !(Nc(fd, "WebKit") && !id("Edge")) && !(id("Trident") || id("MSIE")) && !id("Edge"),
        re = Nc(fd, "WebKit") && !id("Edge"),
        se = id("Macintosh"),
        te = id("Windows"),
        ue = id("Android"),
        Taa = ge(),
        Uaa = id("iPad"),
        Vaa = id("iPod"),
        xe = he(),
        ye = Nc(fd, "KaiOS");

    function ze() {
        var a = A.document;
        return a ? a.documentMode : void 0
    }
    var Ae;
    a: {
        var Be = "",
            Ce = function() {
                var a = fd;
                if (qe) return /rv:([^\);]+)(\)|;)/.exec(a);
                if (oe) return /Edge\/([\d\.]+)/.exec(a);
                if (ne) return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);
                if (re) return /WebKit\/(\S+)/.exec(a);
                if (me) return /(?:Version)[ \/]?(\S+)/.exec(a)
            }();
        Ce && (Be = Ce ? Ce[1] : "");
        if (ne) {
            var De = ze();
            if (null != De && De > parseFloat(Be)) {
                Ae = String(De);
                break a
            }
        }
        Ae = Be
    }
    var Ee = Ae,
        Waa = {};

    function Fe(a) {
        return le(Waa, a, function() {
            return 0 <= Oc(Ee, a)
        })
    }
    var Ge;
    if (A.document && ne) {
        var He = ze();
        Ge = He ? He : parseInt(Ee, 10) || void 0
    } else Ge = void 0;
    var Ie = Ge;
    var Je = jd(),
        Ke = ge() || id("iPod"),
        Le = id("iPad"),
        Me = id("Android") && !(md() || jd() || id("Opera") || id("Silk")),
        Ne = md(),
        Oe = ld() && !he();
    var Pe = {},
        Qe = null;

    function Re(a, b) {
        void 0 === b && (b = 0);
        Se();
        b = Pe[b];
        for (var c = Array(Math.floor(a.length / 3)), d = b[64] || "", e = 0, f = 0; e < a.length - 2; e += 3) {
            var g = a[e],
                k = a[e + 1],
                l = a[e + 2],
                m = b[g >> 2];
            g = b[(g & 3) << 4 | k >> 4];
            k = b[(k & 15) << 2 | l >> 6];
            l = b[l & 63];
            c[f++] = "" + m + g + k + l
        }
        m = 0;
        l = d;
        switch (a.length - e) {
            case 2:
                m = a[e + 1], l = b[(m & 15) << 2] || d;
            case 1:
                a = a[e], c[f] = "" + b[a >> 2] + b[(a & 3) << 4 | m >> 4] + l + d
        }
        return c.join("")
    }

    function Te(a) {
        var b = [];
        Ue(a, function(c) {
            b.push(c)
        });
        return b
    }

    function Od(a) {
        !ne || Fe("10");
        var b = a.length,
            c = 3 * b / 4;
        c % 3 ? c = Math.floor(c) : -1 != "=.".indexOf(a[b - 1]) && (c = -1 != "=.".indexOf(a[b - 2]) ? c - 2 : c - 1);
        var d = new Uint8Array(c),
            e = 0;
        Ue(a, function(f) {
            d[e++] = f
        });
        return d.subarray(0, e)
    }

    function Ue(a, b) {
        function c(l) {
            for (; d < a.length;) {
                var m = a.charAt(d++),
                    n = Qe[m];
                if (null != n) return n;
                if (!Ec(m)) throw Error("Unknown base64 encoding at char: " + m);
            }
            return l
        }
        Se();
        for (var d = 0;;) {
            var e = c(-1),
                f = c(0),
                g = c(64),
                k = c(64);
            if (64 === k && -1 === e) break;
            b(e << 2 | f >> 4);
            64 != g && (b(f << 4 & 240 | g >> 2), 64 != k && b(g << 6 & 192 | k))
        }
    }

    function Se() {
        if (!Qe) {
            Qe = {};
            for (var a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""), b = ["+/=", "+/", "-_=", "-_.", "-_"], c = 0; 5 > c; c++) {
                var d = a.concat(b[c].split(""));
                Pe[c] = d;
                for (var e = 0; e < d.length; e++) {
                    var f = d[e];
                    void 0 === Qe[f] && (Qe[f] = e)
                }
            }
        }
    };

    function Ve() {
        this.u = [];
        this.l = 0;
        this.i = new de
    }

    function We(a) {
        var b = a.l + a.i.length();
        if (0 === b) return new Uint8Array(0);
        b = new Uint8Array(b);
        for (var c = a.u, d = c.length, e = 0, f = 0; f < d; f++) {
            var g = c[f];
            0 !== g.length && (b.set(g, e), e += g.length)
        }
        c = a.i;
        d = c.l;
        0 !== d && (b.set(c.i.subarray(0, d), e), c.l = 0);
        a.u = [b];
        return b
    }

    function Xe(a, b, c) {
        if (null != c && null != c) {
            ee(a.i, 8 * b);
            a = a.i;
            var d = c;
            c = 0 > d;
            d = Math.abs(d);
            b = d >>> 0;
            d = Math.floor((d - b) / 4294967296);
            d >>>= 0;
            c && (d = ~d >>> 0, b = (~b >>> 0) + 1, 4294967295 < b && (b = 0, d++, 4294967295 < d && (d = 0)));
            Kd = b;
            Ld = d;
            c = Kd;
            for (b = Ld; 0 < b || 127 < c;) a.push(c & 127 | 128), c = (c >>> 7 | b << 25) >>> 0, b >>>= 7;
            a.push(c)
        }
    }

    function Ye(a, b, c) {
        null != c && (c = Nd(c), ee(a.i, 8 * b + 2), ee(a.i, c.length), b = a.i.end(), a.u.push(b), a.u.push(c), a.l += b.length + c.length)
    }

    function Ze(a, b, c, d) {
        if (null != c) {
            ee(a.i, 8 * b + 2);
            b = a.i.end();
            a.u.push(b);
            a.l += b.length;
            var e = a.l;
            b = a.u.length - 1;
            d(c, a);
            c = a.i.end();
            a.u.push(c);
            a.l += c.length;
            ee(a.i, a.l + a.i.length() - e);
            c = a.i.end();
            a.l += c.length;
            a.u.splice(1 + b, 0, c)
        }
    };
    var af = "function" === typeof Uint8Array;

    function Xaa(a) {
        return bf(a, function(b) {
            return b
        }, function(b) {
            return new Uint8Array(b)
        })
    }

    function cf(a, b, c) {
        return "object" === typeof a ? af && !Array.isArray(a) && a instanceof Uint8Array ? c(a) : bf(a, b, c) : b(a)
    }

    function bf(a, b, c) {
        if (Array.isArray(a)) {
            for (var d = Array(a.length), e = 0; e < a.length; e++) {
                var f = a[e];
                null != f && (d[e] = cf(f, b, c))
            }
            Array.isArray(a) && a.YE && df(d);
            return d
        }
        d = {};
        for (e in a) f = a[e], null != f && (d[e] = cf(f, b, c));
        return d
    }
    var Yaa = {
        YE: {
            value: !0,
            configurable: !0
        }
    };

    function df(a) {
        Array.isArray(a) && !Object.isFrozen(a) && Object.defineProperties(a, Yaa);
        return a
    };

    function ef(a) {
        return null == a || a instanceof Uint8Array ? a : "string" === typeof a ? Od(a) : null
    };

    function ff() {}
    var gf;

    function hf(a, b, c, d, e) {
        a.i = null;
        gf && (b || (b = gf), gf = null);
        var f = a.constructor.eF;
        b || (b = f ? [f] : []);
        a.B = f ? 0 : -1;
        a.u = b;
        a: {
            f = a.u.length;b = -1;
            if (f && (b = f - 1, f = a.u[b], !(null === f || "object" != typeof f || Array.isArray(f) || af && f instanceof Uint8Array))) {
                a.C = b - a.B;
                a.l = f;
                break a
            } - 1 < c ? (a.C = Math.max(c, b + 1 - a.B), a.l = null) : a.C = Number.MAX_VALUE
        }
        a.D = {};
        if (d)
            for (c = 0; c < d.length; c++) b = d[c], b < a.C ? (b += a.B, (f = a.u[b]) ? df(f) : a.u[b] = jf) : (kf(a), (f = a.l[b]) ? df(f) : a.l[b] = jf);
        if (e && e.length)
            for (d = 0; d < e.length; d++) lf(a, e[d])
    }
    var jf = Object.freeze(df([]));

    function kf(a) {
        var b = a.C + a.B;
        a.u[b] || (a.l = a.u[b] = {})
    }

    function mf(a, b) {
        if (b < a.C) {
            b += a.B;
            var c = a.u[b];
            return c !== jf ? c : a.u[b] = df([])
        }
        if (a.l) return c = a.l[b], c !== jf ? c : a.l[b] = df([])
    }

    function nf(a, b, c) {
        a = mf(a, b);
        return null == a ? c : a
    }

    function of (a, b, c) {
        return nf(a, b, void 0 === c ? 0 : c)
    }

    function pf(a, b, c) {
        b < a.C ? a.u[b + a.B] = c : (kf(a), a.l[b] = c);
        return a
    }

    function qf(a, b, c, d) {
        c !== d ? pf(a, b, c) : b < a.C ? a.u[b + a.B] = null : (kf(a), delete a.l[b]);
        return a
    }

    function rf(a, b, c, d) {
        (c = lf(a, c)) && c !== b && void 0 !== d && (a.i && c in a.i && (a.i[c] = void 0), pf(a, c, void 0));
        return pf(a, b, d)
    }

    function lf(a, b) {
        for (var c, d, e = 0; e < b.length; e++) {
            var f = b[e],
                g = mf(a, f);
            null != g && (c = f, d = g, pf(a, f, void 0))
        }
        return c ? (pf(a, c, d), c) : 0
    }

    function sf(a, b, c) {
        a.i || (a.i = {});
        if (!a.i[c]) {
            var d = mf(a, c);
            d && (a.i[c] = new b(d))
        }
        return a.i[c]
    }

    function tf(a, b, c) {
        a.i || (a.i = {});
        if (!a.i[c]) {
            for (var d = mf(a, c), e = [], f = 0; f < d.length; f++) e[f] = new b(d[f]);
            a.i[c] = e
        }
        b = a.i[c];
        b == jf && (b = a.i[c] = []);
        return b
    }

    function uf(a, b, c) {
        a.i || (a.i = {});
        var d = c ? vf(c) : c;
        a.i[b] = c;
        return pf(a, b, d)
    }

    function wf(a, b, c) {
        a.i || (a.i = {});
        c = c || [];
        for (var d = df([]), e = 0; e < c.length; e++) d[e] = vf(c[e]);
        a.i[b] = c;
        return pf(a, b, d)
    }

    function vf(a) {
        if (a.i)
            for (var b in a.i) {
                var c = a.i[b];
                if (Array.isArray(c))
                    for (var d = 0; d < c.length; d++) c[d] && vf(c[d]);
                else c && vf(c)
            }
        return a.u
    }

    function xf(a) {
        return JSON.stringify(a.u && vf(a), Zaa)
    }

    function Zaa(a, b) {
        switch (typeof b) {
            case "number":
                return isNaN(b) || Infinity === b || -Infinity === b ? String(b) : b;
            case "object":
                if (af && null != b && b instanceof Uint8Array) return Re(b)
        }
        return b
    }

    function yf(a, b) {
        gf = b = b ? JSON.parse(b) : null;
        a = new a(b);
        gf = null;
        return a
    }
    ff.prototype.toString = function() {
        return vf(this).toString()
    };

    function $aa(a) {
        var b = aba;
        kf(a);
        a.i || (a.i = {});
        return b.isRepeated ? b.i ? (a.i[175237375] || (a.i[175237375] = pb(a.l[175237375] || [], function(c) {
            return new b.i(c)
        })), a.i[175237375]) : a.l[175237375] = a.l[175237375] || df([]) : b.i ? (!a.i[175237375] && a.l[175237375] && (a.i[175237375] = new b.i(a.l[175237375])), a.i[175237375]) : a.l[175237375]
    }
    ff.prototype.clone = function() {
        var a = Xaa(vf(this));
        gf = a;
        a = new this.constructor(a);
        gf = null;
        return a
    };

    function zf(a) {
        hf(this, a, -1, null, null)
    }
    v(zf, ff);

    function bba(a, b) {
        var c = mf(a, 1);
        null != c && Ye(b, 1, c);
        c = mf(a, 2);
        null != c && Ye(b, 2, c)
    };

    function Af(a) {
        hf(this, a, -1, null, null)
    }
    v(Af, ff);

    function cba(a, b) {
        var c = mf(a, 1);
        null != c && Ye(b, 1, c);
        c = mf(a, 2);
        null != c && Ye(b, 2, c)
    };

    function Bf(a) {
        hf(this, a, -1, null, null)
    }
    v(Bf, ff);

    function dba(a, b) {
        var c = mf(a, 1);
        null != c && Ye(b, 1, c);
        c = mf(a, 2);
        null != c && Ye(b, 2, c)
    };

    function Cf(a) {
        hf(this, a, -1, null, Df)
    }
    v(Cf, ff);
    var Df = [
        [1, 2, 3]
    ];

    function B(a, b) {
        var c = void 0;
        return new(c || (c = Promise))(function(d, e) {
            function f(l) {
                try {
                    k(b.next(l))
                } catch (m) {
                    e(m)
                }
            }

            function g(l) {
                try {
                    k(b["throw"](l))
                } catch (m) {
                    e(m)
                }
            }

            function k(l) {
                l.done ? d(l.value) : (new c(function(m) {
                    m(l.value)
                })).then(f, g)
            }
            k((b = b.apply(a, void 0)).next())
        })
    };
    var eba = {
            ZA: 5,
            pz: 100,
            Rz: 6E5
        },
        fba = {
            ZA: 10,
            pz: 500,
            Rz: 6E5
        };

    function Ef(a, b) {
        var c;
        var d = Error.call(this);
        this.message = d.message;
        "stack" in d && (this.stack = d.stack);
        this.code = a;
        b instanceof Error ? (this.message = b.message, this.stack = null !== (c = b.stack) && void 0 !== c ? c : "") : (this.message = String(b), this.stack = "");
        Object.setPrototypeOf(this, Ef.prototype)
    }
    v(Ef, Error);

    function Ff(a, b, c) {
        this.B = a;
        this.C = b;
        this.i = this.u = a;
        this.D = c || 0
    }
    Ff.prototype.l = 0;
    Ff.prototype.reset = function() {
        this.i = this.u = this.B;
        this.l = 0
    };
    Ff.prototype.getValue = function() {
        return this.u
    };

    function If(a) {
        a.i = Math.min(a.C, 2 * a.i);
        a.u = Math.min(a.C, a.i + (a.D ? Math.round(a.D * (Math.random() - .5) * 2 * a.i) : 0));
        a.l++
    };

    function Jf(a, b) {
        return B(this, function d() {
            var e, f, g, k;
            return y(d, function(l) {
                switch (l.i) {
                    case 1:
                        e = new Ff(b.pz, b.Rz), g = 0;
                    case 2:
                        if (!(g < b.ZA)) {
                            l.Ya(4);
                            break
                        }
                        ta(l, 5);
                        return w(l, a(), 7);
                    case 7:
                        return l.return(l.l);
                    case 5:
                        return f = k = va(l), w(l, new Promise(function(m) {
                            setTimeout(m, e.getValue())
                        }), 8);
                    case 8:
                        If(e);
                    case 3:
                        g++;
                        l.Ya(2);
                        break;
                    case 4:
                        throw f;
                }
            })
        })
    };

    function Kf(a) {
        this.Sx = a
    };

    function Lf(a, b, c) {
        this.l = a;
        this.B = b;
        this.i = c || [];
        this.Nl = new Map
    }
    h = Lf.prototype;
    h.ND = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        (d = this.qt(c)) ? d.push(new Kf(a)): this.dB(a, c)
    };
    h.dB = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        this.Nl.set(this.Uy(c), [new Kf(a)])
    };
    h.qt = function(a) {
        for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
        b = this.Uy(b);
        return this.Nl.has(b) ? this.Nl.get(b) : void 0
    };
    h.sE = function(a) {
        for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
        return (b = this.qt(b)) && b.length ? b[0] : void 0
    };
    h.clear = function() {
        this.Nl.clear()
    };
    h.Uy = function(a) {
        for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
        return b ? b.join(",") : "key"
    };

    function Mf(a, b) {
        Lf.call(this, a, 3, b)
    }
    v(Mf, Lf);
    Mf.prototype.u = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        d = 0;
        var e = this.sE(c);
        e && (d = e.Sx);
        this.dB(d + a, c)
    };

    function Nf(a, b) {
        Lf.call(this, a, 2, b)
    }
    v(Nf, Lf);
    Nf.prototype.fh = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        this.ND(a, c)
    };

    function Of(a) {
        a && "function" == typeof a.dispose && a.dispose()
    };

    function Pf(a) {
        for (var b = 0, c = arguments.length; b < c; ++b) {
            var d = arguments[b];
            Na(d) ? Pf.apply(null, d) : Of(d)
        }
    };

    function C() {
        this.Lf = this.Lf;
        this.sf = this.sf
    }
    C.prototype.Lf = !1;
    C.prototype.Ea = function() {
        return this.Lf
    };
    C.prototype.dispose = function() {
        this.Lf || (this.Lf = !0, this.Da())
    };

    function E(a, b) {
        Qf(a, Ta(Of, b))
    }

    function Qf(a, b) {
        a.Lf ? b() : (a.sf || (a.sf = []), a.sf.push(b))
    }
    C.prototype.Da = function() {
        if (this.sf)
            for (; this.sf.length;) this.sf.shift()()
    };

    function Rf(a, b) {
        this.type = a;
        this.currentTarget = this.target = b;
        this.defaultPrevented = this.l = !1
    }
    Rf.prototype.stopPropagation = function() {
        this.l = !0
    };
    Rf.prototype.preventDefault = function() {
        this.defaultPrevented = !0
    };

    function gba(a) {
        var b = Ja("window.location.href");
        null == a && (a = 'Unknown Error of type "null/undefined"');
        if ("string" === typeof a) return {
            message: a,
            name: "Unknown error",
            lineNumber: "Not available",
            fileName: b,
            stack: "Not available"
        };
        var c = !1;
        try {
            var d = a.lineNumber || a.line || "Not available"
        } catch (g) {
            d = "Not available", c = !0
        }
        try {
            var e = a.fileName || a.filename || a.sourceURL || A.$googDebugFname || b
        } catch (g) {
            e = "Not available", c = !0
        }
        b = Sf(a);
        if (!(!c && a.lineNumber && a.fileName && a.stack && a.message && a.name)) {
            c = a.message;
            if (null ==
                c) {
                if (a.constructor && a.constructor instanceof Function) {
                    if (a.constructor.name) c = a.constructor.name;
                    else if (c = a.constructor, Tf[c]) c = Tf[c];
                    else {
                        c = String(c);
                        if (!Tf[c]) {
                            var f = /function\s+([^\(]+)/m.exec(c);
                            Tf[c] = f ? f[1] : "[Anonymous]"
                        }
                        c = Tf[c]
                    }
                    c = 'Unknown Error of type "' + c + '"'
                } else c = "Unknown Error of unknown type";
                "function" === typeof a.toString && Object.prototype.toString !== a.toString && (c += ": " + a.toString())
            }
            return {
                message: c,
                name: a.name || "UnknownError",
                lineNumber: d,
                fileName: e,
                stack: b || "Not available"
            }
        }
        a.stack =
            b;
        return {
            message: a.message,
            name: a.name,
            lineNumber: a.lineNumber,
            fileName: a.fileName,
            stack: a.stack
        }
    }

    function Sf(a, b) {
        b || (b = {});
        b[Uf(a)] = !0;
        var c = a.stack || "";
        (a = a.SD) && !b[Uf(a)] && (c += "\nCaused by: ", a.stack && 0 == a.stack.indexOf(a.toString()) || (c += "string" === typeof a ? a : a.message + "\n"), c += Sf(a, b));
        return c
    }

    function Uf(a) {
        var b = "";
        "function" === typeof a.toString && (b = "" + a);
        return b + a.stack
    }
    var Tf = {};
    var hba = function() {
        if (!A.addEventListener || !Object.defineProperty) return !1;
        var a = !1,
            b = Object.defineProperty({}, "passive", {
                get: function() {
                    a = !0
                }
            });
        try {
            A.addEventListener("test", Ka, b), A.removeEventListener("test", Ka, b)
        } catch (c) {}
        return a
    }();

    function Vf(a, b) {
        Rf.call(this, a ? a.type : "");
        this.relatedTarget = this.currentTarget = this.target = null;
        this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0;
        this.key = "";
        this.charCode = this.keyCode = 0;
        this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;
        this.state = null;
        this.pointerId = 0;
        this.pointerType = "";
        this.i = null;
        a && this.init(a, b)
    }
    Xa(Vf, Rf);
    var iba = {
        2: "touch",
        3: "pen",
        4: "mouse"
    };
    Vf.prototype.init = function(a, b) {
        var c = this.type = a.type,
            d = a.changedTouches && a.changedTouches.length ? a.changedTouches[0] : null;
        this.target = a.target || a.srcElement;
        this.currentTarget = b;
        (b = a.relatedTarget) ? qe && (ke(b, "nodeName") || (b = null)): "mouseover" == c ? b = a.fromElement : "mouseout" == c && (b = a.toElement);
        this.relatedTarget = b;
        d ? (this.clientX = void 0 !== d.clientX ? d.clientX : d.pageX, this.clientY = void 0 !== d.clientY ? d.clientY : d.pageY, this.screenX = d.screenX || 0, this.screenY = d.screenY || 0) : (this.clientX = void 0 !== a.clientX ?
            a.clientX : a.pageX, this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY, this.screenX = a.screenX || 0, this.screenY = a.screenY || 0);
        this.button = a.button;
        this.keyCode = a.keyCode || 0;
        this.key = a.key || "";
        this.charCode = a.charCode || ("keypress" == c ? a.keyCode : 0);
        this.ctrlKey = a.ctrlKey;
        this.altKey = a.altKey;
        this.shiftKey = a.shiftKey;
        this.metaKey = a.metaKey;
        this.pointerId = a.pointerId || 0;
        this.pointerType = "string" === typeof a.pointerType ? a.pointerType : iba[a.pointerType] || "";
        this.state = a.state;
        this.i = a;
        a.defaultPrevented && Vf.re.preventDefault.call(this)
    };
    Vf.prototype.stopPropagation = function() {
        Vf.re.stopPropagation.call(this);
        this.i.stopPropagation ? this.i.stopPropagation() : this.i.cancelBubble = !0
    };
    Vf.prototype.preventDefault = function() {
        Vf.re.preventDefault.call(this);
        var a = this.i;
        a.preventDefault ? a.preventDefault() : a.returnValue = !1
    };
    var Wf = "closure_listenable_" + (1E6 * Math.random() | 0);

    function Xf(a) {
        return !(!a || !a[Wf])
    };
    var jba = 0;

    function kba(a, b, c, d, e) {
        this.listener = a;
        this.i = null;
        this.src = b;
        this.type = c;
        this.capture = !!d;
        this.Zc = e;
        this.key = ++jba;
        this.Mo = this.xp = !1
    }

    function Yf(a) {
        a.Mo = !0;
        a.listener = null;
        a.i = null;
        a.src = null;
        a.Zc = null
    };

    function Zf(a) {
        this.src = a;
        this.listeners = {};
        this.i = 0
    }
    Zf.prototype.add = function(a, b, c, d, e) {
        var f = a.toString();
        a = this.listeners[f];
        a || (a = this.listeners[f] = [], this.i++);
        var g = $f(a, b, d, e); - 1 < g ? (b = a[g], c || (b.xp = !1)) : (b = new kba(b, this.src, f, !!d, e), b.xp = c, a.push(b));
        return b
    };
    Zf.prototype.remove = function(a, b, c, d) {
        a = a.toString();
        if (!(a in this.listeners)) return !1;
        var e = this.listeners[a];
        b = $f(e, b, c, d);
        return -1 < b ? (Yf(e[b]), Ab(e, b), 0 == e.length && (delete this.listeners[a], this.i--), !0) : !1
    };

    function ag(a, b) {
        var c = b.type;
        c in a.listeners && zb(a.listeners[c], b) && (Yf(b), 0 == a.listeners[c].length && (delete a.listeners[c], a.i--))
    }
    Zf.prototype.Tn = function(a, b, c, d) {
        a = this.listeners[a.toString()];
        var e = -1;
        a && (e = $f(a, b, c, d));
        return -1 < e ? a[e] : null
    };

    function $f(a, b, c, d) {
        for (var e = 0; e < a.length; ++e) {
            var f = a[e];
            if (!f.Mo && f.listener == b && f.capture == !!c && f.Zc == d) return e
        }
        return -1
    };
    var bg = "closure_lm_" + (1E6 * Math.random() | 0),
        cg = {},
        dg = 0;

    function eg(a, b, c, d, e) {
        if (d && d.once) return fg(a, b, c, d, e);
        if (Array.isArray(b)) {
            for (var f = 0; f < b.length; f++) eg(a, b[f], c, d, e);
            return null
        }
        c = gg(c);
        return Xf(a) ? a.jd(b, c, Oa(d) ? !!d.capture : !!d, e) : hg(a, b, c, !1, d, e)
    }

    function hg(a, b, c, d, e, f) {
        if (!b) throw Error("Invalid event type");
        var g = Oa(e) ? !!e.capture : !!e,
            k = ig(a);
        k || (a[bg] = k = new Zf(a));
        c = k.add(b, c, d, g, f);
        if (c.i) return c;
        d = lba();
        c.i = d;
        d.src = a;
        d.listener = c;
        if (a.addEventListener) hba || (e = g), void 0 === e && (e = !1), a.addEventListener(b.toString(), d, e);
        else if (a.attachEvent) a.attachEvent(jg(b.toString()), d);
        else if (a.addListener && a.removeListener) a.addListener(d);
        else throw Error("addEventListener and attachEvent are unavailable.");
        dg++;
        return c
    }

    function lba() {
        function a(c) {
            return b.call(a.src, a.listener, c)
        }
        var b = mba;
        return a
    }

    function fg(a, b, c, d, e) {
        if (Array.isArray(b)) {
            for (var f = 0; f < b.length; f++) fg(a, b[f], c, d, e);
            return null
        }
        c = gg(c);
        return Xf(a) ? a.uu(b, c, Oa(d) ? !!d.capture : !!d, e) : hg(a, b, c, !0, d, e)
    }

    function kg(a, b, c, d, e) {
        if (Array.isArray(b))
            for (var f = 0; f < b.length; f++) kg(a, b[f], c, d, e);
        else d = Oa(d) ? !!d.capture : !!d, c = gg(c), Xf(a) ? a.xe(b, c, d, e) : a && (a = ig(a)) && (b = a.Tn(b, c, d, e)) && lg(b)
    }

    function lg(a) {
        if ("number" !== typeof a && a && !a.Mo) {
            var b = a.src;
            if (Xf(b)) ag(b.B, a);
            else {
                var c = a.type,
                    d = a.i;
                b.removeEventListener ? b.removeEventListener(c, d, a.capture) : b.detachEvent ? b.detachEvent(jg(c), d) : b.addListener && b.removeListener && b.removeListener(d);
                dg--;
                (c = ig(b)) ? (ag(c, a), 0 == c.i && (c.src = null, b[bg] = null)) : Yf(a)
            }
        }
    }

    function jg(a) {
        return a in cg ? cg[a] : cg[a] = "on" + a
    }

    function mba(a, b) {
        if (a.Mo) a = !0;
        else {
            b = new Vf(b, this);
            var c = a.listener,
                d = a.Zc || a.src;
            a.xp && lg(a);
            a = c.call(d, b)
        }
        return a
    }

    function ig(a) {
        a = a[bg];
        return a instanceof Zf ? a : null
    }
    var mg = "__closure_events_fn_" + (1E9 * Math.random() >>> 0);

    function gg(a) {
        if ("function" === typeof a) return a;
        a[mg] || (a[mg] = function(b) {
            return a.handleEvent(b)
        });
        return a[mg]
    };

    function ng() {
        C.call(this);
        this.B = new Zf(this);
        this.fb = this;
        this.ra = null
    }
    Xa(ng, C);
    ng.prototype[Wf] = !0;
    h = ng.prototype;
    h.addEventListener = function(a, b, c, d) {
        eg(this, a, b, c, d)
    };
    h.removeEventListener = function(a, b, c, d) {
        kg(this, a, b, c, d)
    };
    h.dispatchEvent = function(a) {
        var b = this.ra;
        if (b) {
            var c = [];
            for (var d = 1; b; b = b.ra) c.push(b), ++d
        }
        b = this.fb;
        d = a.type || a;
        if ("string" === typeof a) a = new Rf(a, b);
        else if (a instanceof Rf) a.target = a.target || b;
        else {
            var e = a;
            a = new Rf(d, b);
            jc(a, e)
        }
        e = !0;
        if (c)
            for (var f = c.length - 1; !a.l && 0 <= f; f--) {
                var g = a.currentTarget = c[f];
                e = og(g, d, !0, a) && e
            }
        a.l || (g = a.currentTarget = b, e = og(g, d, !0, a) && e, a.l || (e = og(g, d, !1, a) && e));
        if (c)
            for (f = 0; !a.l && f < c.length; f++) g = a.currentTarget = c[f], e = og(g, d, !1, a) && e;
        return e
    };
    h.Da = function() {
        ng.re.Da.call(this);
        if (this.B) {
            var a = this.B,
                b = 0,
                c;
            for (c in a.listeners) {
                for (var d = a.listeners[c], e = 0; e < d.length; e++) ++b, Yf(d[e]);
                delete a.listeners[c];
                a.i--
            }
        }
        this.ra = null
    };
    h.jd = function(a, b, c, d) {
        return this.B.add(String(a), b, !1, c, d)
    };
    h.uu = function(a, b, c, d) {
        return this.B.add(String(a), b, !0, c, d)
    };
    h.xe = function(a, b, c, d) {
        this.B.remove(String(a), b, c, d)
    };

    function og(a, b, c, d) {
        b = a.B.listeners[String(b)];
        if (!b) return !0;
        b = b.concat();
        for (var e = !0, f = 0; f < b.length; ++f) {
            var g = b[f];
            if (g && !g.Mo && g.capture == c) {
                var k = g.listener,
                    l = g.Zc || g.src;
                g.xp && ag(a.B, g);
                e = !1 !== k.call(l, d) && e
            }
        }
        return e && !d.defaultPrevented
    }
    h.Tn = function(a, b, c, d) {
        return this.B.Tn(String(a), b, c, d)
    };

    function pg(a, b) {
        this.u = a;
        this.B = b;
        this.l = 0;
        this.i = null
    }
    pg.prototype.get = function() {
        if (0 < this.l) {
            this.l--;
            var a = this.i;
            this.i = a.next;
            a.next = null
        } else a = this.u();
        return a
    };

    function qg(a, b) {
        a.B(b);
        100 > a.l && (a.l++, b.next = a.i, a.i = b)
    };
    try {
        (new self.OffscreenCanvas(0, 0)).getContext("2d")
    } catch (a) {}
    var nba = !ne || 9 <= Number(Ie);
    !qe && !ne || ne && 9 <= Number(Ie) || qe && Fe("1.9.1");
    ne && Fe("9");
    var oba = ne || me || re;

    function pba(a, b) {
        return a + Math.random() * (b - a)
    }

    function rg(a, b, c) {
        return Math.min(Math.max(a, b), c)
    }

    function sg(a) {
        a %= 360;
        return 0 > 360 * a ? a + 360 : a
    }

    function tg(a, b) {
        return 1E-6 >= Math.abs(a - b)
    };

    function ug(a, b) {
        this.x = void 0 !== a ? a : 0;
        this.y = void 0 !== b ? b : 0
    }
    h = ug.prototype;
    h.clone = function() {
        return new ug(this.x, this.y)
    };
    h.ceil = function() {
        this.x = Math.ceil(this.x);
        this.y = Math.ceil(this.y);
        return this
    };
    h.floor = function() {
        this.x = Math.floor(this.x);
        this.y = Math.floor(this.y);
        return this
    };
    h.round = function() {
        this.x = Math.round(this.x);
        this.y = Math.round(this.y);
        return this
    };
    h.scale = function(a, b) {
        this.x *= a;
        this.y *= "number" === typeof b ? b : a;
        return this
    };

    function zg(a, b) {
        this.width = a;
        this.height = b
    }

    function Ag(a, b) {
        return a == b ? !0 : a && b ? a.width == b.width && a.height == b.height : !1
    }
    h = zg.prototype;
    h.clone = function() {
        return new zg(this.width, this.height)
    };
    h.aspectRatio = function() {
        return this.width / this.height
    };
    h.isEmpty = function() {
        return !(this.width * this.height)
    };
    h.ceil = function() {
        this.width = Math.ceil(this.width);
        this.height = Math.ceil(this.height);
        return this
    };
    h.floor = function() {
        this.width = Math.floor(this.width);
        this.height = Math.floor(this.height);
        return this
    };
    h.round = function() {
        this.width = Math.round(this.width);
        this.height = Math.round(this.height);
        return this
    };
    h.scale = function(a, b) {
        this.width *= a;
        this.height *= "number" === typeof b ? b : a;
        return this
    };

    function Bg(a) {
        return a ? new Cg(Dg(a)) : $a || ($a = new Cg)
    }

    function Eg(a) {
        var b = document;
        return "string" === typeof a ? b.getElementById(a) : a
    }

    function Fg(a, b) {
        var c = b || document;
        if (c.getElementsByClassName) a = c.getElementsByClassName(a)[0];
        else {
            c = document;
            var d = b || c;
            a = d.querySelectorAll && d.querySelector && a ? d.querySelector(a ? "." + a : "") : Gg(c, "*", a, b)[0] || null
        }
        return a || null
    }

    function Gg(a, b, c, d) {
        a = d || a;
        b = b && "*" != b ? String(b).toUpperCase() : "";
        if (a.querySelectorAll && a.querySelector && (b || c)) return a.querySelectorAll(b + (c ? "." + c : ""));
        if (c && a.getElementsByClassName) {
            a = a.getElementsByClassName(c);
            if (b) {
                d = {};
                for (var e = 0, f = 0, g; g = a[f]; f++) b == g.nodeName && (d[e++] = g);
                d.length = e;
                return d
            }
            return a
        }
        a = a.getElementsByTagName(b || "*");
        if (c) {
            d = {};
            for (f = e = 0; g = a[f]; f++) b = g.className, "function" == typeof b.split && xb(b.split(/\s+/), c) && (d[e++] = g);
            d.length = e;
            return d
        }
        return a
    }

    function Hg(a, b) {
        Nb(b, function(c, d) {
            c && "object" == typeof c && c.Kg && (c = c.Qf());
            "style" == d ? a.style.cssText = c : "class" == d ? a.className = c : "for" == d ? a.htmlFor = c : Ig.hasOwnProperty(d) ? a.setAttribute(Ig[d], c) : zc(d, "aria-") || zc(d, "data-") ? a.setAttribute(d, c) : a[d] = c
        })
    }
    var Ig = {
        cellpadding: "cellPadding",
        cellspacing: "cellSpacing",
        colspan: "colSpan",
        frameborder: "frameBorder",
        height: "height",
        maxlength: "maxLength",
        nonce: "nonce",
        role: "role",
        rowspan: "rowSpan",
        type: "type",
        usemap: "useMap",
        valign: "vAlign",
        width: "width"
    };

    function Jg(a) {
        var b = a.scrollingElement ? a.scrollingElement : re || "CSS1Compat" != a.compatMode ? a.body || a.documentElement : a.documentElement;
        a = a.parentWindow || a.defaultView;
        return ne && Fe("10") && a.pageYOffset != b.scrollTop ? new ug(b.scrollLeft, b.scrollTop) : new ug(a.pageXOffset || b.scrollLeft, a.pageYOffset || b.scrollTop)
    }

    function Kg(a) {
        return a ? a.parentWindow || a.defaultView : window
    }

    function Lg(a, b, c) {
        var d = arguments,
            e = document,
            f = String(d[0]),
            g = d[1];
        if (!nba && g && (g.name || g.type)) {
            f = ["<", f];
            g.name && f.push(' name="', Cd(g.name), '"');
            if (g.type) {
                f.push(' type="', Cd(g.type), '"');
                var k = {};
                jc(k, g);
                delete k.type;
                g = k
            }
            f.push(">");
            f = f.join("")
        }
        f = Mg(e, f);
        g && ("string" === typeof g ? f.className = g : Array.isArray(g) ? f.className = g.join(" ") : Hg(f, g));
        2 < d.length && Ng(e, f, d, 2);
        return f
    }

    function Ng(a, b, c, d) {
        function e(k) {
            k && b.appendChild("string" === typeof k ? a.createTextNode(k) : k)
        }
        for (; d < c.length; d++) {
            var f = c[d];
            if (!Na(f) || Oa(f) && 0 < f.nodeType) e(f);
            else {
                a: {
                    if (f && "number" == typeof f.length) {
                        if (Oa(f)) {
                            var g = "function" == typeof f.item || "string" == typeof f.item;
                            break a
                        }
                        if ("function" === typeof f) {
                            g = "function" == typeof f.item;
                            break a
                        }
                    }
                    g = !1
                }
                nb(g ? Cb(f) : f, e)
            }
        }
    }

    function Og(a) {
        return Mg(document, a)
    }

    function Mg(a, b) {
        b = String(b);
        "application/xhtml+xml" === a.contentType && (b = b.toLowerCase());
        return a.createElement(b)
    }

    function Pg(a) {
        return document.createTextNode(String(a))
    }

    function Qg(a) {
        for (var b; b = a.firstChild;) a.removeChild(b)
    }

    function Rg(a, b, c) {
        a.insertBefore(b, a.childNodes[c] || null)
    }

    function Sg(a) {
        return a && a.parentNode ? a.parentNode.removeChild(a) : null
    }

    function Tg(a, b) {
        if (!a || !b) return !1;
        if (a.contains && 1 == b.nodeType) return a == b || a.contains(b);
        if ("undefined" != typeof a.compareDocumentPosition) return a == b || !!(a.compareDocumentPosition(b) & 16);
        for (; b && a != b;) b = b.parentNode;
        return b == a
    }

    function Dg(a) {
        return 9 == a.nodeType ? a : a.ownerDocument || a.document
    }

    function Ug(a, b) {
        if ("textContent" in a) a.textContent = b;
        else if (3 == a.nodeType) a.data = String(b);
        else if (a.firstChild && 3 == a.firstChild.nodeType) {
            for (; a.lastChild != a.firstChild;) a.removeChild(a.lastChild);
            a.firstChild.data = String(b)
        } else {
            Qg(a);
            var c = Dg(a);
            a.appendChild(c.createTextNode(String(b)))
        }
    }

    function Vg(a) {
        var b;
        "A" == a.tagName && a.hasAttribute("href") || "INPUT" == a.tagName || "TEXTAREA" == a.tagName || "SELECT" == a.tagName || "BUTTON" == a.tagName ? b = !a.disabled && (!Wg(a) || Xg(a)) : b = Wg(a) && Xg(a);
        b && ne && ("function" !== typeof a.getBoundingClientRect || ne && null == a.parentElement || a.getBoundingClientRect())
    }

    function Wg(a) {
        return ne && !Fe("9") ? (a = a.getAttributeNode("tabindex"), null != a && a.specified) : a.hasAttribute("tabindex")
    }

    function Xg(a) {
        a = a.tabIndex;
        return "number" === typeof a && 0 <= a && 32768 > a
    }

    function Yg(a, b, c) {
        a && !c && (a = a.parentNode);
        for (c = 0; a;) {
            if (b(a)) return a;
            a = a.parentNode;
            c++
        }
        return null
    }

    function Cg(a) {
        this.i = a || A.document || document
    }
    h = Cg.prototype;
    h.getElementsByTagName = function(a, b) {
        return (b || this.i).getElementsByTagName(String(a))
    };
    h.Wa = function(a) {
        return Fg(a, this.i)
    };
    h.createElement = function(a) {
        return Mg(this.i, a)
    };
    h.createTextNode = function(a) {
        return this.i.createTextNode(String(a))
    };
    h.appendChild = function(a, b) {
        a.appendChild(b)
    };
    h.append = function(a, b) {
        Ng(Dg(a), a, arguments, 1)
    };
    h.canHaveChildren = function(a) {
        if (1 != a.nodeType) return !1;
        switch (a.tagName) {
            case "APPLET":
            case "AREA":
            case "BASE":
            case "BR":
            case "COL":
            case "COMMAND":
            case "EMBED":
            case "FRAME":
            case "HR":
            case "IMG":
            case "INPUT":
            case "IFRAME":
            case "ISINDEX":
            case "KEYGEN":
            case "LINK":
            case "NOFRAMES":
            case "NOSCRIPT":
            case "META":
            case "OBJECT":
            case "PARAM":
            case "SCRIPT":
            case "SOURCE":
            case "STYLE":
            case "TRACK":
            case "WBR":
                return !1
        }
        return !0
    };
    h.removeNode = Sg;
    h.contains = Tg;

    function Zg(a) {
        "function" !== typeof A.setImmediate || A.Window && A.Window.prototype && !id("Edge") && A.Window.prototype.setImmediate == A.setImmediate ? ($g || ($g = qba()), $g(a)) : A.setImmediate(a)
    }
    var $g;

    function qba() {
        var a = A.MessageChannel;
        "undefined" === typeof a && "undefined" !== typeof window && window.postMessage && window.addEventListener && !id("Presto") && (a = function() {
            var e = Og("IFRAME");
            e.style.display = "none";
            document.documentElement.appendChild(e);
            var f = e.contentWindow;
            e = f.document;
            e.open();
            e.close();
            var g = "callImmediate" + Math.random(),
                k = "file:" == f.location.protocol ? "*" : f.location.protocol + "//" + f.location.host;
            e = Sa(function(l) {
                if (("*" == k || l.origin == k) && l.data == g) this.port1.onmessage()
            }, this);
            f.addEventListener("message", e, !1);
            this.port1 = {};
            this.port2 = {
                postMessage: function() {
                    f.postMessage(g, k)
                }
            }
        });
        if ("undefined" !== typeof a && !id("Trident") && !id("MSIE")) {
            var b = new a,
                c = {},
                d = c;
            b.port1.onmessage = function() {
                if (void 0 !== c.next) {
                    c = c.next;
                    var e = c.Px;
                    c.Px = null;
                    e()
                }
            };
            return function(e) {
                d.next = {
                    Px: e
                };
                d = d.next;
                b.port2.postMessage(0)
            }
        }
        return function(e) {
            A.setTimeout(e, 0)
        }
    };

    function ah(a) {
        A.setTimeout(function() {
            throw a;
        }, 0)
    };

    function bh() {
        this.l = this.i = null
    }
    bh.prototype.add = function(a, b) {
        var c = ch.get();
        c.set(a, b);
        this.l ? this.l.next = c : this.i = c;
        this.l = c
    };
    bh.prototype.remove = function() {
        var a = null;
        this.i && (a = this.i, this.i = this.i.next, this.i || (this.l = null), a.next = null);
        return a
    };
    var ch = new pg(function() {
        return new dh
    }, function(a) {
        return a.reset()
    });

    function dh() {
        this.next = this.scope = this.i = null
    }
    dh.prototype.set = function(a, b) {
        this.i = a;
        this.scope = b;
        this.next = null
    };
    dh.prototype.reset = function() {
        this.next = this.scope = this.i = null
    };

    function eh(a, b) {
        fh || rba();
        gh || (fh(), gh = !0);
        hh.add(a, b)
    }
    var fh;

    function rba() {
        if (A.Promise && A.Promise.resolve) {
            var a = A.Promise.resolve(void 0);
            fh = function() {
                a.then(ih)
            }
        } else fh = function() {
            Zg(ih)
        }
    }
    var gh = !1,
        hh = new bh;

    function ih() {
        for (var a; a = hh.remove();) {
            try {
                a.i.call(a.scope)
            } catch (b) {
                ah(b)
            }
            qg(ch, a)
        }
        gh = !1
    };

    function jh(a) {
        if (!a) return !1;
        try {
            return !!a.$goog_Thenable
        } catch (b) {
            return !1
        }
    };

    function kh(a) {
        this.Oa = 0;
        this.Qc = void 0;
        this.Ml = this.Ei = this.Wk = null;
        this.cq = this.ct = !1;
        if (a != Ka) try {
            var b = this;
            a.call(void 0, function(c) {
                lh(b, 2, c)
            }, function(c) {
                lh(b, 3, c)
            })
        } catch (c) {
            lh(this, 3, c)
        }
    }

    function mh() {
        this.next = this.context = this.onRejected = this.l = this.i = null;
        this.u = !1
    }
    mh.prototype.reset = function() {
        this.context = this.onRejected = this.l = this.i = null;
        this.u = !1
    };
    var nh = new pg(function() {
        return new mh
    }, function(a) {
        a.reset()
    });

    function oh(a, b, c) {
        var d = nh.get();
        d.l = a;
        d.onRejected = b;
        d.context = c;
        return d
    }

    function ph(a) {
        if (a instanceof kh) return a;
        var b = new kh(Ka);
        lh(b, 2, a);
        return b
    }

    function qh(a) {
        return new kh(function(b, c) {
            c(a)
        })
    }

    function rh(a, b, c) {
        sh(a, b, c, null) || eh(Ta(b, a))
    }

    function sba(a) {
        return new kh(function(b, c) {
            a.length || b(void 0);
            for (var d = 0, e; d < a.length; d++) e = a[d], rh(e, b, c)
        })
    }

    function th(a) {
        return new kh(function(b, c) {
            var d = a.length,
                e = [];
            if (d)
                for (var f = function(m, n) {
                        d--;
                        e[m] = n;
                        0 == d && b(e)
                    }, g = function(m) {
                        c(m)
                    }, k = 0, l; k < a.length; k++) l = a[k], rh(l, Ta(f, k), g);
            else b(e)
        })
    }
    kh.prototype.then = function(a, b, c) {
        return uh(this, "function" === typeof a ? a : null, "function" === typeof b ? b : null, c)
    };
    kh.prototype.$goog_Thenable = !0;

    function vh(a, b) {
        b = oh(b, b, void 0);
        b.u = !0;
        wh(a, b);
        return a
    }

    function xh(a, b) {
        return uh(a, null, b, void 0)
    }
    kh.prototype.cancel = function(a) {
        if (0 == this.Oa) {
            var b = new yh(a);
            eh(function() {
                zh(this, b)
            }, this)
        }
    };

    function zh(a, b) {
        if (0 == a.Oa)
            if (a.Wk) {
                var c = a.Wk;
                if (c.Ei) {
                    for (var d = 0, e = null, f = null, g = c.Ei; g && (g.u || (d++, g.i == a && (e = g), !(e && 1 < d))); g = g.next) e || (f = g);
                    e && (0 == c.Oa && 1 == d ? zh(c, b) : (f ? (d = f, d.next == c.Ml && (c.Ml = d), d.next = d.next.next) : Ah(c), Bh(c, e, 3, b)))
                }
                a.Wk = null
            } else lh(a, 3, b)
    }

    function wh(a, b) {
        a.Ei || 2 != a.Oa && 3 != a.Oa || Ch(a);
        a.Ml ? a.Ml.next = b : a.Ei = b;
        a.Ml = b
    }

    function uh(a, b, c, d) {
        var e = oh(null, null, null);
        e.i = new kh(function(f, g) {
            e.l = b ? function(k) {
                try {
                    var l = b.call(d, k);
                    f(l)
                } catch (m) {
                    g(m)
                }
            } : f;
            e.onRejected = c ? function(k) {
                try {
                    var l = c.call(d, k);
                    void 0 === l && k instanceof yh ? g(k) : f(l)
                } catch (m) {
                    g(m)
                }
            } : g
        });
        e.i.Wk = a;
        wh(a, e);
        return e.i
    }
    kh.prototype.IH = function(a) {
        this.Oa = 0;
        lh(this, 2, a)
    };
    kh.prototype.JH = function(a) {
        this.Oa = 0;
        lh(this, 3, a)
    };

    function lh(a, b, c) {
        0 == a.Oa && (a === c && (b = 3, c = new TypeError("Promise cannot resolve to itself")), a.Oa = 1, sh(c, a.IH, a.JH, a) || (a.Qc = c, a.Oa = b, a.Wk = null, Ch(a), 3 != b || c instanceof yh || tba(a, c)))
    }

    function sh(a, b, c, d) {
        if (a instanceof kh) return wh(a, oh(b || Ka, c || null, d)), !0;
        if (jh(a)) return a.then(b, c, d), !0;
        if (Oa(a)) try {
            var e = a.then;
            if ("function" === typeof e) return uba(a, e, b, c, d), !0
        } catch (f) {
            return c.call(d, f), !0
        }
        return !1
    }

    function uba(a, b, c, d, e) {
        function f(l) {
            k || (k = !0, d.call(e, l))
        }

        function g(l) {
            k || (k = !0, c.call(e, l))
        }
        var k = !1;
        try {
            b.call(a, g, f)
        } catch (l) {
            f(l)
        }
    }

    function Ch(a) {
        a.ct || (a.ct = !0, eh(a.nE, a))
    }

    function Ah(a) {
        var b = null;
        a.Ei && (b = a.Ei, a.Ei = b.next, b.next = null);
        a.Ei || (a.Ml = null);
        return b
    }
    kh.prototype.nE = function() {
        for (var a; a = Ah(this);) Bh(this, a, this.Oa, this.Qc);
        this.ct = !1
    };

    function Bh(a, b, c, d) {
        if (3 == c && b.onRejected && !b.u)
            for (; a && a.cq; a = a.Wk) a.cq = !1;
        if (b.i) b.i.Wk = null, Dh(b, c, d);
        else try {
            b.u ? b.l.call(b.context) : Dh(b, c, d)
        } catch (e) {
            Eh.call(null, e)
        }
        qg(nh, b)
    }

    function Dh(a, b, c) {
        2 == b ? a.l.call(a.context, c) : a.onRejected && a.onRejected.call(a.context, c)
    }

    function tba(a, b) {
        a.cq = !0;
        eh(function() {
            a.cq && Eh.call(null, b)
        })
    }
    var Eh = ah;

    function yh(a) {
        Za.call(this, a)
    }
    Xa(yh, Za);
    yh.prototype.name = "cancel";

    function Fh(a, b) {
        ng.call(this);
        this.fm = a || 1;
        this.Yo = b || A;
        this.Jx = Sa(this.yH, this);
        this.Jz = Va()
    }
    Xa(Fh, ng);
    h = Fh.prototype;
    h.enabled = !1;
    h.wc = null;
    h.setInterval = function(a) {
        this.fm = a;
        this.wc && this.enabled ? (this.stop(), this.start()) : this.wc && this.stop()
    };
    h.yH = function() {
        if (this.enabled) {
            var a = Va() - this.Jz;
            0 < a && a < .8 * this.fm ? this.wc = this.Yo.setTimeout(this.Jx, this.fm - a) : (this.wc && (this.Yo.clearTimeout(this.wc), this.wc = null), this.dispatchEvent("tick"), this.enabled && (this.stop(), this.start()))
        }
    };
    h.start = function() {
        this.enabled = !0;
        this.wc || (this.wc = this.Yo.setTimeout(this.Jx, this.fm), this.Jz = Va())
    };
    h.stop = function() {
        this.enabled = !1;
        this.wc && (this.Yo.clearTimeout(this.wc), this.wc = null)
    };
    h.Da = function() {
        Fh.re.Da.call(this);
        this.stop();
        delete this.Yo
    };

    function Gh(a, b, c) {
        if ("function" === typeof a) c && (a = Sa(a, c));
        else if (a && "function" == typeof a.handleEvent) a = Sa(a.handleEvent, a);
        else throw Error("Invalid listener argument");
        return 2147483647 < Number(b) ? -1 : A.setTimeout(a, b || 0)
    }

    function Hh(a, b) {
        var c = null;
        return xh(new kh(function(d, e) {
            c = Gh(function() {
                d(b)
            }, a); -
            1 == c && e(Error("Failed to schedule timer."))
        }), function(d) {
            A.clearTimeout(c);
            throw d;
        })
    };

    function Ih(a) {
        this.G = a;
        this.i = new Map;
        this.D = new Set;
        this.u = 0;
        this.B = 100;
        this.flushInterval = 3E4;
        this.l = new Fh(this.flushInterval);
        this.l.jd("tick", this.kB, !1, this);
        this.C = !1
    }
    h = Ih.prototype;
    h.mH = function(a) {
        this.C = a;
        this.B = 1
    };

    function Jh(a) {
        a.l.enabled || a.l.start();
        a.u++;
        a.u >= a.B && a.kB()
    }
    h.kB = function() {
        var a = this.i.values();
        a = [].concat(ha(a)).filter(function(b) {
            return b.Nl.size
        });
        a.length && this.G.flush(a, this.C);
        vba(a);
        this.u = 0;
        this.l.enabled && this.l.stop()
    };
    h.PD = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        this.i.has(a) || this.i.set(a, new Mf(a, c))
    };
    h.Dx = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        this.i.has(a) || this.i.set(a, new Nf(a, c))
    };

    function Qh(a, b) {
        return a.D.has(b) ? void 0 : a.i.get(b)
    }
    h.mC = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        this.nC.apply(this, [a, 1].concat(ha(c)))
    };
    h.nC = function(a, b, c) {
        for (var d = [], e = 2; e < arguments.length; ++e) d[e - 2] = arguments[e];
        (e = Qh(this, a)) && e instanceof Mf && (e.u(b, d), Jh(this))
    };
    h.fh = function(a, b, c) {
        for (var d = [], e = 2; e < arguments.length; ++e) d[e - 2] = arguments[e];
        (e = Qh(this, a)) && e instanceof Nf && (e.fh(b, d), Jh(this))
    };

    function vba(a) {
        for (var b = 0; b < a.length; b++) a[b].clear()
    };

    function Rh(a) {
        this.i = a;
        this.i.Dx("/client_streamz/po/w/rl", {
            rk: 3,
            qk: "mn"
        }, {
            rk: 2,
            qk: "sc"
        }, {
            rk: 3,
            qk: "rk"
        })
    }
    Rh.prototype.fh = function(a, b, c, d) {
        this.i.fh("/client_streamz/po/w/rl", a, b, c, d)
    };

    function Sh(a) {
        this.i = a;
        this.i.Dx("/client_streamz/po/w/el", {
            rk: 3,
            qk: "en"
        }, {
            rk: 3,
            qk: "rk"
        })
    }
    Sh.prototype.fh = function(a, b, c) {
        this.i.fh("/client_streamz/po/w/el", a, b, c)
    };

    function wba(a) {
        this.i = a;
        this.i.PD("/client_streamz/po/w/cec", {
            rk: 2,
            qk: "ec"
        }, {
            rk: 3,
            qk: "rk"
        })
    };

    function Th(a) {
        hf(this, a, -1, xba, null)
    }
    v(Th, ff);

    function Uh(a) {
        hf(this, a, -1, yba, null)
    }
    v(Uh, ff);

    function Vh(a) {
        hf(this, a, -1, null, Wh)
    }
    v(Vh, ff);

    function Xh(a) {
        hf(this, a, -1, null, Yh)
    }
    v(Xh, ff);
    var xba = [3, 6, 4],
        yba = [1],
        Wh = [
            [1, 2, 3]
        ],
        Yh = [
            [1, 2, 3]
        ];

    function Zh(a) {
        hf(this, a, -1, zba, null)
    }
    v(Zh, ff);
    var zba = [1];

    function $h(a) {
        if (!a) return "";
        a = a.split("#")[0].split("?")[0];
        a = a.toLowerCase();
        0 == a.indexOf("//") && (a = window.location.protocol + a);
        /^[\w\-]*:\/\//.test(a) || (a = window.location.href);
        var b = a.substring(a.indexOf("://") + 3),
            c = b.indexOf("/"); - 1 != c && (b = b.substring(0, c));
        c = a.substring(0, a.indexOf("://"));
        if (!c) throw Error("URI is missing protocol: " + a);
        if ("http" !== c && "https" !== c && "chrome-extension" !== c && "moz-extension" !== c && "file" !== c && "android-app" !== c && "chrome-search" !== c && "chrome-untrusted" !== c && "chrome" !==
            c && "app" !== c && "devtools" !== c) throw Error("Invalid URI scheme in origin: " + c);
        a = "";
        var d = b.indexOf(":");
        if (-1 != d) {
            var e = b.substring(d + 1);
            b = b.substring(0, d);
            if ("http" === c && "80" !== e || "https" === c && "443" !== e) a = ":" + e
        }
        return c + "://" + b + a
    };

    function Aba() {
        function a() {
            e[0] = 1732584193;
            e[1] = 4023233417;
            e[2] = 2562383102;
            e[3] = 271733878;
            e[4] = 3285377520;
            n = m = 0
        }

        function b(p) {
            for (var q = g, r = 0; 64 > r; r += 4) q[r / 4] = p[r] << 24 | p[r + 1] << 16 | p[r + 2] << 8 | p[r + 3];
            for (r = 16; 80 > r; r++) p = q[r - 3] ^ q[r - 8] ^ q[r - 14] ^ q[r - 16], q[r] = (p << 1 | p >>> 31) & 4294967295;
            p = e[0];
            var u = e[1],
                x = e[2],
                z = e[3],
                D = e[4];
            for (r = 0; 80 > r; r++) {
                if (40 > r)
                    if (20 > r) {
                        var H = z ^ u & (x ^ z);
                        var O = 1518500249
                    } else H = u ^ x ^ z, O = 1859775393;
                else 60 > r ? (H = u & x | z & (u | x), O = 2400959708) : (H = u ^ x ^ z, O = 3395469782);
                H = ((p << 5 | p >>> 27) & 4294967295) + H + D + O + q[r] & 4294967295;
                D = z;
                z = x;
                x = (u << 30 | u >>> 2) & 4294967295;
                u = p;
                p = H
            }
            e[0] = e[0] + p & 4294967295;
            e[1] = e[1] + u & 4294967295;
            e[2] =
                e[2] + x & 4294967295;
            e[3] = e[3] + z & 4294967295;
            e[4] = e[4] + D & 4294967295
        }

        function c(p, q) {
            if ("string" === typeof p) {
                p = unescape(encodeURIComponent(p));
                for (var r = [], u = 0, x = p.length; u < x; ++u) r.push(p.charCodeAt(u));
                p = r
            }
            q || (q = p.length);
            r = 0;
            if (0 == m)
                for (; r + 64 < q;) b(p.slice(r, r + 64)), r += 64, n += 64;
            for (; r < q;)
                if (f[m++] = p[r++], n++, 64 == m)
                    for (m = 0, b(f); r + 64 < q;) b(p.slice(r, r + 64)), r += 64, n += 64
        }

        function d() {
            var p = [],
                q = 8 * n;
            56 > m ? c(k, 56 - m) : c(k, 64 - (m - 56));
            for (var r = 63; 56 <= r; r--) f[r] = q & 255, q >>>= 8;
            b(f);
            for (r = q = 0; 5 > r; r++)
                for (var u = 24; 0 <= u; u -= 8) p[q++] = e[r] >> u & 255;
            return p
        }
        for (var e = [], f = [], g = [], k = [128], l = 1; 64 > l; ++l) k[l] = 0;
        var m, n;
        a();
        return {
            reset: a,
            update: c,
            digest: d,
            fE: function() {
                for (var p = d(), q = "", r = 0; r < p.length; r++) q += "0123456789ABCDEF".charAt(Math.floor(p[r] / 16)) + "0123456789ABCDEF".charAt(p[r] % 16);
                return q
            }
        }
    };

    function ai(a, b, c) {
        var d = String(A.location.href);
        return d && a && b ? [b, Bba($h(d), a, c || null)].join(" ") : null
    }

    function Bba(a, b, c) {
        var d = [],
            e = [];
        if (1 == (Array.isArray(c) ? 2 : 1)) return e = [b, a], nb(d, function(k) {
            e.push(k)
        }), bi(e.join(" "));
        var f = [],
            g = [];
        nb(c, function(k) {
            g.push(k.key);
            f.push(k.value)
        });
        c = Math.floor((new Date).getTime() / 1E3);
        e = 0 == f.length ? [c, b, a] : [f.join(":"), c, b, a];
        nb(d, function(k) {
            e.push(k)
        });
        a = bi(e.join(" "));
        a = [c, a];
        0 == g.length || a.push(g.join(""));
        return a.join("_")
    }

    function bi(a) {
        var b = Aba();
        b.update(a);
        return b.fE().toLowerCase()
    };
    var Cba = {};

    function ci(a) {
        this.i = a || {
            cookie: ""
        }
    }
    h = ci.prototype;
    h.isEnabled = function() {
        if (!A.navigator.cookieEnabled) return !1;
        if (!this.isEmpty()) return !0;
        this.set("TESTCOOKIESENABLED", "1", {
            tq: 60
        });
        if ("1" !== this.get("TESTCOOKIESENABLED")) return !1;
        this.remove("TESTCOOKIESENABLED");
        return !0
    };
    h.set = function(a, b, c) {
        var d = !1;
        if ("object" === typeof c) {
            var e = c.aV;
            d = c.kH || !1;
            var f = c.domain || void 0;
            var g = c.path || void 0;
            var k = c.tq
        }
        if (/[;=\s]/.test(a)) throw Error('Invalid cookie name "' + a + '"');
        if (/[;\r\n]/.test(b)) throw Error('Invalid cookie value "' + b + '"');
        void 0 === k && (k = -1);
        c = f ? ";domain=" + f : "";
        g = g ? ";path=" + g : "";
        d = d ? ";secure" : "";
        k = 0 > k ? "" : 0 == k ? ";expires=" + (new Date(1970, 1, 1)).toUTCString() : ";expires=" + (new Date(Date.now() + 1E3 * k)).toUTCString();
        this.i.cookie = a + "=" + b + c + g + k + d + (null != e ? ";samesite=" +
            e : "")
    };
    h.get = function(a, b) {
        for (var c = a + "=", d = (this.i.cookie || "").split(";"), e = 0, f; e < d.length; e++) {
            f = Fc(d[e]);
            if (0 == f.lastIndexOf(c, 0)) return f.substr(c.length);
            if (f == a) return ""
        }
        return b
    };
    h.remove = function(a, b, c) {
        var d = void 0 !== this.get(a);
        this.set(a, "", {
            tq: 0,
            path: b,
            domain: c
        });
        return d
    };
    h.Pf = function() {
        return di(this).keys
    };
    h.xf = function() {
        return di(this).values
    };
    h.isEmpty = function() {
        return !this.i.cookie
    };
    h.clear = function() {
        for (var a = di(this).keys, b = a.length - 1; 0 <= b; b--) this.remove(a[b])
    };

    function di(a) {
        a = (a.i.cookie || "").split(";");
        for (var b = [], c = [], d, e, f = 0; f < a.length; f++) e = Fc(a[f]), d = e.indexOf("="), -1 == d ? (b.push(""), c.push(e)) : (b.push(e.substring(0, d)), c.push(e.substring(d + 1)));
        return {
            keys: b,
            values: c
        }
    }
    var ei = new ci("undefined" == typeof document ? null : document);

    function fi(a) {
        return !!Cba.FPA_SAMESITE_PHASE2_MOD || !(void 0 === a || !a)
    }

    function gi(a) {
        a = void 0 === a ? !1 : a;
        var b = A.__SAPISID || A.__APISID || A.__3PSAPISID || A.__OVERRIDE_SID;
        fi(a) && (b = b || A.__1PSAPISID);
        if (b) return !0;
        var c = new ci(document);
        b = c.get("SAPISID") || c.get("APISID") || c.get("__Secure-3PAPISID") || c.get("SID");
        fi(a) && (b = b || c.get("__Secure-1PAPISID"));
        return !!b
    }

    function hi(a, b, c, d) {
        (a = A[a]) || (a = (new ci(document)).get(b));
        return a ? ai(a, c, d) : null
    }

    function ii(a, b) {
        b = void 0 === b ? !1 : b;
        var c = $h(String(A.location.href)),
            d = [];
        if (gi(b)) {
            c = 0 == c.indexOf("https:") || 0 == c.indexOf("chrome-extension:") || 0 == c.indexOf("moz-extension:");
            var e = c ? A.__SAPISID : A.__APISID;
            e || (e = new ci(document), e = e.get(c ? "SAPISID" : "APISID") || e.get("__Secure-3PAPISID"));
            (e = e ? ai(e, c ? "SAPISIDHASH" : "APISIDHASH", a) : null) && d.push(e);
            c && fi(b) && ((b = hi("__1PSAPISID", "__Secure-1PAPISID", "SAPISID1PHASH", a)) && d.push(b), (a = hi("__3PSAPISID", "__Secure-3PAPISID", "SAPISID3PHASH", a)) && d.push(a))
        }
        return 0 ==
            d.length ? null : d.join(" ")
    };

    function ji(a) {
        hf(this, a, -1, Dba, null)
    }
    v(ji, ff);
    var Dba = [2];

    function ki() {};

    function li(a) {
        var b = [];
        mi(new Eba, a, b);
        return b.join("")
    }

    function Eba() {}

    function mi(a, b, c) {
        if (null == b) c.push("null");
        else {
            if ("object" == typeof b) {
                if (Array.isArray(b)) {
                    var d = b;
                    b = d.length;
                    c.push("[");
                    for (var e = "", f = 0; f < b; f++) c.push(e), mi(a, d[f], c), e = ",";
                    c.push("]");
                    return
                }
                if (b instanceof String || b instanceof Number || b instanceof Boolean) b = b.valueOf();
                else {
                    c.push("{");
                    e = "";
                    for (d in b) Object.prototype.hasOwnProperty.call(b, d) && (f = b[d], "function" != typeof f && (c.push(e), ni(d, c), c.push(":"), mi(a, f, c), e = ","));
                    c.push("}");
                    return
                }
            }
            switch (typeof b) {
                case "string":
                    ni(b, c);
                    break;
                case "number":
                    c.push(isFinite(b) &&
                        !isNaN(b) ? String(b) : "null");
                    break;
                case "boolean":
                    c.push(String(b));
                    break;
                case "function":
                    c.push("null");
                    break;
                default:
                    throw Error("Unknown type: " + typeof b);
            }
        }
    }
    var oi = {
            '"': '\\"',
            "\\": "\\\\",
            "/": "\\/",
            "\b": "\\b",
            "\f": "\\f",
            "\n": "\\n",
            "\r": "\\r",
            "\t": "\\t",
            "\x0B": "\\u000b"
        },
        Fba = /\uffff/.test("\uffff") ? /[\\"\x00-\x1f\x7f-\uffff]/g : /[\\"\x00-\x1f\x7f-\xff]/g;

    function ni(a, b) {
        b.push('"', a.replace(Fba, function(c) {
            var d = oi[c];
            d || (d = "\\u" + (c.charCodeAt(0) | 65536).toString(16).substr(1), oi[c] = d);
            return d
        }), '"')
    };

    function Gba(a) {
        switch (a) {
            case 0:
                return "No Error";
            case 1:
                return "Access denied to content document";
            case 2:
                return "File not found";
            case 3:
                return "Firefox silently errored";
            case 4:
                return "Application custom error";
            case 5:
                return "An exception occurred";
            case 6:
                return "Http response at 400 or 500 level";
            case 7:
                return "Request was aborted";
            case 8:
                return "Request timed out";
            case 9:
                return "The resource is not available offline";
            default:
                return "Unrecognized error code"
        }
    };

    function pi() {}
    pi.prototype.l = null;
    pi.prototype.getOptions = function() {
        return this.l || (this.l = this.B())
    };
    var qi;

    function ri() {}
    Xa(ri, pi);
    ri.prototype.i = function() {
        var a = si(this);
        return a ? new ActiveXObject(a) : new XMLHttpRequest
    };
    ri.prototype.B = function() {
        var a = {};
        si(this) && (a[0] = !0, a[1] = !0);
        return a
    };

    function si(a) {
        if (!a.u && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {
            for (var b = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], c = 0; c < b.length; c++) {
                var d = b[c];
                try {
                    return new ActiveXObject(d), a.u = d
                } catch (e) {}
            }
            throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
        }
        return a.u
    }
    qi = new ri;

    function ti(a, b) {
        this.i = a[A.Symbol.iterator]();
        this.l = b;
        this.u = 0
    }
    ti.prototype[Symbol.iterator] = function() {
        return this
    };
    ti.prototype.next = function() {
        var a = this.i.next();
        return {
            value: a.done ? void 0 : this.l.call(void 0, a.value, this.u++),
            done: a.done
        }
    };

    function Hba(a, b) {
        return new ti(a, b)
    };
    var ui = "StopIteration" in A ? A.StopIteration : {
        message: "StopIteration",
        stack: ""
    };

    function vi() {}
    vi.prototype.next = function() {
        return vi.prototype.i.call(this)
    };
    vi.prototype.i = function() {
        throw ui;
    };
    vi.prototype.eg = function() {
        return this
    };

    function wi(a) {
        if (a instanceof xi || a instanceof yi || a instanceof zi) return a;
        if ("function" == typeof a.next) return new xi(function() {
            return Ai(a)
        });
        if ("function" == typeof a[Symbol.iterator]) return new xi(function() {
            return a[Symbol.iterator]()
        });
        if ("function" == typeof a.eg) return new xi(function() {
            return Ai(a.eg())
        });
        throw Error("Not an iterator or iterable.");
    }

    function Ai(a) {
        if (!(a instanceof vi)) return a;
        var b = !1;
        return {
            next: function() {
                for (var c; !b;) try {
                    c = a.next();
                    break
                } catch (d) {
                    if (d !== ui) throw d;
                    b = !0
                }
                return {
                    value: c,
                    done: b
                }
            }
        }
    }

    function xi(a) {
        this.i = a
    }
    xi.prototype.eg = function() {
        return new yi(this.i())
    };
    xi.prototype[Symbol.iterator] = function() {
        return new zi(this.i())
    };
    xi.prototype.l = function() {
        return new zi(this.i())
    };

    function yi(a) {
        this.u = a
    }
    v(yi, vi);
    yi.prototype.i = function() {
        var a = this.u.next();
        if (a.done) throw ui;
        return a.value
    };
    yi.prototype.next = function() {
        return yi.prototype.i.call(this)
    };
    yi.prototype[Symbol.iterator] = function() {
        return new zi(this.u)
    };
    yi.prototype.l = function() {
        return new zi(this.u)
    };

    function zi(a) {
        xi.call(this, function() {
            return a
        });
        this.u = a
    }
    v(zi, xi);
    zi.prototype.next = function() {
        return this.u.next()
    };

    function Bi(a, b) {
        this.l = {};
        this.i = [];
        this.tj = this.size = 0;
        var c = arguments.length;
        if (1 < c) {
            if (c % 2) throw Error("Uneven number of arguments");
            for (var d = 0; d < c; d += 2) this.set(arguments[d], arguments[d + 1])
        } else a && Ci(this, a)
    }
    h = Bi.prototype;
    h.xf = function() {
        Di(this);
        for (var a = [], b = 0; b < this.i.length; b++) a.push(this.l[this.i[b]]);
        return a
    };
    h.Pf = function() {
        Di(this);
        return this.i.concat()
    };
    h.has = function(a) {
        return Ei(this.l, a)
    };
    h.isEmpty = function() {
        return 0 == this.size
    };
    h.clear = function() {
        this.l = {};
        this.tj = this.size = this.i.length = 0
    };
    h.remove = function(a) {
        return this.delete(a)
    };
    h.delete = function(a) {
        return Ei(this.l, a) ? (delete this.l[a], --this.size, this.tj++, this.i.length > 2 * this.size && Di(this), !0) : !1
    };

    function Di(a) {
        if (a.size != a.i.length) {
            for (var b = 0, c = 0; b < a.i.length;) {
                var d = a.i[b];
                Ei(a.l, d) && (a.i[c++] = d);
                b++
            }
            a.i.length = c
        }
        if (a.size != a.i.length) {
            var e = {};
            for (c = b = 0; b < a.i.length;) d = a.i[b], Ei(e, d) || (a.i[c++] = d, e[d] = 1), b++;
            a.i.length = c
        }
    }
    h.get = function(a, b) {
        return Ei(this.l, a) ? this.l[a] : b
    };
    h.set = function(a, b) {
        Ei(this.l, a) || (this.size += 1, this.i.push(a), this.tj++);
        this.l[a] = b
    };

    function Ci(a, b) {
        if (b instanceof Bi)
            for (var c = b.Pf(), d = 0; d < c.length; d++) a.set(c[d], b.get(c[d]));
        else
            for (c in b) a.set(c, b[c])
    }
    h.forEach = function(a, b) {
        for (var c = this.Pf(), d = 0; d < c.length; d++) {
            var e = c[d],
                f = this.get(e);
            a.call(b, f, e, this)
        }
    };
    h.clone = function() {
        return new Bi(this)
    };
    h.keys = function() {
        return wi(this.eg(!0)).l()
    };
    h.values = function() {
        return wi(this.eg(!1)).l()
    };
    h.entries = function() {
        var a = this;
        return Hba(this.keys(), function(b) {
            return [b, a.get(b)]
        })
    };
    h.eg = function(a) {
        Di(this);
        var b = 0,
            c = this.tj,
            d = this,
            e = new vi;
        e.i = function() {
            if (c != d.tj) throw Error("The map has changed since the iterator was created");
            if (b >= d.i.length) throw ui;
            var f = d.i[b++];
            return a ? f : d.l[f]
        };
        e.next = e.i.bind(e);
        return e
    };

    function Ei(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b)
    };

    function Iba(a) {
        if (a.xf && "function" == typeof a.xf) return a.xf();
        if ("undefined" !== typeof Map && a instanceof Map || "undefined" !== typeof Set && a instanceof Set) return Array.from(a.values());
        if ("string" === typeof a) return a.split("");
        if (Na(a)) {
            for (var b = [], c = a.length, d = 0; d < c; d++) b.push(a[d]);
            return b
        }
        return Ub(a)
    }

    function Jba(a) {
        if (a.Pf && "function" == typeof a.Pf) return a.Pf();
        if (!a.xf || "function" != typeof a.xf) {
            if ("undefined" !== typeof Map && a instanceof Map) return Array.from(a.keys());
            if (!("undefined" !== typeof Set && a instanceof Set)) {
                if (Na(a) || "string" === typeof a) {
                    var b = [];
                    a = a.length;
                    for (var c = 0; c < a; c++) b.push(c);
                    return b
                }
                return Vb(a)
            }
        }
    }

    function Kba(a, b) {
        if (a.forEach && "function" == typeof a.forEach) a.forEach(b, void 0);
        else if (Na(a) || "string" === typeof a) Array.prototype.forEach.call(a, b, void 0);
        else
            for (var c = Jba(a), d = Iba(a), e = d.length, f = 0; f < e; f++) b.call(void 0, d[f], c && c[f], a)
    };

    function Fi(a, b, c, d, e, f, g) {
        var k = "";
        a && (k += a + ":");
        c && (k += "//", b && (k += b + "@"), k += c, d && (k += ":" + d));
        e && (k += e);
        f && (k += "?" + f);
        g && (k += "#" + g);
        return k
    }
    var Gi = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;

    function Hi(a) {
        return a ? decodeURI(a) : a
    }

    function Ii(a, b) {
        return b.match(Gi)[a] || null
    }

    function Ji(a) {
        return Hi(Ii(3, a))
    }

    function Ki(a) {
        a = a.match(Gi);
        return Fi(a[1], null, a[3], a[4])
    }

    function Li(a) {
        a = a.match(Gi);
        return Fi(null, null, null, null, a[5], a[6], a[7])
    }

    function Mi(a, b) {
        if (a) {
            a = a.split("&");
            for (var c = 0; c < a.length; c++) {
                var d = a[c].indexOf("="),
                    e = null;
                if (0 <= d) {
                    var f = a[c].substring(0, d);
                    e = a[c].substring(d + 1)
                } else f = a[c];
                b(f, e ? Bd(e) : "")
            }
        }
    }

    function Ni(a) {
        var b = a.indexOf("#");
        0 > b && (b = a.length);
        var c = a.indexOf("?");
        if (0 > c || c > b) {
            c = b;
            var d = ""
        } else d = a.substring(c + 1, b);
        return [a.substr(0, c), d, a.substr(b)]
    }

    function Oi(a, b) {
        return b ? a ? a + "&" + b : b : a
    }

    function Pi(a, b) {
        if (!b) return a;
        a = Ni(a);
        a[1] = Oi(a[1], b);
        return a[0] + (a[1] ? "?" + a[1] : "") + a[2]
    }

    function Qi(a, b, c) {
        if (Array.isArray(b))
            for (var d = 0; d < b.length; d++) Qi(a, String(b[d]), c);
        else null != b && c.push(a + ("" === b ? "" : "=" + yd(b)))
    }

    function Ri(a, b) {
        var c = [];
        for (b = b || 0; b < a.length; b += 2) Qi(a[b], a[b + 1], c);
        return c.join("&")
    }

    function Si(a) {
        var b = [],
            c;
        for (c in a) Qi(c, a[c], b);
        return b.join("&")
    }

    function Lba(a, b) {
        var c = 2 == arguments.length ? Ri(arguments[1], 0) : Ri(arguments, 1);
        return Pi(a, c)
    }

    function Ti(a, b) {
        b = Si(b);
        return Pi(a, b)
    }

    function Ui(a, b, c) {
        c = null != c ? "=" + yd(c) : "";
        return Pi(a, b + c)
    }

    function Vi(a, b, c, d) {
        for (var e = c.length; 0 <= (b = a.indexOf(c, b)) && b < d;) {
            var f = a.charCodeAt(b - 1);
            if (38 == f || 63 == f)
                if (f = a.charCodeAt(b + e), !f || 61 == f || 38 == f || 35 == f) return b;
            b += e + 1
        }
        return -1
    }
    var Wi = /#|$/;

    function Xi(a, b) {
        var c = a.search(Wi),
            d = Vi(a, 0, b, c);
        if (0 > d) return null;
        var e = a.indexOf("&", d);
        if (0 > e || e > c) e = c;
        d += b.length + 1;
        return Bd(a.substr(d, e - d))
    }
    var Mba = /[?&]($|#)/;

    function Yi(a, b) {
        for (var c = a.search(Wi), d = 0, e, f = []; 0 <= (e = Vi(a, d, b, c));) f.push(a.substring(d, e)), d = Math.min(a.indexOf("&", e) + 1 || c, c);
        f.push(a.substr(d));
        return f.join("").replace(Mba, "$1")
    }

    function Zi(a, b, c) {
        return Ui(Yi(a, b), b, c)
    }

    function Nba(a, b) {
        a = Ni(a);
        var c = a[1],
            d = [];
        c && c.split("&").forEach(function(e) {
            var f = e.indexOf("=");
            b.hasOwnProperty(0 <= f ? e.substr(0, f) : e) || d.push(e)
        });
        a[1] = Oi(d.join("&"), Si(b));
        return a[0] + (a[1] ? "?" + a[1] : "") + a[2]
    };

    function $i(a) {
        ng.call(this);
        this.headers = new Bi;
        this.ea = a || null;
        this.l = !1;
        this.X = this.i = null;
        this.Fa = this.I = "";
        this.u = 0;
        this.C = "";
        this.D = this.ya = this.K = this.Z = !1;
        this.G = 0;
        this.U = null;
        this.va = "";
        this.T = this.J = !1
    }
    Xa($i, ng);
    var Oba = /^https?$/i,
        Pba = ["POST", "PUT"],
        aj = [];

    function Qba(a, b, c, d, e, f, g) {
        var k = new $i;
        aj.push(k);
        b && k.jd("complete", b);
        k.uu("ready", k.UD);
        f && (k.G = Math.max(0, f));
        g && (k.J = g);
        k.send(a, c, d, e)
    }
    h = $i.prototype;
    h.UD = function() {
        this.dispose();
        zb(aj, this)
    };
    h.send = function(a, b, c, d) {
        if (this.i) throw Error("[goog.net.XhrIo] Object is active with another request=" + this.I + "; newUri=" + a);
        b = b ? b.toUpperCase() : "GET";
        this.I = a;
        this.C = "";
        this.u = 0;
        this.Fa = b;
        this.Z = !1;
        this.l = !0;
        this.i = this.ea ? this.ea.i() : qi.i();
        this.X = this.ea ? this.ea.getOptions() : qi.getOptions();
        this.i.onreadystatechange = Sa(this.AA, this);
        try {
            ki(bj(this, "Opening Xhr")), this.ya = !0, this.i.open(b, String(a), !0), this.ya = !1
        } catch (f) {
            ki(bj(this, "Error opening Xhr: " + f.message));
            cj(this, f);
            return
        }
        a = c || "";
        var e = this.headers.clone();
        d && Kba(d, function(f, g) {
            e.set(g, f)
        });
        d = e.Pf().find(function(f) {
            return "content-type" == f.toLowerCase()
        });
        c = A.FormData && a instanceof A.FormData;
        !xb(Pba, b) || d || c || e.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
        e.forEach(function(f, g) {
            this.i.setRequestHeader(g, f)
        }, this);
        this.va && (this.i.responseType = this.va);
        "withCredentials" in this.i && this.i.withCredentials !== this.J && (this.i.withCredentials = this.J);
        try {
            dj(this), 0 < this.G && (this.T = Rba(this.i), ki(bj(this, "Will abort after " + this.G + "ms if incomplete, xhr2 " + this.T)), this.T ? (this.i.timeout = this.G, this.i.ontimeout = Sa(this.uB, this)) : this.U = Gh(this.uB, this.G, this)), ki(bj(this, "Sending request")), this.K = !0, this.i.send(a), this.K = !1
        } catch (f) {
            ki(bj(this, "Send error: " + f.message)), cj(this, f)
        }
    };

    function Rba(a) {
        return ne && Fe(9) && "number" === typeof a.timeout && void 0 !== a.ontimeout
    }
    h.uB = function() {
        "undefined" != typeof Ha && this.i && (this.C = "Timed out after " + this.G + "ms, aborting", this.u = 8, bj(this, this.C), this.dispatchEvent("timeout"), this.abort(8))
    };

    function cj(a, b) {
        a.l = !1;
        a.i && (a.D = !0, a.i.abort(), a.D = !1);
        a.C = b;
        a.u = 5;
        ej(a);
        fj(a)
    }

    function ej(a) {
        a.Z || (a.Z = !0, a.dispatchEvent("complete"), a.dispatchEvent("error"))
    }
    h.abort = function(a) {
        this.i && this.l && (bj(this, "Aborting"), this.l = !1, this.D = !0, this.i.abort(), this.D = !1, this.u = a || 7, this.dispatchEvent("complete"), this.dispatchEvent("abort"), fj(this))
    };
    h.Da = function() {
        this.i && (this.l && (this.l = !1, this.D = !0, this.i.abort(), this.D = !1), fj(this, !0));
        $i.re.Da.call(this)
    };
    h.AA = function() {
        this.Ea() || (this.ya || this.K || this.D ? gj(this) : this.qG())
    };
    h.qG = function() {
        gj(this)
    };

    function gj(a) {
        if (a.l && "undefined" != typeof Ha)
            if (a.X[1] && 4 == hj(a) && 2 == a.getStatus()) bj(a, "Local request error detected and ignored");
            else if (a.K && 4 == hj(a)) Gh(a.AA, 0, a);
        else if (a.dispatchEvent("readystatechange"), 4 == hj(a)) {
            bj(a, "Request complete");
            a.l = !1;
            try {
                if (ij(a)) a.dispatchEvent("complete"), a.dispatchEvent("success");
                else {
                    a.u = 6;
                    try {
                        var b = 2 < hj(a) ? a.i.statusText : ""
                    } catch (c) {
                        b = ""
                    }
                    a.C = b + " [" + a.getStatus() + "]";
                    ej(a)
                }
            } finally {
                fj(a)
            }
        }
    }

    function fj(a, b) {
        if (a.i) {
            dj(a);
            var c = a.i,
                d = a.X[0] ? Ka : null;
            a.i = null;
            a.X = null;
            b || a.dispatchEvent("ready");
            try {
                c.onreadystatechange = d
            } catch (e) {}
        }
    }

    function dj(a) {
        a.i && a.T && (a.i.ontimeout = null);
        a.U && (A.clearTimeout(a.U), a.U = null)
    }
    h.isActive = function() {
        return !!this.i
    };

    function ij(a) {
        var b = a.getStatus();
        a: switch (b) {
            case 200:
            case 201:
            case 202:
            case 204:
            case 206:
            case 304:
            case 1223:
                var c = !0;
                break a;
            default:
                c = !1
        }
        if (!c) {
            if (b = 0 === b) a = Ii(1, String(a.I)), !a && A.self && A.self.location && (a = A.self.location.protocol, a = a.substr(0, a.length - 1)), b = !Oba.test(a ? a.toLowerCase() : "");
            c = b
        }
        return c
    }

    function hj(a) {
        return a.i ? a.i.readyState : 0
    }
    h.getStatus = function() {
        try {
            return 2 < hj(this) ? this.i.status : -1
        } catch (a) {
            return -1
        }
    };

    function jj(a) {
        try {
            return a.i ? a.i.responseText : ""
        } catch (b) {
            return ""
        }
    }

    function kj(a) {
        try {
            if (!a.i) return null;
            if ("response" in a.i) return a.i.response;
            switch (a.va) {
                case "":
                case "text":
                    return a.i.responseText;
                case "arraybuffer":
                    if ("mozResponseArrayBuffer" in a.i) return a.i.mozResponseArrayBuffer
            }
            return null
        } catch (b) {
            return null
        }
    }
    h.getResponseHeader = function(a) {
        if (this.i && 4 == hj(this)) return a = this.i.getResponseHeader(a), null === a ? void 0 : a
    };

    function Sba(a) {
        var b = {};
        a = (a.i && 4 == hj(a) ? a.i.getAllResponseHeaders() || "" : "").split("\r\n");
        for (var c = 0; c < a.length; c++)
            if (!Ec(a[c])) {
                var d = Saa(a[c]),
                    e = d[0];
                d = d[1];
                if ("string" === typeof d) {
                    d = d.trim();
                    var f = b[e] || [];
                    b[e] = f;
                    f.push(d)
                }
            } return Pb(b, function(g) {
            return g.join(", ")
        })
    }
    h.getLastError = function() {
        return "string" === typeof this.C ? this.C : String(this.C)
    };

    function bj(a, b) {
        return b + " [" + a.Fa + " " + a.I + " " + a.getStatus() + "]"
    };

    function lj(a) {
        hf(this, a, -1, null, null)
    }
    v(lj, ff);

    function Tba() {
        var a = new lj,
            b = document.documentElement.getAttribute("lang");
        return pf(a, 5, b)
    };

    function mj(a) {
        hf(this, a, -1, null, null)
    }
    v(mj, ff);

    function nj(a) {
        hf(this, a, 31, Uba, null)
    }
    v(nj, ff);
    nj.prototype.N = function() {
        return null != mf(this, 7)
    };
    var Uba = [3, 20, 27];

    function oj(a) {
        hf(this, a, 17, Vba, null)
    }
    v(oj, ff);

    function pj(a) {
        var b = Date.now().toString();
        return pf(a, 4, b)
    }

    function qj(a, b) {
        return wf(a, 3, b)
    }

    function Aj(a, b) {
        return pf(a, 14, b)
    }
    var Vba = [3, 5];

    function Bj(a) {
        hf(this, a, 6, Wba, null)
    }
    v(Bj, ff);
    var Wba = [5];

    function Cj(a) {
        hf(this, a, -1, null, null)
    }
    v(Cj, ff);
    var aba = new function() {
        this.fieldName = {
            JU: 0
        };
        this.i = Cj;
        this.isRepeated = 0
    };

    function Dj(a, b, c, d, e, f, g, k, l, m, n) {
        ng.call(this);
        var p = this;
        this.K = "";
        this.l = [];
        this.Ma = "";
        this.Qa = this.Z = -1;
        this.Ha = !1;
        this.I = this.u = null;
        this.G = 0;
        this.jb = 1;
        this.ya = !1;
        ng.call(this);
        this.Sa = a;
        this.va = b || Ka;
        this.C = new oj;
        this.Ta = d;
        this.Fa = n;
        this.kb = Ta(pba, 0, 1);
        this.X = e || null;
        this.J = c || null;
        this.U = g || !1;
        this.ea = l || null;
        this.bb = !k;
        this.Ka = f || !1;
        !this.Ka && (Ne && Fe(65) || Je && Fe(45) || Oe && Fe(12) || he() && Oc(ie(), 12));
        a = pf(new mj, 1, 1);
        f || (f = Tba(), uf(a, 11, f));
        uf(this.C, 1, a);
        pf(this.C, 2, this.Sa);
        this.D = new Ff(1E4,
            3E5, .1);
        this.i = new Fh(this.D.getValue());
        E(this, this.i);
        eg(this.i, "tick", gb(Ej(this, m)), !1, this);
        this.T = new Fh(6E5);
        E(this, this.T);
        eg(this.T, "tick", gb(Ej(this, m)), !1, this);
        this.U || this.T.start();
        this.Ka || (eg(Kg(), "beforeunload", this.Mn, !1, this), eg(Kg(), "unload", this.Mn, !1, this), eg(document, "visibilitychange", function() {
            "hidden" === document.visibilityState && p.Mn()
        }), eg(document, "pagehide", this.Mn, !1, this))
    }
    v(Dj, ng);

    function Ej(a, b) {
        return b ? function() {
            b().then(a.flush.bind(a))
        } : a.flush
    }
    h = Dj.prototype;
    h.Da = function() {
        this.Mn();
        ng.prototype.Da.call(this)
    };

    function Fj(a) {
        a.X || (a.X = .01 > a.kb() ? "https://www.google.com/log?format=json&hasfast=true" : "https://play.google.com/log?format=json&hasfast=true");
        return a.X
    }
    h.dispatch = function(a) {
        if (a instanceof nj) this.log(a);
        else {
            var b = new nj;
            a = xf(a);
            b = pf(b, 8, a);
            this.log(b)
        }
    };

    function Gj(a, b) {
        a.D = new Ff(1 > b ? 1 : b, 3E5, .1);
        a.i.setInterval(a.D.getValue())
    }
    h.log = function(a) {
        a = a.clone();
        var b = this.jb++;
        pf(a, 21, b);
        this.K && pf(a, 26, this.K);
        if (!mf(a, 1)) {
            b = a;
            var c = Date.now().toString();
            pf(b, 1, c)
        }
        null != mf(a, 15) || pf(a, 15, 60 * (new Date).getTimezoneOffset());
        this.u && (b = this.u.clone(), uf(a, 16, b));
        for (; 1E3 <= this.l.length;) this.l.shift(), ++this.G;
        this.l.push(a);
        this.dispatchEvent(new Hj(a));
        this.U || this.i.enabled || this.i.start()
    };
    h.flush = function(a, b) {
        var c = this;
        if (0 === this.l.length) a && a();
        else if (this.ya) Xba(this);
        else {
            var d = Date.now();
            if (this.Qa > d && this.Z < d) b && b("throttled");
            else {
                var e = Aj(qj(pj(this.C.clone()), this.l), this.G);
                d = {};
                var f = this.va();
                f && (d.Authorization = f);
                var g = Fj(this);
                this.J && (d["X-Goog-AuthUser"] = this.J, g = Ui(g, "authuser", this.J));
                this.ea && (d["X-Goog-PageId"] = this.ea, g = Ui(g, "pageId", this.ea));
                if (f && this.Ma === f) b && b("stale-auth-token");
                else {
                    this.l = [];
                    this.i.enabled && this.i.stop();
                    this.G = 0;
                    var k = xf(e),
                        l;
                    this.I &&
                        this.I.isSupported(k.length) && (l = this.I.tU(k));
                    var m = {
                            url: g,
                            body: k,
                            i: 1,
                            al: d,
                            requestType: "POST",
                            withCredentials: this.bb,
                            timeoutMillis: 0
                        },
                        n = function(r) {
                            c.D.reset();
                            c.i.setInterval(c.D.getValue());
                            if (r) {
                                var u = null;
                                try {
                                    var x = JSON.parse(r.replace(")]}'\n", ""));
                                    u = new Bj(x)
                                } catch (z) {}
                                u && (r = Number(nf(u, 1, "-1")), 0 < r && (c.Z = Date.now(), c.Qa = c.Z + r), u = $aa(u)) && (u = of (u, 1, -1), -1 != u && (c.Ha || Gj(c, u)))
                            }
                            a && a()
                        },
                        p = function(r) {
                            var u = tf(e, nj, 3);
                            If(c.D);
                            c.i.setInterval(c.D.getValue());
                            401 === r && f && (c.Ma = f);
                            if (500 <= r && 600 > r || 401 === r || 0 === r) c.l = u.concat(c.l), c.U || c.i.enabled || c.i.start();
                            b && b("net-send-failed", r)
                        },
                        q = function() {
                            c.Fa ? c.Fa.send(m, n, p) : c.Ta(m, n, p)
                        };
                    l ? l.then(function(r) {
                        m.al["Content-Encoding"] = "gzip";
                        m.al["Content-Type"] = "application/binary";
                        m.body = r;
                        m.i = 2;
                        q()
                    }, function() {
                        q()
                    }) : q()
                }
            }
        }
    };
    h.Mn = function() {
        this.flush()
    };

    function Xba(a) {
        Yba(a, function(b, c) {
            b = Ui(b, "format", "json");
            b = Kg().navigator.sendBeacon(b, xf(c));
            a.ya && !b && (a.ya = !1);
            return b
        })
    }

    function Yba(a, b) {
        if (0 !== a.l.length) {
            var c = Yi(Fj(a), "format");
            c = Lba(c, "auth", a.va(), "authuser", a.J || "0");
            for (var d = 0; 10 > d && a.l.length; ++d) {
                var e = a.l.slice(0, 32),
                    f = qj(pj(a.C.clone()), e);
                0 === d && Aj(f, a.G);
                if (!b(c, f)) break;
                a.l = a.l.slice(e.length)
            }
            a.i.enabled && a.i.stop();
            a.G = 0
        }
    }

    function Hj() {
        Rf.call(this, "event-logged", void 0)
    }
    v(Hj, Rf);

    function Zba(a, b, c) {
        Qba(a.url, function(d) {
            d = d.target;
            ij(d) ? b(jj(d)) : c(d.getStatus())
        }, a.requestType, a.body, a.al, a.timeoutMillis, a.withCredentials)
    };

    function Ij() {
        this.u = "https://play.google.com/log?format=json&hasfast=true";
        this.B = !1;
        this.G = Zba;
        this.i = ""
    }
    Ij.prototype.ge = function() {
        var a = new Dj(1654, this.C ? this.C : ii, "0", this.G, this.u, this.B, !1, void 0, void 0, void 0, this.I ? this.I : void 0);
        if (this.K) {
            var b = this.K;
            mf(b, 1) || pf(b, 1, 1);
            uf(a.C, 1, b)
        }
        if (this.l) {
            b = this.l;
            var c = sf(a.C, mj, 1),
                d = sf(c, lj, 11);
            d || (d = new lj);
            pf(d, 7, b);
            uf(c, 11, d);
            mf(c, 1) || pf(c, 1, 1);
            uf(a.C, 1, c)
        }
        this.D && (a.I = this.D);
        this.i && (a.K = this.i);
        this.J && ((b = this.J) ? (a.u || (a.u = new ji), b = xf(b), pf(a.u, 4, b)) : a.u && pf(a.u, 4, void 0));
        this.T && (b = this.T, a.u || (a.u = new ji), pf(a.u, 2, df(b || [])));
        this.U && (b = this.U,
            a.Ha = !0, Gj(a, b));
        return a
    };

    function Jj() {
        var a = "",
            b = !1,
            c = "1";
        a = void 0 === a ? "" : a;
        c = void 0 === c ? "" : c;
        var d = new Ij;
        d.i = "";
        "" != a && (d.u = a);
        if (void 0 === b ? 0 : b) d.B = !0;
        c && (d.l = c);
        this.i = d.ge()
    }
    Jj.prototype.flush = function(a) {
        a = a || [];
        if (a.length) {
            for (var b = new Zh, c = [], d = 0; d < a.length; d++) {
                var e = a[d],
                    f = e;
                var g = new Th;
                g = pf(g, 1, f.l);
                for (var k = f, l = [], m = 0; m < k.i.length; m++) l.push(k.i[m].qk);
                g = pf(g, 3, df(l || []));
                k = [];
                l = [];
                m = t(f.Nl.keys());
                for (var n = m.next(); !n.done; n = m.next()) l.push(n.value.split(","));
                for (m = 0; m < l.length; m++) {
                    n = l[m];
                    var p = f.B;
                    for (var q = f.qt(n) || [], r = [], u = 0; u < q.length; u++) {
                        var x = q[u];
                        x = x && x.Sx;
                        var z = new Xh;
                        switch (p) {
                            case 3:
                                rf(z, 1, Yh[0], Number(x));
                                break;
                            case 2:
                                rf(z, 2, Yh[0], Number(x))
                        }
                        r.push(z)
                    }
                    p =
                        r;
                    for (q = 0; q < p.length; q++) {
                        r = p[q];
                        u = new Uh;
                        r = uf(u, 2, r);
                        u = n;
                        x = [];
                        z = f;
                        for (var D = [], H = 0; H < z.i.length; H++) D.push(z.i[H].rk);
                        z = D;
                        for (D = 0; D < z.length; D++) {
                            H = z[D];
                            var O = u[D],
                                M = new Vh;
                            switch (H) {
                                case 3:
                                    rf(M, 1, Wh[0], String(O));
                                    break;
                                case 2:
                                    rf(M, 2, Wh[0], Number(O));
                                    break;
                                case 1:
                                    rf(M, 3, Wh[0], "true" == O)
                            }
                            x.push(M)
                        }
                        wf(r, 1, x);
                        k.push(r)
                    }
                }
                wf(g, 4, k);
                c.push(g);
                e.clear()
            }
            wf(b, 1, c);
            this.i.dispatch(b);
            this.i.flush()
        }
    };

    function Kj(a) {
        switch (a) {
            case 200:
                return 0;
            case 400:
                return 3;
            case 401:
                return 16;
            case 403:
                return 7;
            case 404:
                return 5;
            case 409:
                return 10;
            case 412:
                return 9;
            case 429:
                return 8;
            case 499:
                return 1;
            case 500:
                return 2;
            case 501:
                return 12;
            case 503:
                return 14;
            case 504:
                return 4;
            default:
                return 2
        }
    };

    function Lj() {}
    Lj.prototype.rq = function() {};
    Lj.prototype.zo = function() {};
    Lj.prototype.Nz = function() {};

    function Mj(a) {
        this.ai = a;
        this.B = new Jj;
        this.i = new Ih(this.B);
        this.clientError = new wba(this.i);
        this.l = new Sh(this.i);
        this.u = new Rh(this.i)
    }
    Mj.prototype.rq = function(a) {
        this.clientError.i.mC("/client_streamz/po/w/cec", a, this.ai)
    };
    Mj.prototype.zo = function(a, b) {
        this.l.fh(b, a, this.ai)
    };
    Mj.prototype.Nz = function(a, b) {
        var c = this,
            d = Date.now();
        (function() {
            return B(c, function f() {
                var g, k, l = this,
                    m;
                return y(f, function(n) {
                    if (1 == n.i) return g = 0, ta(n, 2, 3), w(n, b, 3);
                    if (2 != n.i) return wa(n), k = Date.now() - d, l.u.fh(k, a, g, l.ai), xa(n, 0);
                    m = va(n);
                    void 0 !== m.code && void 0 !== m.code ? g = m.code : (g = -1, l.rq(1));
                    return n.Ya(3)
                })
            })
        })()
    };

    function Nj(a) {
        hf(this, a, -1, null, null)
    }
    v(Nj, ff);

    function Oj(a) {
        hf(this, a, -1, null, null)
    }
    v(Oj, ff);

    function Pj(a) {
        hf(this, a, -1, null, null)
    }
    v(Pj, ff);
    Pj.eF = "bfkj";

    function Qj(a) {
        var b = this;
        this.l = this.u = this.C = null;
        this.i = !1;
        if (a.challenge instanceof Pj) {
            var c = nf(a.challenge, 4, "");
            var d = nf(a.challenge, 5, "")
        } else c = a.program, d = a.globalName;
        this.B = new Promise(function(e) {
            var f = t((0, A[d].a)(c, function(g, k) {
                Promise.resolve().then(function() {
                    b.u = g;
                    b.l = k || null;
                    e(void 0)
                })
            }, !0)).next().value;
            b.C = f
        })
    }
    Qj.prototype.snapshot = function(a) {
        var b = this;
        if (this.i) throw Error("Already disposed");
        return this.B.then(function() {
            return new Promise(function(c) {
                b.u(function(d) {
                    c(d)
                }, [a.Wx])
            })
        })
    };
    Qj.prototype.dispose = function() {
        var a = this;
        this.i = !0;
        this.B.then(function() {
            a.l && a.l()
        })
    };
    Qj.prototype.Ea = function() {
        return this.i
    };
    var Rj = {};

    function Sj(a) {
        if (a !== Rj) throw Error("Bad secret");
    };

    function Tj() {
        var a = "undefined" !== typeof window ? window.trustedTypes : void 0;
        return null !== a && void 0 !== a ? a : null
    }
    var Uj;

    function Vj() {
        var a, b;
        void 0 === Uj && (Uj = null !== (b = null === (a = Tj()) || void 0 === a ? void 0 : a.createPolicy("google#safe", {
            createHTML: function(c) {
                return c
            },
            createScript: function(c) {
                return c
            },
            createScriptURL: function(c) {
                return c
            }
        })) && void 0 !== b ? b : null);
        return Uj
    };

    function Wj() {}

    function Xj(a, b) {
        Sj(b);
        this.i = a
    }
    v(Xj, Wj);
    Xj.prototype.toString = function() {
        return this.i.toString()
    };

    function Yj(a) {
        var b, c = null === (b = Vj()) || void 0 === b ? void 0 : b.createScript(a);
        return new Xj(null !== c && void 0 !== c ? c : a, Rj)
    };

    function Zj() {}

    function ak(a, b) {
        Sj(b);
        this.i = a
    }
    v(ak, Zj);
    ak.prototype.toString = function() {
        return this.i
    };
    var $ba = new ak("about:invalid#zTSz", Rj);

    function bk() {}

    function ck(a, b) {
        Sj(b);
        this.l = a
    }
    v(ck, bk);
    ck.prototype.toString = function() {
        return this.l.toString()
    };

    function aca(a) {
        if (a instanceof Zj)
            if (a instanceof ak) a = a.i;
            else throw Error("wrong type");
        else a = Sc(a);
        return a
    };

    function dk(a) {
        var b, c = (a.ownerDocument && a.ownerDocument.defaultView || window).document;
        (b = (c = null === (b = c.querySelector) || void 0 === b ? void 0 : b.call(c, "script[nonce]")) ? c.nonce || c.getAttribute("nonce") || "" : "") && a.setAttribute("nonce", b)
    }

    function ek(a, b) {
        if (b instanceof bk) {
            var c;
            if (null === (c = Tj()) || void 0 === c || !c.isScriptURL(b))
                if (b instanceof ck) b = b.l;
                else throw Error("wrong type");
        } else b = xc(b);
        a.src = b;
        dk(a)
    };

    function fk() {
        this.i = {};
        this.l = null
    }

    function bca(a, b, c, d) {
        var e;
        if (!b && !c) return Promise.resolve();
        if (!d) return gk(b, c);
        (e = a.i)[d] || (e[d] = new Promise(function(f, g) {
            gk(b, c).then(function() {
                a.l = d;
                f()
            }, function(k) {
                delete a.i[d];
                g(k)
            })
        }));
        return a.i[d]
    }

    function gk(a, b) {
        return b ? cca(b) : a ? dca(a) : Promise.resolve()
    }

    function cca(a) {
        return new Promise(function(b, c) {
            var d = Og("SCRIPT"),
                e = Maa(sc("From proto message. b/12014412"), mf(a, 4) || "");
            ek(d, e);
            d.onload = function() {
                Sg(d);
                b()
            };
            d.onerror = function() {
                Sg(d);
                c(Error("EWLS"))
            };
            (document.getElementsByTagName("HEAD")[0] || document.documentElement).appendChild(d)
        })
    }

    function dca(a) {
        return new Promise(function(b) {
            var c = Og("SCRIPT");
            var d = a ? (d = mf(a, 6)) ? Yj(d) : null : null;
            var e;
            if (d instanceof Wj)
                if (null === (e = Tj()) || void 0 === e ? 0 : e.isScript(d)) e = d;
                else if (d instanceof Xj) e = d.i;
            else throw Error("wrong type");
            else e = d instanceof tc && d.constructor === tc ? d.i : "type_error:SafeScript";
            c.textContent = e;
            dk(c);
            (document.getElementsByTagName("HEAD")[0] || document.documentElement).appendChild(c);
            Sg(c);
            b()
        })
    };

    function hk(a) {
        this.i = a
    }
    ca.Object.defineProperties(hk.prototype, {
        l: {
            configurable: !0,
            enumerable: !0,
            get: function() {
                return this.i.a
            }
        },
        u: {
            configurable: !0,
            enumerable: !0,
            get: function() {
                return this.i.b
            }
        }
    });

    function ik(a) {
        hf(this, a, -1, null, null)
    }
    v(ik, ff);

    function eca(a, b) {
        return qf(a, 1, b, "")
    };

    function jk(a) {
        hf(this, a, -1, null, null)
    }
    v(jk, ff);

    function kk(a, b, c) {
        this.i = a;
        this.u = b;
        this.l = c
    }
    kk.prototype.Rp = function() {
        return this.u
    };
    kk.prototype.getMetadata = function() {
        return this.l
    };

    function lk(a, b, c) {
        c = void 0 === c ? {} : c;
        this.hH = a;
        this.i = c;
        this.l = b
    }
    lk.prototype.getMetadata = function() {
        return this.i
    };
    lk.prototype.Rp = function() {
        return this.l
    };
    lk.prototype.getStatus = function() {
        return null
    };

    function mk(a, b, c, d, e) {
        this.name = a;
        this.requestType = b;
        this.responseType = c;
        this.i = d;
        this.l = e
    }

    function nk(a, b, c) {
        c = void 0 === c ? {} : c;
        return new kk(b, a, c)
    }
    mk.prototype.getName = function() {
        return this.name
    };
    var fca = new mk("/google.internal.waa.v1.Waa/Create", ik, jk, function(a) {
        return xf(a)
    }, function(a) {
        return yf(jk, a)
    });

    function ok(a) {
        hf(this, a, -1, null, null)
    }
    v(ok, ff);

    function gca(a, b) {
        return qf(a, 1, b, "")
    }

    function hca(a, b) {
        return qf(a, 2, b, "")
    };

    function pk(a) {
        hf(this, a, -1, null, null)
    }
    v(pk, ff);
    var ica = new mk("/google.internal.waa.v1.Waa/GenerateIT", ok, pk, function(a) {
        return xf(a)
    }, function(a) {
        return yf(pk, a)
    });
    var jca = Promise;

    function qk(a) {
        hf(this, a, -1, null, null)
    }
    v(qk, ff);
    qk.prototype.getValue = function() {
        return nf(this, 2, "")
    };
    qk.prototype.setValue = function(a) {
        return qf(this, 2, a, "")
    };

    function rk(a) {
        hf(this, a, -1, kca, null)
    }
    v(rk, ff);
    var kca = [3];

    function sk(a, b) {
        this.G = a.kF;
        this.I = b;
        this.i = a.xhr;
        this.u = [];
        this.C = [];
        this.D = [];
        this.B = [];
        this.l = [];
        this.G && lca(this)
    }

    function mca(a, b) {
        eg(a.i, "complete", function() {
            if (ij(a.i)) {
                var c = jj(a.i);
                if (b && "text/plain" === a.i.getResponseHeader("Content-Type")) {
                    if (!atob) throw Error("Cannot decode Base64 response");
                    c = atob(c)
                }
                var d = a.I(c),
                    e = Kj(a.i.getStatus());
                tk(a, uk(a));
                0 == e ? vk(a, d) : wk(a, {
                    code: e,
                    message: c
                })
            } else c = jj(a.i), e = {}, c ? (e = xk(a, c), c = e.code, d = e.details, e = e.metadata) : (c = 2, d = "Rpc failed due to xhr error. error code: " + a.i.u + ", error: " + a.i.getLastError()), tk(a, uk(a)), wk(a, {
                code: c,
                message: d,
                metadata: e
            })
        })
    }

    function lca(a) {
        a.G.Qh("data", function(b) {
            if ("1" in b) {
                var c = a.I(b["1"]);
                vk(a, c)
            }
            if ("2" in b)
                for (b = xk(a, b["2"]), c = 0; c < a.D.length; c++) a.D[c](b)
        });
        a.G.Qh("end", function() {
            tk(a, uk(a));
            for (var b = 0; b < a.B.length; b++) a.B[b]()
        });
        a.G.Qh("error", function() {
            if (0 != a.l.length) {
                var b = a.i.u;
                0 !== b || ij(a.i) || (b = 6);
                switch (b) {
                    case 0:
                        var c = 2;
                        break;
                    case 7:
                        c = 10;
                        break;
                    case 8:
                        c = 4;
                        break;
                    case 6:
                        c = Kj(a.i.getStatus());
                        break;
                    default:
                        c = 14
                }
                tk(a, uk(a));
                wk(a, {
                    code: c,
                    message: Gba(b) + ", error: " + a.i.getLastError()
                })
            }
        })
    }

    function uk(a) {
        var b = {},
            c = Sba(a.i);
        Object.keys(c).forEach(function(d) {
            b[d] = c[d]
        });
        return b
    }

    function xk(a, b) {
        var c = {};
        try {
            var d = yf(rk, b);
            var e = of (d, 1);
            var f = nf(d, 2, "");
            tf(d, qk, 3).length && (c["grpc-web-status-details-bin"] = b)
        } catch (g) {
            a.i && 404 === a.i.getStatus() ? (e = 5, f = "Not Found: " + String(a.i.I)) : (e = 14, f = "Unable to parse RpcStatus: " + g)
        }
        return {
            code: e,
            details: f,
            metadata: c
        }
    }
    sk.prototype.Qh = function(a, b) {
        "data" == a ? this.u.push(b) : "metadata" == a ? this.C.push(b) : "status" == a ? this.D.push(b) : "end" == a ? this.B.push(b) : "error" == a && this.l.push(b);
        return this
    };

    function yk(a, b) {
        b = a.indexOf(b); - 1 < b && a.splice(b, 1)
    }
    sk.prototype.removeListener = function(a, b) {
        "data" == a ? yk(this.u, b) : "metadata" == a ? yk(this.C, b) : "status" == a ? yk(this.D, b) : "end" == a ? yk(this.B, b) : "error" == a && yk(this.l, b);
        return this
    };
    sk.prototype.cancel = function() {
        this.i.abort()
    };

    function vk(a, b) {
        for (var c = 0; c < a.u.length; c++) a.u[c](b)
    }

    function tk(a, b) {
        for (var c = 0; c < a.C.length; c++) a.C[c](b)
    }

    function wk(a, b) {
        for (var c = 0; c < a.l.length; c++) a.l[c](b)
    }
    sk.prototype.cancel = sk.prototype.cancel;
    sk.prototype.removeListener = sk.prototype.removeListener;
    sk.prototype.on = sk.prototype.Qh;

    function zk(a) {
        this.C = a.PH || null;
        this.u = a.qH || !1
    }
    Xa(zk, pi);
    zk.prototype.i = function() {
        return new Ak(this.C, this.u)
    };
    zk.prototype.B = fb({});

    function Ak(a, b) {
        ng.call(this);
        this.T = a;
        this.G = b;
        this.D = void 0;
        this.status = this.readyState = 0;
        this.responseType = this.responseText = this.response = this.statusText = "";
        this.onreadystatechange = this.responseXML = null;
        this.J = new Headers;
        this.l = null;
        this.U = "GET";
        this.K = "";
        this.i = !1;
        this.I = this.u = this.C = null
    }
    Xa(Ak, ng);
    h = Ak.prototype;
    h.open = function(a, b) {
        if (0 != this.readyState) throw this.abort(), Error("Error reopening a connection");
        this.U = a;
        this.K = b;
        this.readyState = 1;
        Bk(this)
    };
    h.send = function(a) {
        if (1 != this.readyState) throw this.abort(), Error("need to call open() first. ");
        this.i = !0;
        var b = {
            headers: this.J,
            method: this.U,
            credentials: this.D,
            cache: void 0
        };
        a && (b.body = a);
        (this.T || A).fetch(new Request(this.K, b)).then(this.DE.bind(this), this.fq.bind(this))
    };
    h.abort = function() {
        this.response = this.responseText = "";
        this.J = new Headers;
        this.status = 0;
        this.u && this.u.cancel("Request was aborted.");
        1 <= this.readyState && this.i && 4 != this.readyState && (this.i = !1, Ck(this));
        this.readyState = 0
    };
    h.DE = function(a) {
        if (this.i && (this.C = a, this.l || (this.status = this.C.status, this.statusText = this.C.statusText, this.l = a.headers, this.readyState = 2, Bk(this)), this.i && (this.readyState = 3, Bk(this), this.i)))
            if ("arraybuffer" === this.responseType) a.arrayBuffer().then(this.BE.bind(this), this.fq.bind(this));
            else if ("undefined" !== typeof A.ReadableStream && "body" in a) {
            this.u = a.body.getReader();
            if (this.G) {
                if (this.responseType) throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');
                this.response = []
            } else this.response = this.responseText = "", this.I = new TextDecoder;
            Dk(this)
        } else a.text().then(this.CE.bind(this), this.fq.bind(this))
    };

    function Dk(a) {
        a.u.read().then(a.yE.bind(a)).catch(a.fq.bind(a))
    }
    h.yE = function(a) {
        if (this.i) {
            if (this.G && a.value) this.response.push(a.value);
            else if (!this.G) {
                var b = a.value ? a.value : new Uint8Array(0);
                if (b = this.I.decode(b, {
                        stream: !a.done
                    })) this.response = this.responseText += b
            }
            a.done ? Ck(this) : Bk(this);
            3 == this.readyState && Dk(this)
        }
    };
    h.CE = function(a) {
        this.i && (this.response = this.responseText = a, Ck(this))
    };
    h.BE = function(a) {
        this.i && (this.response = a, Ck(this))
    };
    h.fq = function() {
        this.i && Ck(this)
    };

    function Ck(a) {
        a.readyState = 4;
        a.C = null;
        a.u = null;
        a.I = null;
        Bk(a)
    }
    h.setRequestHeader = function(a, b) {
        this.J.append(a, b)
    };
    h.getResponseHeader = function(a) {
        return this.l ? this.l.get(a.toLowerCase()) || "" : ""
    };
    h.getAllResponseHeaders = function() {
        if (!this.l) return "";
        for (var a = [], b = this.l.entries(), c = b.next(); !c.done;) c = c.value, a.push(c[0] + ": " + c[1]), c = b.next();
        return a.join("\r\n")
    };

    function Bk(a) {
        a.onreadystatechange && a.onreadystatechange.call(a)
    }
    Object.defineProperty(Ak.prototype, "withCredentials", {
        get: function() {
            return "include" === this.D
        },
        set: function(a) {
            this.D = a ? "include" : "same-origin"
        }
    });

    function Ek(a, b) {
        this.i = this.G = this.u = "";
        this.C = null;
        this.B = this.I = "";
        this.D = !1;
        var c;
        a instanceof Ek ? (this.D = void 0 !== b ? b : a.D, Fk(this, a.u), this.G = a.G, Gk(this, a.i), Hk(this, a.C), this.I = a.getPath(), Ik(this, a.l.clone()), this.B = a.B) : a && (c = String(a).match(Gi)) ? (this.D = !!b, Fk(this, c[1] || "", !0), this.G = Jk(c[2] || ""), Gk(this, c[3] || "", !0), Hk(this, c[4]), this.I = Jk(c[5] || "", !0), Ik(this, c[6] || "", !0), this.B = Jk(c[7] || "")) : (this.D = !!b, this.l = new Kk(null, this.D))
    }
    Ek.prototype.toString = function() {
        var a = [],
            b = this.u;
        b && a.push(Lk(b, Mk, !0), ":");
        var c = this.i;
        if (c || "file" == b) a.push("//"), (b = this.G) && a.push(Lk(b, Mk, !0), "@"), a.push(yd(c).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), c = this.C, null != c && a.push(":", String(c));
        if (c = this.getPath()) this.i && "/" != c.charAt(0) && a.push("/"), a.push(Lk(c, "/" == c.charAt(0) ? nca : oca, !0));
        (c = this.l.toString()) && a.push("?", c);
        (c = this.B) && a.push("#", Lk(c, pca));
        return a.join("")
    };
    Ek.prototype.resolve = function(a) {
        var b = this.clone(),
            c = !!a.u;
        c ? Fk(b, a.u) : c = !!a.G;
        c ? b.G = a.G : c = !!a.i;
        c ? Gk(b, a.i) : c = null != a.C;
        var d = a.getPath();
        if (c) Hk(b, a.C);
        else if (c = !!a.I) {
            if ("/" != d.charAt(0))
                if (this.i && !this.I) d = "/" + d;
                else {
                    var e = b.getPath().lastIndexOf("/"); - 1 != e && (d = b.getPath().substr(0, e + 1) + d)
                } e = d;
            if (".." == e || "." == e) d = "";
            else if (-1 != e.indexOf("./") || -1 != e.indexOf("/.")) {
                d = zc(e, "/");
                e = e.split("/");
                for (var f = [], g = 0; g < e.length;) {
                    var k = e[g++];
                    "." == k ? d && g == e.length && f.push("") : ".." == k ? ((1 < f.length ||
                        1 == f.length && "" != f[0]) && f.pop(), d && g == e.length && f.push("")) : (f.push(k), d = !0)
                }
                d = f.join("/")
            } else d = e
        }
        c ? b.I = d : c = "" !== a.l.toString();
        c ? Ik(b, a.l.clone()) : c = !!a.B;
        c && (b.B = a.B);
        return b
    };
    Ek.prototype.clone = function() {
        return new Ek(this)
    };

    function Fk(a, b, c) {
        a.u = c ? Jk(b, !0) : b;
        a.u && (a.u = a.u.replace(/:$/, ""))
    }

    function Gk(a, b, c) {
        a.i = c ? Jk(b, !0) : b
    }

    function Hk(a, b) {
        if (b) {
            b = Number(b);
            if (isNaN(b) || 0 > b) throw Error("Bad port number " + b);
            a.C = b
        } else a.C = null
    }
    Ek.prototype.getPath = function() {
        return this.I
    };

    function Ik(a, b, c) {
        b instanceof Kk ? (a.l = b, qca(a.l, a.D)) : (c || (b = Lk(b, rca)), a.l = new Kk(b, a.D))
    }

    function Jk(a, b) {
        return a ? b ? decodeURI(a.replace(/%25/g, "%2525")) : decodeURIComponent(a) : ""
    }

    function Lk(a, b, c) {
        return "string" === typeof a ? (a = encodeURI(a).replace(b, sca), c && (a = a.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), a) : null
    }

    function sca(a) {
        a = a.charCodeAt(0);
        return "%" + (a >> 4 & 15).toString(16) + (a & 15).toString(16)
    }
    var Mk = /[#\/\?@]/g,
        oca = /[#\?:]/g,
        nca = /[#\?]/g,
        rca = /[#\?@]/g,
        pca = /#/g;

    function Kk(a, b) {
        this.l = this.i = null;
        this.u = a || null;
        this.B = !!b
    }

    function Nk(a) {
        a.i || (a.i = new Bi, a.l = 0, a.u && Mi(a.u, function(b, c) {
            a.add(Bd(b), c)
        }))
    }
    h = Kk.prototype;
    h.add = function(a, b) {
        Nk(this);
        this.u = null;
        a = Ok(this, a);
        var c = this.i.get(a);
        c || this.i.set(a, c = []);
        c.push(b);
        this.l = this.l + 1;
        return this
    };
    h.remove = function(a) {
        Nk(this);
        a = Ok(this, a);
        return this.i.has(a) ? (this.u = null, this.l = this.l - this.i.get(a).length, this.i.remove(a)) : !1
    };
    h.clear = function() {
        this.i = this.u = null;
        this.l = 0
    };
    h.isEmpty = function() {
        Nk(this);
        return 0 == this.l
    };

    function Pk(a, b) {
        Nk(a);
        b = Ok(a, b);
        return a.i.has(b)
    }
    h.forEach = function(a, b) {
        Nk(this);
        this.i.forEach(function(c, d) {
            c.forEach(function(e) {
                a.call(b, e, d, this)
            }, this)
        }, this)
    };
    h.Pf = function() {
        Nk(this);
        for (var a = this.i.xf(), b = this.i.Pf(), c = [], d = 0; d < b.length; d++)
            for (var e = a[d], f = 0; f < e.length; f++) c.push(b[d]);
        return c
    };
    h.xf = function(a) {
        Nk(this);
        var b = [];
        if ("string" === typeof a) Pk(this, a) && (b = b.concat(this.i.get(Ok(this, a))));
        else {
            a = this.i.xf();
            for (var c = 0; c < a.length; c++) b = b.concat(a[c])
        }
        return b
    };
    h.set = function(a, b) {
        Nk(this);
        this.u = null;
        a = Ok(this, a);
        Pk(this, a) && (this.l = this.l - this.i.get(a).length);
        this.i.set(a, [b]);
        this.l = this.l + 1;
        return this
    };
    h.get = function(a, b) {
        if (!a) return b;
        a = this.xf(a);
        return 0 < a.length ? String(a[0]) : b
    };
    h.toString = function() {
        if (this.u) return this.u;
        if (!this.i) return "";
        for (var a = [], b = this.i.Pf(), c = 0; c < b.length; c++) {
            var d = b[c],
                e = yd(d);
            d = this.xf(d);
            for (var f = 0; f < d.length; f++) {
                var g = e;
                "" !== d[f] && (g += "=" + yd(d[f]));
                a.push(g)
            }
        }
        return this.u = a.join("&")
    };
    h.clone = function() {
        var a = new Kk;
        a.u = this.u;
        this.i && (a.i = this.i.clone(), a.l = this.l);
        return a
    };

    function Ok(a, b) {
        b = String(b);
        a.B && (b = b.toLowerCase());
        return b
    }

    function qca(a, b) {
        b && !a.B && (Nk(a), a.u = null, a.i.forEach(function(c, d) {
            var e = d.toLowerCase();
            d != e && (this.remove(d), this.remove(e), 0 < c.length && (this.u = null, this.i.set(Ok(this, e), Cb(c)), this.l = this.l + c.length))
        }, a));
        a.B = b
    };

    function tca(a) {
        var b = "";
        Nb(a, function(c, d) {
            b += d;
            b += ":";
            b += c;
            b += "\r\n"
        });
        return b
    };

    function Qk(a) {
        C.call(this);
        this.l = a;
        this.i = {}
    }
    Xa(Qk, C);
    var Rk = [];
    h = Qk.prototype;
    h.jd = function(a, b, c, d) {
        Array.isArray(b) || (b && (Rk[0] = b.toString()), b = Rk);
        for (var e = 0; e < b.length; e++) {
            var f = eg(a, b[e], c || this.handleEvent, d || !1, this.l || this);
            if (!f) break;
            this.i[f.key] = f
        }
        return this
    };
    h.uu = function(a, b, c, d) {
        return Sk(this, a, b, c, d)
    };

    function Sk(a, b, c, d, e, f) {
        if (Array.isArray(c))
            for (var g = 0; g < c.length; g++) Sk(a, b, c[g], d, e, f);
        else {
            b = fg(b, c, d || a.handleEvent, e, f || a.l || a);
            if (!b) return a;
            a.i[b.key] = b
        }
        return a
    }
    h.xe = function(a, b, c, d, e) {
        if (Array.isArray(b))
            for (var f = 0; f < b.length; f++) this.xe(a, b[f], c, d, e);
        else c = c || this.handleEvent, d = Oa(d) ? !!d.capture : !!d, e = e || this.l || this, c = gg(c), d = !!d, b = Xf(a) ? a.Tn(b, c, d, e) : a ? (a = ig(a)) ? a.Tn(b, c, d, e) : null : null, b && (lg(b), delete this.i[b.key])
    };

    function Tk(a) {
        Nb(a.i, function(b, c) {
            this.i.hasOwnProperty(c) && lg(b)
        }, a);
        a.i = {}
    }
    h.Da = function() {
        Qk.re.Da.call(this);
        Tk(this)
    };
    h.handleEvent = function() {
        throw Error("EventHandler.handleEvent not implemented");
    };

    function Uk() {
        this.u = !0;
        this.l = 0;
        this.i = ""
    }
    Uk.prototype.isInputValid = function() {
        return this.u
    };

    function Vk(a, b, c) {
        a.u = !1;
        throw Error("The stream is broken @" + a.l + ". Error: " + c + ". With input:\n" + b);
    };

    function Wk() {
        this.C = null;
        this.Qc = [];
        this.u = this.i = this.l = this.Oa = this.G = 0;
        this.B = null;
        this.D = 0
    }
    Wk.prototype.isInputValid = function() {
        return 3 != this.Oa
    };
    Wk.prototype.Yc = function() {
        return this.C
    };

    function Xk(a, b, c, d) {
        a.Oa = 3;
        a.C = "The stream is broken @" + a.G + "/" + c + ". Error: " + d + ". With input:\n" + b;
        throw Error(a.C);
    }
    Wk.prototype.rp = function() {
        return !0
    };
    Wk.prototype.parse = function(a) {
        function b(l) {
            l & 128 && Xk(f, g, k, "invalid tag");
            2 != (l & 7) && Xk(f, g, k, "invalid wire type");
            f.l = l >>> 3;
            1 != f.l && 2 != f.l && 15 != f.l && Xk(f, g, k, "unexpected tag");
            f.Oa = 1;
            f.i = 0;
            f.u = 0
        }

        function c(l) {
            f.u++;
            5 == f.u && l & 240 && Xk(f, g, k, "message length too long");
            f.i |= (l & 127) << 7 * (f.u - 1);
            l & 128 || (f.Oa = 2, f.D = 0, "undefined" !== typeof Uint8Array ? f.B = new Uint8Array(f.i) : f.B = Array(f.i), 0 == f.i && e())
        }

        function d(l) {
            f.B[f.D++] = l;
            f.D == f.i && e()
        }

        function e() {
            if (15 > f.l) {
                var l = {};
                l[f.l] = f.B;
                f.Qc.push(l)
            }
            f.Oa = 0
        }
        for (var f = this, g = a instanceof Array ? a : new Uint8Array(a), k = 0; k < g.length;) {
            switch (f.Oa) {
                case 3:
                    Xk(f, g, k, "stream already broken");
                    break;
                case 0:
                    b(g[k]);
                    break;
                case 1:
                    c(g[k]);
                    break;
                case 2:
                    d(g[k]);
                    break;
                default:
                    throw Error("unexpected parser state: " + f.Oa);
            }
            f.G++;
            k++
        }
        a = f.Qc;
        f.Qc = [];
        return 0 < a.length ? a : null
    };

    function Yk() {
        this.i = null;
        this.l = 0;
        this.u = new Uk;
        this.B = new Wk
    }
    Yk.prototype.isInputValid = function() {
        return null === this.i
    };
    Yk.prototype.Yc = function() {
        return this.i
    };

    function Zk(a, b, c) {
        a.i = "The stream is broken @" + a.l + ". Error: " + c + ". With input:\n" + b;
        throw Error(a.i);
    }
    Yk.prototype.rp = function() {
        return !1
    };
    Yk.prototype.parse = function(a) {
        null !== this.i && Zk(this, a, "stream already broken");
        var b = null;
        try {
            var c = this.u;
            c.u || Vk(c, a, "stream already broken");
            c.i += a;
            var d = Math.floor(c.i.length / 4);
            if (0 == d) var e = null;
            else {
                try {
                    var f = Te(c.i.substr(0, 4 * d))
                } catch (g) {
                    Vk(c, c.i, g.message)
                }
                c.l += 4 * d;
                c.i = c.i.substr(4 * d);
                e = f
            }
            b = null === e ? null : this.B.parse(e)
        } catch (g) {
            Zk(this, a, g.message)
        }
        this.l += a.length;
        return b
    };

    function $k(a) {
        return "\r" == a || "\n" == a || " " == a || "\t" == a
    };

    function al(a) {
        this.G = null;
        this.Qc = [];
        this.u = "";
        this.J = [];
        this.l = this.i = 0;
        this.C = !1;
        this.D = 0;
        this.K = /[\\"]/g;
        this.Oa = this.B = 0;
        this.I = !(!a || !a.eE)
    }
    var uca = {
        INIT: 0,
        xn: 1,
        Wr: 2,
        Il: 3,
        Um: 4,
        Tm: 5,
        STRING: 6,
        Qr: 7,
        ax: 8,
        qx: 9,
        rx: 10,
        sx: 11,
        qw: 12,
        uw: 13,
        ww: 14,
        xw: 15,
        fx: 16,
        gx: 17,
        hx: 18,
        oD: 19,
        Ur: 20
    };
    h = al.prototype;
    h.isInputValid = function() {
        return 3 != this.B
    };
    h.Yc = function() {
        return this.G
    };
    h.done = function() {
        return 2 === this.B
    };

    function bl(a, b, c) {
        a.B = 3;
        a.G = "The stream is broken @" + a.l + "/" + c + ". With input:\n" + b;
        throw Error(a.G);
    }
    h.rp = function() {
        return !1
    };
    h.parse = function(a) {
        function b() {
            for (; q < a.length;)
                if ($k(a[q])) q++, f.l++;
                else break;
            return q < m
        }

        function c() {
            for (var u;;) {
                u = a[q++];
                if (!u) break;
                f.l++;
                switch (f.Oa) {
                    case l.INIT:
                        "{" === u ? f.Oa = l.Wr : "[" === u ? f.Oa = l.Um : $k(u) || bl(f, a, q);
                        continue;
                    case l.Qr:
                    case l.Wr:
                        if ($k(u)) continue;
                        if (f.Oa === l.Qr) g.push(l.ax);
                        else if ("}" === u) {
                            e("{}");
                            f.Oa = d();
                            continue
                        } else g.push(l.Il);
                        '"' === u ? f.Oa = l.STRING : bl(f, a, q);
                        continue;
                    case l.ax:
                    case l.Il:
                        if ($k(u)) continue;
                        ":" === u ? (f.Oa === l.Il && (g.push(l.Il), f.i++), f.Oa = l.xn) : "}" === u ? (f.i--, e(), f.Oa = d()) : "," === u ? (f.Oa === l.Il && g.push(l.Il), f.Oa = l.Qr) : bl(f, a, q);
                        continue;
                    case l.Um:
                    case l.xn:
                        if ($k(u)) continue;
                        if (f.Oa === l.Um)
                            if (f.i++, f.Oa = l.xn, "]" === u) {
                                f.i--;
                                if (0 === f.i) {
                                    f.Oa = l.Tm;
                                    return
                                }
                                e("[]");
                                f.Oa = d();
                                continue
                            } else g.push(l.Tm);
                        '"' === u ? f.Oa = l.STRING : "{" === u ? f.Oa = l.Wr : "[" === u ? f.Oa = l.Um : "t" === u ? f.Oa = l.qx : "f" === u ? f.Oa = l.qw : "n" === u ? f.Oa = l.fx : "-" !== u && (-1 !== "0123456789".indexOf(u) ? f.Oa = l.Ur : bl(f, a, q));
                        continue;
                    case l.Tm:
                        if ("," === u) g.push(l.Tm), f.Oa = l.xn, 1 === f.i && (p = q);
                        else if ("]" === u) {
                            f.i--;
                            if (0 === f.i) return;
                            e();
                            f.Oa = d()
                        } else if ($k(u)) continue;
                        else bl(f, a, q);
                        continue;
                    case l.STRING:
                        var x = q;
                        a: for (;;) {
                            for (; 0 <
                                f.D;)
                                if (u = a[q++], 4 === f.D ? f.D = 0 : f.D++, !u) break a;
                            if ('"' === u && !f.C) {
                                f.Oa = d();
                                break
                            }
                            if ("\\" === u && !f.C && (f.C = !0, u = a[q++], !u)) break;
                            if (f.C)
                                if (f.C = !1, "u" === u && (f.D = 1), u = a[q++]) continue;
                                else break;
                            k.lastIndex = q;
                            u = k.exec(a);
                            if (!u) {
                                q = a.length + 1;
                                break
                            }
                            q = u.index + 1;
                            u = a[u.index];
                            if (!u) break
                        }
                        f.l += q - x;
                        continue;
                    case l.qx:
                        if (!u) continue;
                        "r" === u ? f.Oa = l.rx : bl(f, a, q);
                        continue;
                    case l.rx:
                        if (!u) continue;
                        "u" === u ? f.Oa = l.sx : bl(f, a, q);
                        continue;
                    case l.sx:
                        if (!u) continue;
                        "e" === u ? f.Oa = d() : bl(f, a, q);
                        continue;
                    case l.qw:
                        if (!u) continue;
                        "a" === u ? f.Oa = l.uw : bl(f, a, q);
                        continue;
                    case l.uw:
                        if (!u) continue;
                        "l" === u ? f.Oa = l.ww : bl(f, a, q);
                        continue;
                    case l.ww:
                        if (!u) continue;
                        "s" === u ? f.Oa = l.xw : bl(f, a, q);
                        continue;
                    case l.xw:
                        if (!u) continue;
                        "e" === u ? f.Oa = d() : bl(f, a, q);
                        continue;
                    case l.fx:
                        if (!u) continue;
                        "u" === u ? f.Oa = l.gx : bl(f, a, q);
                        continue;
                    case l.gx:
                        if (!u) continue;
                        "l" === u ? f.Oa = l.hx : bl(f, a, q);
                        continue;
                    case l.hx:
                        if (!u) continue;
                        "l" === u ? f.Oa = d() : bl(f, a, q);
                        continue;
                    case l.oD:
                        "." === u ? f.Oa = l.Ur : bl(f, a, q);
                        continue;
                    case l.Ur:
                        if (-1 !== "0123456789.eE+-".indexOf(u)) continue;
                        else q--, f.l--, f.Oa = d();
                        continue;
                    default:
                        bl(f, a, q)
                }
            }
        }

        function d() {
            var u = g.pop();
            return null != u ? u : l.xn
        }

        function e(u) {
            1 < f.i || (u || (u = -1 === p ? f.u + a.substring(n, q) : a.substring(p, q)), f.I ? f.Qc.push(u) : f.Qc.push(JSON.parse(u)), p = q)
        }
        for (var f = this, g = f.J, k = f.K, l = uca, m = a.length, n = 0, p = -1, q = 0; q < m;) switch (f.B) {
            case 3:
                return bl(f, a, q), null;
            case 2:
                return b() && bl(f, a, q), null;
            case 0:
                if (b()) {
                    var r = a[q++];
                    f.l++;
                    if ("[" === r) {
                        f.B = 1;
                        n = q;
                        f.Oa = l.Um;
                        continue
                    } else bl(f, a, q)
                }
                return null;
            case 1:
                return c(), 0 === f.i && f.Oa == l.Tm ? (f.B = 2, f.u = a.substring(q)) : f.u = -1 === p ? f.u + a.substring(n) : a.substring(p), 0 < f.Qc.length ? (r = f.Qc, f.Qc = [], r) : null
        }
        return null
    };

    function cl() {
        this.u = this.l = null;
        this.Oa = this.i = 0;
        this.Qc = [];
        this.B = !1
    }
    cl.prototype.isInputValid = function() {
        return null === this.u
    };
    cl.prototype.Yc = function() {
        return this.u
    };
    cl.prototype.rp = function() {
        return !1
    };
    cl.prototype.parse = function(a) {
        function b(l) {
            f.Oa = 6;
            f.u = "The stream is broken @" + f.i + "/" + g + ". Error: " + l + ". With input:\n";
            throw Error(f.u);
        }

        function c() {
            f.l = new al({
                qU: !0,
                eE: !0
            })
        }

        function d(l) {
            if (l)
                for (var m = 0; m < l.length; m++) {
                    var n = {};
                    n[1] = l[m];
                    f.Qc.push(n)
                }
        }

        function e(l) {
            if (l) {
                (f.B || 1 < l.length) && b("extra status: " + l);
                f.B = !0;
                var m = {};
                m[2] = l[0];
                f.Qc.push(m)
            }
        }
        for (var f = this, g = 0; g < a.length;) {
            var k;
            if (k = 2 !== f.Oa) {
                a: {
                    for (; g < a.length;) {
                        if (!$k(a[g])) {
                            k = !0;
                            break a
                        }
                        g++;
                        f.i++
                    }
                    k = !1
                }
                k = !k
            }
            if (k) return null;
            switch (f.Oa) {
                case 6:
                    b("stream already broken");
                    break;
                case 0:
                    "[" === a[g] ? (f.Oa = 1, g++, f.i++) : b("unexpected input token");
                    break;
                case 1:
                    "[" === a[g] ? (f.Oa = 2, c()) : "," === a[g] || "null," == a.substr(g, 5) ? f.Oa = 3 : "]" === a[g] ? (f.Oa = 5, g++, f.i++) : b("unexpected input token");
                    break;
                case 2:
                    k = f.l.parse(a.substring(g));
                    d(k);
                    f.l.done() ? (f.Oa = 3, k = f.l.u, f.i += a.length - g - k.length, a = k, g = 0) : (f.i +=
                        a.length - g, g = a.length);
                    break;
                case 3:
                    "," === a[g] || "null," == a.substr(g, 5) ? (f.Oa = 4, c(), f.l.parse("["), g += "," === a[g] ? 1 : 5, f.i++) : "]" === a[g] && (f.Oa = 5, g++, f.i++);
                    break;
                case 4:
                    k = f.l.parse(a.substring(g));
                    e(k);
                    f.l.done() ? (f.Oa = 5, k = f.l.u, f.i += a.length - g - k.length, a = k, g = 0) : (f.i += a.length - g, g = a.length);
                    break;
                case 5:
                    b("extra input after stream end")
            }
        }
        return 0 < f.Qc.length ? (a = f.Qc, f.Qc = [], a) : null
    };

    function vca(a) {
        var b = a.i ? a.i.getResponseHeader("Content-Type") : null;
        if (!b) return null;
        b = b.toLowerCase();
        return b.startsWith("application/json") ? b.startsWith("application/json+protobuf") ? new cl : new al : b.startsWith("application/x-protobuf") ? (a = a.i ? a.i.getResponseHeader("Content-Transfer-Encoding") : null) ? "base64" == a.toLowerCase() ? new Yk : null : new Wk : null
    };

    function dl(a) {
        this.i = a;
        this.l = null;
        this.B = this.u = 0;
        this.J = !1;
        this.C = this.G = this.D = null;
        this.I = new Qk(this);
        this.I.jd(this.i, "readystatechange", this.K)
    }

    function el(a, b) {
        a.B != b && (a.B = b, a.G && a.G())
    }

    function fl(a) {
        Tk(a.I);
        if (a.i) {
            var b = a.i;
            a.i = null;
            b.abort();
            b.dispose()
        }
    }
    dl.prototype.getStatus = function() {
        return this.B
    };
    dl.prototype.K = function(a) {
        a = a.target;
        try {
            if (a == this.i) a: {
                var b = hj(this.i),
                    c = this.i.u,
                    d = this.i.getStatus(),
                    e = jj(this.i);a = [];
                if (kj(this.i) instanceof Array) {
                    var f = kj(this.i);
                    0 < f.length && f[0] instanceof Uint8Array && (this.J = !0, a = f)
                }
                if (!(3 > b || 3 == b && !e && 0 == a.length))
                    if (d = 200 == d || 206 == d, 4 == b && (8 == c ? el(this, 7) : 7 == c ? el(this, 8) : d || el(this, 3)), this.l || (this.l = vca(this.i), null == this.l && el(this, 5)), 2 < this.B) fl(this);
                    else {
                        if (a.length > this.u) {
                            var g = a.length;
                            c = [];
                            try {
                                if (this.l.rp())
                                    for (var k = 0; k < g; k++) {
                                        var l = this.l.parse(Array.from(a[k]));
                                        l && (c = c.concat(l))
                                    } else {
                                        l = "";
                                        if (!this.D) {
                                            if ("undefined" === typeof TextDecoder) throw Error("TextDecoder is not supported by this browser.");
                                            this.D = new TextDecoder
                                        }
                                        for (k = 0; k < g; k++) l += this.D.decode(a[k], {
                                            stream: 4 == b && k == g - 1
                                        });
                                        c = this.l.parse(l)
                                    }
                                a.splice(0, g);
                                c && this.C(c)
                            } catch (n) {
                                el(this, 5);
                                fl(this);
                                break a
                            }
                        } else if (e.length > this.u) {
                            k = e.substr(this.u);
                            this.u = e.length;
                            try {
                                var m = this.l.parse(k);
                                null != m && this.C && this.C(m)
                            } catch (n) {
                                el(this, 5);
                                fl(this);
                                break a
                            }
                        }
                        4 == b ? (0 != e.length || this.J ? el(this, 2) : el(this,
                            4), fl(this)) : el(this, 1)
                    }
            }
        } catch (n) {
            el(this, 6), fl(this)
        }
    };

    function gl(a) {
        this.u = a;
        a = Sa(this.KF, this);
        this.u.C = a;
        a = Sa(this.CG, this);
        this.u.G = a;
        this.l = {};
        this.i = {}
    }
    h = gl.prototype;
    h.Qh = function(a, b) {
        var c = this.l[a];
        c || (c = [], this.l[a] = c);
        c.push(b);
        return this
    };
    h.addListener = function(a, b) {
        this.Qh(a, b);
        return this
    };
    h.removeListener = function(a, b) {
        var c = this.l[a];
        c && zb(c, b);
        (a = this.i[a]) && zb(a, b);
        return this
    };
    h.once = function(a, b) {
        var c = this.i[a];
        c || (c = [], this.i[a] = c);
        c.push(b);
        return this
    };
    h.KF = function(a) {
        var b = this.l.data;
        b && hl(a, b);
        (b = this.i.data) && hl(a, b);
        this.i.data = []
    };

    function hl(a, b) {
        for (var c = {}, d = 0; d < a.length; c = {
                zr: c.zr
            }, d++) c.zr = a[d], b.forEach(function(e) {
            return function(f) {
                try {
                    f(e.zr)
                } catch (g) {}
            }
        }(c))
    }
    h.CG = function() {
        switch (this.u.getStatus()) {
            case 1:
                il(this, "readable");
                break;
            case 5:
            case 6:
            case 4:
            case 7:
            case 3:
                il(this, "error");
                break;
            case 8:
                il(this, "close");
                break;
            case 2:
                il(this, "end")
        }
    };

    function il(a, b) {
        var c = a.l[b];
        c && c.forEach(function(d) {
            try {
                d()
            } catch (e) {}
        });
        (c = a.i[b]) && c.forEach(function(d) {
            d()
        });
        a.i[b] = []
    };

    function jl() {
        var a = {};
        a = void 0 === a ? {} : a;
        this.C = a.eV || Ja("suppressCorsPreflight", a) || !1;
        this.l = a.withCredentials || Ja("withCredentials", a) || !1;
        this.B = a.dV || [];
        this.D = a.iV || [];
        this.i = a.lV;
        this.u = a.jV || !1
    }

    function kl(a, b, c, d, e) {
        var f = b.substr(0, b.length - e.name.length);
        return ll(function(g) {
            return new jca(function(k, l) {
                var m = {},
                    n = wca(a, g, f);
                n.Qh("error", function(p) {
                    return l(p)
                });
                n.Qh("metadata", function(p) {
                    m = p
                });
                n.Qh("data", function(p) {
                    var q = m;
                    q = void 0 === q ? {} : q;
                    k(new lk(p, g.Rp(), q))
                })
            })
        }, a.D).call(a, nk(e, c, d)).then(function(g) {
            return g.hH
        })
    }
    jl.prototype.serverStreaming = function(a, b, c, d) {
        var e = this,
            f = a.substr(0, a.length - d.name.length);
        return ll(function(g) {
            var k = g.Rp(),
                l = g.getMetadata(),
                m = ml(e, !1);
            l = nl(e, l, m, f + k.getName());
            var n = ol(m, k.l, !0);
            g = k.i(g.i);
            m.send(l, "POST", g);
            return n
        }, this.B).call(this, nk(d, b, c))
    };

    function wca(a, b, c) {
        var d = b.Rp(),
            e = b.getMetadata(),
            f = ml(a, !0);
        a = nl(a, e, f, c + d.getName());
        c = ol(f, d.l, !1);
        mca(c, "base64" == e["X-Goog-Encode-Response-If-Executable"]);
        b = d.i(b.i);
        f.send(a, "POST", b);
        return c
    }

    function ml(a, b) {
        b = a.u && !b;
        return a.i || b ? new $i(new zk({
            PH: a.i,
            qH: b
        })) : new $i
    }

    function nl(a, b, c, d) {
        b["Content-Type"] = "application/json+protobuf";
        b["X-User-Agent"] = "grpc-web-javascript/0.1";
        var e = "Authorization" in b ? (e = b.Authorization) ? !!{
            SAPISIDHASH: !0,
            APISIDHASH: !0
        } [e.split(" ")[0]] : !1 : !1;
        if (e || a.l) c.J = !0;
        a.C ? (a = d, bc(b) ? d = a : (b = tca(b), "string" === typeof a ? d = Ui(a, yd("$httpHeaders"), b) : (a.l.set("$httpHeaders", b), d = a))) : Ci(c.headers, b);
        return d
    }

    function ol(a, b, c) {
        if (c)
            if (a.isActive(), ne && !(10 <= Number(Ie)) || re && !Fe("420+") || me && !re) var d = null;
            else c = new dl(a), d = new gl(c);
        return new sk({
            xhr: a,
            kF: d
        }, b)
    }

    function ll(a, b) {
        var c = a;
        b.forEach(function(d) {
            var e = c;
            c = function(f) {
                return d.i(f, e)
            }
        });
        return c
    };

    function pl() {
        this.i = new jl
    }
    pl.prototype.create = function(a, b) {
        return kl(this.i, "https://waa-pa.googleapis.com/$rpc/google.internal.waa.v1.Waa/Create", a, b || {}, fca)
    };

    function xca(a) {
        a.wr = new pl;
        a.OH = "AIzaSyBydTmf06EmN2pis9ljY6qe2XY0Rn8uK0k";
        a.nA = function() {};
        a.onError = function() {};
        return new ql(a)
    }

    function yca(a, b, c) {
        this.content = a;
        this.i = b;
        this.l = c
    }

    function rl() {
        C.apply(this, arguments);
        this.l = !1
    }
    v(rl, C);

    function sl(a, b, c) {
        rl.call(this);
        this.C = a;
        this.D = b;
        this.B = c;
        this.i = 0
    }
    v(sl, rl);
    sl.prototype.Cq = function(a) {
        this.i += 1;
        var b = new hk(this.D(a.Wx));
        a = b.l;
        b = Od(b.u);
        var c = new Bf;
        a = pf(c, 1, a);
        a = pf(a, 2, b);
        b = new Cf;
        c = Df[0];
        b.i || (b.i = {});
        var d = a ? vf(a) : a;
        b.i[3] = a;
        a = rf(b, 3, c, d);
        b = new Ve;
        c = sf(a, zf, 1);
        null != c && Ze(b, 1, c, bba);
        c = sf(a, Af, 2);
        null != c && Ze(b, 2, c, cba);
        c = sf(a, Bf, 3);
        null != c && Ze(b, 3, c, dba);
        return We(b)
    };
    sl.prototype.u = function() {
        return this.i >= this.B
    };
    sl.prototype.dispose = function() {
        this.C.dispose()
    };

    function tl(a) {
        rl.call(this);
        this.i = a
    }
    v(tl, rl);
    tl.prototype.Cq = function() {
        return this.i
    };
    tl.prototype.u = function() {
        return !1
    };

    function ql(a) {
        var b = this;
        this.C = {};
        this.B = !1;
        this.ai = a.ai;
        this.wr = a.wr;
        this.C = {
            "X-Goog-Api-Key": a.OH
        };
        this.nA = a.nA;
        this.onError = a.onError;
        this.logger = a.ZU ? new Lj : new Mj(this.ai);
        this.l = new Fh;
        this.l.jd("tick", function() {
            b.refresh()
        });
        this.u = this.i = ul(this);
        this.i.catch(function(c) {
            b.onError(c, "Failed to initialize webpo")
        })
    }

    function vl(a, b, c) {
        a.logger.rq(b);
        return new Ef(b, c)
    }

    function wl(a, b, c) {
        return B(a, function e() {
            var f = this,
                g;
            return y(e, function(k) {
                g = f;
                return k.return(Jf(function() {
                    return B(g, function m() {
                        var n, p = this;
                        return y(m, function(q) {
                            n = b();
                            p.logger.Nz(c, n);
                            return q.return(n)
                        })
                    })
                }, fba))
            })
        })
    }

    function zca(a) {
        return B(a, function c() {
            var d = this,
                e, f, g, k, l;
            return y(c, function(m) {
                switch (m.i) {
                    case 1:
                        return e = d, f = eca(new ik, d.ai), w(m, wl(d, function() {
                            return e.wr.create(f, e.C)
                        }, "c"), 2);
                    case 2:
                        g = m.l;
                        ta(m, 3);
                        k = sf(g, Pj, 1);
                        fk.i || (fk.i = new fk);
                        var n = bca(fk.i, sf(k, Nj, 1), sf(k, Oj, 2), nf(k, 3, ""));
                        return w(m, n, 5);
                    case 5:
                        return m.return(new Qj({
                            challenge: k
                        }));
                    case 3:
                        throw l = va(m), vl(d, 2, l);
                }
            })
        })
    }

    function Aca(a, b) {
        return B(a, function d() {
            var e = this,
                f, g, k, l, m;
            return y(d, function(n) {
                switch (n.i) {
                    case 1:
                        return f = e, ta(n, 2), w(n, b.snapshot({}), 4);
                    case 4:
                        g = n.l;
                        ua(n, 3);
                        break;
                    case 2:
                        throw k = va(n), vl(e, 3, k);
                    case 3:
                        return l = hca(gca(new ok, e.ai), g), w(n, wl(e, function() {
                            return B(f, function q() {
                                var r = this;
                                return y(q, function(u) {
                                    var x = u.return;
                                    var z = kl(r.wr.i, "https://waa-pa.googleapis.com/$rpc/google.internal.waa.v1.Waa/GenerateIT", l, r.C || {}, ica);
                                    return x.call(u, z)
                                })
                            })
                        }, "g"), 5);
                    case 5:
                        return m = n.l, n.return(new yca(ef(nf(m, 1, "")), of (m, 3), of (m, 2)))
                }
            })
        })
    }

    function Bca(a, b) {
        return B(a, function d() {
            var e, f = this,
                g, k;
            return y(d, function(l) {
                if (1 == l.i) return e = Date.now(), f.l.stop(), w(l, Aca(f, b), 2);
                g = l.l;
                if (g.i) {
                    var m = window.webpocb;
                    if (void 0 === m) throw vl(f, 4, Error(""));
                    m = m(g.content);
                    m = new sl(b, m, g.i)
                } else m = new tl(g.content);
                k = m;
                f.l.setInterval(1E3 * g.l);
                f.l.start();
                f.logger.zo("g", Date.now() - e);
                return l.return(k)
            })
        })
    }

    function ul(a) {
        return B(a, function c() {
            var d = this,
                e;
            return y(c, function(f) {
                e = d;
                return f.return(Jf(function() {
                    return B(e, function k() {
                        var l, m, n = this,
                            p, q;
                        return y(k, function(r) {
                            switch (r.i) {
                                case 1:
                                    return l = Date.now(), w(r, zca(n), 2);
                                case 2:
                                    return p = r.l, n.logger.zo("c", Date.now() - l), ta(r, 3), w(r, Bca(n, p), 5);
                                case 5:
                                    m = r.l;
                                    ua(r, 4);
                                    break;
                                case 3:
                                    throw q = va(r), p.dispose(), q;
                                case 4:
                                    return r.return(m)
                            }
                        })
                    })
                }, eba))
            })
        })
    }
    ql.prototype.refresh = function() {
        return B(this, function b() {
            var c = this,
                d, e, f;
            return y(b, function(g) {
                switch (g.i) {
                    case 1:
                        if (c.B) return g.return();
                        c.B = !0;
                        g.D = 0;
                        g.B = 2;
                        return w(g, c.u, 4);
                    case 4:
                        return d = g.l, d.l = !0, c.i = ul(c), e = Promise, f = e.resolve, w(g, c.i, 5);
                    case 5:
                        c.u = f.call(e, g.l), d.dispose();
                    case 2:
                        wa(g), c.B = !1, xa(g, 0)
                }
            })
        })
    };

    function Cca(a, b) {
        return B(a, function d() {
            var e = this,
                f, g, k, l, m;
            return y(d, function(n) {
                if (1 == n.i) return f = e, g = new Promise(function(p) {
                    setTimeout(function() {
                        p(f.u)
                    }, 500)
                }), w(n, Promise.race([e.i,
                    g
                ]), 2);
                k = n.l;
                k.l && e.logger.rq(6);
                try {
                    m = Date.now(), l = k.Cq(b), e.logger.zo("i", Date.now() - m)
                } catch (p) {
                    throw vl(e, 5, p);
                }
                k.u() && e.refresh();
                return n.return(l)
            })
        })
    }
    ql.prototype.Cq = function(a) {
        return B(this, function c() {
            var d, e = this,
                f, g;
            return y(c, function(k) {
                if (1 == k.i) return ta(k, 2), d = Date.now(), w(k, Cca(e, a), 4);
                if (2 != k.i) return f = k.l, e.logger.zo("e", Date.now() - d), k.return(f);
                g = va(k);
                e.onError(g instanceof Error ? g : Error(String(g)), "Could not mint");
                var l = k.return;
                var m = "WE:";
                m = g instanceof Ef ? m + (g.code + ":" + g.message + ":" + g.stack) : g instanceof Error ? m + (g.message + ":" + g.stack) : m + ("" + g);
                m = new Uint8Array(cb(m.substring(0, 2048)));
                return l.call(k, m)
            })
        })
    };

    function Dca(a) {
        a = a.url;
        var b = /[?&]dsh=1(&|$)/.test(a);
        this.u = !b && /[?&]ae=1(&|$)/.test(a);
        this.B = !b && /[?&]ae=2(&|$)/.test(a);
        if ((this.i = /[?&]adurl=([^&]*)/.exec(a)) && this.i[1]) {
            try {
                var c = decodeURIComponent(this.i[1])
            } catch (d) {
                c = null
            }
            this.l = c
        }
    };

    function xl(a, b, c, d) {
        var e = window,
            f = "//pagead2.googlesyndication.com/bg/" + Cd(c) + ".js";
        c = e.document;
        var g = {};
        b && (g._scs_ = b);
        g._bgu_ = f;
        g._bgp_ = d;
        g._li_ = "v_h.3.0.0.0";
        (b = e.GoogleTyFxhY) && "function" == typeof b.push || (b = e.GoogleTyFxhY = []);
        b.push(g);
        e = Bg(c).createElement("SCRIPT");
        e.type = "text/javascript";
        e.async = !0;
        a = vaa(sc("//tpc.googlesyndication.com/sodar/%{path}"), {
            path: Cd(a) + ".js"
        });
        ek(e, a);
        c.getElementsByTagName("head")[0].appendChild(e)
    };
    var yl;
    yl = ["av.key", "js", "unreleased"].slice(-1)[0];
    var zl = document,
        F = window;

    function Al(a, b, c) {
        c = void 0 === c ? {} : c;
        this.error = a;
        this.context = b.context;
        this.msg = b.message || "";
        this.id = b.id || "jserror";
        this.meta = c
    };
    var Eca = ib(function() {
        var a = !1;
        try {
            var b = Object.defineProperty({}, "passive", {
                get: function() {
                    a = !0
                }
            });
            A.addEventListener("test", null, b)
        } catch (c) {}
        return a
    });

    function Bl(a) {
        return a ? a.passive && Eca() ? a : a.capture || !1 : !1
    }

    function Cl(a, b, c, d) {
        return a.addEventListener ? (a.addEventListener(b, c, Bl(d)), !0) : !1
    }

    function Dl(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, Bl(void 0))
    };

    function El() {
        return !Fl() && (id("iPod") || id("iPhone") || id("Android") || id("IEMobile"))
    }

    function Fl() {
        return id("iPad") || id("Android") && !id("Mobile") || id("Silk")
    };

    function Gl(a) {
        try {
            return !!a && null != a.location.href && ke(a, "foo")
        } catch (b) {
            return !1
        }
    }

    function Hl(a, b) {
        if (a)
            for (var c in a) Object.prototype.hasOwnProperty.call(a, c) && b.call(void 0, a[c], c, a)
    }

    function Fca() {
        var a = [];
        Hl(Gca, function(b) {
            a.push(b)
        });
        return a
    }
    var Hca = /https?:\/\/[^\/]+/;

    function Ica(a) {
        return (a = Hca.exec(a)) && a[0] || ""
    }

    function Jca() {
        var a = Il;
        if (!a) return "";
        var b = /.*[&#?]google_debug(=[^&]*)?(&.*)?$/;
        try {
            var c = b.exec(decodeURIComponent(a));
            if (c) return c[1] && 1 < c[1].length ? c[1].substring(1) : "true"
        } catch (d) {}
        return ""
    }
    var Gca = {
            kI: "allow-forms",
            lI: "allow-modals",
            mI: "allow-orientation-lock",
            nI: "allow-pointer-lock",
            oI: "allow-popups",
            pI: "allow-popups-to-escape-sandbox",
            qI: "allow-presentation",
            sI: "allow-same-origin",
            tI: "allow-scripts",
            uI: "allow-top-navigation",
            vI: "allow-top-navigation-by-user-activation"
        },
        Kca = ib(function() {
            return Fca()
        });

    function Lca() {
        var a = Og("IFRAME"),
            b = {};
        nb(Kca(), function(c) {
            a.sandbox && a.sandbox.supports && a.sandbox.supports(c) && (b[c] = !0)
        });
        return b
    };

    function Jl(a, b, c, d) {
        this.top = a;
        this.right = b;
        this.bottom = c;
        this.left = d
    }

    function Kl(a) {
        return a.right - a.left
    }
    h = Jl.prototype;
    h.getHeight = function() {
        return this.bottom - this.top
    };
    h.clone = function() {
        return new Jl(this.top, this.right, this.bottom, this.left)
    };
    h.contains = function(a) {
        return this && a ? a instanceof Jl ? a.left >= this.left && a.right <= this.right && a.top >= this.top && a.bottom <= this.bottom : a.x >= this.left && a.x <= this.right && a.y >= this.top && a.y <= this.bottom : !1
    };
    h.ceil = function() {
        this.top = Math.ceil(this.top);
        this.right = Math.ceil(this.right);
        this.bottom = Math.ceil(this.bottom);
        this.left = Math.ceil(this.left);
        return this
    };
    h.floor = function() {
        this.top = Math.floor(this.top);
        this.right = Math.floor(this.right);
        this.bottom = Math.floor(this.bottom);
        this.left = Math.floor(this.left);
        return this
    };
    h.round = function() {
        this.top = Math.round(this.top);
        this.right = Math.round(this.right);
        this.bottom = Math.round(this.bottom);
        this.left = Math.round(this.left);
        return this
    };

    function Ll(a, b, c) {
        b instanceof ug ? (a.left += b.x, a.right += b.x, a.top += b.y, a.bottom += b.y) : (a.left += b, a.right += b, "number" === typeof c && (a.top += c, a.bottom += c));
        return a
    }
    h.scale = function(a, b) {
        b = "number" === typeof b ? b : a;
        this.left *= a;
        this.right *= a;
        this.top *= b;
        this.bottom *= b;
        return this
    };

    function Ml(a, b, c, d) {
        this.left = a;
        this.top = b;
        this.width = c;
        this.height = d
    }
    h = Ml.prototype;
    h.clone = function() {
        return new Ml(this.left, this.top, this.width, this.height)
    };

    function Nl(a, b) {
        return a == b ? !0 : a && b ? a.left == b.left && a.width == b.width && a.top == b.top && a.height == b.height : !1
    }
    h.contains = function(a) {
        return a instanceof ug ? a.x >= this.left && a.x <= this.left + this.width && a.y >= this.top && a.y <= this.top + this.height : this.left <= a.left && this.left + this.width >= a.left + a.width && this.top <= a.top && this.top + this.height >= a.top + a.height
    };
    h.distance = function(a) {
        var b = a.x < this.left ? this.left - a.x : Math.max(a.x - (this.left + this.width), 0);
        a = a.y < this.top ? this.top - a.y : Math.max(a.y - (this.top + this.height), 0);
        return Math.sqrt(b * b + a * a)
    };
    h.ceil = function() {
        this.left = Math.ceil(this.left);
        this.top = Math.ceil(this.top);
        this.width = Math.ceil(this.width);
        this.height = Math.ceil(this.height);
        return this
    };
    h.floor = function() {
        this.left = Math.floor(this.left);
        this.top = Math.floor(this.top);
        this.width = Math.floor(this.width);
        this.height = Math.floor(this.height);
        return this
    };
    h.round = function() {
        this.left = Math.round(this.left);
        this.top = Math.round(this.top);
        this.width = Math.round(this.width);
        this.height = Math.round(this.height);
        return this
    };
    h.scale = function(a, b) {
        b = "number" === typeof b ? b : a;
        this.left *= a;
        this.width *= a;
        this.top *= b;
        this.height *= b;
        return this
    };

    function Ol(a) {
        this.isValid = a
    }

    function Vl(a) {
        return new Ol(function(b) {
            return b.substr(0, a.length + 1).toLowerCase() === a + ":"
        })
    }
    var Wl = [Vl("data"), Vl("http"), Vl("https"), Vl("mailto"), Vl("ftp"), new Ol(function(a) {
        return /^[^:]*([/?#]|$)/.test(a)
    })];

    function Xl(a) {
        Yl();
        return rd(a, null)
    }

    function Zl(a) {
        Yl();
        return yc(a)
    }
    var Yl = Ka;

    function $l(a, b, c) {
        if ("string" === typeof b)(b = am(a, b)) && (a.style[b] = c);
        else
            for (var d in b) {
                c = a;
                var e = b[d],
                    f = am(c, d);
                f && (c.style[f] = e)
            }
    }
    var bm = {};

    function am(a, b) {
        var c = bm[b];
        if (!c) {
            var d = Hd(b);
            c = d;
            void 0 === a.style[d] && (d = (re ? "Webkit" : qe ? "Moz" : ne ? "ms" : me ? "O" : null) + Raa(d), void 0 !== a.style[d] && (c = d));
            bm[b] = c
        }
        return c
    }

    function cm(a, b) {
        var c = a.style[Hd(b)];
        return "undefined" !== typeof c ? c : a.style[am(a, b)] || ""
    }

    function dm(a, b) {
        var c = Dg(a);
        return c.defaultView && c.defaultView.getComputedStyle && (a = c.defaultView.getComputedStyle(a, null)) ? a[b] || a.getPropertyValue(b) || "" : ""
    }

    function em(a) {
        try {
            return a.getBoundingClientRect()
        } catch (b) {
            return {
                left: 0,
                top: 0,
                right: 0,
                bottom: 0
            }
        }
    }

    function fm(a, b) {
        var c = new ug(0, 0),
            d = Kg(Dg(a));
        if (!ke(d, "parent")) return c;
        do {
            if (d == b) {
                var e = a,
                    f = Dg(e);
                var g = new ug(0, 0);
                var k = f ? Dg(f) : document;
                k = !ne || 9 <= Number(Ie) || "CSS1Compat" == Bg(k).i.compatMode ? k.documentElement : k.body;
                e != k && (e = em(e), f = Jg(Bg(f).i), g.x = e.left + f.x, g.y = e.top + f.y)
            } else g = gm(a);
            c.x += g.x;
            c.y += g.y
        } while (d && d != b && d != d.parent && (a = d.frameElement) && (d = d.parent));
        return c
    }

    function Mca(a, b) {
        a = hm(a);
        b = hm(b);
        return new ug(a.x - b.x, a.y - b.y)
    }

    function gm(a) {
        a = em(a);
        return new ug(a.left, a.top)
    }

    function hm(a) {
        if (1 == a.nodeType) return gm(a);
        a = a.changedTouches ? a.changedTouches[0] : a;
        return new ug(a.clientX, a.clientY)
    }

    function im(a, b, c) {
        if (b instanceof zg) c = b.height, b = b.width;
        else if (void 0 == c) throw Error("missing height argument");
        a.style.width = jm(b, !0);
        a.style.height = jm(c, !0)
    }

    function jm(a, b) {
        "number" == typeof a && (a = (b ? Math.round(a) : a) + "px");
        return a
    }

    function km(a) {
        var b = Nca,
            c;
        (c = dm(a, "display")) || (c = a.currentStyle ? a.currentStyle.display : null);
        if ("none" != (c || a.style && a.style.display)) return b(a);
        c = a.style;
        var d = c.display,
            e = c.visibility,
            f = c.position;
        c.visibility = "hidden";
        c.position = "absolute";
        c.display = "inline";
        a = b(a);
        c.display = d;
        c.position = f;
        c.visibility = e;
        return a
    }

    function Nca(a) {
        var b = a.offsetWidth,
            c = a.offsetHeight,
            d = re && !b && !c;
        return (void 0 === b || d) && a.getBoundingClientRect ? (a = em(a), new zg(a.right - a.left, a.bottom - a.top)) : new zg(b, c)
    }

    function lm(a, b) {
        a.style.display = b ? "" : "none"
    };
    var mm = !!window.google_async_iframe_id,
        nm = mm && window.parent || window;

    function om() {
        if (mm && !Gl(nm)) {
            var a = "." + zl.domain;
            try {
                for (; 2 < a.split(".").length && !Gl(nm);) zl.domain = a = a.substr(a.indexOf(".") + 1), nm = window.parent
            } catch (b) {}
            Gl(nm) || (nm = window)
        }
        return nm
    };

    function pm(a, b, c) {
        a && null !== b && b != b.top && (b = b.top);
        try {
            if (void 0 === c ? 0 : c) var d = (new zg(b.innerWidth, b.innerHeight)).round();
            else {
                var e = (b || window).document,
                    f = "CSS1Compat" == e.compatMode ? e.documentElement : e.body;
                d = (new zg(f.clientWidth, f.clientHeight)).round()
            }
            return d
        } catch (g) {
            return new zg(-12245933, -12245933)
        }
    }

    function qm(a, b, c) {
        try {
            a && (b = b.top);
            var d = pm(a, b, void 0 === c ? !1 : c),
                e = Jg(Bg(b.document).i);
            if (-12245933 == d.width) {
                var f = d.width;
                var g = new Jl(f, f, f, f)
            } else g = new Jl(e.y, e.x + d.width, e.y + d.height, e.x);
            return g
        } catch (k) {
            return new Jl(-12245933, -12245933, -12245933, -12245933)
        }
    };

    function Oca(a) {
        var b = {};
        nb(a, function(c) {
            var d = c.event,
                e = b[d];
            b.hasOwnProperty(d) ? null !== e && (c.i(e) || (b[d] = null)) : b[d] = c
        });
        naa(a, function(c) {
            return null === b[c.event]
        })
    };
    var Pca = {
            NONE: 0,
            uL: 1
        },
        Qca = {
            ZB: 0,
            xR: 1,
            wR: 2,
            yR: 3
        };

    function rm() {
        this.Sb = 0;
        this.i = !1;
        this.l = -1;
        this.Ek = !1;
        this.lf = 0
    }
    rm.prototype.isVisible = function() {
        return this.Ek ? .3 <= this.Sb : .5 <= this.Sb
    };
    var sm = {
            pJ: 0,
            IL: 1
        },
        Rca = {
            NONE: 0,
            BM: 1,
            eM: 2
        };

    function tm() {
        this.l = null;
        this.i = !1
    }
    tm.prototype.getValue = function() {
        return this.l
    };

    function um(a) {
        tm.call(this);
        this.u = a
    }
    v(um, tm);
    um.prototype.setValue = function(a) {
        if (null !== this.l || !Xb(this.u, a)) return !1;
        this.l = a;
        return !0
    };

    function vm() {
        tm.call(this)
    }
    v(vm, tm);
    vm.prototype.setValue = function(a) {
        if (null !== this.l || "number" !== typeof a) return !1;
        this.l = a;
        return !0
    };

    function wm() {
        tm.call(this)
    }
    v(wm, tm);
    wm.prototype.setValue = function(a) {
        if (null !== this.l || "string" !== typeof a) return !1;
        this.l = a;
        return !0
    };

    function xm() {
        this.i = {};
        this.l = !0;
        this.u = {}
    }
    xm.prototype.disable = function() {
        this.l = !1
    };
    xm.prototype.enable = function() {
        this.l = !0
    };
    xm.prototype.isEnabled = function() {
        return this.l
    };
    xm.prototype.reset = function() {
        this.i = {};
        this.l = !0;
        this.u = {}
    };

    function ym(a, b, c) {
        a.i[b] || (a.i[b] = new um(c));
        return a.i[b]
    }

    function Sca(a) {
        a.i.queryid || (a.i.queryid = new wm)
    }

    function zm(a, b, c) {
        (a = a.i[b]) && a.setValue(c)
    }

    function Am(a, b) {
        if (Wb(a.u, b)) return a.u[b];
        if (a = a.i[b]) return a.getValue()
    }

    function Bm(a) {
        var b = {},
            c = Ob(a.i, function(d) {
                return d.i
            });
        Nb(c, function(d, e) {
            d = void 0 !== a.u[e] ? String(a.u[e]) : d.i && null !== d.l ? String(d.l) : "";
            0 < d.length && (b[e] = d)
        }, a);
        return b
    }

    function Tca(a) {
        a = Bm(a);
        var b = [];
        Nb(a, function(c, d) {
            d in Object.prototype || "undefined" != typeof c && b.push([d, ":", c].join(""))
        });
        return b
    };
    var Uca = !ne && !ld();

    function Vca() {
        this.i = this.cj = null
    };

    function Cm() {}
    Cm.prototype.now = function() {
        return 0
    };
    Cm.prototype.l = function() {
        return 0
    };
    Cm.prototype.u = function() {
        return 0
    };
    Cm.prototype.i = function() {
        return 0
    };

    function Dm() {
        if (!Em()) throw Error();
    }
    v(Dm, Cm);

    function Em() {
        return !(!F || !F.performance)
    }
    Dm.prototype.now = function() {
        return Em() && F.performance.now ? F.performance.now() : Cm.prototype.now.call(this)
    };
    Dm.prototype.l = function() {
        return Em() && F.performance.memory ? F.performance.memory.totalJSHeapSize || 0 : Cm.prototype.l.call(this)
    };
    Dm.prototype.u = function() {
        return Em() && F.performance.memory ? F.performance.memory.usedJSHeapSize || 0 : Cm.prototype.u.call(this)
    };
    Dm.prototype.i = function() {
        return Em() && F.performance.memory ? F.performance.memory.jsHeapSizeLimit || 0 : Cm.prototype.i.call(this)
    };

    function Fm(a) {
        return {
            visible: 1,
            hidden: 2,
            prerender: 3,
            preview: 4,
            unloaded: 5
        } [a.visibilityState || a.webkitVisibilityState || a.mozVisibilityState || ""] || 0
    };

    function Gm() {}
    Gm.prototype.isVisible = function() {
        return 1 === Fm(zl)
    };
    var Wca = /^https?:\/\/(\w|-)+\.cdn\.ampproject\.(net|org)(\?|\/|$)/;

    function Hm(a) {
        a = a || Im();
        for (var b = new Jm(A.location.href, A, !1), c = null, d = a.length - 1, e = d; 0 <= e; --e) {
            var f = a[e];
            !c && Wca.test(f.url) && (c = f);
            if (f.url && !f.du) {
                b = f;
                break
            }
        }
        e = null;
        f = a.length && a[d].url;
        0 != b.depth && f && (e = a[d]);
        return new Xca(b, e, c)
    }

    function Im() {
        var a = A,
            b = [],
            c = null;
        do {
            var d = a;
            if (Gl(d)) {
                var e = d.location.href;
                c = d.document && d.document.referrer || null
            } else e = c, c = null;
            b.push(new Jm(e || "", d));
            try {
                a = d.parent
            } catch (f) {
                a = null
            }
        } while (a && d != a);
        d = 0;
        for (a = b.length - 1; d <= a; ++d) b[d].depth = a - d;
        d = A;
        if (d.location && d.location.ancestorOrigins && d.location.ancestorOrigins.length == b.length - 1)
            for (a = 1; a < b.length; ++a) e = b[a], e.url || (e.url = d.location.ancestorOrigins[a - 1] || "", e.du = !0);
        return b
    }

    function Xca(a, b, c) {
        this.i = a;
        this.l = b;
        this.u = c
    }

    function Jm(a, b, c) {
        this.url = a;
        this.ze = b;
        this.du = !!c;
        this.depth = null
    };

    function Km() {
        this.u = "&";
        this.l = {};
        this.B = 0;
        this.i = []
    }

    function Lm(a, b) {
        var c = {};
        c[a] = b;
        return [c]
    }

    function Mm(a, b, c, d, e) {
        var f = [];
        Hl(a, function(g, k) {
            (g = Nm(g, b, c, d, e)) && f.push(k + "=" + g)
        });
        return f.join(b)
    }

    function Nm(a, b, c, d, e) {
        if (null == a) return "";
        b = b || "&";
        c = c || ",$";
        "string" == typeof c && (c = c.split(""));
        if (a instanceof Array) {
            if (d = d || 0, d < c.length) {
                for (var f = [], g = 0; g < a.length; g++) f.push(Nm(a[g], b, c, d + 1, e));
                return f.join(c[d])
            }
        } else if ("object" == typeof a) return e = e || 0, 2 > e ? encodeURIComponent(Mm(a, b, c, d, e + 1)) : "...";
        return encodeURIComponent(String(a))
    }

    function Yca(a, b, c) {
        b = b + "//pagead2.googlesyndication.com" + c;
        var d = Zca(a) - c.length;
        if (0 > d) return "";
        a.i.sort(function(n, p) {
            return n - p
        });
        c = null;
        for (var e = "", f = 0; f < a.i.length; f++)
            for (var g = a.i[f], k = a.l[g], l = 0; l < k.length; l++) {
                if (!d) {
                    c = null == c ? g : c;
                    break
                }
                var m = Mm(k[l], a.u, ",$");
                if (m) {
                    m = e + m;
                    if (d >= m.length) {
                        d -= m.length;
                        b += m;
                        e = a.u;
                        break
                    }
                    c = null == c ? g : c
                }
            }
        a = "";
        null != c && (a = e + "trn=" + c);
        return b + a + ""
    }

    function Zca(a) {
        var b = 1,
            c;
        for (c in a.l) b = c.length > b ? c.length : b;
        return 3997 - b - a.u.length - 1
    };

    function Om(a, b) {
        this.i = a;
        this.depth = b
    }

    function $ca() {
        function a(k, l) {
            return null == k ? l : k
        }
        var b = Im(),
            c = Math.max(b.length - 1, 0),
            d = Hm(b);
        b = d.i;
        var e = d.l,
            f = d.u,
            g = [];
        f && g.push(new Om([f.url, f.du ? 2 : 0], a(f.depth, 1)));
        e && e != f && g.push(new Om([e.url, 2], 0));
        b.url && b != f && g.push(new Om([b.url, 0], a(b.depth, c)));
        d = pb(g, function(k, l) {
            return g.slice(0, g.length - l)
        });
        !b.url || (f || e) && b != f || (e = Ica(b.url)) && d.push([new Om([e, 1], a(b.depth, c))]);
        d.push([]);
        return pb(d, function(k) {
            return ada(c, k)
        })
    }

    function ada(a, b) {
        sb(b, function(e) {
            return 0 <= e.depth
        });
        var c = qb(b, function(e, f) {
                return Math.max(e, f.depth)
            }, -1),
            d = raa(c + 2);
        d[0] = a;
        nb(b, function(e) {
            return d[e.depth + 1] = e.i
        });
        return d
    }

    function bda() {
        var a = $ca();
        return pb(a, function(b) {
            return Nm(b)
        })
    };

    function Pm() {
        this.l = new Gm;
        this.i = Em() ? new Dm : new Cm
    }

    function cda() {
        Qm();
        var a = F.document;
        return !!(a && a.body && a.body.getBoundingClientRect && "function" === typeof F.setInterval && "function" === typeof F.clearInterval && "function" === typeof F.setTimeout && "function" === typeof F.clearTimeout)
    }
    Pm.prototype.setInterval = function(a, b) {
        return F.setInterval(a, b)
    };
    Pm.prototype.clearInterval = function(a) {
        F.clearInterval(a)
    };
    Pm.prototype.setTimeout = function(a, b) {
        return F.setTimeout(a, b)
    };
    Pm.prototype.clearTimeout = function(a) {
        F.clearTimeout(a)
    };

    function Rm(a) {
        Qm();
        var b = om() || F;
        b.google_image_requests || (b.google_image_requests = []);
        var c = b.document.createElement("img");
        c.src = a;
        b.google_image_requests.push(c)
    }

    function Sm() {
        Qm();
        return bda()
    }
    La(Pm);

    function Tm() {}
    Tm.prototype.getContext = function() {
        if (!this.i) {
            if (!F) throw Error("Context has not been set and window is undefined.");
            this.i = Pm.getInstance()
        }
        return this.i
    };
    La(Tm);

    function Qm() {
        return Tm.getInstance().getContext()
    };

    function Um(a) {
        hf(this, a, -1, null, null)
    }
    v(Um, ff);

    function dda(a) {
        this.u = a;
        this.i = -1;
        this.l = this.B = 0
    }

    function Vm(a, b) {
        return function(c) {
            for (var d = [], e = 0; e < arguments.length; ++e) d[e - 0] = arguments[e];
            if (-1 < a.i) return b.apply(null, ha(d));
            try {
                return a.i = a.u.i.now(), b.apply(null, ha(d))
            } finally {
                a.B += a.u.i.now() - a.i, a.i = -1, a.l += 1
            }
        }
    };

    function eda(a, b) {
        this.l = a;
        this.u = b;
        this.i = new dda(a)
    };

    function fda() {};
    var gda = {
        dR: 1,
        AD: 2,
        EP: 3
    };
    yc(rc(sc("https://pagead2.googlesyndication.com/pagead/osd.js")));

    function Wm() {
        this.u = void 0;
        this.l = this.D = 0;
        this.C = -1;
        this.featureSet = new xm;
        ym(this.featureSet, "mv", Rca).i = !0;
        ym(this.featureSet, "omid", sm);
        ym(this.featureSet, "epoh", sm).i = !0;
        ym(this.featureSet, "epph", sm).i = !0;
        ym(this.featureSet, "umt", sm).i = !0;
        ym(this.featureSet, "phel", sm).i = !0;
        ym(this.featureSet, "phell", sm).i = !0;
        ym(this.featureSet, "oseid", gda).i = !0;
        var a = this.featureSet;
        a.i.sloi || (a.i.sloi = new vm);
        a.i.sloi.i = !0;
        ym(this.featureSet, "ovms", Qca).i = !0;
        ym(this.featureSet, "xdi", sm).i = !0;
        ym(this.featureSet,
            "amp", sm).i = !0;
        ym(this.featureSet, "prf", sm).i = !0;
        ym(this.featureSet, "gtx", sm).i = !0;
        ym(this.featureSet, "mvp_lv", sm).i = !0;
        ym(this.featureSet, "ssmol", sm).i = !0;
        this.i = new eda(Qm(), this.featureSet);
        this.B = !1;
        this.flags = new fda
    }
    Wm.prototype.bv = function(a) {
        if ("string" === typeof a && 0 != a.length) {
            var b = this.featureSet;
            if (b.l) {
                a = a.split("&");
                for (var c = a.length - 1; 0 <= c; c--) {
                    var d = a[c].split("="),
                        e = d[0];
                    d = 1 < d.length ? parseInt(d[1], 10) : 1;
                    isNaN(d) || (e = b.i[e]) && e.setValue(d)
                }
            }
        }
    };
    La(Wm);

    function hda() {
        var a = "https:";
        F && F.location && "http:" === F.location.protocol && (a = "http:");
        this.l = a;
        this.i = .01;
        this.u = Math.random()
    }

    function Xm(a, b, c, d, e) {
        if ((d ? a.u : Math.random()) < (e || a.i)) try {
            if (c instanceof Km) var f = c;
            else f = new Km, Hl(c, function(k, l) {
                var m = f,
                    n = m.B++;
                k = Lm(l, k);
                m.i.push(n);
                m.l[n] = k
            });
            var g = Yca(f, a.l, "/pagead/gen_204?id=" + b + "&");
            g && Rm(g)
        } catch (k) {}
    };
    var Ym = null;

    function Zm() {
        var a = A.performance;
        return a && a.now && a.timing ? Math.floor(a.now() + a.timing.navigationStart) : Va()
    }

    function $m() {
        var a = void 0 === a ? A : a;
        return (a = a.performance) && a.now ? a.now() : null
    };

    function ida(a, b, c) {
        this.label = a;
        this.type = b;
        this.value = c;
        this.duration = 0;
        this.uniqueId = Math.random();
        this.slotId = void 0
    };
    var an = A.performance,
        jda = !!(an && an.mark && an.measure && an.clearMarks),
        bn = ib(function() {
            var a;
            if (a = jda) {
                var b;
                if (null === Ym) {
                    Ym = "";
                    try {
                        a = "";
                        try {
                            a = A.top.location.hash
                        } catch (c) {
                            a = A.location.hash
                        }
                        a && (Ym = (b = a.match(/\bdeid=([\d,]+)/)) ? b[1] : "")
                    } catch (c) {}
                }
                b = Ym;
                a = !!b.indexOf && 0 <= b.indexOf("1337")
            }
            return a
        });

    function cn() {
        var a = om();
        this.events = [];
        this.l = a || A;
        var b = null;
        a && (a.google_js_reporting_queue = a.google_js_reporting_queue || [], this.events = a.google_js_reporting_queue, b = a.google_measure_js_timing);
        this.i = bn() || (null != b ? b : 1 > Math.random())
    }
    cn.prototype.disable = function() {
        this.i = !1;
        this.events != this.l.google_js_reporting_queue && (bn() && nb(this.events, dn), this.events.length = 0)
    };

    function dn(a) {
        a && an && bn() && (an.clearMarks("goog_" + a.label + "_" + a.uniqueId + "_start"), an.clearMarks("goog_" + a.label + "_" + a.uniqueId + "_end"))
    }
    cn.prototype.start = function(a, b) {
        if (!this.i) return null;
        var c = $m() || Zm();
        a = new ida(a, b, c);
        b = "goog_" + a.label + "_" + a.uniqueId + "_start";
        an && bn() && an.mark(b);
        return a
    };
    cn.prototype.end = function(a) {
        if (this.i && "number" === typeof a.value) {
            var b = $m() || Zm();
            a.duration = b - a.value;
            b = "goog_" + a.label + "_" + a.uniqueId + "_end";
            an && bn() && an.mark(b);
            !this.i || 2048 < this.events.length || this.events.push(a)
        }
    };

    function en() {
        var a = fn;
        this.i = gn;
        this.sy = "jserror";
        this.Kv = !0;
        this.zs = null;
        this.l = this.wu;
        this.wc = void 0 === a ? null : a
    }

    function hn(a, b, c, d) {
        return Vm(Wm.getInstance().i.i, function() {
            try {
                if (a.wc && a.wc.i) {
                    var e = a.wc.start(b.toString(), 3);
                    var f = c();
                    a.wc.end(e)
                } else f = c()
            } catch (l) {
                var g = a.Kv;
                try {
                    dn(e);
                    var k = new jn(kn(l));
                    g = a.l(b, k, void 0, d)
                } catch (m) {
                    a.wu(217, m)
                }
                if (!g) throw l;
            }
            return f
        })()
    }

    function ln(a, b, c) {
        var d = mn;
        return Vm(Wm.getInstance().i.i, function(e) {
            for (var f = [], g = 0; g < arguments.length; ++g) f[g - 0] = arguments[g];
            return hn(d, a, function() {
                return b.apply(void 0, f)
            }, c)
        })
    }
    en.prototype.wu = function(a, b, c, d, e) {
        e = e || this.sy;
        try {
            var f = new Km;
            f.i.push(1);
            f.l[1] = Lm("context", a);
            b.error && b.meta && b.id || (b = new jn(kn(b)));
            if (b.msg) {
                var g = b.msg.substring(0, 512);
                f.i.push(2);
                f.l[2] = Lm("msg", g)
            }
            var k = b.meta || {};
            if (this.zs) try {
                this.zs(k)
            } catch (p) {}
            if (d) try {
                d(k)
            } catch (p) {}
            b = [k];
            f.i.push(3);
            f.l[3] = b;
            var l = Hm();
            if (l.l) {
                var m = l.l.url || "";
                f.i.push(4);
                f.l[4] = Lm("top", m)
            }
            var n = [{
                url: l.i.url || ""
            }, {
                url: l.i.url ? Ki(l.i.url) : ""
            }];
            f.i.push(5);
            f.l[5] = n;
            Xm(this.i, e, f, !1, c)
        } catch (p) {
            try {
                Xm(this.i,
                    e, {
                        context: "ecmserr",
                        rctx: a,
                        msg: kn(p),
                        url: l && l.i.url
                    }, !1, c)
            } catch (q) {}
        }
        return this.Kv
    };

    function kn(a) {
        var b = a.toString();
        a.name && -1 == b.indexOf(a.name) && (b += ": " + a.name);
        a.message && -1 == b.indexOf(a.message) && (b += ": " + a.message);
        if (a.stack) {
            a = a.stack;
            var c = b;
            try {
                -1 == a.indexOf(c) && (a = c + "\n" + a);
                for (var d; a != d;) d = a, a = a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/, "$1");
                b = a.replace(/\n */g, "\n")
            } catch (e) {
                b = c
            }
        }
        return b
    }

    function jn(a) {
        Al.call(this, Error(a), {
            message: a
        })
    }
    v(jn, Al);
    var gn, mn, fn = new cn;

    function nn() {
        var a = om();
        a && "undefined" != typeof a.google_measure_js_timing && (a.google_measure_js_timing || fn.disable())
    }
    (function() {
        gn = new hda;
        mn = new en;
        var a = om();
        a && a.document && ("complete" == a.document.readyState ? nn() : fn.i && Cl(a, "load", function() {
            nn()
        }))
    })();

    function kda(a) {
        mn.zs = function(b) {
            nb(a, function(c) {
                c(b)
            })
        }
    }

    function on(a, b) {
        return hn(mn, a, b, void 0)
    }

    function pn(a, b) {
        return ln(a, b, void 0)
    }

    function qn(a, b, c, d) {
        mn.wu(a, b, c, d)
    };
    var lda = Date.now(),
        rn = -1,
        sn = -1,
        tn, un = -1,
        vn = !1;

    function wn() {
        return Date.now() - lda
    }

    function mda() {
        var a = Wm.getInstance().u,
            b = 0 <= sn ? wn() - sn : -1,
            c = vn ? wn() - rn : -1,
            d = 0 <= un ? wn() - un : -1;
        if (947190542 == a) return 100;
        if (79463069 == a) return 200;
        a = [2E3, 4E3];
        var e = [250, 500, 1E3];
        qn(637, Error(), .001);
        var f = b; - 1 != c && c < b && (f = c);
        for (b = 0; b < a.length; ++b)
            if (f < a[b]) {
                var g = e[b];
                break
            } void 0 === g && (g = e[a.length]);
        return -1 != d && 1500 < d && 4E3 > d ? 500 : g
    };

    function xn(a, b, c) {
        var d = new Jl(0, 0, 0, 0);
        this.time = a;
        this.volume = null;
        this.u = b;
        this.i = d;
        this.l = c
    };

    function yn(a, b, c, d, e, f, g) {
        this.B = a;
        this.u = b;
        this.D = c;
        this.i = d;
        this.C = e;
        this.l = f;
        this.G = g
    };
    var zn = {
            currentTime: 1,
            duration: 2,
            isVpaid: 4,
            volume: 8,
            isYouTube: 16,
            isPlaying: 32
        },
        An = {
            wD: "start",
            eC: "firstquartile",
            lD: "midpoint",
            xD: "thirdquartile",
            VB: "complete",
            kD: "metric",
            PAUSE: "pause",
            tD: "resume",
            vD: "skip",
            zD: "viewable_impression",
            mD: "mute",
            yD: "unmute",
            fC: "fullscreen",
            cC: "exitfullscreen",
            TB: "bufferstart",
            SB: "bufferfinish",
            gC: "fully_viewable_audible_half_duration_impression",
            jD: "measurable_impression",
            QB: "abandon",
            bC: "engagedview",
            kC: "impression",
            WB: "creativeview",
            hD: "loaded",
            jR: "progress",
            CLOSE: "close",
            gJ: "collapse",
            AQ: "overlay_resize",
            BQ: "overlay_unmeasurable_impression",
            CQ: "overlay_unviewable_impression",
            EQ: "overlay_viewable_immediate_impression",
            DQ: "overlay_viewable_end_of_session_impression",
            XB: "custom_metric_viewable",
            wQ: "verification_debug"
        },
        nda = "start firstquartile midpoint thirdquartile resume loaded".split(" "),
        oda = ["start", "firstquartile", "midpoint", "thirdquartile"],
        pda = ["abandon"],
        Bn = {
            UNKNOWN: -1,
            wD: 0,
            eC: 1,
            lD: 2,
            xD: 3,
            VB: 4,
            kD: 5,
            PAUSE: 6,
            tD: 7,
            vD: 8,
            zD: 9,
            mD: 10,
            yD: 11,
            fC: 12,
            cC: 13,
            gC: 14,
            jD: 15,
            QB: 16,
            bC: 17,
            kC: 18,
            WB: 19,
            hD: 20,
            XB: 21,
            TB: 22,
            SB: 23
        };

    function Cn(a) {
        for (var b = 0, c = a, d = 0; a && a != a.parent;) a = a.parent, d++, Gl(a) && (c = a, b = d);
        return {
            ze: c,
            level: b
        }
    };
    var qda = {
        YH: "addEventListener",
        gM: "getMaxSize",
        hM: "getScreenSize",
        iM: "getState",
        jM: "getVersion",
        sR: "removeEventListener",
        IM: "isViewable"
    };

    function Dn(a) {
        var b = a !== a.top,
            c = a.top === Cn(a).ze,
            d = -1,
            e = 0;
        if (b && c && a.top.mraid) {
            d = 3;
            var f = a.top.mraid
        } else d = (f = a.mraid) ? b ? c ? 2 : 1 : 0 : -1;
        f && (f.IS_GMA_SDK || (e = 2), Rb(qda, function(g) {
            return "function" === typeof f[g]
        }) || (e = 1));
        return {
            jg: f,
            compatibility: e,
            oH: d
        }
    };

    function rda(a) {
        return (a = a.document) && "function" === typeof a.elementFromPoint
    };
    if (zl && zl.URL) {
        var En, Il = zl.URL;
        En = !!Il && 0 < Jca().length;
        mn.Kv = !En
    }

    function Fn(a, b, c, d) {
        var e = void 0 === e ? !1 : e;
        c = ln(d, c, void 0);
        Cl(a, b, c, {
            capture: e
        })
    };

    function Gn(a, b) {
        b = Math.pow(10, b);
        return Math.floor(a * b) / b
    }

    function Hn(a) {
        return new Jl(a.top, a.right, a.bottom, a.left)
    }

    function In(a) {
        var b = a.top || 0,
            c = a.left || 0;
        return new Jl(b, c + (a.width || 0), b + (a.height || 0), c)
    }

    function Jn(a) {
        return null != a && 0 <= a && 1 >= a
    };

    function sda() {
        var a = fd;
        return a ? rb("Android TV;AppleTV;Apple TV;GoogleTV;HbbTV;NetCast.TV;Opera TV;POV_TV;SMART-TV;SmartTV;TV Store;AmazonWebAppPlatform;MiBOX".split(";"), function(b) {
            return Nc(a, b)
        }) || Nc(a, "OMI/") && !Nc(a, "XiaoMi/") ? !0 : Nc(a, "Presto") && Nc(a, "Linux") && !Nc(a, "X11") && !Nc(a, "Android") && !Nc(a, "Mobi") : !1
    };

    function Kn() {
        this.u = !Gl(F.top);
        this.isMobileDevice = Fl() || El();
        var a = Im();
        this.domain = 0 < a.length && null != a[a.length - 1] && null != a[a.length - 1].url ? Ji(a[a.length - 1].url) || "" : "";
        this.i = new Jl(0, 0, 0, 0);
        this.B = new zg(0, 0);
        this.C = new zg(0, 0);
        this.G = new Jl(0, 0, 0, 0);
        this.D = 0;
        this.I = !1;
        this.l = !(!F || !Dn(F).jg);
        this.update(F)
    }

    function Ln(a, b) {
        b && b.screen && (a.B = new zg(b.screen.width, b.screen.height))
    }

    function Mn(a, b) {
        var c = a.i ? new zg(Kl(a.i), a.i.getHeight()) : new zg(0, 0);
        b = void 0 === b ? F : b;
        null !== b && b != b.top && (b = b.top);
        var d = 0,
            e = 0;
        try {
            var f = b.document,
                g = f.body,
                k = f.documentElement;
            if ("CSS1Compat" == f.compatMode && k.scrollHeight) d = k.scrollHeight != c.height ? k.scrollHeight : k.offsetHeight, e = k.scrollWidth != c.width ? k.scrollWidth : k.offsetWidth;
            else {
                var l = k.scrollHeight,
                    m = k.scrollWidth,
                    n = k.offsetHeight,
                    p = k.offsetWidth;
                k.clientHeight != n && (l = g.scrollHeight, m = g.scrollWidth, n = g.offsetHeight, p = g.offsetWidth);
                l > c.height ?
                    l > n ? (d = l, e = m) : (d = n, e = p) : l < n ? (d = l, e = m) : (d = n, e = p)
            }
            var q = new zg(e, d)
        } catch (r) {
            q = new zg(-12245933, -12245933)
        }
        a.C = q
    }
    Kn.prototype.update = function(a) {
        a && a.document && (this.G = qm(!1, a, this.isMobileDevice), this.i = qm(!0, a, this.isMobileDevice), Mn(this, a), Ln(this, a))
    };

    function Nn() {
        var a = Kn.getInstance();
        if (0 < a.D || a.I) return !0;
        a = Qm().l.isVisible();
        var b = 0 === Fm(zl);
        return a || b
    }
    La(Kn);

    function On(a) {
        this.u = a;
        this.l = 0;
        this.i = null
    }
    On.prototype.cancel = function() {
        Qm().clearTimeout(this.i);
        this.i = null
    };
    On.prototype.schedule = function() {
        var a = this;
        this.i = Qm().setTimeout(Vm(Wm.getInstance().i.i, pn(143, function() {
            a.l++;
            a.u.Gw()
        })), mda())
    };

    function Pn(a, b, c) {
        this.ze = a;
        this.ra = void 0 === c ? "na" : c;
        this.B = [];
        this.J = !1;
        this.u = new xn(-1, !0, this);
        this.i = this;
        this.G = b;
        this.K = this.I = !1;
        this.ea = "uk";
        this.X = !1;
        this.C = !0
    }
    h = Pn.prototype;
    h.Vm = function() {
        return !1
    };
    h.initialize = function() {
        return this.J = !0
    };
    h.Xl = function() {
        return this.i.ea
    };
    h.Wn = function() {
        return this.i.K
    };

    function Qn(a, b, c) {
        if (!a.K || (void 0 === c ? 0 : c)) a.K = !0, a.ea = b, a.G = 0, a.i != a || Rn(a)
    }
    h.getName = function() {
        return this.i.ra
    };
    h.Ni = function() {
        return this.i.Ty()
    };
    h.Ty = function() {
        return {}
    };
    h.Mh = function() {
        return this.i.G
    };

    function Sn(a, b) {
        xb(a.B, b) || (a.B.push(b), b.dm(a.i), b.Wi(a.u), b.gh() && (a.I = !0))
    }
    h.Dw = function() {
        var a = Kn.getInstance();
        a.i = qm(!0, this.ze, a.isMobileDevice)
    };
    h.Ew = function() {
        Ln(Kn.getInstance(), this.ze)
    };
    h.Zy = function() {
        return this.u.i
    };

    function Tn(a) {
        a = a.i;
        a.Ew();
        a.Dw();
        var b = Kn.getInstance();
        b.G = qm(!1, a.ze, b.isMobileDevice);
        Mn(Kn.getInstance(), a.ze);
        a.u.i = a.Zy()
    }
    h.Gw = function() {};
    h.isActive = function() {
        return this.i.C
    };

    function Un(a) {
        a.I = a.B.length ? rb(a.B, function(b) {
            return b.gh()
        }) : !1
    }

    function Vn(a) {
        var b = Cb(a.B);
        nb(b, function(c) {
            c.Wi(a.u)
        })
    }

    function Rn(a) {
        var b = Cb(a.B);
        nb(b, function(c) {
            c.dm(a.i)
        });
        a.i != a || Vn(a)
    }
    h.dm = function(a) {
        var b = this.i;
        this.i = a.Mh() >= this.G ? a : this;
        b !== this.i ? (this.C = this.i.C, Rn(this)) : this.C !== this.i.C && (this.C = this.i.C, Rn(this))
    };
    h.Wi = function(a) {
        if (a.l === this.i) {
            var b = this.u,
                c = this.I;
            if (c = a && (void 0 === c || !c || b.volume == a.volume) && b.u == a.u) b = b.i, c = a.i, c = b == c ? !0 : b && c ? b.top == c.top && b.right == c.right && b.bottom == c.bottom && b.left == c.left : !1;
            this.u = a;
            !c && Vn(this)
        }
    };
    h.gh = function() {
        return this.I
    };
    h.dispose = function() {
        this.X = !0
    };
    h.Ea = function() {
        return this.X
    };

    function Wn(a, b, c, d) {
        this.element = a;
        this.i = new Jl(0, 0, 0, 0);
        this.B = new Jl(0, 0, 0, 0);
        this.l = b;
        this.featureSet = c;
        this.U = d;
        this.K = !1;
        this.timestamp = -1;
        this.G = new yn(b.u, this.i, new Jl(0, 0, 0, 0), 0, 0, wn(), 0)
    }
    h = Wn.prototype;
    h.Er = function() {
        return !0
    };
    h.Wm = function() {};
    h.dispose = function() {
        if (!this.Ea()) {
            var a = this.l;
            zb(a.B, this);
            a.I && this.gh() && Un(a);
            this.Wm();
            this.K = !0
        }
    };
    h.Ea = function() {
        return this.K
    };
    h.Ni = function() {
        return this.l.Ni()
    };
    h.Mh = function() {
        return this.l.Mh()
    };
    h.Xl = function() {
        return this.l.Xl()
    };
    h.Wn = function() {
        return this.l.Wn()
    };
    h.dm = function() {};
    h.Wi = function() {
        this.Di()
    };
    h.gh = function() {
        return this.U
    };

    function Xn(a) {
        this.C = !1;
        this.i = a;
        this.B = Ka
    }
    h = Xn.prototype;
    h.Mh = function() {
        return this.i.Mh()
    };
    h.Xl = function() {
        return this.i.Xl()
    };
    h.Wn = function() {
        return this.i.Wn()
    };
    h.create = function(a, b, c) {
        var d = null;
        this.i && (d = this.hp(a, b, c), Sn(this.i, d));
        return d
    };
    h.Fw = function() {
        return this.Xm()
    };
    h.Xm = function() {
        return !1
    };
    h.init = function(a) {
        return this.i.initialize() ? (Sn(this.i, this), this.B = a, !0) : !1
    };
    h.dm = function(a) {
        0 == a.Mh() && this.B(a.Xl(), this)
    };
    h.Wi = function() {};
    h.gh = function() {
        return !1
    };
    h.dispose = function() {
        this.C = !0
    };
    h.Ea = function() {
        return this.C
    };
    h.Ni = function() {
        return {}
    };

    function Yn(a, b, c) {
        this.u = void 0 === c ? 0 : c;
        this.l = a;
        this.i = null == b ? "" : b
    }

    function tda(a) {
        switch (Math.trunc(a.u)) {
            case -16:
                return -16;
            case -8:
                return -8;
            case 0:
                return 0;
            case 8:
                return 8;
            case 16:
                return 16;
            default:
                return 16
        }
    }

    function Zn(a, b) {
        return a.u < b.u ? !0 : a.u > b.u ? !1 : a.l < b.l ? !0 : a.l > b.l ? !1 : typeof a.i < typeof b.i ? !0 : typeof a.i > typeof b.i ? !1 : a.i < b.i
    };

    function $n() {
        this.u = 0;
        this.i = [];
        this.l = !1
    }
    $n.prototype.add = function(a, b, c) {
        ++this.u;
        var d = this.u / 4096,
            e = this.i,
            f = e.push;
        a = new Yn(a, b, c);
        d = new Yn(a.l, a.i, a.u + d);
        f.call(e, d);
        this.l = !0;
        return this
    };

    function uda(a, b) {
        nb(b.i, function(c) {
            a.add(c.l, c.i, tda(c))
        })
    }

    function ao(a, b) {
        var c = void 0 === c ? 0 : c;
        var d = void 0 === d ? !0 : d;
        Hl(b, function(e, f) {
            d && void 0 === e || a.add(f, e, c)
        });
        return a
    }

    function bo(a) {
        var b = vda;
        a.l && (Kb(a.i, function(c, d) {
            return Zn(d, c) ? 1 : Zn(c, d) ? -1 : 0
        }), a.l = !1);
        return qb(a.i, function(c, d) {
            d = b(d);
            return "" + c + ("" != c && "" != d ? "&" : "") + d
        }, "")
    };

    function vda(a) {
        var b = a.l;
        a = a.i;
        return "" === a ? b : "boolean" === typeof a ? a ? b : "" : Array.isArray(a) ? 0 === a.length ? b : b + "=" + a.join() : b + "=" + (xb(["mtos", "tos", "p"], b) ? a : encodeURIComponent(a))
    };

    function co(a) {
        var b = void 0 === b ? !0 : b;
        this.i = new $n;
        void 0 !== a && uda(this.i, a);
        b && this.i.add("v", yl, -16)
    }
    co.prototype.toString = function() {
        var a = "//pagead2.googlesyndication.com//pagead/gen_204",
            b = bo(this.i);
        0 < b.length && (a += "?" + b);
        return a
    };

    function wda(a) {
        var b = [],
            c = [];
        Nb(a, function(d, e) {
            if (!(e in Object.prototype) && "undefined" != typeof d) switch (Array.isArray(d) && (d = d.join(",")), d = [e, "=", d].join(""), e) {
                case "adk":
                case "r":
                case "tt":
                case "error":
                case "mtos":
                case "tos":
                case "p":
                case "bs":
                    b.unshift(d);
                    break;
                case "req":
                case "url":
                case "referrer":
                case "iframe_loc":
                    c.push(d);
                    break;
                default:
                    b.push(d)
            }
        });
        return b.concat(c)
    }

    function eo() {
        if (yl && "unreleased" !== yl) return yl
    }

    function fo(a) {
        var b = void 0 === b ? 4E3 : b;
        a = a.toString();
        if (!/&v=[^&]+/.test(a)) {
            var c = eo();
            a = c ? a + "&v=" + encodeURIComponent(c) : a
        }
        a = a.substring(0, b);
        Rm(a)
    };

    function go() {
        this.i = 0
    }
    La(go);

    function xda(a, b, c) {
        nb(a.u, function(d) {
            var e = a.i;
            if (!d.i && (d.u(b, c), d.B())) {
                d.i = !0;
                var f = d.l(),
                    g = new $n;
                g.add("id", "av-js");
                g.add("type", "verif");
                g.add("vtype", d.C);
                d = go.getInstance();
                g.add("i", d.i++);
                g.add("adk", e);
                ao(g, f);
                e = new co(g);
                fo(e)
            }
        })
    };

    function ho() {
        this.l = this.u = this.B = this.i = 0
    }
    ho.prototype.update = function(a, b, c) {
        a && (this.i += b, this.l += b, this.B += b, this.u = Math.max(this.u, this.B));
        if (void 0 === c ? !a : c) this.B = 0
    };
    var yda = [1, .75, .5, .3, 0];

    function io(a) {
        this.l = a = void 0 === a ? yda : a;
        this.i = pb(this.l, function() {
            return new ho
        })
    }

    function jo(a, b) {
        return ko(a, function(c) {
            return c.i
        }, void 0 === b ? !0 : b)
    }

    function lo(a, b) {
        return mo(a, b, function(c) {
            return c.i
        })
    }

    function no(a, b) {
        return ko(a, function(c) {
            return c.u
        }, void 0 === b ? !0 : b)
    }

    function oo(a, b) {
        return mo(a, b, function(c) {
            return c.u
        })
    }

    function po(a, b) {
        return mo(a, b, function(c) {
            return c.l
        })
    }

    function qo(a) {
        nb(a.i, function(b) {
            b.l = 0
        })
    }
    io.prototype.update = function(a, b, c, d, e, f) {
        f = void 0 === f ? !0 : f;
        b = e ? Math.min(a, b) : b;
        for (e = 0; e < this.l.length; e++) {
            var g = this.l[e],
                k = 0 < b && b >= g;
            g = !(0 < a && a >= g) || c;
            this.i[e].update(f && k, d, !f || g)
        }
    };

    function ko(a, b, c) {
        a = pb(a.i, function(d) {
            return b(d)
        });
        return c ? a : zda(a)
    }

    function mo(a, b, c) {
        var d = wb(a.l, function(e) {
            return b <= e
        });
        return -1 == d ? 0 : c(a.i[d])
    }

    function zda(a) {
        return pb(a, function(b, c, d) {
            return 0 < c ? d[c] - d[c - 1] : d[c]
        })
    };

    function ro() {
        this.l = new io;
        this.ra = new ho;
        this.U = this.G = -1;
        this.Ha = 1E3;
        this.Ka = new io([1, .9, .8, .7, .6, .5, .4, .3, .2, .1, 0]);
        this.ea = this.T = -1
    }

    function so(a, b) {
        return no(a.l, void 0 === b ? !0 : b)
    }
    ro.prototype.update = function(a, b, c, d) {
        this.G = -1 != this.G ? Math.min(this.G, b.Sb) : b.Sb;
        this.U = Math.max(this.U, b.Sb);
        this.T = -1 != this.T ? Math.min(this.T, b.lf) : b.lf;
        this.ea = Math.max(this.ea, b.lf);
        this.Ka.update(b.lf, c.lf, b.i, a, d);
        this.l.update(b.Sb, c.Sb, b.i, a, d);
        c = d || c.Ek != b.Ek ? c.isVisible() && b.isVisible() : c.isVisible();
        b = !b.isVisible() || b.i;
        this.ra.update(c, a, b)
    };
    ro.prototype.Hk = function() {
        return this.ra.u >= this.Ha
    };
    var Ada = new Jl(0, 0, 0, 0);

    function to(a, b) {
        b = uo(b);
        return 0 === b ? 0 : uo(a) / b
    }

    function uo(a) {
        return Math.max(a.bottom - a.top, 0) * Math.max(a.right - a.left, 0)
    }

    function Bda(a, b) {
        if (!a || !b) return !1;
        for (var c = 0; null !== a && 100 > c++;) {
            if (a === b) return !0;
            try {
                a: {
                    var d = void 0,
                        e = a;
                    if (oba && !(ne && Fe("9") && !Fe("10") && A.SVGElement && e instanceof A.SVGElement) && (d = e.parentElement)) {
                        var f = d;
                        break a
                    }
                    d = e.parentNode;f = Oa(d) && 1 == d.nodeType ? d : null
                }
                if (a = f || a) {
                    var g = Dg(a),
                        k = g && Kg(g),
                        l = k && k.frameElement;
                    l && (a = l)
                }
            }
            catch (m) {
                break
            }
        }
        return !1
    }

    function Cda(a, b, c) {
        if (!a || !b) return !1;
        b = Ll(a.clone(), -b.left, -b.top);
        a = (b.left + b.right) / 2;
        b = (b.top + b.bottom) / 2;
        var d = om();
        Gl(d.top) && d.top && d.top.document && (d = d.top);
        if (!rda(d)) return !1;
        a = d.document.elementFromPoint(a, b);
        if (!a) return !1;
        b = (b = (b = Dg(c)) && b.defaultView && b.defaultView.frameElement) && Bda(b, a);
        d = a === c;
        a = !d && a && Yg(a, function(e) {
            return e === c
        });
        return !(b || d || a)
    }

    function Dda(a, b, c, d) {
        return Kn.getInstance().u ? !1 : 0 >= Kl(a) || 0 >= a.getHeight() ? !0 : c && d ? on(208, function() {
            return Cda(a, b, c)
        }) : !1
    };
    var Eda = new Jl(0, 0, 0, 0);

    function vo(a, b, c) {
        C.call(this);
        this.position = Eda.clone();
        this.yq = this.Up();
        this.vu = -2;
        this.zH = Date.now();
        this.vB = -1;
        this.lastUpdateTime = b;
        this.oq = null;
        this.Gp = !1;
        this.Eq = null;
        this.opacity = -1;
        this.requestSource = c;
        this.CB = this.yu = Ka;
        this.Ve = new Vca;
        this.Ve.cj = a;
        this.Ve.i = a;
        this.lm = !1;
        this.hk = {
            Du: null,
            Cu: null
        };
        this.jB = !0;
        this.Vo = null;
        this.em = this.XE = !1;
        Wm.getInstance().D++;
        this.Af = this.At();
        this.pB = -1;
        this.Gc = null;
        this.VE = !1;
        a = this.featureSet = new xm;
        ym(a, "od", Pca);
        ym(a, "opac", sm).i = !0;
        ym(a, "sbeos",
            sm).i = !0;
        ym(a, "prf", sm).i = !0;
        ym(a, "mwt", sm).i = !0;
        ym(a, "iogeo", sm);
        (a = this.Ve.cj) && a.getAttribute && !/-[a-z]/.test("googleAvInapp") && (Uca && a.dataset ? "googleAvInapp" in a.dataset : a.hasAttribute ? a.hasAttribute("data-" + Id()) : a.getAttribute("data-" + Id())) && (Kn.getInstance().l = !0);
        1 == this.requestSource ? zm(this.featureSet, "od", 1) : zm(this.featureSet, "od", 0)
    }
    v(vo, C);
    h = vo.prototype;
    h.Da = function() {
        this.Ve.i && (this.hk.Du && (Dl(this.Ve.i, "mouseover", this.hk.Du), this.hk.Du = null), this.hk.Cu && (Dl(this.Ve.i, "mouseout", this.hk.Cu), this.hk.Cu = null));
        this.Vo && this.Vo.dispose();
        this.Gc && this.Gc.dispose();
        delete this.yq;
        delete this.yu;
        delete this.CB;
        delete this.Ve.cj;
        delete this.Ve.i;
        delete this.hk;
        delete this.Vo;
        delete this.Gc;
        delete this.featureSet;
        C.prototype.Da.call(this)
    };
    h.Oi = function() {
        return this.Gc ? this.Gc.i : this.position
    };
    h.bv = function(a) {
        Wm.getInstance().bv(a)
    };
    h.gh = function() {
        return !1
    };
    h.Up = function() {
        return new ro
    };
    h.Xe = function() {
        return this.yq
    };

    function wo(a, b) {
        b != a.em && (a.em = b, a = Kn.getInstance(), b ? a.D++ : 0 < a.D && a.D--)
    }

    function xo(a, b) {
        if (a.Gc) {
            if (b.getName() === a.Gc.getName()) return;
            a.Gc.dispose();
            a.Gc = null
        }
        b = b.create(a.Ve.i, a.featureSet, a.gh());
        if (b = null != b && b.Er() ? b : null) a.Gc = b
    }

    function yo(a, b, c) {
        if (!a.oq || -1 == a.lastUpdateTime || -1 === b.l || -1 === a.oq.l) return 0;
        a = b.l - a.oq.l;
        return a > c ? 0 : a
    }
    h.Vy = function(a) {
        return yo(this, a, 1E4)
    };

    function Fda(a, b, c) {
        if (a.Gc) {
            a.Gc.Di();
            var d = a.Gc.G,
                e = d.B,
                f = e.i;
            if (null != d.D) {
                var g = d.u;
                a.Eq = new ug(g.left - f.left, g.top - f.top)
            }
            f = a.er() ? Math.max(d.i, d.C) : d.i;
            g = {};
            null !== e.volume && (g.volume = e.volume);
            e = a.Vy(d);
            a.oq = d;
            a.nh(f, b, c, !1, g, e, d.G)
        }
    }

    function Gda(a) {
        if (a.Gp && a.Vo) {
            var b = 1 == Am(a.featureSet, "od"),
                c = Kn.getInstance().i,
                d = a.Vo,
                e = a.Gc ? a.Gc.getName() : "ns",
                f = new zg(Kl(c), c.getHeight());
            c = a.er();
            a = {
                pH: e,
                Eq: a.Eq,
                NH: f,
                er: c,
                Sb: a.Af.Sb,
                LH: b
            };
            if (b = d.l) {
                b.Di();
                e = b.G;
                f = e.B.i;
                var g = null,
                    k = null;
                null != e.D && f && (g = e.u, g = new ug(g.left - f.left, g.top - f.top), k = new zg(f.right - f.left, f.bottom - f.top));
                e = c ? Math.max(e.i, e.C) : e.i;
                c = {
                    pH: b.getName(),
                    Eq: g,
                    NH: k,
                    er: c,
                    LH: !1,
                    Sb: e
                }
            } else c = null;
            c && xda(d, a, c)
        }
    }
    h.nh = function(a, b, c, d, e, f, g) {
        this.lm || (this.Gp && (a = this.Es(a, c, e, g), d = d && this.Af.Sb >= (this.Ek() ? .3 : .5), this.hw(f, a, d), this.lastUpdateTime = b, 0 < a.Sb && -1 === this.pB && (this.pB = b), -1 == this.vB && this.Hk() && (this.vB = b), -2 == this.vu && (this.vu = uo(this.Oi()) ? a.Sb : -1), this.Af = a), this.yu(this))
    };
    h.hw = function(a, b, c) {
        this.Xe().update(a, b, this.Af, c)
    };
    h.At = function() {
        return new rm
    };
    h.Es = function(a, b, c, d) {
        c = this.At();
        c.i = b;
        b = Qm().l;
        b = 0 === Fm(zl) ? -1 : b.isVisible() ? 0 : 1;
        c.l = b;
        c.Sb = this.Os(a);
        c.Ek = this.Ek();
        c.lf = d;
        return c
    };
    h.Os = function(a) {
        return 0 === this.opacity && 1 === Am(this.featureSet, "opac") ? 0 : a
    };
    h.Ek = function() {
        return !1
    };
    h.er = function() {
        return this.VE || this.XE
    };
    h.Ig = function() {
        return 0
    };
    h.Hk = function() {
        return this.yq.Hk()
    };

    function Hda(a, b, c) {
        b && (a.yu = b);
        c && (a.CB = c)
    };

    function Ida() {
        this.B = this.i = this.u = this.l = this.C = 0
    }

    function Jda(a) {
        var b = {};
        var c = Va() - a.C;
        b = (b.ptlt = c, b);
        (c = a.l) && (b.pnk = c);
        (c = a.u) && (b.pnc = c);
        (c = a.B) && (b.pnmm = c);
        (a = a.i) && (b.pns = a);
        return b
    };

    function zo() {
        rm.call(this);
        this.fullscreen = !1;
        this.volume = void 0;
        this.paused = !1;
        this.mediaTime = -1
    }
    v(zo, rm);

    function Ao(a) {
        return Jn(a.volume) && 0 < a.volume
    };

    function Kda() {
        var a = {};
        this.l = (a.vs = [1, 0], a.vw = [0, 1], a.am = [2, 2], a.a = [4, 4], a.f = [8, 8], a.bm = [16, 16], a.b = [32, 32], a.avw = [0, 64], a.avs = [64, 0], a.pv = [256, 256], a.gdr = [0, 512], a.p = [0, 1024], a.r = [0, 2048], a.m = [0, 4096], a.um = [0, 8192], a.ef = [0, 16384], a.s = [0, 32768], a.pmx = [0, 16777216], a);
        this.i = {};
        for (var b in this.l) 0 < this.l[b][1] && (this.i[b] = 0);
        this.u = 0
    }

    function Bo(a, b) {
        var c = a.l[b],
            d = c[1];
        a.u += c[0];
        0 < d && 0 == a.i[b] && (a.i[b] = 1)
    }

    function Lda(a) {
        var b = Vb(a.l),
            c = 0,
            d;
        for (d in a.i) xb(b, d) && 1 == a.i[d] && (c += a.l[d][1], a.i[d] = 2);
        return c
    }

    function Mda(a) {
        var b = 0,
            c;
        for (c in a.i) {
            var d = a.i[c];
            if (1 == d || 2 == d) b += a.l[c][1]
        }
        return b
    };

    function Co() {
        this.i = this.l = 0
    }
    Co.prototype.getValue = function() {
        return this.l
    };
    Co.prototype.update = function(a, b) {
        32 <= a || (this.i & 1 << a && !b ? this.l &= ~(1 << a) : this.i & 1 << a || !b || (this.l |= 1 << a), this.i |= 1 << a)
    };

    function Do() {
        ro.call(this);
        this.u = new ho;
        this.ya = this.J = this.X = 0;
        this.I = -1;
        this.Ma = new ho;
        this.C = new ho;
        this.i = new io;
        this.D = this.B = -1;
        this.K = new ho;
        this.Ha = 2E3;
        this.Z = new Co;
        this.Fa = new Co;
        this.va = new Co
    }
    v(Do, ro);

    function Eo(a, b, c) {
        var d = a.ya;
        vn || c || -1 == a.I || (d += b - a.I);
        return d
    }
    Do.prototype.update = function(a, b, c, d) {
        if (!b.paused) {
            ro.prototype.update.call(this, a, b, c, d);
            var e = Ao(b) && Ao(c),
                f = .5 <= (d ? Math.min(b.Sb, c.Sb) : c.Sb);
            Jn(b.volume) && (this.B = -1 != this.B ? Math.min(this.B, b.volume) : b.volume, this.D = Math.max(this.D, b.volume));
            f && (this.X += a, this.J += e ? a : 0);
            this.i.update(b.Sb, c.Sb, b.i, a, d, e);
            this.u.update(!0, a);
            this.C.update(e, a);
            this.K.update(c.fullscreen, a);
            this.Ma.update(e && !f, a);
            a = Math.floor(b.mediaTime / 1E3);
            this.Z.update(a, b.isVisible());
            this.Fa.update(a, 1 <= b.Sb);
            this.va.update(a,
                Ao(b))
        }
    };

    function Nda() {
        this.i = !1
    };

    function Fo(a, b) {
        this.i = !1;
        this.l = a;
        this.I = b;
        this.u = 0
    }
    v(Fo, Nda);

    function Go(a, b) {
        return a.B(b) ? (b = Ho(a.I, a.l, b), a.u |= b, 0 == b) : !1
    }
    Fo.prototype.B = function() {
        return !0
    };
    Fo.prototype.C = function() {
        return !1
    };
    Fo.prototype.getId = function() {
        var a = this,
            b = Yb(An, function(c) {
                return c == a.l
            });
        return Bn[b].toString()
    };
    Fo.prototype.toString = function() {
        var a = "";
        this.C() && (a += "c");
        this.i && (a += "s");
        0 < this.u && (a += ":" + this.u);
        return this.getId() + a
    };

    function Io(a, b, c, d) {
        Wn.call(this, a, b, c, d)
    }
    v(Io, Wn);
    h = Io.prototype;
    h.Gs = function() {
        if (this.element) {
            var a = this.element,
                b = this.l.i.ze;
            try {
                try {
                    var c = Hn(a.getBoundingClientRect())
                } catch (m) {
                    c = new Jl(0, 0, 0, 0)
                }
                var d = c.right - c.left,
                    e = c.bottom - c.top,
                    f = fm(a, b),
                    g = f.x,
                    k = f.y;
                var l = new Jl(Math.round(k), Math.round(g + d), Math.round(k + e), Math.round(g))
            } catch (m) {
                l = Ada.clone()
            }
            this.i = l
        }
    };
    h.Lx = function() {
        this.B = this.l.u.i
    };
    h.Az = function(a) {
        var b = 1 == Am(this.featureSet, "od");
        return Dda(a, this.B, this.element, b)
    };
    h.Mx = function() {
        this.timestamp = wn()
    };
    h.Di = function() {
        this.Mx();
        this.Gs();
        if (this.element && "number" === typeof this.element.videoWidth && "number" === typeof this.element.videoHeight) {
            var a = this.element;
            var b = new zg(a.videoWidth, a.videoHeight);
            a = this.i;
            var c = Kl(a),
                d = a.getHeight(),
                e = b.width;
            b = b.height;
            0 >= e || 0 >= b || 0 >= c || 0 >= d || (e /= b, b = c / d, a = a.clone(), e > b ? (c /= e, d = (d - c) / 2, 0 < d && (d = a.top + d, a.top = Math.round(d), a.bottom = Math.round(d + c))) : (d *= e, c = Math.round((c - d) / 2), 0 < c && (c = a.left + c, a.left = Math.round(c), a.right = Math.round(c + d))));
            this.i = a
        }
        this.Lx();
        a = this.i;
        c = this.B;
        a = a.left <= c.right && c.left <= a.right && a.top <= c.bottom && c.top <= a.bottom ? new Jl(Math.max(a.top, c.top), Math.min(a.right, c.right), Math.min(a.bottom, c.bottom), Math.max(a.left, c.left)) : new Jl(0, 0, 0, 0);
        c = a.top >= a.bottom || a.left >= a.right ? new Jl(0, 0, 0, 0) : a;
        a = this.l.u;
        b = e = d = 0;
        0 < (this.i.bottom - this.i.top) * (this.i.right - this.i.left) && (this.Az(c) ? c = new Jl(0, 0, 0, 0) : (d = Kn.getInstance().B, b = new Jl(0, d.height, d.width, 0), d = to(c, this.i), e = to(c, Kn.getInstance().i), b = to(c, b)));
        c = c.top >= c.bottom || c.left >=
            c.right ? new Jl(0, 0, 0, 0) : Ll(c, -this.i.left, -this.i.top);
        Nn() || (e = d = 0);
        this.G = new yn(a, this.i, c, d, e, this.timestamp, b)
    };
    h.getName = function() {
        return this.l.getName()
    };
    var Oda = new Jl(0, 0, 0, 0);

    function Jo(a, b, c) {
        Wn.call(this, null, a, b, c);
        this.D = a.isActive();
        this.C = 0
    }
    v(Jo, Io);
    h = Jo.prototype;
    h.Er = function() {
        this.u();
        return !0
    };
    h.Wi = function() {
        Io.prototype.Di.call(this)
    };
    h.Mx = function() {};
    h.Gs = function() {};
    h.Di = function() {
        this.u();
        Io.prototype.Di.call(this)
    };
    h.dm = function(a) {
        a = a.isActive();
        a !== this.D && (a ? this.u() : (Kn.getInstance().i = new Jl(0, 0, 0, 0), this.i = new Jl(0, 0, 0, 0), this.B = new Jl(0, 0, 0, 0), this.timestamp = -1));
        this.D = a
    };

    function Ko(a) {
        return [a.top, a.left, a.bottom, a.right]
    }
    var Lo = {},
        Pda = (Lo.firstquartile = 0, Lo.midpoint = 1, Lo.thirdquartile = 2, Lo.complete = 3, Lo);

    function Mo(a, b, c, d, e, f) {
        e = void 0 === e ? null : e;
        f = void 0 === f ? [] : f;
        vo.call(this, b, c, d);
        this.Ts = 0;
        this.Id = {};
        this.Dd = new Kda;
        this.IB = {};
        this.Pd = "";
        this.Vf = null;
        this.Ma = !1;
        this.i = [];
        this.Lk = e;
        this.D = f;
        this.B = null;
        this.u = -1;
        this.ya = this.J = void 0;
        this.U = this.K = 0;
        this.ea = -1;
        this.Ha = this.Fa = !1;
        this.X = this.G = this.l = this.Om = this.Ka = 0;
        new io;
        this.Z = this.ra = 0;
        this.va = -1;
        this.Le = 0;
        this.I = Ka;
        this.T = [this.Up()];
        this.Qa = 2;
        this.ll = {};
        this.ll.pause = "p";
        this.ll.resume = "r";
        this.ll.skip = "s";
        this.ll.mute = "m";
        this.ll.unmute =
            "um";
        this.ll.exitfullscreen = "ef";
        this.C = null
    }
    v(Mo, vo);
    h = Mo.prototype;
    h.gh = function() {
        return !0
    };
    h.Gk = function() {
        return 2 == this.Le
    };

    function No(a) {
        0 != a.Le && (a.Le = 3)
    }

    function Oo(a) {
        return void 0 === a ? a : Number(a) ? Gn(a, 3) : 0
    }
    h.Vy = function(a) {
        return yo(this, a, Math.max(1E4, this.u / 3))
    };
    h.nh = function(a, b, c, d, e, f, g) {
        var k = this,
            l = this.I(this) || {};
        jc(l, e);
        this.u = l.duration || this.u;
        this.J = l.isVpaid || this.J;
        this.ya = l.isYouTube || this.ya;
        e = Qda(this, b);
        1 === Po(this) && (f = e);
        vo.prototype.nh.call(this, a, b, c, d, l, f, g);
        this.Lk && this.Lk.i && nb(this.D, function(m) {
            m.i || (m.i = Go(m, k))
        })
    };
    h.hw = function(a, b, c) {
        vo.prototype.hw.call(this, a, b, c);
        Qo(this).update(a, b, this.Af, c);
        this.Ha = Ao(this.Af) && Ao(b); - 1 == this.ea && this.Fa && (this.ea = this.Xe().u.i);
        this.Dd.u = 0;
        a = this.Hk();
        b.isVisible() && Bo(this.Dd, "vs");
        a && Bo(this.Dd, "vw");
        Jn(b.volume) && Bo(this.Dd, "am");
        Ao(b) && Bo(this.Dd, "a");
        this.em && Bo(this.Dd, "f"); - 1 != b.l && (Bo(this.Dd, "bm"), 1 == b.l && Bo(this.Dd, "b"));
        Ao(b) && b.isVisible() && Bo(this.Dd, "avs");
        this.Ha && a && Bo(this.Dd, "avw");
        0 < b.Sb && Bo(this.Dd, "pv");
        Ro(this, this.Xe().u.i, !0) && Bo(this.Dd, "gdr");
        2E3 <= oo(this.Xe().l, 1) && Bo(this.Dd, "pmx")
    };
    h.Up = function() {
        return new Do
    };
    h.Xe = function() {
        return this.yq
    };

    function Qo(a, b) {
        return a.T[null != b && b < a.T.length ? b : a.T.length - 1]
    }
    h.At = function() {
        return new zo
    };
    h.Es = function(a, b, c, d) {
        a = vo.prototype.Es.call(this, a, b, c, void 0 === d ? -1 : d);
        a.fullscreen = this.em;
        a.paused = this.Gk();
        a.volume = c.volume;
        Jn(a.volume) || (this.Ka++, b = this.Af, Jn(b.volume) && (a.volume = b.volume));
        c = c.currentTime;
        a.mediaTime = void 0 !== c && 0 <= c ? c : -1;
        return a
    };

    function Po(a) {
        var b = !!Am(Wm.getInstance().featureSet, "umt");
        return a.J || !b && !a.ya ? 0 : 1
    }

    function Qda(a, b) {
        a.Gk() ? b = 0 : -1 == a.lastUpdateTime ? b = 0 : (b -= a.lastUpdateTime, b = b > Math.max(1E4, a.u / 3) ? 0 : b);
        var c = a.I(a) || {};
        c = void 0 !== c.currentTime ? c.currentTime : a.K;
        var d = c - a.K,
            e = 0;
        0 <= d ? (a.U += b, a.Z += Math.max(b - d, 0), e = Math.min(d, a.U)) : a.ra += Math.abs(d);
        0 != d && (a.U = 0); - 1 == a.va && 0 < d && (a.va = 0 <= un ? wn() - un : -1);
        a.K = c;
        return e
    }
    h.Os = function(a) {
        return Kn.getInstance(), this.em ? 1 : vo.prototype.Os.call(this, a)
    };
    h.Ig = function() {
        return 1
    };
    h.getDuration = function() {
        return this.u
    };

    function Rda(a, b) {
        rb(a.D, function(c) {
            return c.l == b.l
        }) || a.D.push(b)
    }

    function Ro(a, b, c) {
        return 15E3 <= b ? !0 : a.Fa ? (void 0 === c ? 0 : c) ? !0 : 0 < a.u ? b >= a.u / 2 : 0 < a.ea ? b >= a.ea : !1 : !1
    }

    function Sda(a) {
        var b = Gn(a.Af.Sb, 2),
            c = a.Dd.u,
            d = a.Af,
            e = Qo(a),
            f = Oo(e.B),
            g = Oo(e.D),
            k = Oo(d.volume),
            l = Gn(e.G, 2),
            m = Gn(e.U, 2),
            n = Gn(d.Sb, 2),
            p = Gn(e.T, 2),
            q = Gn(e.ea, 2);
        d = Gn(d.lf, 2);
        a = a.Oi().clone();
        a.round();
        e = so(e, !1);
        return {
            MH: b,
            ao: c,
            zq: f,
            uq: g,
            An: k,
            Aq: l,
            wq: m,
            Sb: n,
            Bq: p,
            xq: q,
            lf: d,
            position: a,
            Dq: e
        }
    }

    function So(a, b) {
        To(a.i, b, function() {
            return {
                MH: 0,
                ao: void 0,
                zq: -1,
                uq: -1,
                An: -1,
                Aq: -1,
                wq: -1,
                Sb: -1,
                Bq: -1,
                xq: -1,
                lf: -1,
                position: void 0,
                Dq: []
            }
        });
        a.i[b] = Sda(a)
    }

    function To(a, b, c) {
        for (var d = a.length; d < b + 1;) a.push(c()), d++
    }

    function Uo(a, b, c) {
        var d = a.IB[b];
        if (null != d) return d;
        d = Tda(a, b);
        var e = Yb(An, function(f) {
            return f == b
        });
        a = mp(a, d, d, c, Pda[An[e]]);
        "fully_viewable_audible_half_duration_impression" == b && (a.std = "csm");
        return a
    }

    function np(a, b, c) {
        var d = [b];
        if (a != b || c != b) d.unshift(a), d.push(c);
        return d
    }

    function mp(a, b, c, d, e) {
        if (a.lm) return {
            "if": 0
        };
        var f = a.Oi().clone();
        f.round();
        var g = Kn.getInstance(),
            k = Wm.getInstance(),
            l = a.Xe(),
            m = a.Gc ? a.Gc.getName() : "ns",
            n = {};
        n["if"] = g.u ? 1 : void 0;
        n.sdk = a.B ? a.B : void 0;
        n.t = a.zH;
        n.p = [f.top, f.left, f.bottom, f.right];
        n.tos = jo(l.l, !1);
        n.mtos = so(l);
        n.mcvt = l.ra.u;
        n.ps = void 0;
        f = Eo(l, wn(), a.Gk());
        n.vht = f;
        n.mut = l.Ma.u;
        n.a = Oo(a.Af.volume);
        n.mv = Oo(l.D);
        n.fs = a.em ? 1 : 0;
        n.ft = l.K.i;
        n.at = l.C.i;
        n.as = 0 < l.B ? 1 : 0;
        n.atos = jo(l.i);
        n.ssb = jo(l.Ka, !1);
        n.amtos = no(l.i, !1);
        n.uac = a.Ka;
        n.vpt = l.u.i;
        "nio" == m && (n.nio = 1, n.avms = "nio");
        n.gmm = "4";
        n.gdr = Ro(a, l.u.i, !0) ? 1 : 0;
        n.efpf = a.Qa;
        if ("gsv" == m || "nis" == m) m = a.Gc, 0 < m.C && (n.nnut = m.C);
        n.tcm = Po(a);
        n.nmt = a.ra;
        n.bt = a.Z;
        n.pst = a.va;
        n.vpaid = a.J;
        n.dur = a.u;
        n.vmtime = a.K;
        n.is = a.Dd.u;
        1 <= a.i.length && (n.i0 = a.i[0].ao, n.a0 = [a.i[0].An], n.c0 = [a.i[0].Sb], n.ss0 = [a.i[0].lf], m = a.i[0].position, n.p0 = m ? Ko(m) : void 0);
        2 <= a.i.length && (n.i1 = a.i[1].ao, n.a1 = np(a.i[1].zq, a.i[1].An, a.i[1].uq), n.c1 = np(a.i[1].Aq, a.i[1].Sb, a.i[1].wq), n.ss1 = np(a.i[1].Bq, a.i[1].lf, a.i[1].xq), m = a.i[1].position,
            n.p1 = m ? Ko(m) : void 0, n.mtos1 = a.i[1].Dq);
        3 <= a.i.length && (n.i2 = a.i[2].ao, n.a2 = np(a.i[2].zq, a.i[2].An, a.i[2].uq), n.c2 = np(a.i[2].Aq, a.i[2].Sb, a.i[2].wq), n.ss2 = np(a.i[2].Bq, a.i[2].lf, a.i[2].xq), m = a.i[2].position, n.p2 = m ? Ko(m) : void 0, n.mtos2 = a.i[2].Dq);
        4 <= a.i.length && (n.i3 = a.i[3].ao, n.a3 = np(a.i[3].zq, a.i[3].An, a.i[3].uq), n.c3 = np(a.i[3].Aq, a.i[3].Sb, a.i[3].wq), n.ss3 = np(a.i[3].Bq, a.i[3].lf, a.i[3].xq), m = a.i[3].position, n.p3 = m ? Ko(m) : void 0, n.mtos3 = a.i[3].Dq);
        n.cs = Mda(a.Dd);
        b && (n.ic = Lda(a.Dd), n.dvpt = l.u.l, n.dvs =
            po(l.l, .5), n.dfvs = po(l.l, 1), n.davs = po(l.i, .5), n.dafvs = po(l.i, 1), c && (l.u.l = 0, qo(l.l), qo(l.i)), a.Hk() && (n.dtos = l.X, n.dav = l.J, n.dtoss = a.Ts + 1, c && (l.X = 0, l.J = 0, a.Ts++)), n.dat = l.C.l, n.dft = l.K.l, c && (l.C.l = 0, l.K.l = 0));
        n.ps = [g.C.width, g.C.height];
        n.bs = [Kl(g.i), g.i.getHeight()];
        n.scs = [g.B.width, g.B.height];
        n.dom = g.domain;
        a.Om && (n.vds = a.Om);
        if (0 < a.D.length || a.Lk) b = Cb(a.D), a.Lk && b.push(a.Lk), n.pings = pb(b, function(p) {
            return p.toString()
        });
        b = pb(ob(a.D, function(p) {
            return p.C()
        }), function(p) {
            return p.getId()
        });
        oaa(b);
        n.ces = b;
        a.l && (n.vmer = a.l);
        a.G && (n.vmmk = a.G);
        a.X && (n.vmiec = a.X);
        n.avms = a.Gc ? a.Gc.getName() : "ns";
        a.Gc && jc(n, a.Gc.Ni());
        d ? (n.c = Gn(a.Af.Sb, 2), n.ss = Gn(a.Af.lf, 2)) : n.tth = wn() - tn;
        n.mc = Gn(l.U, 2);
        n.nc = Gn(l.G, 2);
        n.mv = Oo(l.D);
        n.nv = Oo(l.B);
        n.lte = Gn(a.vu, 2);
        d = Qo(a, e);
        so(l);
        n.qmtos = so(d);
        n.qnc = Gn(d.G, 2);
        n.qmv = Oo(d.D);
        n.qnv = Oo(d.B);
        n.qas = 0 < d.B ? 1 : 0;
        n.qi = a.Pd;
        n.avms || (n.avms = "geo");
        n.psm = l.Z.i;
        n.psv = l.Z.getValue();
        n.psfv = l.Fa.getValue();
        n.psa = l.va.getValue();
        k = Tca(k.featureSet);
        k.length && (n.veid = k);
        a.C && jc(n,
            Jda(a.C));
        return n
    }

    function Tda(a, b) {
        if (xb(pda, b)) return !0;
        var c = a.Id[b];
        return void 0 !== c ? (a.Id[b] = !0, !c) : !1
    };
    var Uda = Va();

    function Vda() {
        this.i = {};
        var a = Kg();
        op(this, a, document);
        var b = Wda();
        try {
            if ("1" == b) {
                for (var c = a.parent; c != a.top; c = c.parent) op(this, c, c.document);
                op(this, a.top, a.top.document)
            }
        } catch (d) {}
    }

    function Wda() {
        var a = document.documentElement;
        try {
            if (!Gl(Kg().top)) return "2";
            var b = [],
                c = Kg(a.ownerDocument);
            for (a = c; a != c.top; a = a.parent)
                if (a.frameElement) b.push(a.frameElement);
                else break;
            return b && 0 != b.length ? "1" : "0"
        } catch (d) {
            return "2"
        }
    }

    function op(a, b, c) {
        Fn(c, "mousedown", function() {
            return Xda(a)
        }, 301);
        Fn(b, "scroll", function() {
            return Yda(a)
        }, 302);
        Fn(c, "touchmove", function() {
            return Zda(a)
        }, 303);
        Fn(c, "mousemove", function() {
            return $da(a)
        }, 304);
        Fn(c, "keydown", function() {
            return aea(a)
        }, 305)
    }

    function Xda(a) {
        Nb(a.i, function(b) {
            1E5 < b.u || ++b.u
        })
    }

    function Yda(a) {
        Nb(a.i, function(b) {
            1E5 < b.i || ++b.i
        })
    }

    function Zda(a) {
        Nb(a.i, function(b) {
            1E5 < b.i || ++b.i
        })
    }

    function aea(a) {
        Nb(a.i, function(b) {
            1E5 < b.l || ++b.l
        })
    }

    function $da(a) {
        Nb(a.i, function(b) {
            1E5 < b.B || ++b.B
        })
    };

    function pp() {
        this.i = [];
        this.l = []
    }

    function qp(a, b) {
        return tb(a.i, function(c) {
            return c.Pd == b
        })
    }

    function rp(a, b) {
        return b ? tb(a.i, function(c) {
            return c.Ve.cj == b
        }) : null
    }

    function bea(a, b) {
        return tb(a.l, function(c) {
            return 2 == c.Ig() && c.Pd == b
        })
    }

    function sp() {
        var a = tp;
        return 0 == a.i.length ? a.l : 0 == a.l.length ? a.i : Bb(a.l, a.i)
    }
    pp.prototype.reset = function() {
        this.i = [];
        this.l = []
    };

    function up(a, b) {
        a = 1 == b.Ig() ? a.i : a.l;
        var c = vb(a, function(d) {
            return d == b
        });
        return -1 != c ? (a.splice(c, 1), b.Gc && b.Gc.Wm(), b.dispose(), !0) : !1
    }

    function cea(a) {
        var b = tp;
        if (up(b, a)) {
            switch (a.Ig()) {
                case 0:
                    var c = function() {
                        return null
                    };
                case 2:
                    c = function() {
                        return bea(b, a.Pd)
                    };
                    break;
                case 1:
                    c = function() {
                        return qp(b, a.Pd)
                    }
            }
            for (var d = c(); d; d = c()) up(b, d)
        }
    }

    function dea(a, b) {
        var c = tp;
        a = ob(a, (void 0 === b ? 0 : b) ? function(d) {
            return !qp(c, d.Pd)
        } : function(d) {
            return !rp(c, d.Ve.cj)
        });
        c.i.push.apply(c.i, ha(a))
    }

    function vp(a) {
        var b = tp,
            c = [];
        nb(a, function(d) {
            rb(b.i, function(e) {
                return e.Ve.cj === d.Ve.cj && e.Pd === d.Pd
            }) || (b.i.push(d), c.push(d))
        })
    }
    La(pp);
    var tp = pp.getInstance();

    function wp() {
        this.i = this.l = null
    }

    function xp(a, b) {
        function c(d, e) {
            b(d, e)
        }
        if (null == a.l) return !1;
        a.i = tb(a.l, function(d) {
            return null != d && d.Fw()
        });
        a.i && (a.i.init(c) ? Tn(a.i.i) : b(a.i.i.Xl(), a.i));
        return null != a.i
    }
    La(wp);

    function yp(a) {
        a = eea(a);
        Xn.call(this, a.length ? a[a.length - 1] : new Pn(F, 0));
        this.u = a;
        this.l = null
    }
    v(yp, Xn);
    h = yp.prototype;
    h.getName = function() {
        return (this.l ? this.l : this.i).getName()
    };
    h.Ni = function() {
        return (this.l ? this.l : this.i).Ni()
    };
    h.Mh = function() {
        return (this.l ? this.l : this.i).Mh()
    };
    h.init = function(a) {
        var b = !1;
        nb(this.u, function(c) {
            c.initialize() && (b = !0)
        });
        b && (this.B = a, Sn(this.i, this));
        return b
    };
    h.dispose = function() {
        nb(this.u, function(a) {
            a.dispose()
        });
        Xn.prototype.dispose.call(this)
    };
    h.Fw = function() {
        return rb(this.u, function(a) {
            return a.Vm()
        })
    };
    h.Xm = function() {
        return rb(this.u, function(a) {
            return a.Vm()
        })
    };
    h.hp = function(a, b, c) {
        return new Io(a, this.i, b, c)
    };
    h.Wi = function(a) {
        this.l = a.l
    };

    function eea(a) {
        if (!a.length) return [];
        a = ob(a, function(c) {
            return null != c && c.Vm()
        });
        for (var b = 1; b < a.length; b++) Sn(a[b - 1], a[b]);
        return a
    };
    var fea = {
        threshold: [0, .3, .5, .75, 1]
    };

    function zp(a, b, c, d) {
        Wn.call(this, a, b, c, d);
        this.J = this.I = this.C = this.D = this.u = null
    }
    v(zp, Io);
    h = zp.prototype;
    h.Er = function() {
        var a = this;
        this.J || (this.J = wn());
        if (on(298, function() {
                return gea(a)
            })) return !0;
        Qn(this.l, "msf");
        return !1
    };
    h.Wm = function() {
        if (this.u && this.element) try {
            this.u.unobserve(this.element), this.D ? (this.D.unobserve(this.element), this.D = null) : this.C && (this.C.disconnect(), this.C = null)
        } catch (a) {}
    };

    function Ap(a) {
        return a.u && a.u.takeRecords ? a.u.takeRecords() : []
    }

    function gea(a) {
        if (!a.element) return !1;
        var b = a.element,
            c = a.l.i.ze,
            d = Wm.getInstance().i.i;
        a.u = new c.IntersectionObserver(Vm(d, function(e) {
            return Bp(a, e)
        }), fea);
        d = Vm(d, function() {
            a.u.unobserve(b);
            a.u.observe(b);
            Bp(a, Ap(a))
        });
        c.ResizeObserver ? (a.D = new c.ResizeObserver(d), a.D.observe(b)) : c.MutationObserver && (a.C = new A.MutationObserver(d), a.C.observe(b, {
            attributes: !0,
            childList: !0,
            characterData: !0,
            subtree: !0
        }));
        a.u.observe(b);
        Bp(a, Ap(a));
        return !0
    }

    function Bp(a, b) {
        try {
            if (b.length) {
                a.I || (a.I = wn());
                var c = hea(b),
                    d = fm(a.element, a.l.i.ze),
                    e = d.x,
                    f = d.y;
                a.i = new Jl(Math.round(f), Math.round(e) + c.boundingClientRect.width, Math.round(f) + c.boundingClientRect.height, Math.round(e));
                var g = Hn(c.intersectionRect);
                a.B = Ll(g, a.i.left - g.left, a.i.top - g.top)
            }
        } catch (k) {
            a.Wm(), qn(299, k)
        }
    }

    function hea(a) {
        return qb(a, function(b, c) {
            return b.time > c.time ? b : c
        }, a[0])
    }
    h.Di = function() {
        var a = Ap(this);
        0 < a.length && Bp(this, a);
        Io.prototype.Di.call(this)
    };
    h.Gs = function() {};
    h.Az = function() {
        return !1
    };
    h.Lx = function() {};
    h.Ni = function() {
        var a = {};
        return Object.assign(this.l.Ni(), (a.niot_obs = this.J, a.niot_cbk = this.I, a))
    };
    h.getName = function() {
        return "nio"
    };

    function Cp(a) {
        a = void 0 === a ? F : a;
        Xn.call(this, new Pn(a, 2))
    }
    v(Cp, Xn);
    Cp.prototype.getName = function() {
        return "nio"
    };
    Cp.prototype.Xm = function() {
        return !Kn.getInstance().l && null != this.i.i.ze.IntersectionObserver
    };
    Cp.prototype.hp = function(a, b, c) {
        return new zp(a, this.i, b, c)
    };

    function Dp() {
        var a = Ep();
        Pn.call(this, F.top, a, "geo")
    }
    v(Dp, Pn);
    Dp.prototype.Zy = function() {
        return Kn.getInstance().i
    };
    Dp.prototype.Vm = function() {
        var a = Ep();
        this.G !== a && (this.i != this && a > this.i.G && (this.i = this, Rn(this)), this.G = a);
        return 2 == a
    };

    function Ep() {
        Wm.getInstance();
        var a = Kn.getInstance();
        return a.u || a.l ? 0 : 2
    }
    La(Dp);

    function Fp() {}
    La(Fp);

    function Gp() {
        this.done = !1;
        this.i = {
            FD: 0,
            Ax: 0,
            bV: 0,
            oy: 0,
            Vt: -1,
            XD: 0,
            WD: 0,
            YD: 0
        };
        this.C = null;
        this.D = !1;
        this.u = null;
        this.G = 0;
        this.l = new On(this)
    }

    function Hp() {
        var a = Ip;
        a.D || (a.D = !0, iea(a, function(b) {
            for (var c = [], d = 0; d < arguments.length; ++d) c[d - 0] = arguments[d];
            return a.B.apply(a, ha(c))
        }), a.B())
    }
    Gp.prototype.Gw = function() {
        Jp(this, sp(), !1)
    };

    function jea() {
        Fp.getInstance();
        var a = wp.getInstance();
        null != a.i && a.i.i ? Tn(a.i.i) : Kn.getInstance().update(F)
    }

    function Jp(a, b, c) {
        if (!a.done && (a.l.cancel(), 0 != b.length)) {
            a.u = null;
            try {
                jea();
                var d = wn(),
                    e = Wm.getInstance();
                e.C = d;
                if (null != wp.getInstance().i)
                    for (e = 0; e < b.length; e++) Fda(b[e], d, c);
                else Xm(gn, "", {
                    strategy_not_selected: 1,
                    bin: e.l
                }, !0, void 0);
                for (d = 0; d < b.length; d++) Gda(b[d]);
                ++a.i.oy;
                kea()
            } finally {
                c ? nb(b, function(f) {
                    f.Af.Sb = 0
                }) : a.l.schedule()
            }
        }
    }

    function iea(a, b) {
        if (!a.C) {
            b = ln(142, b, void 0);
            Qm();
            var c;
            zl.visibilityState ? c = "visibilitychange" : zl.mozVisibilityState ? c = "mozvisibilitychange" : zl.webkitVisibilityState && (c = "webkitvisibilitychange");
            c && Cl(zl, c, b, {
                capture: !1
            }) && (a.C = b)
        }
    }
    Gp.prototype.B = function() {
        var a = Nn(),
            b = wn();
        a ? (vn || (rn = b, nb(tp.i, function(c) {
            var d = c.Xe();
            d.ya = Eo(d, b, 1 != c.Le)
        })), vn = !0) : (this.G = Kp(this, b), vn = !1, tn = b, nb(tp.i, function(c) {
            c.Gp && (c.Xe().I = b)
        }));
        Jp(this, sp(), !a)
    };

    function Lp() {
        var a = wp.getInstance();
        if (null != a.i) {
            var b = a.i;
            nb(sp(), function(c) {
                return xo(c, b)
            })
        }
    }

    function kea() {
        var a = Wm.getInstance();
        Am(a.featureSet, "llp")
    }

    function Kp(a, b) {
        a = a.G;
        vn && (a += b - rn);
        return a
    }

    function lea(a) {
        var b = Ip;
        a = void 0 === a ? function() {
            return {}
        } : a;
        mn.sy = "av-js";
        gn.i = .01;
        kda([function(c) {
            var d = Wm.getInstance(),
                e = {};
            e = (e.bin = d.l, e.type = "error", e);
            d = Bm(d.featureSet);
            if (!b.u) {
                var f = F.document,
                    g = 0 <= sn ? wn() - sn : -1,
                    k = wn(); - 1 == b.i.Vt && (g = k);
                var l = Kn.getInstance(),
                    m = Wm.getInstance(),
                    n = Bm(m.featureSet),
                    p = sp();
                try {
                    if (0 < p.length) {
                        var q = l.i;
                        q && (n.bs = [Kl(q), q.getHeight()]);
                        var r = l.C;
                        r && (n.ps = [r.width, r.height]);
                        F.screen && (n.scs = [F.screen.width, F.screen.height])
                    } else n.url = encodeURIComponent(F.location.href.substring(0, 512)), f.referrer && (n.referrer = encodeURIComponent(f.referrer.substring(0,
                        512)));
                    n.tt = g;
                    n.pt = sn;
                    n.bin = m.l;
                    void 0 !== F.google_osd_load_pub_page_exp && (n.olpp = F.google_osd_load_pub_page_exp);
                    n.deb = [1, b.i.FD, b.i.Ax, b.i.oy, b.i.Vt, 0, b.l.l, b.i.XD, b.i.WD, b.i.YD].join("-");
                    n.tvt = Kp(b, k);
                    l.l && (n.inapp = 1);
                    if (null !== F && F != F.top) {
                        0 < p.length && (n.iframe_loc = encodeURIComponent(F.location.href.substring(0, 512)));
                        var u = l.G;
                        n.is = [Kl(u), u.getHeight()]
                    }
                } catch (z) {
                    n.error = 1
                }
                b.u = n
            }
            q = gc(b.u);
            r = Wm.getInstance().i;
            if (1 == Am(r.u, "prf")) {
                u = new Um;
                f = r.i;
                g = 0; - 1 < f.i && (g = f.u.i.now() - f.i);
                u = qf(u, 1, f.B + g,
                    0);
                f = r.i;
                u = qf(u, 5, -1 < f.i ? f.l + 1 : f.l, 0);
                u = qf(u, 2, r.l.i.u(), 0);
                u = qf(u, 3, r.l.i.l(), 0);
                f = qf(u, 4, r.l.i.i(), 0);
                r = {};
                u = new Ve;
                var x = void 0 === x ? 0 : x;
                g = mf(f, 1);
                g = null == g ? g : +g;
                x = null == g ? x : g;
                if (0 !== x && (g = x, null != g)) {
                    ee(u.i, 9);
                    x = u.i;
                    l = g;
                    l = (g = 0 > l ? 1 : 0) ? -l : l;
                    if (0 === l) Ld = 0 < 1 / l ? 0 : 2147483648, Kd = 0;
                    else if (isNaN(l)) Ld = 2147483647, Kd = 4294967295;
                    else if (1.7976931348623157E308 < l) Ld = (g << 31 | 2146435072) >>> 0, Kd = 0;
                    else if (2.2250738585072014E-308 > l) l /= Math.pow(2, -1074), Ld = (g << 31 | l / 4294967296) >>> 0, Kd = l >>> 0;
                    else {
                        m = l;
                        k = 0;
                        if (2 <= m)
                            for (; 2 <=
                                m && 1023 > k;) k++, m /= 2;
                        else
                            for (; 1 > m && -1022 < k;) m *= 2, k--;
                        l *= Math.pow(2, -k);
                        Ld = (g << 31 | k + 1023 << 20 | 1048576 * l & 1048575) >>> 0;
                        Kd = 4503599627370496 * l >>> 0
                    }
                    fe(x, Kd);
                    fe(x, Ld)
                }
                x = of (f, 2);
                0 !== x && Xe(u, 2, x);
                x = of (f, 3);
                0 !== x && Xe(u, 3, x);
                x = of (f, 4);
                0 !== x && Xe(u, 4, x);
                x = of (f, 5);
                if (0 !== x && (f = x, null != f && null != f))
                    if (ee(u.i, 40), x = u.i, 0 <= f) ee(x, f);
                    else {
                        for (g = 0; 9 > g; g++) x.push(f & 127 | 128), f >>= 7;
                        x.push(1)
                    } x = We(u);
                x = (r.pf = Re(x), r)
            } else x = {};
            jc(q, x);
            jc(c, e, d, q, a());
            if (e = eo()) d = {}, jc(c, (d.v = encodeURIComponent(e), d))
        }])
    }
    La(Gp);
    var Ip = Gp.getInstance();
    var Mp = null,
        Np = "",
        Op = !1;

    function mea() {
        var a = Mp || F;
        if (!a) return "";
        var b = [];
        if (!a.location || !a.location.href) return "";
        b.push("url=" + encodeURIComponent(a.location.href.substring(0, 512)));
        a.document && a.document.referrer && b.push("referrer=" + encodeURIComponent(a.document.referrer.substring(0, 512)));
        return b.join("&")
    };

    function Pp(a) {
        return function(b) {
            return void 0 === b[a] ? 0 : b[a]
        }
    }

    function Qp() {
        var a = [0, 2, 4];
        return function(b) {
            b = b.tos;
            if (Array.isArray(b)) {
                for (var c = Array(b.length), d = 0; d < b.length; d++) c[d] = 0 < d ? c[d - 1] + b[d] : b[d];
                return void 0 !== a ? Rp(c, a) : c
            }
        }
    }

    function Sp(a, b, c, d) {
        c = void 0 === c ? !0 : c;
        d = void 0 === d ? function() {
            return !0
        } : d;
        return function(e) {
            var f = e[a];
            if (Array.isArray(f) && d(e)) return Rp(f, b, c)
        }
    }

    function Tp(a, b) {
        return function(c) {
            return b(c) ? c[a] : void 0
        }
    }

    function Up(a) {
        return function(b) {
            for (var c = 0; c < a.length; c++)
                if (a[c] === b.e || void 0 === a[c] && !b.hasOwnProperty("e")) return !0;
            return !1
        }
    }

    function Rp(a, b, c) {
        return void 0 === c || c ? ob(a, function(d, e) {
            return xb(b, e)
        }) : pb(b, function(d, e, f) {
            return a.slice(0 < e ? f[e - 1] + 1 : 0, d + 1).reduce(function(g, k) {
                return g + k
            }, 0)
        })
    };
    var Vp = Up([void 0, 1, 2, 3, 4, 8, 16]),
        Wp = Up([void 0, 4, 8, 16]),
        nea = {
            sv: "sv",
            cb: "cb",
            e: "e",
            nas: "nas",
            msg: "msg",
            "if": "if",
            sdk: "sdk",
            p: "p",
            p0: Tp("p0", Wp),
            p1: Tp("p1", Wp),
            p2: Tp("p2", Wp),
            p3: Tp("p3", Wp),
            cp: "cp",
            tos: "tos",
            mtos: "mtos",
            amtos: "amtos",
            mtos1: Sp("mtos1", [0, 2, 4], !1, Wp),
            mtos2: Sp("mtos2", [0, 2, 4], !1, Wp),
            mtos3: Sp("mtos3", [0, 2, 4], !1, Wp),
            mcvt: "mcvt",
            ps: "ps",
            scs: "scs",
            bs: "bs",
            vht: "vht",
            mut: "mut",
            a: "a",
            a0: Tp("a0", Wp),
            a1: Tp("a1", Wp),
            a2: Tp("a2", Wp),
            a3: Tp("a3", Wp),
            ft: "ft",
            dft: "dft",
            at: "at",
            dat: "dat",
            as: "as",
            vpt: "vpt",
            gmm: "gmm",
            std: "std",
            efpf: "efpf",
            swf: "swf",
            nio: "nio",
            px: "px",
            nnut: "nnut",
            vmer: "vmer",
            vmmk: "vmmk",
            vmiec: "vmiec",
            nmt: "nmt",
            tcm: "tcm",
            bt: "bt",
            pst: "pst",
            vpaid: "vpaid",
            dur: "dur",
            vmtime: "vmtime",
            dtos: "dtos",
            dtoss: "dtoss",
            dvs: "dvs",
            dfvs: "dfvs",
            dvpt: "dvpt",
            fmf: "fmf",
            vds: "vds",
            is: "is",
            i0: "i0",
            i1: "i1",
            i2: "i2",
            i3: "i3",
            ic: "ic",
            cs: "cs",
            c: "c",
            c0: Tp("c0", Wp),
            c1: Tp("c1", Wp),
            c2: Tp("c2", Wp),
            c3: Tp("c3", Wp),
            mc: "mc",
            nc: "nc",
            mv: "mv",
            nv: "nv",
            qmt: Tp("qmtos", Vp),
            qnc: Tp("qnc", Vp),
            qmv: Tp("qmv", Vp),
            qnv: Tp("qnv", Vp),
            raf: "raf",
            rafc: "rafc",
            lte: "lte",
            ces: "ces",
            tth: "tth",
            femt: "femt",
            femvt: "femvt",
            emc: "emc",
            emuc: "emuc",
            emb: "emb",
            avms: "avms",
            nvat: "nvat",
            qi: "qi",
            psm: "psm",
            psv: "psv",
            psfv: "psfv",
            psa: "psa",
            pnk: "pnk",
            pnc: "pnc",
            pnmm: "pnmm",
            pns: "pns",
            ptlt: "ptlt",
            pngs: "pings",
            veid: "veid",
            ssb: "ssb",
            ss0: Tp("ss0", Wp),
            ss1: Tp("ss1", Wp),
            ss2: Tp("ss2", Wp),
            ss3: Tp("ss3", Wp),
            dc_rfl: "urlsigs",
            obd: "obd",
            omidp: "omidp",
            omidr: "omidr",
            omidv: "omidv",
            omida: "omida",
            omids: "omids",
            omidpv: "omidpv",
            omidam: "omidam",
            omidct: "omidct",
            omidia: "omidia"
        },
        oea = {
            c: Pp("c"),
            at: "at",
            atos: Sp("atos", [0, 2, 4]),
            ta: function(a, b) {
                return function(c) {
                    if (void 0 === c[a]) return b
                }
            }("tth", "1"),
            a: "a",
            dur: "dur",
            p: "p",
            tos: Qp(),
            j: "dom",
            mtos: Sp("mtos", [0, 2, 4]),
            gmm: "gmm",
            gdr: "gdr",
            ss: Pp("ss"),
            vsv: fb("w2"),
            t: "t"
        },
        pea = {
            atos: "atos",
            avt: Sp("atos", [2]),
            davs: "davs",
            dafvs: "dafvs",
            dav: "dav",
            ss: Pp("ss"),
            t: "t"
        },
        qea = {
            a: "a",
            tos: Qp(),
            at: "at",
            c: Pp("c"),
            mtos: Sp("mtos", [0, 2, 4]),
            dur: "dur",
            fs: "fs",
            p: "p",
            vpt: "vpt",
            vsv: fb("ias_w2"),
            dom: "dom",
            gmm: "gmm",
            gdr: "gdr",
            t: "t"
        },
        rea = {
            tos: Qp(),
            at: "at",
            c: Pp("c"),
            mtos: Sp("mtos", [0, 2, 4]),
            p: "p",
            vpt: "vpt",
            vsv: fb("dv_w4"),
            gmm: "gmm",
            gdr: "gdr",
            dom: "dom",
            t: "t",
            mv: "mv",
            qmpt: Sp("qmtos",
                [0, 2, 4]),
            qvs: function(a, b) {
                return function(c) {
                    var d = c[a];
                    if ("number" === typeof d) return pb(b, function(e) {
                        return 0 < d && d >= e ? 1 : 0
                    })
                }
            }("qnc", [1,
                .5, 0
            ]),
            qmv: "qmv",
            qa: "qas",
            a: "a"
        };

    function Xp(a, b) {
        var c = {
            sv: "898",
            cb: "j"
        };
        c.nas = tp.i.length;
        c.msg = a;
        void 0 !== b && (a = Yp(b)) && (c.e = Bn[a]);
        return c
    }

    function Zp(a) {
        return zc(a, "custom_metric_viewable")
    }

    function Yp(a) {
        var b = Zp(a) ? "custom_metric_viewable" : a.toLowerCase();
        return Yb(An, function(c) {
            return c == b
        })
    };
    var sea = {
            KL: "visible",
            BI: "audible",
            DS: "time",
            ES: "timetype"
        },
        $p = {
            visible: function(a) {
                return /^(100|[0-9]{1,2})$/.test(a)
            },
            audible: function(a) {
                return "0" == a || "1" == a
            },
            timetype: function(a) {
                return "mtos" == a || "tos" == a
            },
            time: function(a) {
                return /^(100|[0-9]{1,2})%$/.test(a) || /^([0-9])+ms$/.test(a)
            }
        };

    function tea() {
        this.i = void 0;
        this.l = !1;
        this.u = 0;
        this.B = -1;
        this.C = "tos"
    }

    function uea(a) {
        try {
            var b = a.split(",");
            return b.length > Vb(sea).length ? null : qb(b, function(c, d) {
                d = d.toLowerCase().split("=");
                if (2 != d.length || void 0 === $p[d[0]] || !$p[d[0]](d[1])) throw Error("Entry (" + d[0] + ", " + d[1] + ") is invalid.");
                c[d[0]] = d[1];
                return c
            }, {})
        } catch (c) {
            return null
        }
    }

    function vea(a, b) {
        if (void 0 == a.i) return 0;
        switch (a.C) {
            case "mtos":
                return a.l ? oo(b.i, a.i) : oo(b.l, a.i);
            case "tos":
                return a.l ? lo(b.i, a.i) : lo(b.l, a.i)
        }
        return 0
    };

    function aq(a, b, c, d) {
        Fo.call(this, b, d);
        this.D = a;
        this.G = c
    }
    v(aq, Fo);
    aq.prototype.getId = function() {
        return this.D
    };
    aq.prototype.C = function() {
        return !0
    };
    aq.prototype.B = function(a) {
        var b = a.Xe(),
            c = a.getDuration();
        return rb(this.G, function(d) {
            if (void 0 != d.i) var e = vea(d, b);
            else b: {
                switch (d.C) {
                    case "mtos":
                        e = d.l ? b.C.u : b.u.i;
                        break b;
                    case "tos":
                        e = d.l ? b.C.i : b.u.i;
                        break b
                }
                e = 0
            }
            0 == e ? d = !1 : (d = -1 != d.u ? d.u : void 0 !== c && 0 < c ? d.B * c : -1, d = -1 != d && e >= d);
            return d
        })
    };

    function bq(a) {
        Fo.call(this, "fully_viewable_audible_half_duration_impression", a)
    }
    v(bq, Fo);
    bq.prototype.B = function(a) {
        var b = lo(a.Xe().i, 1);
        return Ro(a, b)
    };

    function cq(a, b) {
        Fo.call(this, a, b)
    }
    v(cq, Fo);
    cq.prototype.B = function(a) {
        return a.Xe().Hk()
    };

    function dq() {
        this.l = this.B = this.D = this.C = this.u = this.i = ""
    };

    function wea() {}

    function eq(a, b, c, d, e) {
        var f = {};
        if (void 0 !== a)
            if (null != b)
                for (var g in b) {
                    var k = b[g];
                    g in Object.prototype || null != k && (f[g] = "function" === typeof k ? k(a) : a[k])
                } else jc(f, a);
        void 0 !== c && jc(f, c);
        a = bo(ao(new $n, f));
        0 < a.length && void 0 !== d && void 0 !== e && (e = e(a), a += "&" + d + "=" + e);
        return a
    };

    function fq() {}
    v(fq, wea);
    fq.prototype.i = function(a) {
        var b = new dq;
        b.i = eq(a, nea);
        b.u = eq(a, pea);
        return b
    };

    function gq(a, b, c) {
        Jo.call(this, a, b, c)
    }
    v(gq, Jo);
    gq.prototype.u = function() {
        var a = Ja("ima.admob.getViewability"),
            b = Am(this.featureSet, "queryid");
        "function" === typeof a && b && a(b)
    };
    gq.prototype.getName = function() {
        return "gsv"
    };

    function hq(a) {
        a = void 0 === a ? F : a;
        Xn.call(this, new Pn(a, 2))
    }
    v(hq, Xn);
    hq.prototype.getName = function() {
        return "gsv"
    };
    hq.prototype.Xm = function() {
        var a = Kn.getInstance();
        Wm.getInstance();
        return a.l && !1
    };
    hq.prototype.hp = function(a, b, c) {
        return new gq(this.i, b, c)
    };

    function iq(a, b, c) {
        Jo.call(this, a, b, c)
    }
    v(iq, Jo);
    iq.prototype.u = function() {
        var a = this,
            b = Ja("ima.bridge.getNativeViewability"),
            c = Am(this.featureSet, "queryid");
        "function" === typeof b && c && b(c, function(d) {
            bc(d) && a.C++;
            var e = d.opt_nativeViewVisibleBounds || {},
                f = d.opt_nativeViewHidden;
            a.i = In(d.opt_nativeViewBounds || {});
            var g = a.l.u;
            g.i = f ? Oda.clone() : In(e);
            a.timestamp = d.opt_nativeTime || -1;
            Kn.getInstance().i = g.i;
            d = d.opt_nativeVolume;
            void 0 !== d && (g.volume = d)
        })
    };
    iq.prototype.getName = function() {
        return "nis"
    };

    function jq(a) {
        a = void 0 === a ? F : a;
        Xn.call(this, new Pn(a, 2))
    }
    v(jq, Xn);
    jq.prototype.getName = function() {
        return "nis"
    };
    jq.prototype.Xm = function() {
        var a = Kn.getInstance();
        Wm.getInstance();
        return a.l && !1
    };
    jq.prototype.hp = function(a, b, c) {
        return new iq(this.i, b, c)
    };

    function kq() {
        Pn.call(this, F, 2, "mraid");
        this.Z = 0;
        this.U = this.T = !1;
        this.D = null;
        this.l = Dn(this.ze);
        this.u.i = new Jl(0, 0, 0, 0);
        this.ya = !1
    }
    v(kq, Pn);
    h = kq.prototype;
    h.Vm = function() {
        return null != this.l.jg
    };
    h.Ty = function() {
        var a = {};
        this.Z && (a.mraid = this.Z);
        this.T && (a.mlc = 1);
        a.mtop = this.l.oH;
        this.D && (a.mse = this.D);
        this.ya && (a.msc = 1);
        a.mcp = this.l.compatibility;
        return a
    };
    h.nj = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        try {
            return this.l.jg[a].apply(this.l.jg, c)
        } catch (e) {
            qn(538, e, .01, function(f) {
                f.method = a
            })
        }
    };

    function lq(a, b, c) {
        a.nj("addEventListener", b, c)
    }
    h.initialize = function() {
        var a = this;
        if (this.J) return !this.Wn();
        this.J = !0;
        if (2 === this.l.compatibility) return this.D = "ng", Qn(this, "w"), !1;
        if (1 === this.l.compatibility) return this.D = "mm", Qn(this, "w"), !1;
        Kn.getInstance().I = !0;
        this.ze.document.readyState && "complete" == this.ze.document.readyState ? mq(this) : Fn(this.ze, "load", function() {
            Qm().setTimeout(pn(292, function() {
                return mq(a)
            }), 100)
        }, 292);
        return !0
    };

    function mq(a) {
        Wm.getInstance().B = !!a.nj("isViewable");
        lq(a, "viewableChange", xea);
        "loading" === a.nj("getState") ? lq(a, "ready", nq) : oq(a)
    }

    function oq(a) {
        "string" === typeof a.l.jg.AFMA_LIDAR ? (a.T = !0, yea(a)) : (a.l.compatibility = 3, a.D = "nc", Qn(a, "w"))
    }

    function yea(a) {
        a.U = !1;
        var b = 1 == Am(Wm.getInstance().featureSet, "rmmt"),
            c = !!a.nj("isViewable");
        (b ? !c : 1) && Qm().setTimeout(pn(524, function() {
            a.U || (pq(a), qn(540, Error()), a.D = "mt", Qn(a, "w"))
        }), 500);
        zea(a);
        lq(a, a.l.jg.AFMA_LIDAR, qq)
    }

    function zea(a) {
        var b = 1 == Am(Wm.getInstance().featureSet, "sneio"),
            c = void 0 !== a.l.jg.AFMA_LIDAR_EXP_1,
            d = void 0 !== a.l.jg.AFMA_LIDAR_EXP_2;
        (b = b && d) && (a.l.jg.AFMA_LIDAR_EXP_2 = !0);
        c && (a.l.jg.AFMA_LIDAR_EXP_1 = !b)
    }

    function pq(a) {
        a.nj("removeEventListener", a.l.jg.AFMA_LIDAR, qq);
        a.T = !1
    }
    h.Dw = function() {
        var a = Kn.getInstance(),
            b = rq(this, "getMaxSize");
        a.i = new Jl(0, b.width, b.height, 0)
    };
    h.Ew = function() {
        Kn.getInstance().B = rq(this, "getScreenSize")
    };

    function rq(a, b) {
        if ("loading" === a.nj("getState")) return new zg(-1, -1);
        b = a.nj(b);
        if (!b) return new zg(-1, -1);
        a = parseInt(b.width, 10);
        b = parseInt(b.height, 10);
        return isNaN(a) || isNaN(b) ? new zg(-1, -1) : new zg(a, b)
    }
    h.dispose = function() {
        pq(this);
        Pn.prototype.dispose.call(this)
    };

    function nq() {
        try {
            var a = kq.getInstance();
            a.nj("removeEventListener", "ready", nq);
            oq(a)
        } catch (b) {
            qn(541, b)
        }
    }

    function qq(a, b) {
        try {
            var c = kq.getInstance();
            c.U = !0;
            var d = a ? new Jl(a.y, a.x + a.width, a.y + a.height, a.x) : new Jl(0, 0, 0, 0);
            var e = wn(),
                f = Nn();
            var g = new xn(e, f, c);
            g.i = d;
            g.volume = b;
            c.Wi(g)
        } catch (k) {
            qn(542, k)
        }
    }

    function xea(a) {
        var b = Wm.getInstance(),
            c = kq.getInstance();
        a && !b.B && (b.B = !0, c.ya = !0, c.D && Qn(c, "w", !0))
    }
    La(kq);

    function sq() {
        this.G = !1;
        this.i = null;
        this.u = new fq;
        this.l = null;
        var a = {};
        this.J = (a.start = this.NE, a.firstquartile = this.IE, a.midpoint = this.KE, a.thirdquartile = this.OE, a.complete = this.GE, a.pause = this.Vu, a.resume = this.YA, a.skip = this.ME, a.viewable_impression = this.Ri, a.mute = this.Mm, a.unmute = this.Mm, a.fullscreen = this.JE, a.exitfullscreen = this.HE, a.fully_viewable_audible_half_duration_impression = this.Ri, a.measurable_impression = this.Ri, a.abandon = this.Vu, a.engagedview = this.Ri, a.impression = this.Ri, a.creativeview =
            this.Ri, a.progress = this.Mm, a.custom_metric_viewable = this.Ri, a.bufferstart = this.Vu, a.bufferfinish = this.YA, a);
        a = {};
        this.K = (a.overlay_resize = this.LE, a.abandon = this.Pt, a.close = this.Pt, a.collapse = this.Pt, a.overlay_unmeasurable_impression = function(b) {
                return Uo(b, "overlay_unmeasurable_impression", Nn())
            }, a.overlay_viewable_immediate_impression = function(b) {
                return Uo(b, "overlay_viewable_immediate_impression", Nn())
            }, a.overlay_unviewable_impression = function(b) {
                return Uo(b, "overlay_unviewable_impression", Nn())
            },
            a.overlay_viewable_end_of_session_impression = function(b) {
                return Uo(b, "overlay_viewable_end_of_session_impression", Nn())
            }, a);
        Wm.getInstance().l = 3;
        Aea(this);
        this.B = !1
    }
    h = sq.prototype;
    h.In = function(a) {
        wo(a, !1);
        cea(a)
    };
    h.Zp = function() {};

    function tq(a, b, c, d) {
        b = a.Ko(null, d, !0, b);
        b.B = c;
        dea([b], a.B);
        return b
    }
    h.Ko = function(a, b, c, d) {
        var e = this;
        this.l || (this.l = this.dy());
        b = c ? b : -1;
        a = null == this.l ? new Mo(F, a, b, 7) : new Mo(F, a, b, 7, new Fo("measurable_impression", this.l), Bea(this));
        a.Pd = d;
        Sca(a.featureSet);
        zm(a.featureSet, "queryid", a.Pd);
        a.bv("");
        Hda(a, function(f) {
            for (var g = [], k = 0; k < arguments.length; ++k) g[k - 0] = arguments[k];
            return e.gz.apply(e, ha(g))
        }, function(f) {
            for (var g = [], k = 0; k < arguments.length; ++k) g[k - 0] = arguments[k];
            return e.FE.apply(e, ha(g))
        });
        (d = wp.getInstance().i) && xo(a, d);
        a.Ve.cj && Fp.getInstance();
        return a
    };

    function Cea(a, b, c) {
        Oca(b);
        var d = a.l;
        nb(b, function(e) {
            var f = pb(e.l, function(g) {
                var k = uea(g);
                if (null == k) g = null;
                else if (g = new tea, null != k.visible && (g.i = k.visible / 100), null != k.audible && (g.l = 1 == k.audible), null != k.time) {
                    var l = "mtos" == k.timetype ? "mtos" : "tos",
                        m = Ac(k.time, "%") ? "%" : "ms";
                    k = parseInt(k.time, 10);
                    "%" == m && (k /= 100);
                    "ms" == m ? (g.u = k, g.B = -1) : (g.u = -1, g.B = k);
                    g.C = void 0 === l ? "tos" : l
                }
                return g
            });
            rb(f, function(g) {
                return null == g
            }) || Rda(c, new aq(e.id, e.event, f, d))
        })
    }

    function Bea(a) {
        a = a.l;
        return [new cq("viewable_impression", a), new bq(a)]
    }

    function Dea() {
        var a = [],
            b = Wm.getInstance();
        a.push(Dp.getInstance());
        Am(b.featureSet, "mvp_lv") && a.push(kq.getInstance());
        b = [new hq, new jq];
        b.push(new yp(a));
        b.push(new Cp(F));
        return b
    }

    function Eea(a) {
        if (!a.G) {
            a.G = !0;
            try {
                var b = wn(),
                    c = Wm.getInstance(),
                    d = Kn.getInstance();
                sn = b;
                c.u = 79463069;
                "o" !== a.i && (Mp = Cn(F).ze);
                if (cda()) {
                    Ip.i.Ax = 0;
                    Ip.i.Vt = wn() - b;
                    var e = Dea(),
                        f = wp.getInstance();
                    f.l = e;
                    xp(f, function() {
                        uq()
                    }) ? Ip.done || (Lp(), Sn(f.i.i, a), Hp()) : d.u ? uq() : Hp()
                } else Op = !0
            } catch (g) {
                throw tp.reset(), g;
            }
        }
    }

    function vq(a) {
        Ip.l.cancel();
        Np = a;
        Ip.done = !0
    }

    function wq(a) {
        if (a.i) return a.i;
        var b = wp.getInstance().i;
        if (b) switch (b.getName()) {
            case "nis":
                a.i = "n";
                break;
            case "gsv":
                a.i = "m"
        }
        a.i || (a.i = "h");
        return a.i
    }

    function xq(a, b, c) {
        if (null == a.l) return b.Om |= 4, !1;
        a = Ho(a.l, c, b);
        b.Om |= a;
        return 0 == a
    }
    h.dm = function(a) {
        switch (a.Mh()) {
            case 0:
                if (a = wp.getInstance().i) a = a.i, zb(a.B, this), a.I && this.gh() && Un(a);
                uq();
                break;
            case 2:
                Hp()
        }
    };
    h.Wi = function() {};
    h.gh = function() {
        return !1
    };

    function uq() {
        var a = [new Cp(F)],
            b = wp.getInstance();
        b.l = a;
        xp(b, function() {
            vq("i")
        }) ? Ip.done || (Lp(), Hp()) : vq("i")
    }
    h.FE = function(a, b) {
        a.lm = !0;
        switch (a.Ig()) {
            case 1:
                yq(this, a, b);
                break;
            case 2:
                this.vv(a)
        }
        this.Bv()
    };

    function yq(a, b, c) {
        if (!b.Ma) {
            var d = Uo(b, "start", Nn());
            a = a.u.i(d).i;
            var e = {
                id: "lidarv"
            };
            e.r = c;
            e.v = "898v";
            Mi(a, function(f, g) {
                return e[f] = "mtos" == f || "tos" == f ? g : encodeURIComponent(g)
            });
            c = mea();
            Mi(c, function(f, g) {
                return e[f] = encodeURIComponent(g)
            });
            c = "//pagead2.googlesyndication.com/pagead/gen_204?" + bo(ao(new $n, e));
            fo(c);
            b.Ma = !0
        }
    }
    h.NE = function(a) {
        So(a, 0);
        return Uo(a, "start", Nn())
    };
    h.Mm = function(a, b, c) {
        Jp(Ip, [a], !Nn());
        return this.Ri(a, b, c)
    };
    h.Ri = function(a, b, c) {
        return Uo(a, c, Nn())
    };
    h.IE = function(a) {
        return zq(a, "firstquartile", 1)
    };
    h.KE = function(a) {
        a.Fa = !0;
        return zq(a, "midpoint", 2)
    };
    h.OE = function(a) {
        return zq(a, "thirdquartile", 3)
    };
    h.GE = function(a) {
        var b = zq(a, "complete", 4);
        No(a);
        return b
    };

    function zq(a, b, c) {
        Jp(Ip, [a], !Nn());
        So(a, c);
        4 != c && To(a.T, c, a.Up);
        return Uo(a, b, Nn())
    }
    h.YA = function(a, b, c) {
        b = Nn();
        if (a.Gk() && !b) {
            var d = wn();
            a.Xe().I = d
        }
        Jp(Ip, [a], !b);
        a.Gk() && (a.Le = 1);
        return Uo(a, c, b)
    };
    h.ME = function(a, b) {
        b = this.Mm(a, b || {}, "skip");
        No(a);
        return b
    };
    h.JE = function(a, b) {
        wo(a, !0);
        return this.Mm(a, b || {}, "fullscreen")
    };
    h.HE = function(a, b) {
        wo(a, !1);
        return this.Mm(a, b || {}, "exitfullscreen")
    };
    h.Vu = function(a, b, c) {
        b = a.Xe();
        var d = wn();
        b.ya = Eo(b, d, 1 != a.Le);
        Jp(Ip, [a], !Nn());
        1 == a.Le && (a.Le = 2);
        return Uo(a, c, Nn())
    };
    h.LE = function(a) {
        Jp(Ip, [a], !Nn());
        return a.l()
    };
    h.Pt = function(a) {
        Jp(Ip, [a], !Nn());
        this.WA(a);
        No(a);
        return a.l()
    };

    function Aea(a) {
        lea(function() {
            var b = Aq();
            null != a.i && (b.sdk = a.i);
            var c = wp.getInstance();
            null != c.i && (b.avms = c.i.getName());
            return b
        })
    }

    function Fea(a, b, c, d) {
        if (a.B) var e = qp(tp, b);
        else e = rp(tp, c), null !== e && e.Pd !== b && (a.In(e), e = null);
        e || (b = a.Ko(c, wn(), !1, b), 0 == tp.l.length && (Wm.getInstance().u = 79463069), vp([b]), e = b, e.B = wq(a), d && (e.Vf = d));
        return e
    }
    h.gz = function() {};

    function Gea(a, b) {
        b.G = 0;
        for (var c in zn) null == a[c] && (b.G |= zn[c]);
        Bq(a, "currentTime");
        Bq(a, "duration")
    }

    function Hea(a) {
        nb(tp.i, function(b) {
            3 == b.Le && a.In(b)
        })
    }
    h.vv = function() {};
    h.WA = function() {};
    h.Hw = function() {};
    h.Bv = function() {};
    h.dy = function() {};

    function Bq(a, b) {
        var c = a[b];
        void 0 !== c && 0 < c && (a[b] = Math.floor(1E3 * c))
    }

    function Aq() {
        var a = Kn.getInstance(),
            b = {};
        return b.sv = "898", b["if"] = a.u ? "1" : "0", b.nas = String(tp.i.length), b
    };
    var Cq = Va(),
        Dq = !1,
        Eq = !1,
        Fq = !1;

    function Gq(a) {
        return !a || "function" !== typeof a || 0 > String(Function.prototype.toString).indexOf("[native code]") ? !1 : 0 <= String(a).indexOf("[native code]") && !0 || !1
    }

    function Hq(a) {
        return !!(1 << a & Cq)
    }
    var Iea = [function(a) {
                return !(!a.chrome || !a.chrome.webstore)
            },
            function(a) {
                return !!a.document.documentMode
            },
            function(a) {
                return !!a.document.fonts.ready
            },
            function() {
                return Hq(0)
            },
            function(a) {
                return !!a.ActiveXObject
            },
            function(a) {
                return !!a.chrome
            },
            function(a) {
                return !!a.navigator.serviceWorker
            },
            function(a) {
                return !!a.opera
            },
            function(a) {
                return !!a.sidebar
            },
            function() {
                return !+"\v1"
            },
            function() {
                return Hq(1)
            },
            function(a) {
                return !a.ActiveXObject
            },
            function(a) {
                return "-ms-ime-align" in a.document.documentElement.style
            },
            function(a) {
                return "-ms-scroll-limit" in a.document.documentElement.style
            },
            function(a) {
                return "-webkit-font-feature-settings" in a.document.body.style
            },
            function() {
                return Hq(2)
            },
            function(a) {
                return "ActiveXObject" in a
            },
            function(a) {
                return "MozAppearance" in a.document.documentElement.style
            },
            function(a) {
                return "_phantom" in a
            },
            function(a) {
                return "callPhantom" in a
            },
            function(a) {
                return "content" in a.document.createElement("template")
            },
            function(a) {
                return "getEntriesByType" in a.performance
            },
            function() {
                return Hq(3)
            },
            function(a) {
                return "image-rendering" in a.document.body.style
            },
            function(a) {
                return "object-fit" in a.document.body.style
            },
            function(a) {
                return "open" in a.document.createElement("details")
            },
            function(a) {
                return "orientation" in a.screen
            },
            function(a) {
                return "performance" in a
            },
            function(a) {
                return "shape-image-threshold" in a.document.body.style
            },
            function() {
                return Hq(4)
            },
            function(a) {
                return "srcset" in a.document.createElement("img")
            },
            function() {
                return Eq
            },
            function() {
                return Fq
            },
            function() {
                return Hq(5)
            },
            function(a) {
                a = a.document.createElement("div");
                a.style.width = "1px";
                a.style.width = "-webkit-min-content";
                a.style.width = "min-content";
                return "1px" != a.style.width
            },
            function(a) {
                a = a.document.createElement("div");
                a.style.width = "1px";
                a.style.width = "calc(1px - 1px)";
                a.style.width = "-webkit-calc(1px - 1px)";
                return "1px" != a.style.width
            },
            function() {
                var a = !1;
                eval('var DummyFunction1 = function(x){ "use strict"; var a = 12; b = a + x*35; }');
                try {
                    DummyFunction1()
                } catch (b) {
                    a = !0
                }
                return a
            },
            function() {
                var a = !1;
                try {
                    DummyFunction2()
                } catch (b) {
                    a = !0
                }
                return a
            },
            function() {
                return !1
            },
            function() {
                return Hq(6)
            },
            function(a) {
                var b = a.document.createElement("canvas");
                b.width = b.height = 1;
                b = b.getContext("2d");
                b.globalCompositeOperation = "multiply";
                b.fillStyle = "rgb(0,255,255)";
                b.fillRect(0, 0, 1, 1);
                b.fill();
                b.fillStyle = "rgb(255,255,0)";
                b.fillRect(0, 0, 1, 1);
                b.fill();
                b = b.getImageData(0, 0, 1, 1).data;
                return b[0] == b[2] && b[1] == b[3] || Gq(a.navigator.vibrate)
            },
            function(a) {
                a = a.document.createElement("canvas");
                a.width = a.height = 1;
                a = a.getContext("2d");
                a.globalCompositeOperation = "multiply";
                a.fillStyle = "rgb(0,255,255)";
                a.fillRect(0, 0, 1, 1);
                a.fill();
                a.fillStyle = "rgb(255,255,0)";
                a.fillRect(0, 0, 1, 1);
                a.fill();
                a = a.getImageData(0, 0, 1, 1).data;
                return a[0] == a[2] && a[1] == a[3]
            },
            function(a) {
                a = a.document.createElement("div");
                return Gq(a.matches)
            },
            function(a) {
                a = a.document.createElement("input");
                a.setAttribute("type", "range");
                return "text" !== a.type
            },
            function(a) {
                return a.CSS.supports("image-rendering", "pixelated")
            },
            function(a) {
                return a.CSS.supports("object-fit", "contain")
            },
            function() {
                return Hq(7)
            },
            function(a) {
                return a.CSS.supports("object-fit", "inherit")
            },
            function(a) {
                return a.CSS.supports("shape-image-threshold", "0.9")
            },
            function(a) {
                return a.CSS.supports("word-break", "keep-all")
            },
            function() {
                return eval("1 == [for (item of [1,2,3]) item][0]")
            },
            function(a) {
                return Gq(a.CSS.supports)
            },
            function() {
                return Gq(Intl.Collator)
            },
            function(a) {
                return Gq(a.document.createElement("dialog").show)
            },
            function() {
                return Hq(8)
            },
            function(a) {
                return Gq(a.document.createElement("div").animate([{
                    transform: "scale(1)",
                    easing: "ease-in"
                }, {
                    transform: "scale(1.3)",
                    easing: "ease-in"
                }], {
                    duration: 1300,
                    iterations: 1
                }).reverse)
            },
            function(a) {
                return Gq(a.document.createElement("div").animate)
            },
            function(a) {
                return Gq(a.document.documentElement.webkitRequestFullScreen)
            },
            function(a) {
                return Gq(a.navigator.getBattery)
            },
            function(a) {
                return Gq(a.navigator.permissions.query)
            },
            function() {
                return !1
            },
            function() {
                return Hq(9)
            },
            function() {
                return Gq(webkitRequestAnimationFrame)
            },
            function(a) {
                return Gq(a.BroadcastChannel.call)
            },
            function(a) {
                return Gq(a.FontFace)
            },
            function(a) {
                return Gq(a.Gamepad)
            },
            function() {
                return Hq(10)
            },
            function(a) {
                return Gq(a.MutationEvent)
            },
            function(a) {
                return Gq(a.MutationObserver)
            },
            function(a) {
                return Gq(a.crypto.getRandomValues)
            },
            function(a) {
                return Gq(a.document.body.createShadowRoot)
            },
            function(a) {
                return Gq(a.document.body.webkitCreateShadowRoot)
            },
            function(a) {
                return Gq(a.fetch)
            },
            function() {
                return Hq(11)
            },
            function(a) {
                return Gq(a.navigator.serviceWorker.register)
            },
            function(a) {
                return Gq(a.navigator.webkitGetGamepads)
            },
            function(a) {
                return Gq(a.speechSynthesis.speak)
            },
            function(a) {
                return Gq(a.webkitRTCPeerConnection)
            },
            function(a) {
                return a.CSS.supports("--fake-var", "0")
            },
            function() {
                return Hq(12)
            },
            function(a) {
                return a.CSS.supports("cursor", "grab")
            },
            function(a) {
                return a.CSS.supports("cursor", "zoom-in")
            },
            function(a) {
                return a.CSS.supports("image-orientation", "270deg")
            },
            function() {
                return Hq(13)
            },
            function(a) {
                return a.CSS.supports("position", "sticky")
            },
            function(a) {
                return void 0 === a.document.createElement("style").scoped
            },
            function(a) {
                return a.performance.getEntriesByType("resource") instanceof Array
            },
            function() {
                return "undefined" == typeof InstallTrigger
            },
            function() {
                return "object" == typeof(new Intl.Collator).resolvedOptions()
            },
            function(a) {
                return "boolean" == typeof a.navigator.onLine
            },
            function() {
                return Hq(14)
            },
            function(a) {
                return "undefined" == typeof a.navigator.kV
            },
            function(a) {
                return "number" == typeof a.performance.now()
            },
            function() {
                return 0 == (new Uint16Array(1))[0]
            },
            function(a) {
                return -1 == a.ActiveXObject.toString().indexOf("native")
            },
            function(a) {
                return -1 == Object.prototype.toString.call(a.HTMLElement).indexOf("Constructor")
            }
        ],
        Jea = [function(a) {
                a = a.document.createElement("div");
                var b = null,
                    c = ["{45EA75A0-A269-11D1-B5BF-0000F8051515}", "{3AF36230-A269-11D1-B5BF-0000F8051515}", "{89820200-ECBD-11CF-8B85-00AA005B4383}"];
                try {
                    a.style.behavior = "url(#default#clientcaps)"
                } catch (e) {}
                for (var d = 0; d < c.length; d++) {
                    try {
                        b = a.getComponentVersion(c[d], "componentid").replace(/,/g, ".")
                    } catch (e) {}
                    if (b) return b.split(".")[0]
                }
                return !1
            },
            function() {
                return (new Date).getTimezoneOffset()
            },
            function(a) {
                return (a.innerWidth || a.document.documentElement.clientWidth || a.document.body.clientWidth) / (a.innerHeight || a.document.documentElement.clientHeight || a.document.body.clientHeight)
            },
            function(a) {
                return (a.outerWidth || a.document && a.document.body && a.document.body.offsetWidth) / (a.outerHeight || a.document && a.document.body && a.document.body.offsetHeight)
            },
            function(a) {
                return a.screen.availWidth / a.screen.availHeight
            },
            function(a) {
                return a.screen.width / a.screen.height
            }
        ],
        Kea = [function(a) {
                return a.navigator.userAgent
            },
            function(a) {
                return a.navigator.platform
            },
            function(a) {
                return a.navigator.vendor
            }
        ];

    function Lea() {
        try {
            Mea()
        } catch (d) {}
        var a = "a=1&b=" + Cq + "&",
            b = [],
            c = 99;
        nb(Iea, function(d, e) {
            var f = !1;
            try {
                f = d(F)
            } catch (g) {}
            b[e / 32 >>> 0] |= f << e % 32
        });
        nb(b, function(d, e) {
            a += String.fromCharCode(c + e) + "=" + (d >>> 0).toString(16) + "&"
        });
        c = 105;
        nb(Jea, function(d) {
            var e = "false";
            try {
                e = d(F)
            } catch (f) {}
            a += String.fromCharCode(c++) + "=" + e + "&"
        });
        nb(Kea, function(d) {
            var e = "";
            try {
                e = Re(cb(d(F)), 3)
            } catch (f) {}
            a += String.fromCharCode(c++) + "=" + e + "&"
        });
        return a.slice(0, -1)
    }

    function Mea() {
        if (!Dq) {
            var a = function() {
                Eq = !0;
                F.document.removeEventListener("webdriver-evaluate", a, !0)
            };
            F.document.addEventListener("webdriver-evaluate", a, !0);
            var b = function() {
                Fq = !0;
                F.document.removeEventListener("webdriver-evaluate-response", b, !0)
            };
            F.document.addEventListener("webdriver-evaluate-response", b, !0);
            Dq = !0
        }
    };

    function Iq() {
        this.blockSize = -1
    };

    function Jq() {
        this.blockSize = -1;
        this.blockSize = 64;
        this.i = Array(4);
        this.B = Array(this.blockSize);
        this.u = this.l = 0;
        this.reset()
    }
    Xa(Jq, Iq);
    Jq.prototype.reset = function() {
        this.i[0] = 1732584193;
        this.i[1] = 4023233417;
        this.i[2] = 2562383102;
        this.i[3] = 271733878;
        this.u = this.l = 0
    };

    function Kq(a, b, c) {
        c || (c = 0);
        var d = Array(16);
        if ("string" === typeof b)
            for (var e = 0; 16 > e; ++e) d[e] = b.charCodeAt(c++) | b.charCodeAt(c++) << 8 | b.charCodeAt(c++) << 16 | b.charCodeAt(c++) << 24;
        else
            for (e = 0; 16 > e; ++e) d[e] = b[c++] | b[c++] << 8 | b[c++] << 16 | b[c++] << 24;
        b = a.i[0];
        c = a.i[1];
        e = a.i[2];
        var f = a.i[3];
        var g = b + (f ^ c & (e ^ f)) + d[0] + 3614090360 & 4294967295;
        b = c + (g << 7 & 4294967295 | g >>> 25);
        g = f + (e ^ b & (c ^ e)) + d[1] + 3905402710 & 4294967295;
        f = b + (g << 12 & 4294967295 | g >>> 20);
        g = e + (c ^ f & (b ^ c)) + d[2] + 606105819 & 4294967295;
        e = f + (g << 17 & 4294967295 | g >>> 15);
        g = c + (b ^ e & (f ^ b)) + d[3] + 3250441966 & 4294967295;
        c = e + (g << 22 & 4294967295 | g >>> 10);
        g = b + (f ^ c & (e ^ f)) + d[4] + 4118548399 & 4294967295;
        b = c + (g << 7 & 4294967295 | g >>> 25);
        g = f + (e ^ b & (c ^ e)) + d[5] + 1200080426 & 4294967295;
        f = b + (g << 12 & 4294967295 | g >>> 20);
        g = e + (c ^ f & (b ^ c)) + d[6] + 2821735955 & 4294967295;
        e = f + (g << 17 & 4294967295 | g >>> 15);
        g = c + (b ^ e & (f ^ b)) + d[7] + 4249261313 & 4294967295;
        c = e + (g << 22 & 4294967295 | g >>> 10);
        g = b + (f ^ c & (e ^ f)) + d[8] + 1770035416 & 4294967295;
        b = c + (g << 7 & 4294967295 | g >>> 25);
        g = f + (e ^ b & (c ^ e)) + d[9] + 2336552879 & 4294967295;
        f = b + (g << 12 & 4294967295 |
            g >>> 20);
        g = e + (c ^ f & (b ^ c)) + d[10] + 4294925233 & 4294967295;
        e = f + (g << 17 & 4294967295 | g >>> 15);
        g = c + (b ^ e & (f ^ b)) + d[11] + 2304563134 & 4294967295;
        c = e + (g << 22 & 4294967295 | g >>> 10);
        g = b + (f ^ c & (e ^ f)) + d[12] + 1804603682 & 4294967295;
        b = c + (g << 7 & 4294967295 | g >>> 25);
        g = f + (e ^ b & (c ^ e)) + d[13] + 4254626195 & 4294967295;
        f = b + (g << 12 & 4294967295 | g >>> 20);
        g = e + (c ^ f & (b ^ c)) + d[14] + 2792965006 & 4294967295;
        e = f + (g << 17 & 4294967295 | g >>> 15);
        g = c + (b ^ e & (f ^ b)) + d[15] + 1236535329 & 4294967295;
        c = e + (g << 22 & 4294967295 | g >>> 10);
        g = b + (e ^ f & (c ^ e)) + d[1] + 4129170786 & 4294967295;
        b = c + (g <<
            5 & 4294967295 | g >>> 27);
        g = f + (c ^ e & (b ^ c)) + d[6] + 3225465664 & 4294967295;
        f = b + (g << 9 & 4294967295 | g >>> 23);
        g = e + (b ^ c & (f ^ b)) + d[11] + 643717713 & 4294967295;
        e = f + (g << 14 & 4294967295 | g >>> 18);
        g = c + (f ^ b & (e ^ f)) + d[0] + 3921069994 & 4294967295;
        c = e + (g << 20 & 4294967295 | g >>> 12);
        g = b + (e ^ f & (c ^ e)) + d[5] + 3593408605 & 4294967295;
        b = c + (g << 5 & 4294967295 | g >>> 27);
        g = f + (c ^ e & (b ^ c)) + d[10] + 38016083 & 4294967295;
        f = b + (g << 9 & 4294967295 | g >>> 23);
        g = e + (b ^ c & (f ^ b)) + d[15] + 3634488961 & 4294967295;
        e = f + (g << 14 & 4294967295 | g >>> 18);
        g = c + (f ^ b & (e ^ f)) + d[4] + 3889429448 & 4294967295;
        c =
            e + (g << 20 & 4294967295 | g >>> 12);
        g = b + (e ^ f & (c ^ e)) + d[9] + 568446438 & 4294967295;
        b = c + (g << 5 & 4294967295 | g >>> 27);
        g = f + (c ^ e & (b ^ c)) + d[14] + 3275163606 & 4294967295;
        f = b + (g << 9 & 4294967295 | g >>> 23);
        g = e + (b ^ c & (f ^ b)) + d[3] + 4107603335 & 4294967295;
        e = f + (g << 14 & 4294967295 | g >>> 18);
        g = c + (f ^ b & (e ^ f)) + d[8] + 1163531501 & 4294967295;
        c = e + (g << 20 & 4294967295 | g >>> 12);
        g = b + (e ^ f & (c ^ e)) + d[13] + 2850285829 & 4294967295;
        b = c + (g << 5 & 4294967295 | g >>> 27);
        g = f + (c ^ e & (b ^ c)) + d[2] + 4243563512 & 4294967295;
        f = b + (g << 9 & 4294967295 | g >>> 23);
        g = e + (b ^ c & (f ^ b)) + d[7] + 1735328473 & 4294967295;
        e = f + (g << 14 & 4294967295 | g >>> 18);
        g = c + (f ^ b & (e ^ f)) + d[12] + 2368359562 & 4294967295;
        c = e + (g << 20 & 4294967295 | g >>> 12);
        g = b + (c ^ e ^ f) + d[5] + 4294588738 & 4294967295;
        b = c + (g << 4 & 4294967295 | g >>> 28);
        g = f + (b ^ c ^ e) + d[8] + 2272392833 & 4294967295;
        f = b + (g << 11 & 4294967295 | g >>> 21);
        g = e + (f ^ b ^ c) + d[11] + 1839030562 & 4294967295;
        e = f + (g << 16 & 4294967295 | g >>> 16);
        g = c + (e ^ f ^ b) + d[14] + 4259657740 & 4294967295;
        c = e + (g << 23 & 4294967295 | g >>> 9);
        g = b + (c ^ e ^ f) + d[1] + 2763975236 & 4294967295;
        b = c + (g << 4 & 4294967295 | g >>> 28);
        g = f + (b ^ c ^ e) + d[4] + 1272893353 & 4294967295;
        f = b + (g << 11 & 4294967295 |
            g >>> 21);
        g = e + (f ^ b ^ c) + d[7] + 4139469664 & 4294967295;
        e = f + (g << 16 & 4294967295 | g >>> 16);
        g = c + (e ^ f ^ b) + d[10] + 3200236656 & 4294967295;
        c = e + (g << 23 & 4294967295 | g >>> 9);
        g = b + (c ^ e ^ f) + d[13] + 681279174 & 4294967295;
        b = c + (g << 4 & 4294967295 | g >>> 28);
        g = f + (b ^ c ^ e) + d[0] + 3936430074 & 4294967295;
        f = b + (g << 11 & 4294967295 | g >>> 21);
        g = e + (f ^ b ^ c) + d[3] + 3572445317 & 4294967295;
        e = f + (g << 16 & 4294967295 | g >>> 16);
        g = c + (e ^ f ^ b) + d[6] + 76029189 & 4294967295;
        c = e + (g << 23 & 4294967295 | g >>> 9);
        g = b + (c ^ e ^ f) + d[9] + 3654602809 & 4294967295;
        b = c + (g << 4 & 4294967295 | g >>> 28);
        g = f + (b ^ c ^ e) + d[12] +
            3873151461 & 4294967295;
        f = b + (g << 11 & 4294967295 | g >>> 21);
        g = e + (f ^ b ^ c) + d[15] + 530742520 & 4294967295;
        e = f + (g << 16 & 4294967295 | g >>> 16);
        g = c + (e ^ f ^ b) + d[2] + 3299628645 & 4294967295;
        c = e + (g << 23 & 4294967295 | g >>> 9);
        g = b + (e ^ (c | ~f)) + d[0] + 4096336452 & 4294967295;
        b = c + (g << 6 & 4294967295 | g >>> 26);
        g = f + (c ^ (b | ~e)) + d[7] + 1126891415 & 4294967295;
        f = b + (g << 10 & 4294967295 | g >>> 22);
        g = e + (b ^ (f | ~c)) + d[14] + 2878612391 & 4294967295;
        e = f + (g << 15 & 4294967295 | g >>> 17);
        g = c + (f ^ (e | ~b)) + d[5] + 4237533241 & 4294967295;
        c = e + (g << 21 & 4294967295 | g >>> 11);
        g = b + (e ^ (c | ~f)) + d[12] + 1700485571 &
            4294967295;
        b = c + (g << 6 & 4294967295 | g >>> 26);
        g = f + (c ^ (b | ~e)) + d[3] + 2399980690 & 4294967295;
        f = b + (g << 10 & 4294967295 | g >>> 22);
        g = e + (b ^ (f | ~c)) + d[10] + 4293915773 & 4294967295;
        e = f + (g << 15 & 4294967295 | g >>> 17);
        g = c + (f ^ (e | ~b)) + d[1] + 2240044497 & 4294967295;
        c = e + (g << 21 & 4294967295 | g >>> 11);
        g = b + (e ^ (c | ~f)) + d[8] + 1873313359 & 4294967295;
        b = c + (g << 6 & 4294967295 | g >>> 26);
        g = f + (c ^ (b | ~e)) + d[15] + 4264355552 & 4294967295;
        f = b + (g << 10 & 4294967295 | g >>> 22);
        g = e + (b ^ (f | ~c)) + d[6] + 2734768916 & 4294967295;
        e = f + (g << 15 & 4294967295 | g >>> 17);
        g = c + (f ^ (e | ~b)) + d[13] + 1309151649 &
            4294967295;
        c = e + (g << 21 & 4294967295 | g >>> 11);
        g = b + (e ^ (c | ~f)) + d[4] + 4149444226 & 4294967295;
        b = c + (g << 6 & 4294967295 | g >>> 26);
        g = f + (c ^ (b | ~e)) + d[11] + 3174756917 & 4294967295;
        f = b + (g << 10 & 4294967295 | g >>> 22);
        g = e + (b ^ (f | ~c)) + d[2] + 718787259 & 4294967295;
        e = f + (g << 15 & 4294967295 | g >>> 17);
        g = c + (f ^ (e | ~b)) + d[9] + 3951481745 & 4294967295;
        a.i[0] = a.i[0] + b & 4294967295;
        a.i[1] = a.i[1] + (e + (g << 21 & 4294967295 | g >>> 11)) & 4294967295;
        a.i[2] = a.i[2] + e & 4294967295;
        a.i[3] = a.i[3] + f & 4294967295
    }
    Jq.prototype.update = function(a, b) {
        void 0 === b && (b = a.length);
        for (var c = b - this.blockSize, d = this.B, e = this.l, f = 0; f < b;) {
            if (0 == e)
                for (; f <= c;) Kq(this, a, f), f += this.blockSize;
            if ("string" === typeof a)
                for (; f < b;) {
                    if (d[e++] = a.charCodeAt(f++), e == this.blockSize) {
                        Kq(this, d);
                        e = 0;
                        break
                    }
                } else
                    for (; f < b;)
                        if (d[e++] = a[f++], e == this.blockSize) {
                            Kq(this, d);
                            e = 0;
                            break
                        }
        }
        this.l = e;
        this.u += b
    };
    Jq.prototype.digest = function() {
        var a = Array((56 > this.l ? this.blockSize : 2 * this.blockSize) - this.l);
        a[0] = 128;
        for (var b = 1; b < a.length - 8; ++b) a[b] = 0;
        var c = 8 * this.u;
        for (b = a.length - 8; b < a.length; ++b) a[b] = c & 255, c /= 256;
        this.update(a);
        a = Array(16);
        for (b = c = 0; 4 > b; ++b)
            for (var d = 0; 32 > d; d += 8) a[c++] = this.i[b] >>> d & 255;
        return a
    };

    function Lq() {
        this.l = null
    }
    v(Lq, fq);
    Lq.prototype.i = function(a) {
        var b = fq.prototype.i.call(this, a);
        var c = Cq = Va();
        var d = Hq(5);
        c = (Eq ? !d : d) ? c | 2 : c & -3;
        d = Hq(2);
        c = (Fq ? !d : d) ? c | 8 : c & -9;
        c = {
            s1: (c >>> 0).toString(16)
        };
        this.l || (this.l = Lea());
        b.C = this.l;
        b.D = eq(a, oea, c, "h", Mq("kArwaWEsTs"));
        b.B = eq(a, qea, {}, "h", Mq("b96YPMzfnx"));
        b.l = eq(a, rea, {}, "h", Mq("yb8Wev6QDg"));
        return b
    };

    function Mq(a) {
        return function(b) {
            var c = new Jq;
            c.update(b + a);
            return kaa(c.digest()).slice(-8)
        }
    };

    function Nq(a, b) {
        this.u = a;
        this.B = b
    }

    function Ho(a, b, c) {
        var d = a.i(c);
        if ("function" === typeof d) {
            var e = {};
            e = (e.sv = "898", e.cb = "j", e.e = Nea(b), e);
            var f = Uo(c, b, Nn());
            jc(e, f);
            c.IB[b] = f;
            a = 2 == c.Ig() ? wda(e).join("&") : a.B.i(e).i;
            try {
                return d(c.Pd, a, b), 0
            } catch (g) {
                return 2
            }
        } else return 1
    }

    function Nea(a) {
        var b = Zp(a) ? "custom_metric_viewable" : a;
        a = Yb(An, function(c) {
            return c == b
        });
        return Bn[a]
    }
    Nq.prototype.i = function() {
        return Ja(this.u)
    };

    function Oq(a, b, c) {
        Nq.call(this, a, b);
        this.l = c
    }
    v(Oq, Nq);
    Oq.prototype.i = function(a) {
        if (!a.Vf) return Nq.prototype.i.call(this, a);
        var b = this.l[a.Vf];
        if (b) return function(c, d, e) {
            b.l(c, d, e)
        };
        qn(393, Error());
        return null
    };

    function Pq() {
        sq.call(this);
        this.D = null;
        this.C = !1;
        this.I = {};
        this.u = new Lq
    }
    v(Pq, sq);
    h = Pq.prototype;
    h.Zp = function(a, b) {
        var c = this,
            d = wp.getInstance();
        if (null != d.i) switch (d.i.getName()) {
            case "nis":
                var e = Oea(this, a, b);
                break;
            case "gsv":
                e = Pea(this, a, b);
                break;
            case "exc":
                e = Qea(this, a)
        }
        e || (b.opt_overlayAdElement ? e = void 0 : b.opt_adElement && (e = Fea(this, a, b.opt_adElement, b.opt_osdId)));
        e && 1 == e.Ig() && (e.I == Ka && (e.I = function(f) {
            return c.Hw(f)
        }), Rea(this, e, b));
        return e
    };

    function Rea(a, b, c) {
        c = c.opt_configurable_tracking_events;
        null != a.l && Array.isArray(c) && Cea(a, c, b)
    }
    h.Hw = function(a) {
        a.l = 0;
        a.X = 0;
        if ("h" == a.B || "n" == a.B) {
            var b;
            Wm.getInstance();
            if (a.Vf && Qq(this)) {
                var c = this.I[a.Vf];
                c ? b = function(e) {
                    return c.i(e)
                } : null !== c && qn(379, Error())
            } else b = Ja("ima.common.getVideoMetadata");
            if ("function" === typeof b) try {
                var d = b(a.Pd)
            } catch (e) {
                a.l |= 4
            } else a.l |= 2
        } else if ("b" == a.B)
            if (b = Ja("ytads.bulleit.getVideoMetadata"), "function" === typeof b) try {
                d = b(a.Pd)
            } catch (e) {
                a.l |= 4
            } else a.l |= 2;
            else if ("ml" == a.B)
            if (b = Ja("ima.common.getVideoMetadata"), "function" === typeof b) try {
                d = b(a.Pd)
            } catch (e) {
                a.l |= 4
            } else a.l |= 2;
            else a.l |= 1;
        a.l || (void 0 === d ? a.l |= 8 : null === d ? a.l |= 16 : bc(d) ? a.l |= 32 : null != d.errorCode && (a.X = d.errorCode, a.l |= 64));
        null == d && (d = {});
        Gea(d, a);
        Jn(d.volume) && Jn(void 0) && (d.volume *= NaN);
        return d
    };

    function Pea(a, b, c) {
        var d = qp(tp, b);
        d || (d = c.opt_nativeTime || -1, d = tq(a, b, wq(a), d), c.opt_osdId && (d.Vf = c.opt_osdId));
        return d
    }

    function Oea(a, b, c) {
        var d = qp(tp, b);
        d || (d = tq(a, b, "n", c.opt_nativeTime || -1));
        return d
    }

    function Qea(a, b) {
        var c = qp(tp, b);
        c || (c = tq(a, b, "h", -1));
        return c
    }
    h.dy = function() {
        if (Qq(this)) return new Oq("ima.common.triggerExternalActivityEvent", this.u, this.I);
        var a = Sea(this);
        return null != a ? new Nq(a, this.u) : null
    };

    function Sea(a) {
        Wm.getInstance();
        switch (wq(a)) {
            case "b":
                return "ytads.bulleit.triggerExternalActivityEvent";
            case "n":
                return "ima.bridge.triggerExternalActivityEvent";
            case "h":
            case "m":
            case "ml":
                return "ima.common.triggerExternalActivityEvent"
        }
        return null
    }
    h.vv = function(a) {
        !a.i && a.lm && xq(this, a, "overlay_unmeasurable_impression") && (a.i = !0)
    };
    h.WA = function(a) {
        a.jB && (a.Hk() ? xq(this, a, "overlay_viewable_end_of_session_impression") : xq(this, a, "overlay_unviewable_impression"), a.jB = !1)
    };

    function Rq(a, b, c, d) {
        c = void 0 === c ? {} : c;
        var e = {};
        jc(e, {
            opt_adElement: void 0,
            opt_fullscreen: void 0
        }, c);
        if (e.opt_bounds) return a.u.i(Xp("ol", d));
        if (void 0 !== d)
            if (void 0 !== Yp(d))
                if (Op) b = Xp("ue", d);
                else if (Eea(a), "i" == Np) b = Xp("i", d), b["if"] = 0;
        else if (b = a.Zp(b, e))
            if (a.B && 3 == b.Le) b = "stopped";
            else {
                b: {
                    "i" == Np && (b.lm = !0, a.Bv());c = e.opt_fullscreen;void 0 !== c && wo(b, !!c);
                    var f;
                    if (c = !Kn.getInstance().l)(c = Nc(fd, "CrKey") || Nc(fd, "PlayStation") || Nc(fd, "Roku") || sda() || Nc(fd, "Xbox")) || (c = fd, c = Nc(c, "AppleTV") || Nc(c,
                        "Apple TV") || Nc(c, "CFNetwork") || Nc(c, "tvOS")),
                    c || (c = fd, c = Nc(c, "sdk_google_atv_x86") || Nc(c, "Android TV")),
                    c = !c;c && (Qm(), c = 0 === Fm(zl));
                    if (f = c) {
                        switch (b.Ig()) {
                            case 1:
                                yq(a, b, "pv");
                                break;
                            case 2:
                                a.vv(b)
                        }
                        vq("pv")
                    }
                    c = d.toLowerCase();
                    if (f = !f) f = Am(Wm.getInstance().featureSet, "ssmol") && "loaded" === c ? !1 : xb(nda, c);
                    if (f && 0 == b.Le) {
                        "i" != Np && (Ip.done = !1);
                        f = void 0 !== e ? e.opt_nativeTime : void 0;
                        un = f = "number" === typeof f ? f : wn();
                        b.Gp = !0;
                        var g = Nn();
                        b.Le = 1;
                        b.Id = {};
                        b.Id.start = !1;
                        b.Id.firstquartile = !1;
                        b.Id.midpoint = !1;
                        b.Id.thirdquartile = !1;
                        b.Id.complete = !1;
                        b.Id.resume = !1;
                        b.Id.pause = !1;
                        b.Id.skip = !1;
                        b.Id.mute = !1;
                        b.Id.unmute = !1;
                        b.Id.viewable_impression = !1;
                        b.Id.measurable_impression = !1;
                        b.Id.fully_viewable_audible_half_duration_impression = !1;
                        b.Id.fullscreen = !1;
                        b.Id.exitfullscreen = !1;
                        b.Ts = 0;
                        g || (b.Xe().I = f);
                        Jp(Ip, [b], !g)
                    }(f = b.ll[c]) && Bo(b.Dd, f);xb(oda, c) && !b.lm && b.Lk && 0 != b.Le && (f = b.Lk, f.i || (f.i = Go(f, b)));
                    switch (b.Ig()) {
                        case 1:
                            var k = Zp(c) ? a.J.custom_metric_viewable : a.J[c];
                            break;
                        case 2:
                            k = a.K[c]
                    }
                    if (k && (d = k.call(a, b, e, d), void 0 !== d)) {
                        e = Xp(void 0,
                            c);
                        jc(e, d);
                        d = e;
                        break b
                    }
                    d = void 0
                }
                3 == b.Le && (a.B ? b.Gc && b.Gc.Wm() : a.In(b));b = d
            }
        else b = Xp("nf", d);
        else b = void 0;
        else Op ? b = Xp("ue") : (b = a.Zp(b, e)) ? (d = Xp(), jc(d, mp(b, !0, !1, !1)), b = d) : b = Xp("nf");
        return "string" === typeof b ? a.B && "stopped" === b ? Sq : a.u.i(void 0) : a.u.i(b)
    }
    h.gz = function() {};
    h.Bv = function() {};

    function Qq(a) {
        return Wm.getInstance(), "h" != wq(a) && wq(a), !1
    }
    h.Ko = function(a, b, c, d) {
        a = sq.prototype.Ko.call(this, a, b, c, d);
        this.C && (b = this.D, null == a.C && (a.C = new Ida), b.i[a.Pd] = a.C, a.C.C = Uda);
        return a
    };
    h.In = function(a) {
        a && 1 == a.Ig() && this.C && delete this.D.i[a.Pd];
        return sq.prototype.In.call(this, a)
    };

    function Tq(a) {
        var b = {};
        return b.viewability = a.i, b.googleViewability = a.u, b.moatInit = a.C, b.moatViewability = a.D, b.integralAdsViewability = a.B, b.doubleVerifyViewability = a.l, b
    }

    function Uq(a, b, c) {
        c = void 0 === c ? {} : c;
        a = Rq(Pq.getInstance(), b, c, a);
        return Tq(a)
    }

    function Vq(a, b) {
        b = void 0 === b ? !1 : b;
        var c = Pq.getInstance().Zp(a, {});
        c ? No(c) : b && (a = Pq.getInstance().Ko(null, wn(), !1, a), a.Le = 3, vp([a]))
    }
    La(Pq);
    var Sq = new dq;
    Sq.C = "stopped";
    Sq.i = "stopped";
    Sq.u = "stopped";
    Sq.D = "stopped";
    Sq.B = "stopped";
    Sq.l = "stopped";
    Object.freeze(Sq);
    var Tea = ln(193, Uq, Aq);
    Ia("Goog_AdSense_Lidar_sendVastEvent", Tea, void 0);
    var Uea = pn(194, function(a, b) {
        b = void 0 === b ? {} : b;
        a = Rq(Pq.getInstance(), a, b);
        return Tq(a)
    });
    Ia("Goog_AdSense_Lidar_getViewability", Uea, void 0);
    var Vea = ln(195, function() {
        return Sm()
    }, void 0);
    Ia("Goog_AdSense_Lidar_getUrlSignalsArray", Vea, void 0);
    var Wea = pn(196, function() {
        return li(Sm())
    });
    Ia("Goog_AdSense_Lidar_getUrlSignalsList", Wea, void 0);
    var Xea = (new Date).getTime();
    var Wq = "://secure-...imrworldwide.com/ ://cdn.imrworldwide.com/ ://aksecure.imrworldwide.com/ ://[^.]*.moatads.com ://youtube[0-9]+.moatpixel.com ://pm.adsafeprotected.com/youtube ://pm.test-adsafeprotected.com/youtube ://e[0-9]+.yt.srs.doubleverify.com www.google.com/pagead/xsul www.youtube.com/pagead/slav".split(" "),
        Yea = /\bocr\b/;

    function Xq(a) {
        if (Ec(Ed(a))) return !1;
        if (0 <= a.indexOf("://pagead2.googlesyndication.com/pagead/gen_204?id=yt3p&sr=1&")) return !0;
        try {
            var b = new Ek(a)
        } catch (c) {
            return null != tb(Wq, function(d) {
                return 0 < a.search(d)
            })
        }
        return b.B.match(Yea) ? !0 : null != tb(Wq, function(c) {
            return null != a.match(c)
        })
    };
    var Zea = /(?:\[|%5B)([a-zA-Z0-9_]+)(?:\]|%5D)/g;

    function Yq(a, b) {
        return a.replace(Zea, function(c, d) {
            try {
                var e = ec(b, d);
                if (null == e) return c;
                e = e.toString();
                if ("" == e || !Ec(Ed(e))) return encodeURIComponent(e).replace(/%2C/g, ",")
            } catch (f) {}
            return c
        })
    };

    function Zq() {
        this.data_ = [];
        this.i = -1
    }
    Zq.prototype.set = function(a, b) {
        b = void 0 === b ? !0 : b;
        0 <= a && 52 > a && 0 === a % 1 && this.data_[a] != b && (this.data_[a] = b, this.i = -1)
    };
    Zq.prototype.get = function(a) {
        return !!this.data_[a]
    };

    function $ea(a) {
        -1 == a.i && (a.i = qb(a.data_, function(b, c, d) {
            return c ? b + Math.pow(2, d) : b
        }, 0));
        return a.i
    };

    function $q(a, b, c) {
        C.call(this);
        this.i = null;
        this.B = !1;
        this.D = a;
        this.C = c;
        this.l = b || window;
        this.u = Sa(this.oC, this)
    }
    Xa($q, C);
    h = $q.prototype;
    h.start = function() {
        this.stop();
        this.B = !1;
        var a = ar(this),
            b = br(this);
        a && !b && this.l.mozRequestAnimationFrame ? (this.i = eg(this.l, "MozBeforePaint", this.u), this.l.mozRequestAnimationFrame(null), this.B = !0) : this.i = a && b ? a.call(this.l, this.u) : this.l.setTimeout(gb(this.u), 20)
    };

    function cr(a) {
        a.isActive() || a.start()
    }
    h.stop = function() {
        if (this.isActive()) {
            var a = ar(this),
                b = br(this);
            a && !b && this.l.mozRequestAnimationFrame ? lg(this.i) : a && b ? b.call(this.l, this.i) : this.l.clearTimeout(this.i)
        }
        this.i = null
    };
    h.isActive = function() {
        return null != this.i
    };
    h.oC = function() {
        this.B && this.i && lg(this.i);
        this.i = null;
        this.D.call(this.C, Va())
    };
    h.Da = function() {
        this.stop();
        $q.re.Da.call(this)
    };

    function ar(a) {
        a = a.l;
        return a.requestAnimationFrame || a.webkitRequestAnimationFrame || a.mozRequestAnimationFrame || a.oRequestAnimationFrame || a.msRequestAnimationFrame || null
    }

    function br(a) {
        a = a.l;
        return a.cancelAnimationFrame || a.cancelRequestAnimationFrame || a.webkitCancelRequestAnimationFrame || a.mozCancelRequestAnimationFrame || a.oCancelRequestAnimationFrame || a.msCancelRequestAnimationFrame || null
    };

    function dr(a, b, c) {
        C.call(this);
        this.i = a;
        this.fm = b || 0;
        this.l = c;
        this.u = Sa(this.Iw, this)
    }
    Xa(dr, C);
    h = dr.prototype;
    h.Ym = 0;
    h.Da = function() {
        dr.re.Da.call(this);
        this.stop();
        delete this.i;
        delete this.l
    };
    h.start = function(a) {
        this.stop();
        this.Ym = Gh(this.u, void 0 !== a ? a : this.fm)
    };

    function er(a, b) {
        a.isActive() || a.start(b)
    }
    h.stop = function() {
        this.isActive() && A.clearTimeout(this.Ym);
        this.Ym = 0
    };
    h.isActive = function() {
        return 0 != this.Ym
    };
    h.Iw = function() {
        this.Ym = 0;
        this.i && this.i.call(this.l)
    };
    var afa = /#(.)(.)(.)/;

    function fr(a) {
        if (!bfa.test(a)) throw Error("'" + a + "' is not a valid hex color");
        4 == a.length && (a = a.replace(afa, "#$1$1$2$2$3$3"));
        a = a.toLowerCase();
        a = parseInt(a.substr(1), 16);
        return [a >> 16, a >> 8 & 255, a & 255]
    }
    var bfa = /^#(?:[0-9a-f]{3}){1,2}$/i;

    function gr() {
        this.blockSize = -1;
        this.blockSize = 64;
        this.i = [];
        this.C = [];
        this.D = [];
        this.B = [];
        this.B[0] = 128;
        for (var a = 1; a < this.blockSize; ++a) this.B[a] = 0;
        this.u = this.l = 0;
        this.reset()
    }
    Xa(gr, Iq);
    gr.prototype.reset = function() {
        this.i[0] = 1732584193;
        this.i[1] = 4023233417;
        this.i[2] = 2562383102;
        this.i[3] = 271733878;
        this.i[4] = 3285377520;
        this.u = this.l = 0
    };

    function hr(a, b, c) {
        c || (c = 0);
        var d = a.D;
        if ("string" === typeof b)
            for (var e = 0; 16 > e; e++) d[e] = b.charCodeAt(c) << 24 | b.charCodeAt(c + 1) << 16 | b.charCodeAt(c + 2) << 8 | b.charCodeAt(c + 3), c += 4;
        else
            for (e = 0; 16 > e; e++) d[e] = b[c] << 24 | b[c + 1] << 16 | b[c + 2] << 8 | b[c + 3], c += 4;
        for (e = 16; 80 > e; e++) {
            var f = d[e - 3] ^ d[e - 8] ^ d[e - 14] ^ d[e - 16];
            d[e] = (f << 1 | f >>> 31) & 4294967295
        }
        b = a.i[0];
        c = a.i[1];
        var g = a.i[2],
            k = a.i[3],
            l = a.i[4];
        for (e = 0; 80 > e; e++) {
            if (40 > e)
                if (20 > e) {
                    f = k ^ c & (g ^ k);
                    var m = 1518500249
                } else f = c ^ g ^ k, m = 1859775393;
            else 60 > e ? (f = c & g | k & (c | g), m = 2400959708) :
                (f = c ^ g ^ k, m = 3395469782);
            f = (b << 5 | b >>> 27) + f + l + m + d[e] & 4294967295;
            l = k;
            k = g;
            g = (c << 30 | c >>> 2) & 4294967295;
            c = b;
            b = f
        }
        a.i[0] = a.i[0] + b & 4294967295;
        a.i[1] = a.i[1] + c & 4294967295;
        a.i[2] = a.i[2] + g & 4294967295;
        a.i[3] = a.i[3] + k & 4294967295;
        a.i[4] = a.i[4] + l & 4294967295
    }
    gr.prototype.update = function(a, b) {
        if (null != a) {
            void 0 === b && (b = a.length);
            for (var c = b - this.blockSize, d = 0, e = this.C, f = this.l; d < b;) {
                if (0 == f)
                    for (; d <= c;) hr(this, a, d), d += this.blockSize;
                if ("string" === typeof a)
                    for (; d < b;) {
                        if (e[f] = a.charCodeAt(d), ++f, ++d, f == this.blockSize) {
                            hr(this, e);
                            f = 0;
                            break
                        }
                    } else
                        for (; d < b;)
                            if (e[f] = a[d], ++f, ++d, f == this.blockSize) {
                                hr(this, e);
                                f = 0;
                                break
                            }
            }
            this.l = f;
            this.u += b
        }
    };
    gr.prototype.digest = function() {
        var a = [],
            b = 8 * this.u;
        56 > this.l ? this.update(this.B, 56 - this.l) : this.update(this.B, this.blockSize - (this.l - 56));
        for (var c = this.blockSize - 1; 56 <= c; c--) this.C[c] = b & 255, b /= 256;
        hr(this, this.C);
        for (c = b = 0; 5 > c; c++)
            for (var d = 24; 0 <= d; d -= 8) a[b] = this.i[c] >> d & 255, ++b;
        return a
    };
    var ir = {
            ERAS: ["BC", "AD"],
            ERANAMES: ["Before Christ", "Anno Domini"],
            NARROWMONTHS: "JFMAMJJASOND".split(""),
            STANDALONENARROWMONTHS: "JFMAMJJASOND".split(""),
            MONTHS: "January February March April May June July August September October November December".split(" "),
            STANDALONEMONTHS: "January February March April May June July August September October November December".split(" "),
            SHORTMONTHS: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
            STANDALONESHORTMONTHS: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
            WEEKDAYS: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
            STANDALONEWEEKDAYS: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
            SHORTWEEKDAYS: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
            STANDALONESHORTWEEKDAYS: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
            NARROWWEEKDAYS: "SMTWTFS".split(""),
            STANDALONENARROWWEEKDAYS: "SMTWTFS".split(""),
            SHORTQUARTERS: ["Q1", "Q2", "Q3", "Q4"],
            QUARTERS: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"],
            AMPMS: ["AM", "PM"],
            DATEFORMATS: ["EEEE, MMMM d, y",
                "MMMM d, y", "MMM d, y", "M/d/yy"
            ],
            TIMEFORMATS: ["h:mm:ss a zzzz", "h:mm:ss a z", "h:mm:ss a", "h:mm a"],
            DATETIMEFORMATS: ["{1} 'at' {0}", "{1} 'at' {0}", "{1}, {0}", "{1}, {0}"],
            FIRSTDAYOFWEEK: 6,
            WEEKENDRANGE: [5, 6],
            FIRSTWEEKCUTOFFDAY: 5
        },
        jr = ir;
    jr = ir;

    function kr(a) {
        "number" === typeof a ? (this.date = lr(a, 0, 1), mr(this, 1)) : Oa(a) ? (this.date = lr(a.getFullYear(), a.getMonth(), a.getDate()), mr(this, a.getDate())) : (this.date = new Date(Va()), a = this.date.getDate(), this.date.setHours(0), this.date.setMinutes(0), this.date.setSeconds(0), this.date.setMilliseconds(0), mr(this, a))
    }

    function lr(a, b, c) {
        b = new Date(a, b, c);
        0 <= a && 100 > a && b.setFullYear(b.getFullYear() - 1900);
        return b
    }
    h = kr.prototype;
    h.zy = jr.FIRSTDAYOFWEEK;
    h.Ay = jr.FIRSTWEEKCUTOFFDAY;
    h.clone = function() {
        var a = new kr(this.date);
        a.zy = this.zy;
        a.Ay = this.Ay;
        return a
    };
    h.getFullYear = function() {
        return this.date.getFullYear()
    };
    h.getMonth = function() {
        return this.date.getMonth()
    };
    h.getDate = function() {
        return this.date.getDate()
    };
    h.set = function(a) {
        this.date = new Date(a.getFullYear(), a.getMonth(), a.getDate())
    };
    h.add = function(a) {
        if (a.l || a.i) {
            var b = this.getMonth() + a.i + 12 * a.l,
                c = this.getFullYear() + Math.floor(b / 12);
            b %= 12;
            0 > b && (b += 12);
            a: {
                switch (b) {
                    case 1:
                        var d = 0 != c % 4 || 0 == c % 100 && 0 != c % 400 ? 28 : 29;
                        break a;
                    case 5:
                    case 8:
                    case 10:
                    case 3:
                        d = 30;
                        break a
                }
                d = 31
            }
            d = Math.min(d, this.getDate());
            this.date.setDate(1);
            this.date.setFullYear(c);
            this.date.setMonth(b);
            this.date.setDate(d)
        }
        a.days && (a = new Date((new Date(this.getFullYear(), this.getMonth(), this.getDate(), 12)).getTime() + 864E5 * a.days), this.date.setDate(1), this.date.setFullYear(a.getFullYear()),
            this.date.setMonth(a.getMonth()), this.date.setDate(a.getDate()), mr(this, a.getDate()))
    };
    h.toString = function() {
        return [this.getFullYear(), Dd(this.getMonth() + 1), Dd(this.getDate())].join("") + ""
    };

    function mr(a, b) {
        a.getDate() != b && a.date.setUTCHours(a.date.getUTCHours() + (a.getDate() < b ? 1 : -1))
    }
    h.valueOf = function() {
        return this.date.valueOf()
    };

    function nr(a) {
        return "string" == typeof a.className ? a.className : a.getAttribute && a.getAttribute("class") || ""
    }

    function or(a) {
        return a.classList ? a.classList : nr(a).match(/\S+/g) || []
    }

    function pr(a, b) {
        "string" == typeof a.className ? a.className = b : a.setAttribute && a.setAttribute("class", b)
    }

    function qr(a, b) {
        return a.classList ? a.classList.contains(b) : xb(or(a), b)
    }

    function rr(a, b) {
        if (a.classList) a.classList.add(b);
        else if (!qr(a, b)) {
            var c = nr(a);
            pr(a, c + (0 < c.length ? " " + b : b))
        }
    }

    function cfa(a, b) {
        if (a.classList) Array.prototype.forEach.call(b, function(e) {
            rr(a, e)
        });
        else {
            var c = {};
            Array.prototype.forEach.call(or(a), function(e) {
                c[e] = !0
            });
            Array.prototype.forEach.call(b, function(e) {
                c[e] = !0
            });
            b = "";
            for (var d in c) b += 0 < b.length ? " " + d : d;
            pr(a, b)
        }
    }

    function sr(a, b) {
        a.classList ? a.classList.remove(b) : qr(a, b) && pr(a, Array.prototype.filter.call(or(a), function(c) {
            return c != b
        }).join(" "))
    }

    function tr(a, b, c) {
        c ? rr(a, b) : sr(a, b)
    };

    function dfa() {
        if (!ne) return !1;
        try {
            return new ActiveXObject("MSXML2.DOMDocument"), !0
        } catch (a) {
            return !1
        }
    }
    var efa = ne && dfa();

    function ur(a) {
        if ("undefined" != typeof DOMParser) return xd(new DOMParser, Xl(a), "application/xml");
        if (efa) {
            var b = new ActiveXObject("MSXML2.DOMDocument");
            b.resolveExternals = !1;
            b.validateOnParse = !1;
            try {
                b.setProperty("ProhibitDTD", !0), b.setProperty("MaxXMLSize", 2048), b.setProperty("MaxElementDepth", 256)
            } catch (c) {}
            b.loadXML(a);
            return b
        }
        throw Error("Your browser does not support loading xml documents");
    };

    function vr() {
        ng.call(this);
        this.Oa = 0;
        this.endTime = this.startTime = null
    }
    Xa(vr, ng);
    vr.prototype.Kc = function() {
        return 1 == this.Oa
    };
    vr.prototype.onFinish = function() {
        this.dispatchEvent("finish")
    };

    function ffa(a, b) {
        Array.isArray(b) || (b = [b]);
        b = b.map(function(c) {
            return "string" === typeof c ? c : c.property + " " + c.duration + "s " + c.timing + " " + c.delay + "s"
        });
        $l(a, "transition", b.join(","))
    }
    var gfa = ib(function() {
        if (ne) return Fe("10.0");
        var a = Og("DIV"),
            b = re ? "-webkit" : qe ? "-moz" : ne ? "-ms" : me ? "-o" : null,
            c = {
                transition: "opacity 1s linear"
            };
        b && (c[b + "-transition"] = "opacity 1s linear");
        b = {
            style: c
        };
        if (!sd.test("div")) throw Error("");
        if ("DIV" in Iaa) throw Error("");
        c = null;
        var d = "";
        if (b)
            for (g in b)
                if (Object.prototype.hasOwnProperty.call(b, g)) {
                    if (!sd.test(g)) throw Error("");
                    var e = b[g];
                    if (null != e) {
                        var f = g;
                        if (e instanceof nc) e = rc(e);
                        else if ("style" == f.toLowerCase()) {
                            if (!Oa(e)) throw Error("");
                            e instanceof
                            Yc || (e = bd(e));
                            e = $c(e)
                        } else {
                            if (/^on/i.test(f)) throw Error("");
                            if (f.toLowerCase() in Haa)
                                if (e instanceof vc) e = xc(e).toString();
                                else if (e instanceof Qc) e = Sc(e);
                            else if ("string" === typeof e) e = (Uc(e) || Xc).Qf();
                            else throw Error("");
                        }
                        e.Kg && (e = e.Qf());
                        f = f + '="' + Gc(String(e)) + '"';
                        d += " " + f
                    }
                } var g = "<div" + d;
        d = void 0;
        null == d ? d = [] : Array.isArray(d) || (d = [d]);
        !0 === taa.div ? g += ">" : (c = Kaa(d), g += ">" + pd(c).toString() + "</div>", c = c.Wl());
        (b = b && b.dir) && (/^(ltr|rtl|auto)$/i.test(b) ? c = 0 : c = null);
        b = rd(g, c);
        if (Naa())
            for (; a.lastChild;) a.removeChild(a.lastChild);
        a.innerHTML = pd(b);
        return "" != cm(a.firstChild, "transition")
    });

    function wr(a, b, c, d, e) {
        vr.call(this);
        this.i = a;
        this.C = b;
        this.D = c;
        this.u = d;
        this.G = Array.isArray(e) ? e : [e]
    }
    Xa(wr, vr);
    h = wr.prototype;
    h.play = function() {
        if (this.Kc()) return !1;
        this.dispatchEvent("begin");
        this.dispatchEvent("play");
        this.startTime = Va();
        this.Oa = 1;
        if (gfa()) return $l(this.i, this.D), this.l = Gh(this.VG, void 0, this), !0;
        this.Fr(!1);
        return !1
    };
    h.VG = function() {
        km(this.i);
        ffa(this.i, this.G);
        $l(this.i, this.u);
        this.l = Gh(Sa(this.Fr, this, !1), 1E3 * this.C)
    };
    h.stop = function() {
        this.Kc() && this.Fr(!0)
    };
    h.Fr = function(a) {
        $l(this.i, "transition", "");
        A.clearTimeout(this.l);
        $l(this.i, this.u);
        this.endTime = Va();
        this.Oa = 0;
        if (a) this.dispatchEvent("stop");
        else this.onFinish();
        this.dispatchEvent("end")
    };
    h.Da = function() {
        this.stop();
        wr.re.Da.call(this)
    };
    h.pause = function() {};

    function xr(a, b, c, d) {
        return new wr(a, b, {
            opacity: c
        }, {
            opacity: d
        }, {
            property: "opacity",
            duration: b,
            timing: "ease-in",
            delay: 0
        })
    };
    var hfa = {
        rgb: !0,
        rgba: !0,
        alpha: !0,
        rect: !0,
        image: !0,
        "linear-gradient": !0,
        "radial-gradient": !0,
        "repeating-linear-gradient": !0,
        "repeating-radial-gradient": !0,
        "cubic-bezier": !0,
        matrix: !0,
        perspective: !0,
        rotate: !0,
        rotate3d: !0,
        rotatex: !0,
        rotatey: !0,
        steps: !0,
        rotatez: !0,
        scale: !0,
        scale3d: !0,
        scalex: !0,
        scaley: !0,
        scalez: !0,
        skew: !0,
        skewx: !0,
        skewy: !0,
        translate: !0,
        translate3d: !0,
        translatex: !0,
        translatey: !0,
        translatez: !0
    };

    function ifa(a) {
        a = Fc(a);
        if ("" == a) return null;
        var b = String(a.substr(0, 4)).toLowerCase();
        if (0 == ("url(" < b ? -1 : "url(" == b ? 0 : 1)) return !a.endsWith(")") || 1 < (a ? a.split("(").length - 1 : 0) || a && a.split(")"), null;
        if (0 < a.indexOf("(")) {
            if (/"|'/.test(a)) return null;
            b = /([\-\w]+)\(/g;
            for (var c; c = b.exec(a);)
                if (!(c[1].toLowerCase() in hfa)) return null
        }
        return a
    };

    function yr(a) {
        var b = A.CSSStyleDeclaration;
        return b && b.prototype && b.prototype[a] || null
    }
    var jfa = yr("getPropertyValue"),
        kfa = yr("setProperty");

    function zr(a, b, c, d) {
        if (a) return a.apply(b, d);
        if (ne && 10 > document.documentMode) {
            if (!b[c].call) throw Error("IE Clobbering detected");
        } else if ("function" != typeof b[c]) throw Error("Clobbering detected");
        return b[c].apply(b, d)
    };
    var lfa = {
        "-webkit-border-horizontal-spacing": !0,
        "-webkit-border-vertical-spacing": !0
    };

    function mfa(a) {
        if (!a) return ad;
        var b = document.createElement("div").style;
        nfa(a).forEach(function(c) {
            var d = re && c in lfa ? c : c.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/i, "");
            zc(d, "--") || zc(d, "var") || (c = zr(jfa, a, a.getPropertyValue ? "getPropertyValue" : "getAttribute", [c]) || "", c = ifa(c), null != c && zr(kfa, b, b.setProperty ? "setProperty" : "setAttribute", [d, c]))
        });
        return Laa(b.cssText || "")
    }

    function nfa(a) {
        Na(a) ? a = Cb(a) : (a = Vb(a), zb(a, "cssText"));
        return a
    };
    var Ar = {
        aa: "Afar",
        ab: "Abkhazian",
        ace: "Achinese",
        ach: "Acoli",
        ada: "Adangme",
        ady: "Adyghe",
        ae: "Avestan",
        af: "Afrikaans",
        afh: "Afrihili",
        agq: "Aghem",
        ain: "Ainu",
        ak: "Akan",
        akk: "Akkadian",
        ale: "Aleut",
        alt: "Southern Altai",
        am: "Amharic",
        an: "Aragonese",
        ang: "Old English",
        anp: "Angika",
        ar: "Arabic",
        ar_001: "Arabic (world)",
        arc: "Aramaic",
        arn: "Mapuche",
        arp: "Arapaho",
        ars: "Najdi Arabic",
        arw: "Arawak",
        as: "Assamese",
        asa: "Asu",
        ast: "Asturian",
        av: "Avaric",
        awa: "Awadhi",
        ay: "Aymara",
        az: "Azerbaijani",
        az_Cyrl: "Azerbaijani (Cyrillic)",
        az_Latn: "Azerbaijani (Latin)",
        ba: "Bashkir",
        bal: "Baluchi",
        ban: "Balinese",
        bas: "Basaa",
        bax: "Bamun",
        bbj: "Ghomala",
        be: "Belarusian",
        bej: "Beja",
        bem: "Bemba",
        bez: "Bena",
        bfd: "Bafut",
        bg: "Bulgarian",
        bho: "Bhojpuri",
        bi: "Bislama",
        bik: "Bikol",
        bin: "Bini",
        bkm: "Kom",
        bla: "Siksika",
        bm: "Bambara",
        bn: "Bangla",
        bo: "Tibetan",
        br: "Breton",
        bra: "Braj",
        brx: "Bodo",
        bs: "Bosnian",
        bs_Cyrl: "Bosnian (Cyrillic)",
        bs_Latn: "Bosnian (Latin)",
        bss: "Akoose",
        bua: "Buriat",
        bug: "Buginese",
        bum: "Bulu",
        byn: "Blin",
        byv: "Medumba",
        ca: "Catalan",
        cad: "Caddo",
        car: "Carib",
        cay: "Cayuga",
        cch: "Atsam",
        ccp: "Chakma",
        ce: "Chechen",
        ceb: "Cebuano",
        cgg: "Chiga",
        ch: "Chamorro",
        chb: "Chibcha",
        chg: "Chagatai",
        chk: "Chuukese",
        chm: "Mari",
        chn: "Chinook Jargon",
        cho: "Choctaw",
        chp: "Chipewyan",
        chr: "Cherokee",
        chy: "Cheyenne",
        ckb: "Central Kurdish",
        ckb_Arab: "Central Kurdish (Arabic)",
        co: "Corsican",
        cop: "Coptic",
        cr: "Cree",
        crh: "Crimean Turkish",
        cs: "Czech",
        csb: "Kashubian",
        cu: "Church Slavic",
        cv: "Chuvash",
        cy: "Welsh",
        da: "Danish",
        dak: "Dakota",
        dar: "Dargwa",
        dav: "Taita",
        de: "German",
        de_AT: "German (Austria)",
        de_CH: "German (Switzerland)",
        del: "Delaware",
        den: "Slave",
        dgr: "Dogrib",
        din: "Dinka",
        dje: "Zarma",
        doi: "Dogri",
        dsb: "Lower Sorbian",
        dua: "Duala",
        dum: "Middle Dutch",
        dv: "Divehi",
        dyo: "Jola-Fonyi",
        dyu: "Dyula",
        dz: "Dzongkha",
        dzg: "Dazaga",
        ebu: "Embu",
        ee: "Ewe",
        efi: "Efik",
        egy: "Ancient Egyptian",
        eka: "Ekajuk",
        el: "Greek",
        elx: "Elamite",
        en: "English",
        en_AU: "English (Australia)",
        en_CA: "English (Canada)",
        en_GB: "English (United Kingdom)",
        en_US: "English (United States)",
        enm: "Middle English",
        eo: "Esperanto",
        es: "Spanish",
        es_419: "Spanish (Latin America)",
        es_ES: "Spanish (Spain)",
        es_MX: "Spanish (Mexico)",
        et: "Estonian",
        eu: "Basque",
        ewo: "Ewondo",
        fa: "Persian",
        fa_AF: "Persian (Afghanistan)",
        fan: "Fang",
        fat: "Fanti",
        ff: "Fulah",
        ff_Adlm: "Fulah (Adlam)",
        ff_Latn: "Fulah (Latin)",
        fi: "Finnish",
        fil: "Filipino",
        fj: "Fijian",
        fo: "Faroese",
        fon: "Fon",
        fr: "French",
        fr_CA: "French (Canada)",
        fr_CH: "French (Switzerland)",
        frm: "Middle French",
        fro: "Old French",
        frr: "Northern Frisian",
        frs: "Eastern Frisian",
        fur: "Friulian",
        fy: "Western Frisian",
        ga: "Irish",
        gaa: "Ga",
        gay: "Gayo",
        gba: "Gbaya",
        gd: "Scottish Gaelic",
        gez: "Geez",
        gil: "Gilbertese",
        gl: "Galician",
        gmh: "Middle High German",
        gn: "Guarani",
        goh: "Old High German",
        gon: "Gondi",
        gor: "Gorontalo",
        got: "Gothic",
        grb: "Grebo",
        grc: "Ancient Greek",
        gsw: "Swiss German",
        gu: "Gujarati",
        guz: "Gusii",
        gv: "Manx",
        gwi: "Gwich\u02bcin",
        ha: "Hausa",
        hai: "Haida",
        haw: "Hawaiian",
        he: "Hebrew",
        hi: "Hindi",
        hil: "Hiligaynon",
        hit: "Hittite",
        hmn: "Hmong",
        ho: "Hiri Motu",
        hr: "Croatian",
        hsb: "Upper Sorbian",
        ht: "Haitian Creole",
        hu: "Hungarian",
        hup: "Hupa",
        hy: "Armenian",
        hz: "Herero",
        ia: "Interlingua",
        iba: "Iban",
        ibb: "Ibibio",
        id: "Indonesian",
        ie: "Interlingue",
        ig: "Igbo",
        ii: "Sichuan Yi",
        ik: "Inupiaq",
        ilo: "Iloko",
        "in": "Indonesian",
        inh: "Ingush",
        io: "Ido",
        is: "Icelandic",
        it: "Italian",
        iu: "Inuktitut",
        iw: "Hebrew",
        ja: "Japanese",
        jbo: "Lojban",
        jgo: "Ngomba",
        jmc: "Machame",
        jpr: "Judeo-Persian",
        jrb: "Judeo-Arabic",
        jv: "Javanese",
        ka: "Georgian",
        kaa: "Kara-Kalpak",
        kab: "Kabyle",
        kac: "Kachin",
        kaj: "Jju",
        kam: "Kamba",
        kaw: "Kawi",
        kbd: "Kabardian",
        kbl: "Kanembu",
        kcg: "Tyap",
        kde: "Makonde",
        kea: "Kabuverdianu",
        kfo: "Koro",
        kg: "Kongo",
        kha: "Khasi",
        kho: "Khotanese",
        khq: "Koyra Chiini",
        ki: "Kikuyu",
        kj: "Kuanyama",
        kk: "Kazakh",
        kkj: "Kako",
        kl: "Kalaallisut",
        kln: "Kalenjin",
        km: "Khmer",
        kmb: "Kimbundu",
        kn: "Kannada",
        ko: "Korean",
        kok: "Konkani",
        kos: "Kosraean",
        kpe: "Kpelle",
        kr: "Kanuri",
        krc: "Karachay-Balkar",
        krl: "Karelian",
        kru: "Kurukh",
        ks: "Kashmiri",
        ks_Arab: "Kashmiri (Arabic)",
        ksb: "Shambala",
        ksf: "Bafia",
        ksh: "Colognian",
        ku: "Kurdish",
        kum: "Kumyk",
        kut: "Kutenai",
        kv: "Komi",
        kw: "Cornish",
        ky: "Kyrgyz",
        la: "Latin",
        lad: "Ladino",
        lag: "Langi",
        lah: "Lahnda",
        lam: "Lamba",
        lb: "Luxembourgish",
        lez: "Lezghian",
        lg: "Ganda",
        li: "Limburgish",
        lkt: "Lakota",
        ln: "Lingala",
        lo: "Lao",
        lol: "Mongo",
        loz: "Lozi",
        lrc: "Northern Luri",
        lt: "Lithuanian",
        lu: "Luba-Katanga",
        lua: "Luba-Lulua",
        lui: "Luiseno",
        lun: "Lunda",
        luo: "Luo",
        lus: "Mizo",
        luy: "Luyia",
        lv: "Latvian",
        mad: "Madurese",
        maf: "Mafa",
        mag: "Magahi",
        mai: "Maithili",
        mak: "Makasar",
        man: "Mandingo",
        mas: "Masai",
        mde: "Maba",
        mdf: "Moksha",
        mdr: "Mandar",
        men: "Mende",
        mer: "Meru",
        mfe: "Morisyen",
        mg: "Malagasy",
        mga: "Middle Irish",
        mgh: "Makhuwa-Meetto",
        mgo: "Meta\u02bc",
        mh: "Marshallese",
        mi: "Maori",
        mic: "Mi'kmaq",
        min: "Minangkabau",
        mk: "Macedonian",
        ml: "Malayalam",
        mn: "Mongolian",
        mnc: "Manchu",
        mni: "Manipuri",
        mni_Beng: "Manipuri (Bangla)",
        mo: "Romanian (Moldova)",
        moh: "Mohawk",
        mos: "Mossi",
        mr: "Marathi",
        ms: "Malay",
        mt: "Maltese",
        mua: "Mundang",
        mul: "Multiple languages",
        mus: "Muscogee",
        mwl: "Mirandese",
        mwr: "Marwari",
        my: "Burmese",
        mye: "Myene",
        myv: "Erzya",
        mzn: "Mazanderani",
        na: "Nauru",
        nap: "Neapolitan",
        naq: "Nama",
        nb: "Norwegian Bokm\u00e5l",
        nd: "North Ndebele",
        nds: "Low German",
        nds_NL: "Low German (Netherlands)",
        ne: "Nepali",
        "new": "Newari",
        ng: "Ndonga",
        nia: "Nias",
        niu: "Niuean",
        nl: "Dutch",
        nl_BE: "Dutch (Belgium)",
        nmg: "Kwasio",
        nn: "Norwegian Nynorsk",
        nnh: "Ngiemboon",
        no: "Norwegian",
        nog: "Nogai",
        non: "Old Norse",
        nqo: "N\u2019Ko",
        nr: "South Ndebele",
        nso: "Northern Sotho",
        nus: "Nuer",
        nv: "Navajo",
        nwc: "Classical Newari",
        ny: "Nyanja",
        nym: "Nyamwezi",
        nyn: "Nyankole",
        nyo: "Nyoro",
        nzi: "Nzima",
        oc: "Occitan",
        oj: "Ojibwa",
        om: "Oromo",
        or: "Odia",
        os: "Ossetic",
        osa: "Osage",
        ota: "Ottoman Turkish",
        pa: "Punjabi",
        pa_Arab: "Punjabi (Arabic)",
        pa_Guru: "Punjabi (Gurmukhi)",
        pag: "Pangasinan",
        pal: "Pahlavi",
        pam: "Pampanga",
        pap: "Papiamento",
        pau: "Palauan",
        pcm: "Nigerian Pidgin",
        peo: "Old Persian",
        phn: "Phoenician",
        pi: "Pali",
        pl: "Polish",
        pon: "Pohnpeian",
        pro: "Old Proven\u00e7al",
        ps: "Pashto",
        pt: "Portuguese",
        pt_BR: "Portuguese (Brazil)",
        pt_PT: "Portuguese (Portugal)",
        qu: "Quechua",
        raj: "Rajasthani",
        rap: "Rapanui",
        rar: "Rarotongan",
        rm: "Romansh",
        rn: "Rundi",
        ro: "Romanian",
        ro_MD: "Romanian (Moldova)",
        rof: "Rombo",
        rom: "Romany",
        ru: "Russian",
        rup: "Aromanian",
        rw: "Kinyarwanda",
        rwk: "Rwa",
        sa: "Sanskrit",
        sad: "Sandawe",
        sah: "Sakha",
        sam: "Samaritan Aramaic",
        saq: "Samburu",
        sas: "Sasak",
        sat: "Santali",
        sat_Olck: "Santali (Ol Chiki)",
        sba: "Ngambay",
        sbp: "Sangu",
        sc: "Sardinian",
        scn: "Sicilian",
        sco: "Scots",
        sd: "Sindhi",
        sd_Arab: "Sindhi (Arabic)",
        sd_Deva: "Sindhi (Devanagari)",
        se: "Northern Sami",
        see: "Seneca",
        seh: "Sena",
        sel: "Selkup",
        ses: "Koyraboro Senni",
        sg: "Sango",
        sga: "Old Irish",
        sh: "Serbo-Croatian",
        shi: "Tachelhit",
        shi_Latn: "Tachelhit (Latin)",
        shi_Tfng: "Tachelhit (Tifinagh)",
        shn: "Shan",
        shu: "Chadian Arabic",
        si: "Sinhala",
        sid: "Sidamo",
        sk: "Slovak",
        sl: "Slovenian",
        sm: "Samoan",
        sma: "Southern Sami",
        smj: "Lule Sami",
        smn: "Inari Sami",
        sms: "Skolt Sami",
        sn: "Shona",
        snk: "Soninke",
        so: "Somali",
        sog: "Sogdien",
        sq: "Albanian",
        sr: "Serbian",
        sr_Cyrl: "Serbian (Cyrillic)",
        sr_Latn: "Serbian (Latin)",
        srn: "Sranan Tongo",
        srr: "Serer",
        ss: "Swati",
        ssy: "Saho",
        st: "Southern Sotho",
        su: "Sundanese",
        su_Latn: "Sundanese (Latin)",
        suk: "Sukuma",
        sus: "Susu",
        sux: "Sumerian",
        sv: "Swedish",
        sw: "Swahili",
        sw_CD: "Swahili (Congo - Kinshasa)",
        swb: "Comorian",
        syc: "Classical Syriac",
        syr: "Syriac",
        ta: "Tamil",
        te: "Telugu",
        tem: "Timne",
        teo: "Teso",
        ter: "Tereno",
        tet: "Tetum",
        tg: "Tajik",
        th: "Thai",
        ti: "Tigrinya",
        tig: "Tigre",
        tiv: "Tiv",
        tk: "Turkmen",
        tkl: "Tokelau",
        tl: "Tagalog",
        tlh: "Klingon",
        tli: "Tlingit",
        tmh: "Tamashek",
        tn: "Tswana",
        to: "Tongan",
        tog: "Nyasa Tonga",
        tpi: "Tok Pisin",
        tr: "Turkish",
        trv: "Taroko",
        ts: "Tsonga",
        tsi: "Tsimshian",
        tt: "Tatar",
        tum: "Tumbuka",
        tvl: "Tuvalu",
        tw: "Twi",
        twq: "Tasawaq",
        ty: "Tahitian",
        tyv: "Tuvinian",
        tzm: "Central Atlas Tamazight",
        udm: "Udmurt",
        ug: "Uyghur",
        uga: "Ugaritic",
        uk: "Ukrainian",
        umb: "Umbundu",
        ur: "Urdu",
        uz: "Uzbek",
        uz_Arab: "Uzbek (Arabic)",
        uz_Cyrl: "Uzbek (Cyrillic)",
        uz_Latn: "Uzbek (Latin)",
        vai: "Vai",
        vai_Latn: "Vai (Latin)",
        vai_Vaii: "Vai (Vai)",
        ve: "Venda",
        vi: "Vietnamese",
        vo: "Volap\u00fck",
        vot: "Votic",
        vun: "Vunjo",
        wa: "Walloon",
        wae: "Walser",
        wal: "Wolaytta",
        war: "Waray",
        was: "Washo",
        wo: "Wolof",
        xal: "Kalmyk",
        xh: "Xhosa",
        xog: "Soga",
        yao: "Yao",
        yap: "Yapese",
        yav: "Yangben",
        ybb: "Yemba",
        yi: "Yiddish",
        yo: "Yoruba",
        yue: "Cantonese",
        yue_Hans: "Cantonese (Simplified)",
        yue_Hant: "Cantonese (Traditional)",
        za: "Zhuang",
        zap: "Zapotec",
        zbl: "Blissymbols",
        zen: "Zenaga",
        zgh: "Standard Moroccan Tamazight",
        zh: "Chinese",
        zh_Hans: "Chinese (Simplified)",
        zh_Hant: "Chinese (Traditional)",
        zh_TW: "Chinese (Taiwan)",
        zu: "Zulu",
        zun: "Zuni",
        zxx: "No linguistic content",
        zza: "Zaza"
    };

    function Br(a, b) {
        this.start = a < b ? a : b;
        this.end = a < b ? b : a
    }
    Br.prototype.clone = function() {
        return new Br(this.start, this.end)
    };
    var Cr = new WeakMap;

    function ofa(a, b) {
        a = [a];
        for (var c = b.length - 1; 0 <= c; --c) a.push(typeof b[c], b[c]);
        return a.join("\x0B")
    };
    (function() {
        if (te) {
            var a = /Windows NT ([0-9.]+)/;
            return (a = a.exec(fd)) ? a[1] : "0"
        }
        return se ? (a = /1[0|1][_.][0-9_.]+/, (a = a.exec(fd)) ? a[0].replace(/_/g, ".") : "10") : ue ? (a = /Android\s+([^\);]+)(\)|;)/, (a = a.exec(fd)) ? a[1] : "") : Taa || Uaa || Vaa ? (a = /(?:iPhone|CPU)\s+OS\s+(\S+)/, (a = a.exec(fd)) ? a[1].replace(/_/g, ".") : "") : ""
    })();

    function Dr(a) {
        return (a = a.exec(fd)) ? a[1] : ""
    }
    var pfa = function() {
        if (Je) return Dr(/Firefox\/([0-9.]+)/);
        if (ne || oe || me) return Ee;
        if (Ne) return he() ? Dr(/CriOS\/([0-9.]+)/) : Dr(/Chrome\/([0-9.]+)/);
        if (Oe && !he()) return Dr(/Version\/([0-9.]+)/);
        if (Ke || Le) {
            var a = /Version\/(\S+).*Mobile\/(\S+)/.exec(fd);
            if (a) return a[1] + "." + a[2]
        } else if (Me) return (a = Dr(/Android\s+([0-9.]+)/)) ? a : Dr(/Version\/([0-9.]+)/);
        return ""
    }();

    function Er(a) {
        return 0 <= Oc(pfa, a)
    };

    function Fr() {
        var a = this;
        this.promise = new Promise(function(b, c) {
            a.resolve = b;
            a.reject = c
        })
    };

    function Gr(a) {
        C.call(this);
        this.C = 1;
        this.u = [];
        this.B = 0;
        this.i = [];
        this.l = {};
        this.D = !!a
    }
    Xa(Gr, C);
    h = Gr.prototype;
    h.subscribe = function(a, b, c) {
        var d = this.l[a];
        d || (d = this.l[a] = []);
        var e = this.C;
        this.i[e] = a;
        this.i[e + 1] = b;
        this.i[e + 2] = c;
        this.C = e + 3;
        d.push(e);
        return e
    };
    h.unsubscribe = function(a, b, c) {
        if (a = this.l[a]) {
            var d = this.i;
            if (a = a.find(function(e) {
                    return d[e + 1] == b && d[e + 2] == c
                })) return this.cg(a)
        }
        return !1
    };
    h.cg = function(a) {
        var b = this.i[a];
        if (b) {
            var c = this.l[b];
            0 != this.B ? (this.u.push(a), this.i[a + 1] = Ka) : (c && zb(c, a), delete this.i[a], delete this.i[a + 1], delete this.i[a + 2])
        }
        return !!b
    };
    h.W = function(a, b) {
        var c = this.l[a];
        if (c) {
            for (var d = Array(arguments.length - 1), e = 1, f = arguments.length; e < f; e++) d[e - 1] = arguments[e];
            if (this.D)
                for (e = 0; e < c.length; e++) {
                    var g = c[e];
                    qfa(this.i[g + 1], this.i[g + 2], d)
                } else {
                    this.B++;
                    try {
                        for (e = 0, f = c.length; e < f; e++) g = c[e], this.i[g + 1].apply(this.i[g + 2], d)
                    } finally {
                        if (this.B--, 0 < this.u.length && 0 == this.B)
                            for (; c = this.u.pop();) this.cg(c)
                    }
                }
            return 0 != e
        }
        return !1
    };

    function qfa(a, b, c) {
        eh(function() {
            a.apply(b, c)
        })
    }
    h.clear = function(a) {
        if (a) {
            var b = this.l[a];
            b && (b.forEach(this.cg, this), delete this.l[a])
        } else this.i.length = 0, this.l = {}
    };
    h.Da = function() {
        Gr.re.Da.call(this);
        this.clear();
        this.u.length = 0
    };

    function Hr(a) {
        this.i = a
    }
    Hr.prototype.set = function(a, b) {
        void 0 === b ? this.i.remove(a) : this.i.set(a, li(b))
    };
    Hr.prototype.get = function(a) {
        try {
            var b = this.i.get(a)
        } catch (c) {
            return
        }
        if (null !== b) try {
            return JSON.parse(b)
        } catch (c) {
            throw "Storage: Invalid value was encountered";
        }
    };
    Hr.prototype.remove = function(a) {
        this.i.remove(a)
    };

    function Ir(a) {
        this.i = a
    }
    Xa(Ir, Hr);

    function Jr(a) {
        this.data = a
    }

    function Kr(a) {
        return void 0 === a || a instanceof Jr ? a : new Jr(a)
    }
    Ir.prototype.set = function(a, b) {
        Ir.re.set.call(this, a, Kr(b))
    };
    Ir.prototype.l = function(a) {
        a = Ir.re.get.call(this, a);
        if (void 0 === a || a instanceof Object) return a;
        throw "Storage: Invalid value was encountered";
    };
    Ir.prototype.get = function(a) {
        if (a = this.l(a)) {
            if (a = a.data, void 0 === a) throw "Storage: Invalid value was encountered";
        } else a = void 0;
        return a
    };

    function Lr(a) {
        this.i = a
    }
    Xa(Lr, Ir);
    Lr.prototype.set = function(a, b, c) {
        if (b = Kr(b)) {
            if (c) {
                if (c < Va()) {
                    Lr.prototype.remove.call(this, a);
                    return
                }
                b.expiration = c
            }
            b.creation = Va()
        }
        Lr.re.set.call(this, a, b)
    };
    Lr.prototype.l = function(a) {
        var b = Lr.re.l.call(this, a);
        if (b) {
            var c = b.creation,
                d = b.expiration;
            if (d && d < Va() || c && c > Va()) Lr.prototype.remove.call(this, a);
            else return b
        }
    };

    function Mr(a) {
        this.i = a
    }
    Xa(Mr, Lr);

    function rfa() {};

    function Nr() {}
    Xa(Nr, rfa);
    Nr.prototype[Symbol.iterator] = function() {
        return wi(this.eg(!0)).l()
    };
    Nr.prototype.clear = function() {
        var a = Array.from(this);
        a = t(a);
        for (var b = a.next(); !b.done; b = a.next()) this.remove(b.value)
    };

    function Or(a) {
        this.i = a
    }
    Xa(Or, Nr);
    h = Or.prototype;
    h.isAvailable = function() {
        if (!this.i) return !1;
        try {
            return this.i.setItem("__sak", "1"), this.i.removeItem("__sak"), !0
        } catch (a) {
            return !1
        }
    };
    h.set = function(a, b) {
        try {
            this.i.setItem(a, b)
        } catch (c) {
            if (0 == this.i.length) throw "Storage mechanism: Storage disabled";
            throw "Storage mechanism: Quota exceeded";
        }
    };
    h.get = function(a) {
        a = this.i.getItem(a);
        if ("string" !== typeof a && null !== a) throw "Storage mechanism: Invalid value was encountered";
        return a
    };
    h.remove = function(a) {
        this.i.removeItem(a)
    };
    h.eg = function(a) {
        var b = 0,
            c = this.i,
            d = new vi;
        d.i = function() {
            if (b >= c.length) throw ui;
            var e = c.key(b++);
            if (a) return e;
            e = c.getItem(e);
            if ("string" !== typeof e) throw "Storage mechanism: Invalid value was encountered";
            return e
        };
        d.next = d.i.bind(d);
        return d
    };
    h.clear = function() {
        this.i.clear()
    };
    h.key = function(a) {
        return this.i.key(a)
    };

    function Pr() {
        var a = null;
        try {
            a = window.localStorage || null
        } catch (b) {}
        this.i = a
    }
    Xa(Pr, Or);

    function Qr() {
        var a = null;
        try {
            a = window.sessionStorage || null
        } catch (b) {}
        this.i = a
    }
    Xa(Qr, Or);

    function Rr(a, b) {
        this.l = a;
        this.i = null;
        if (ne && !(9 <= Number(Ie))) {
            Sr || (Sr = new Bi);
            this.i = Sr.get(a);
            this.i || (b ? this.i = document.getElementById(b) : (this.i = document.createElement("userdata"), this.i.addBehavior("#default#userData"), document.body.appendChild(this.i)), Sr.set(a, this.i));
            try {
                this.i.load(this.l)
            } catch (c) {
                this.i = null
            }
        }
    }
    Xa(Rr, Nr);
    var sfa = {
            ".": ".2E",
            "!": ".21",
            "~": ".7E",
            "*": ".2A",
            "'": ".27",
            "(": ".28",
            ")": ".29",
            "%": "."
        },
        Sr = null;

    function Tr(a) {
        return "_" + encodeURIComponent(a).replace(/[.!~*'()%]/g, function(b) {
            return sfa[b]
        })
    }
    h = Rr.prototype;
    h.isAvailable = function() {
        return !!this.i
    };
    h.set = function(a, b) {
        this.i.setAttribute(Tr(a), b);
        Ur(this)
    };
    h.get = function(a) {
        a = this.i.getAttribute(Tr(a));
        if ("string" !== typeof a && null !== a) throw "Storage mechanism: Invalid value was encountered";
        return a
    };
    h.remove = function(a) {
        this.i.removeAttribute(Tr(a));
        Ur(this)
    };
    h.eg = function(a) {
        var b = 0,
            c = this.i.XMLDocument.documentElement.attributes,
            d = new vi;
        d.i = function() {
            if (b >= c.length) throw ui;
            var e = c[b++];
            if (a) return decodeURIComponent(e.nodeName.replace(/\./g, "%")).substr(1);
            e = e.nodeValue;
            if ("string" !== typeof e) throw "Storage mechanism: Invalid value was encountered";
            return e
        };
        d.next = d.i.bind(d);
        return d
    };
    h.clear = function() {
        for (var a = this.i.XMLDocument.documentElement, b = a.attributes.length; 0 < b; b--) a.removeAttribute(a.attributes[b - 1].nodeName);
        Ur(this)
    };

    function Ur(a) {
        try {
            a.i.save(a.l)
        } catch (b) {
            throw "Storage mechanism: Quota exceeded";
        }
    };

    function Vr(a, b) {
        this.l = a;
        this.i = b + "::"
    }
    Xa(Vr, Nr);
    Vr.prototype.set = function(a, b) {
        this.l.set(this.i + a, b)
    };
    Vr.prototype.get = function(a) {
        return this.l.get(this.i + a)
    };
    Vr.prototype.remove = function(a) {
        this.l.remove(this.i + a)
    };
    Vr.prototype.eg = function(a) {
        var b = this.l.eg(!0),
            c = this,
            d = new vi;
        d.i = function() {
            for (var e = b.next(); e.substr(0, c.i.length) != c.i;) e = b.next();
            return a ? e.substr(c.i.length) : c.l.get(e)
        };
        d.next = d.i.bind(d);
        return d
    };

    function Wr(a) {
        var b = new Pr;
        return b.isAvailable() ? a ? new Vr(b, a) : b : null
    };

    function Xr(a, b) {
        this.i = a;
        this.l = b
    }
    Xr.prototype.getKey = function() {
        return this.i
    };
    Xr.prototype.getValue = function() {
        return this.l
    };
    Xr.prototype.clone = function() {
        return new Xr(this.i, this.l)
    };

    function Yr(a) {
        this.i = [];
        if (a) a: {
            if (a instanceof Yr) {
                var b = a.Pf();
                a = a.xf();
                if (0 >= this.i.length) {
                    for (var c = this.i, d = 0; d < b.length; d++) c.push(new Xr(b[d], a[d]));
                    break a
                }
            } else b = Vb(a),
            a = Ub(a);
            for (d = 0; d < b.length; d++) {
                c = this.i;
                c.push(new Xr(b[d], a[d]));
                c = c.length - 1;
                for (var e = this.i, f = e[c]; 0 < c;) {
                    var g = c - 1 >> 1;
                    if (e[g].getKey() > f.getKey()) e[c] = e[g], c = g;
                    else break
                }
                e[c] = f
            }
        }
    }
    h = Yr.prototype;
    h.remove = function() {
        var a = this.i,
            b = a.length,
            c = a[0];
        if (!(0 >= b)) {
            if (1 == b) yb(a);
            else {
                a[0] = a.pop();
                a = 0;
                b = this.i;
                for (var d = b.length, e = b[a]; a < d >> 1;) {
                    var f = 2 * a + 1,
                        g = 2 * a + 2;
                    f = g < d && b[g].getKey() < b[f].getKey() ? g : f;
                    if (b[f].getKey() > e.getKey()) break;
                    b[a] = b[f];
                    a = f
                }
                b[a] = e
            }
            return c.getValue()
        }
    };
    h.xf = function() {
        for (var a = this.i, b = [], c = a.length, d = 0; d < c; d++) b.push(a[d].getValue());
        return b
    };
    h.Pf = function() {
        for (var a = this.i, b = [], c = a.length, d = 0; d < c; d++) b.push(a[d].getKey());
        return b
    };
    h.clone = function() {
        return new Yr(this)
    };
    h.isEmpty = function() {
        return 0 === this.i.length
    };
    h.clear = function() {
        yb(this.i)
    };

    function Zr() {
        Yr.call(this)
    }
    Xa(Zr, Yr);

    function $r() {}
    La($r);
    $r.prototype.i = 0;

    function as(a) {
        this.length = a.length || a;
        for (var b = 0; b < this.length; b++) this[b] = a[b] || 0
    }
    as.prototype.set = function(a, b) {
        b = b || 0;
        for (var c = 0; c < a.length && b + c < this.length; c++) this[b + c] = a[c]
    };
    as.prototype.toString = Array.prototype.join;
    "undefined" == typeof Float32Array && (as.BYTES_PER_ELEMENT = 4, as.prototype.BYTES_PER_ELEMENT = 4, as.prototype.set = as.prototype.set, as.prototype.toString = as.prototype.toString, Ia("Float32Array", as, void 0));

    function bs(a) {
        this.length = a.length || a;
        for (var b = 0; b < this.length; b++) this[b] = a[b] || 0
    }
    bs.prototype.set = function(a, b) {
        b = b || 0;
        for (var c = 0; c < a.length && b + c < this.length; c++) this[b + c] = a[c]
    };
    bs.prototype.toString = Array.prototype.join;
    if ("undefined" == typeof Float64Array) {
        try {
            bs.BYTES_PER_ELEMENT = 8
        } catch (a) {}
        bs.prototype.BYTES_PER_ELEMENT = 8;
        bs.prototype.set = bs.prototype.set;
        bs.prototype.toString = bs.prototype.toString;
        Ia("Float64Array", bs, void 0)
    };

    function cs(a) {
        var b = a[0],
            c = a[1];
        a = a[2];
        return Math.sqrt(b * b + c * c + a * a)
    };
    /*


     The MIT License (MIT)

     Copyright (c) 2015-present Dan Abramov

     Permission is hereby granted, free of charge, to any person obtaining a copy
     of this software and associated documentation files (the "Software"), to deal
     in the Software without restriction, including without limitation the rights
     to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     copies of the Software, and to permit persons to whom the Software is
     furnished to do so, subject to the following conditions:

     The above copyright notice and this permission notice shall be included in all
     copies or substantial portions of the Software.

     THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
     SOFTWARE.
    */
    function ds(a) {
        for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
        return 0 === b.length ? function(d) {
            return d
        } : 1 === b.length ? b[0] : b.reduce(function(d, e) {
            return function(f) {
                for (var g = [], k = 0; k < arguments.length; ++k) g[k - 0] = arguments[k];
                return d(e.apply(null, ha(g)))
            }
        })
    };

    function tfa(a) {
        for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
        return function(d) {
            return function(e, f) {
                function g() {
                    throw Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.");
                }
                e = d(e, f);
                var k = {
                    getState: e.getState,
                    dispatch: function(l, m) {
                        for (var n = [], p = 1; p < arguments.length; ++p) n[p - 1] = arguments[p];
                        return g.apply(null, [l].concat(ha(n)))
                    }
                };
                f = b.map(function(l) {
                    return l(k)
                });
                g = ds.apply(null, ha(f))(e.dispatch);
                return Object.assign(Object.assign({}, e), {
                    dispatch: g
                })
            }
        }
    };

    function es() {
        return Math.random().toString(36).substring(7).split("").join(".")
    }
    var fs = "@@redux/INIT" + es(),
        ufa = "@@redux/REPLACE" + es();

    function vfa(a) {
        Object.keys(a).forEach(function(b) {
            var c = a[b];
            if ("undefined" === typeof c(void 0, {
                    type: fs
                })) throw Error('Reducer "' + b + "\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");
            if ("undefined" === typeof c(void 0, {
                    type: "@@redux/PROBE_UNKNOWN_ACTION" + es()
                })) throw Error('Reducer "' +
                b + "\" returned undefined when probed with a random type. Don't try to handle " + (fs + ' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.'));
        })
    };
    var gs = "function" === typeof Symbol && Symbol.observable || "@@observable";

    function hs(a, b, c, d) {
        function e() {
            if (p) throw Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");
            return l
        }

        function f(r) {
            if ("function" !== typeof r) throw Error("Expected the listener to be a function.");
            if (p) throw Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");
            var u = !0;
            n === m && (n = m.slice());
            n.push(r);
            return function() {
                if (u) {
                    if (p) throw Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");
                    u = !1;
                    n === m && (n = m.slice());
                    n.splice(n.indexOf(r), 1);
                    m = null
                }
            }
        }

        function g(r) {
            if ("object" !== typeof r || null === r) var u = !1;
            else {
                for (u = r; null !== Object.getPrototypeOf(u);) u = Object.getPrototypeOf(u);
                u = Object.getPrototypeOf(r) === u
            }
            if (!u) throw Error("Actions must be plain objects. Use custom middleware for async actions.");
            if ("undefined" === typeof r.type) throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');
            if (p) throw Error("Reducers may not dispatch actions.");
            try {
                p = !0, l = k(l, r)
            } finally {
                p = !1
            }
            u = m = n;
            for (var x = 0; x < u.length; x++)(0, u[x])();
            return r
        }
        if ("function" === typeof b && "function" === typeof c || "function" === typeof c && "function" === typeof d) throw Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");
        "function" === typeof b && "undefined" === typeof c && (c = b, b = void 0);
        if ("undefined" !== typeof c) {
            if ("function" !== typeof c) throw Error("Expected the enhancer to be a function.");
            return c(hs)(a, b)
        }
        if ("function" !== typeof a) throw Error("Expected the reducer to be a function.");
        var k = a,
            l = b,
            m = [],
            n = m,
            p = !1;
        g({
            type: fs
        });
        a = {};
        var q = (a.dispatch = g, a.subscribe = f, a.getState = e, a.replaceReducer = function(r) {
            if ("function" !== typeof r) throw Error("Expected the nextReducer to be a function.");
            k = r;
            g({
                type: ufa
            });
            return q
        }, a[gs] = function() {
            var r = {};
            return r.subscribe = function(u) {
                function x() {
                    u.next && u.next(e())
                }
                if ("object" !== typeof u || null === u) throw new TypeError("Expected the observer to be an object.");
                x();
                return {
                    unsubscribe: f(x)
                }
            }, r[gs] = function() {
                return this
            }, r
        }, a);
        return q
    };

    function is(a) {
        hf(this, a, -1, wfa, null)
    }
    v(is, ff);
    is.prototype.tb = function() {
        return nf(this, 11, 0)
    };

    function js(a) {
        hf(this, a, -1, null, null)
    }
    v(js, ff);
    js.prototype.getKey = function() {
        return mf(this, 3)
    };

    function xfa(a, b) {
        for (; ae(b) && 4 != b.l;) switch (b.u) {
            case 1:
                var c = ce(b);
                pf(a, 1, c);
                break;
            case 2:
                c = ce(b);
                pf(a, 2, c);
                break;
            case 3:
                c = ce(b);
                pf(a, 3, c);
                break;
            case 4:
                c = ce(b);
                pf(a, 4, c);
                break;
            case 5:
                c = b.Mb();
                pf(a, 5, c);
                break;
            default:
                be(b)
        }
        return a
    }
    var wfa = [2, 13, 14];

    function yfa(a) {
        var b = a.split(""),
            c = [-1390706949, -1977622604, b, 1823846660, -155911354, function(d, e) {
                    e = (e % d.length + d.length) % d.length;
                    var f = d[0];
                    d[0] = d[e];
                    d[e] = f
                },
                -890187900, -778177416, 889838341, -848925923,
                function(d, e) {
                    for (var f = 64, g = []; ++f - g.length - 32;) {
                        switch (f) {
                            case 91:
                                f = 44;
                                continue;
                            case 123:
                                f = 65;
                                break;
                            case 65:
                                f -= 18;
                                continue;
                            case 58:
                                f = 96;
                                continue;
                            case 46:
                                f = 95
                        }
                        g.push(String.fromCharCode(f))
                    }
                    d.forEach(function(k, l, m) {
                        this.push(m[l] = g[(g.indexOf(k) - g.indexOf(this[l]) + l - 32 + f--) % g.length])
                    }, e.split(""))
                },
                b, -791519472, 1958387047, null, 745744404, "let", null, 52745161, "break", 2121164521, b, 728225253,
                function(d, e) {
                    e = (e % d.length + d.length) % d.length;
                    d.splice(e, 1)
                },
                function(d, e) {
                    e = (e % d.length + d.length) % d.length;
                    d.splice(0, 1, d.splice(e, 1, d[0])[0])
                },
                276495771, 1029676539, null,
                function(d, e) {
                    for (e = (e % d.length + d.length) % d.length; e--;) d.unshift(d.pop())
                },
                function(d, e) {
                    d.push(e)
                },
                109270176,
                function(d, e) {
                    e = (e % d.length + d.length) % d.length;
                    d.splice(-e).reverse().forEach(function(f) {
                        d.unshift(f)
                    })
                },
                1223030304,
                function(d) {
                    for (var e = d.length; e;) d.push(d.splice(--e, 1)[0])
                },
                -371739166, 2116376748, 485445595, -1025852952, 1877047059, -2018679935, -1826130699, 84091736, -2018679935,
                function(d) {
                    d.reverse()
                },
                1739027783, -810153940
            ];
        c[14] = c;
        c[17] = c;
        c[27] = c;
        try {
            c[23](c[21], c[38]), c[5](c[21], c[41]), c[29](c[17], c[36]), c[24](c[14], c[26]), c[24](c[11], c[4]), c[23](c[2], c[0]), c[5](c[21], c[6]), c[31](c[2], c[8]), c[33](c[11]), c[28](c[17], c[12]), c[37](c[35], c[27]), c[18](c[10], c[24]), c[18](c[10], c[47]), c[13](c[29], c[30]), c[32](c[22], c[43]), c[39](c[19], c[33]), c[39](c[25], c[5]), c[36](c[4], c[29]), c[27](c[33]), c[11](c[4], c[30]), c[36](c[0], c[34]), c[16](c[4]), c[12](c[10], c[25]), c[6](c[33], c[38]), c[14](c[42], c[40]), c[7](c[45],
                c[32]), c[14](c[45], c[0]), c[9](c[26]), c[4](c[38], c[6]), c[29](c[32], c[39]), c[33](c[32], c[17]), c[0](c[44]), c[16](c[47], c[37]), c[28](c[37], c[20]), c[17](c[30], c[7]), c[24](c[6], c[34]), c[2](c[8], c[3]), c[5](c[14], c[44])
        } catch (d) {
            return "enhanced_except_AAAAAAAAAAE_" + a
        }
        return b.join("")
    };
    Va();
    var zfa = 0,
        ks = re ? "webkit" : qe ? "moz" : ne ? "ms" : me ? "o" : "";

    function ls() {
        var a = document;
        if ("visibilityState" in a) return a.visibilityState;
        var b = ks + "VisibilityState";
        if (b in a) return a[b]
    }

    function ms(a, b) {
        var c;
        rb(a, function(d) {
            c = b[d];
            return !!c
        });
        return c
    }
    var Afa = Ja("ytDomDomGetNextId") || function() {
        return ++zfa
    };
    Ia("ytDomDomGetNextId", Afa, void 0);

    function ns(a) {
        if (a.requestFullscreen) a = a.requestFullscreen(void 0);
        else if (a.webkitRequestFullscreen) a = a.webkitRequestFullscreen();
        else if (a.mozRequestFullScreen) a = a.mozRequestFullScreen();
        else if (a.msRequestFullscreen) a = a.msRequestFullscreen();
        else if (a.webkitEnterFullscreen) a = a.webkitEnterFullscreen();
        else return Promise.reject(Error("Fullscreen API unavailable"));
        return a instanceof Promise ? a : Promise.resolve()
    }

    function os(a) {
        var b;
        ps() ? qs() == a && (b = document) : b = a;
        return b && (a = ms(["exitFullscreen", "webkitExitFullscreen", "mozCancelFullScreen", "msExitFullscreen"], b)) ? (b = a.call(b), b instanceof Promise ? b : Promise.resolve()) : Promise.resolve()
    }

    function rs(a) {
        return tb(["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"], function(b) {
            return "on" + b.toLowerCase() in a
        })
    }

    function ps() {
        return !!ms(["fullscreenEnabled", "webkitFullscreenEnabled", "mozFullScreenEnabled", "msFullscreenEnabled"], document)
    }

    function qs(a) {
        a = void 0 === a ? !1 : a;
        var b = ms(["fullscreenElement", "webkitFullscreenElement", "mozFullScreenElement", "msFullscreenElement"], document);
        if (a)
            for (; b && b.shadowRoot;) b = b.shadowRoot.fullscreenElement;
        return b ? b : null
    };
    var ts, us, vs = A.window,
        ws = (null === (ts = null === vs || void 0 === vs ? void 0 : vs.yt) || void 0 === ts ? void 0 : ts.config_) || (null === (us = null === vs || void 0 === vs ? void 0 : vs.ytcfg) || void 0 === us ? void 0 : us.data_) || {};
    Ia("yt.config_", ws, void 0);

    function xs(a) {
        for (var b = 0; b < arguments.length; ++b);
        b = arguments;
        1 < b.length ? ws[b[0]] = b[1] : 1 === b.length && Object.assign(ws, b[0])
    }

    function G(a, b) {
        return a in ws ? ws[a] : b
    }

    function ys(a) {
        return G(a, void 0)
    }

    function zs(a) {
        var b = ws.EXPERIMENT_FLAGS;
        return b ? b[a] : void 0
    };
    var As = [];

    function Bfa(a) {
        As.forEach(function(b) {
            return b(a)
        })
    }

    function Bs(a) {
        return a && window.yterr ? function() {
            try {
                return a.apply(this, arguments)
            } catch (b) {
                Cs(b)
            }
        } : a
    }

    function Cs(a) {
        var b = Ja("yt.logging.errors.log");
        b ? b(a, "ERROR", void 0, void 0, void 0) : (b = G("ERRORS", []), b.push([a, "ERROR", void 0, void 0, void 0]), xs("ERRORS", b));
        Bfa(a)
    }

    function Ds(a) {
        var b = Ja("yt.logging.errors.log");
        b ? b(a, "WARNING", void 0, void 0, void 0) : (b = G("ERRORS", []), b.push([a, "WARNING", void 0, void 0, void 0]), xs("ERRORS", b))
    };

    function Es(a) {
        a = a || {};
        var b = {},
            c = {};
        this.url = a.url || "";
        this.args = a.args || gc(b);
        this.assets = a.assets || {};
        this.attrs = a.attrs || gc(c);
        this.fallback = a.fallback || null;
        this.fallbackMessage = a.fallbackMessage || null;
        this.html5 = !!a.html5;
        this.disable = a.disable || {};
        this.loaded = !!a.loaded;
        this.messages = a.messages || {}
    }

    function Fs(a) {
        a instanceof Es || (a = new Es(a));
        return a
    }
    Es.prototype.clone = function() {
        var a = new Es,
            b;
        for (b in this)
            if (this.hasOwnProperty(b)) {
                var c = this[b];
                a[b] = "object" == Ma(c) ? gc(c) : c
            } return a
    };

    function I(a) {
        a = Gs(a);
        return "string" === typeof a && "false" === a ? !1 : !!a
    }

    function Hs(a, b) {
        a = Gs(a);
        return void 0 === a && void 0 !== b ? b : Number(a || 0)
    }

    function Gs(a) {
        var b = G("EXPERIMENTS_FORCED_FLAGS", {});
        return void 0 !== b[a] ? b[a] : G("EXPERIMENT_FLAGS", {})[a]
    }

    function Is() {
        var a = [],
            b = G("EXPERIMENTS_FORCED_FLAGS", {});
        for (c in b) a.push({
            key: c,
            value: String(b[c])
        });
        var c = G("EXPERIMENT_FLAGS", {});
        for (var d in c) d.startsWith("force_") && void 0 === b[d] && a.push({
            key: d,
            value: String(c[d])
        });
        return a
    };
    var Js = {
        EN: "LIVING_ROOM_APP_MODE_UNSPECIFIED",
        BN: "LIVING_ROOM_APP_MODE_MAIN",
        AN: "LIVING_ROOM_APP_MODE_KIDS",
        CN: "LIVING_ROOM_APP_MODE_MUSIC",
        DN: "LIVING_ROOM_APP_MODE_UNPLUGGED",
        zN: "LIVING_ROOM_APP_MODE_GAMING"
    };
    var Cfa = {
        stopImmediatePropagation: 1,
        stopPropagation: 1,
        preventMouseEvent: 1,
        preventManipulation: 1,
        preventDefault: 1,
        layerX: 1,
        layerY: 1,
        screenX: 1,
        screenY: 1,
        scale: 1,
        rotation: 1,
        webkitMovementX: 1,
        webkitMovementY: 1
    };

    function Ks(a) {
        this.type = "";
        this.state = this.source = this.data = this.currentTarget = this.relatedTarget = this.target = null;
        this.charCode = this.keyCode = 0;
        this.metaKey = this.shiftKey = this.ctrlKey = this.altKey = !1;
        this.rotation = this.clientY = this.clientX = 0;
        this.scale = 1;
        this.changedTouches = this.touches = null;
        try {
            if (a = a || window.event) {
                this.event = a;
                for (var b in a) b in Cfa || (this[b] = a[b]);
                this.scale = a.scale;
                this.rotation = a.rotation;
                var c = a.target || a.srcElement;
                c && 3 == c.nodeType && (c = c.parentNode);
                this.target = c;
                var d = a.relatedTarget;
                if (d) try {
                    d = d.nodeName ? d : null
                } catch (e) {
                    d = null
                } else "mouseover" == this.type ? d = a.fromElement : "mouseout" == this.type && (d = a.toElement);
                this.relatedTarget = d;
                this.clientX = void 0 != a.clientX ? a.clientX : a.pageX;
                this.clientY = void 0 != a.clientY ? a.clientY : a.pageY;
                this.keyCode = a.keyCode ? a.keyCode : a.which;
                this.charCode = a.charCode || ("keypress" == this.type ? this.keyCode : 0);
                this.altKey = a.altKey;
                this.ctrlKey = a.ctrlKey;
                this.shiftKey = a.shiftKey;
                this.metaKey = a.metaKey;
                this.i = a.pageX;
                this.l = a.pageY
            }
        } catch (e) {}
    }

    function Ls(a) {
        if (document.body && document.documentElement) {
            var b = document.body.scrollTop + document.documentElement.scrollTop;
            a.i = a.clientX + (document.body.scrollLeft + document.documentElement.scrollLeft);
            a.l = a.clientY + b
        }
    }
    Ks.prototype.preventDefault = function() {
        this.event && (this.event.returnValue = !1, this.event.preventDefault && this.event.preventDefault())
    };
    Ks.prototype.stopPropagation = function() {
        this.event && (this.event.cancelBubble = !0, this.event.stopPropagation && this.event.stopPropagation())
    };
    Ks.prototype.stopImmediatePropagation = function() {
        this.event && (this.event.cancelBubble = !0, this.event.stopImmediatePropagation && this.event.stopImmediatePropagation())
    };
    var Ms = A.ytEventsEventsListeners || {};
    Ia("ytEventsEventsListeners", Ms, void 0);
    var Ns = A.ytEventsEventsCounter || {
        count: 0
    };
    Ia("ytEventsEventsCounter", Ns, void 0);

    function Dfa(a, b, c, d) {
        d = void 0 === d ? {} : d;
        a.addEventListener && ("mouseenter" != b || "onmouseenter" in document ? "mouseleave" != b || "onmouseenter" in document ? "mousewheel" == b && "MozBoxSizing" in document.documentElement.style && (b = "MozMousePixelScroll") : b = "mouseout" : b = "mouseover");
        return Yb(Ms, function(e) {
            var f = "boolean" === typeof e[4] && e[4] == !!d,
                g = Oa(e[4]) && Oa(d) && fc(e[4], d);
            return !!e.length && e[0] == a && e[1] == b && e[2] == c && (f || g)
        })
    }

    function Os(a, b, c, d) {
        d = void 0 === d ? {} : d;
        if (!a || !a.addEventListener && !a.attachEvent) return "";
        var e = Dfa(a, b, c, d);
        if (e) return e;
        e = ++Ns.count + "";
        var f = !("mouseenter" != b && "mouseleave" != b || !a.addEventListener || "onmouseenter" in document);
        var g = f ? function(k) {
            k = new Ks(k);
            if (!Yg(k.relatedTarget, function(l) {
                    return l == a
                }, !0)) return k.currentTarget = a, k.type = b, c.call(a, k)
        } : function(k) {
            k = new Ks(k);
            k.currentTarget = a;
            return c.call(a, k)
        };
        g = Bs(g);
        a.addEventListener ? ("mouseenter" == b && f ? b = "mouseover" : "mouseleave" == b && f ? b = "mouseout" : "mousewheel" == b && "MozBoxSizing" in document.documentElement.style && (b = "MozMousePixelScroll"), Ps() || "boolean" === typeof d ? a.addEventListener(b, g, d) : a.addEventListener(b, g, !!d.capture)) : a.attachEvent("on" + b, g);
        Ms[e] = [a, b, c, g, d];
        return e
    }

    function Efa(a, b) {
        var c = document.body || document;
        return Os(c, "click", function(d) {
            var e = Yg(d.target, function(f) {
                return f === c || b(f)
            }, !0);
            e && e !== c && !e.disabled && (d.currentTarget = e, a.call(e, d))
        })
    }

    function Qs(a) {
        a && ("string" == typeof a && (a = [a]), nb(a, function(b) {
            if (b in Ms) {
                var c = Ms[b],
                    d = c[0],
                    e = c[1],
                    f = c[3];
                c = c[4];
                d.removeEventListener ? Ps() || "boolean" === typeof c ? d.removeEventListener(e, f, c) : d.removeEventListener(e, f, !!c.capture) : d.detachEvent && d.detachEvent("on" + e, f);
                delete Ms[b]
            }
        }))
    }
    var Ffa = ib(function() {
            var a = !1;
            try {
                var b = Object.defineProperty({}, "passive", {
                    get: function() {
                        a = !0
                    }
                });
                window.addEventListener("test", null, b)
            } catch (c) {}
            return a
        }),
        Ps = ib(function() {
            var a = !1;
            try {
                var b = Object.defineProperty({}, "capture", {
                    get: function() {
                        a = !0
                    }
                });
                window.addEventListener("test", null, b)
            } catch (c) {}
            return a
        });

    function Gfa(a) {
        return Efa(a, function(b) {
            return qr(b, "ytp-ad-has-logging-urls")
        })
    }

    function Hfa(a, b) {
        var c = void 0 === c ? {} : c;
        var d = Os(a, "playing", function() {
            Qs(d);
            b.apply(a, arguments)
        }, c)
    }

    function Rs(a) {
        for (var b in Ms) Ms[b][0] == a && Qs(b)
    };
    var Ss = window.ytcsi && window.ytcsi.now ? window.ytcsi.now : window.performance && window.performance.timing && window.performance.now && window.performance.timing.navigationStart ? function() {
        return window.performance.timing.navigationStart + window.performance.now()
    } : function() {
        return (new Date).getTime()
    };

    function Ts(a, b) {
        "function" === typeof a && (a = Bs(a));
        return window.setTimeout(a, b)
    }

    function Us(a, b) {
        "function" === typeof a && (a = Bs(a));
        return window.setInterval(a, b)
    }

    function Vs(a) {
        window.clearTimeout(a)
    };

    function Ws(a) {
        this.G = a;
        this.i = null;
        this.B = 0;
        this.D = null;
        this.C = 0;
        this.l = [];
        for (a = 0; 4 > a; a++) this.l.push(0);
        this.u = 0;
        this.U = Os(window, "mousemove", Sa(this.J, this));
        this.I = Us(Sa(this.K, this), 25)
    }
    Xa(Ws, C);
    Ws.prototype.J = function(a) {
        void 0 === a.i && Ls(a);
        var b = a.i;
        void 0 === a.l && Ls(a);
        this.i = new ug(b, a.l)
    };
    Ws.prototype.Oi = function() {
        return this.i || new ug
    };
    Ws.prototype.K = function() {
        if (this.i) {
            var a = Ss();
            if (0 != this.B) {
                var b = this.D,
                    c = this.i,
                    d = b.x - c.x;
                b = b.y - c.y;
                d = Math.sqrt(d * d + b * b) / (a - this.B);
                this.l[this.u] = .5 < Math.abs((d - this.C) / this.C) ? 1 : 0;
                for (c = b = 0; 4 > c; c++) b += this.l[c] || 0;
                3 <= b && this.G();
                this.C = d
            }
            this.B = a;
            this.D = this.i;
            this.u = (this.u + 1) % 4
        }
    };
    Ws.prototype.Da = function() {
        window.clearInterval(this.I);
        Qs(this.U)
    };

    function Xs() {}

    function Ys(a, b, c) {
        return Zs(b, 0, c)
    }

    function $s(a, b) {
        return Zs(a, 1, b)
    };

    function at() {
        Xs.apply(this, arguments)
    }
    v(at, Xs);

    function bt() {
        at.i || (at.i = new at);
        return at.i
    }

    function ct() {
        return !!Ja("yt.scheduler.instance")
    }

    function Zs(a, b, c) {
        void 0 !== c && Number.isNaN(Number(c)) && (c = void 0);
        var d = Ja("yt.scheduler.instance.addJob");
        return d ? d(a, b, c) : void 0 === c ? (a(), NaN) : Ts(a, c || 0)
    }

    function dt(a) {
        if (void 0 === a || !Number.isNaN(Number(a))) {
            var b = Ja("yt.scheduler.instance.cancelJob");
            b ? b(a) : Vs(a)
        }
    }
    at.prototype.start = function() {
        var a = Ja("yt.scheduler.instance.start");
        a && a()
    };
    at.prototype.pause = function() {
        var a = Ja("yt.scheduler.instance.pause");
        a && a()
    };

    function et(a) {
        var b = Ja("yt.scheduler.instance.setPriorityThreshold");
        b && b(a)
    };
    bt();
    var ft = {};

    function gt(a) {
        var b = void 0 === a ? {} : a;
        a = void 0 === b.SE ? !0 : b.SE;
        b = void 0 === b.YG ? !1 : b.YG;
        if (null == Ja("_lact", window)) {
            var c = parseInt(G("LACT"), 10);
            c = isFinite(c) ? Date.now() - Math.max(c, 0) : -1;
            Ia("_lact", c, window);
            Ia("_fact", c, window); - 1 == c && ht();
            Os(document, "keydown", ht);
            Os(document, "keyup", ht);
            Os(document, "mousedown", ht);
            Os(document, "mouseup", ht);
            a && (b ? Os(window, "touchmove", function() {
                it("touchmove", 200)
            }, {
                passive: !0
            }) : (Os(window, "resize", function() {
                it("resize", 200)
            }), Os(window, "scroll", function() {
                it("scroll", 200)
            })));
            new Ws(function() {
                it("mouse", 100)
            });
            Os(document, "touchstart", ht, {
                passive: !0
            });
            Os(document, "touchend", ht, {
                passive: !0
            })
        }
    }

    function it(a, b) {
        ft[a] || (ft[a] = !0, $s(function() {
            ht();
            ft[a] = !1
        }, b))
    }

    function ht() {
        null == Ja("_lact", window) && (gt(), Ja("_lact", window));
        var a = Date.now();
        Ia("_lact", a, window); - 1 == Ja("_fact", window) && Ia("_fact", a, window);
        (a = Ja("ytglobal.ytUtilActivityCallback_")) && a()
    }

    function jt() {
        var a = Ja("_lact", window),
            b;
        null == a ? b = -1 : b = Math.max(Date.now() - a, 0);
        return b
    };

    function kt() {
        return Ja("yt.ads.biscotti.lastId_") || ""
    }

    function lt(a) {
        Ia("yt.ads.biscotti.lastId_", a, void 0)
    };
    var Ifa = /^[\w.]*$/,
        Jfa = {
            q: !0,
            search_query: !0
        };

    function mt(a, b) {
        b = a.split(b);
        for (var c = {}, d = 0, e = b.length; d < e; d++) {
            var f = b[d].split("=");
            if (1 == f.length && f[0] || 2 == f.length) try {
                var g = nt(f[0] || ""),
                    k = nt(f[1] || "");
                g in c ? Array.isArray(c[g]) ? Db(c[g], k) : c[g] = [c[g], k] : c[g] = k
            } catch (p) {
                var l = p,
                    m = f[0],
                    n = String(mt);
                l.args = [{
                    key: m,
                    value: f[1],
                    query: a,
                    method: Kfa == n ? "unchanged" : n
                }];
                Jfa.hasOwnProperty(m) || Ds(l)
            }
        }
        return c
    }
    var Kfa = String(mt);

    function ot(a) {
        var b = [];
        Nb(a, function(c, d) {
            var e = yd(d),
                f;
            Array.isArray(c) ? f = c : f = [c];
            nb(f, function(g) {
                "" == g ? b.push(e) : b.push(e + "=" + yd(g))
            })
        });
        return b.join("&")
    }

    function pt(a) {
        "?" == a.charAt(0) && (a = a.substr(1));
        return mt(a, "&")
    }

    function qt(a) {
        a = a.split(",");
        return a = a.map(function(b) {
            return pt(b)
        })
    }

    function rt(a) {
        return -1 != a.indexOf("?") ? (a = (a || "").split("#")[0], a = a.split("?", 2), pt(1 < a.length ? a[1] : a[0])) : {}
    }

    function tt(a, b) {
        return ut(a, b || {}, !0)
    }

    function vt(a, b) {
        return ut(a, b || {}, !1)
    }

    function ut(a, b, c) {
        var d = a.split("#", 2);
        a = d[0];
        d = 1 < d.length ? "#" + d[1] : "";
        var e = a.split("?", 2);
        a = e[0];
        e = pt(e[1] || "");
        for (var f in b)
            if (c || !Wb(e, f)) e[f] = b[f];
        return Ti(a, e) + d
    }

    function wt(a) {
        if (!b) var b = window.location.href;
        var c = Ii(1, a),
            d = Ji(a);
        c && d ? (a = a.match(Gi), b = b.match(Gi), a = a[3] == b[3] && a[1] == b[1] && a[4] == b[4]) : a = d ? Ji(b) == d && (Number(Ii(4, b)) || null) == (Number(Ii(4, a)) || null) : !0;
        return a
    }

    function xt(a) {
        a || (a = document.location.href);
        a = Ii(1, a);
        return null !== a && "https" == a
    }

    function eu(a) {
        a = Ji(a);
        a = null !== a ? a.split(".").reverse() : null;
        return null === a ? !1 : "com" == a[0] && a[1].match(/^youtube(?:kids|-nocookie)?$/) ? !0 : !1
    }

    function nt(a) {
        return a && a.match(Ifa) ? a : Bd(a)
    };

    function fu(a) {
        var b = gu;
        a = void 0 === a ? kt() : a;
        var c = Object,
            d = c.assign,
            e = hu(b);
        var f = b.i;
        try {
            var g = f.screenX;
            var k = f.screenY
        } catch (z) {}
        try {
            var l = f.outerWidth;
            var m = f.outerHeight
        } catch (z) {}
        try {
            var n = f.innerWidth;
            var p = f.innerHeight
        } catch (z) {}
        try {
            var q = f.screenLeft;
            var r = f.screenTop
        } catch (z) {}
        try {
            n = f.innerWidth, p = f.innerHeight
        } catch (z) {}
        try {
            var u = f.screen.availWidth;
            var x = f.screen.availTop
        } catch (z) {}
        f = [q, r, g, k, u, x, l, m, n, p];
        g = pm(!1, b.i.top);
        k = {};
        l = new Zq;
        A.SVGElement && A.document.createElementNS && l.set(0);
        m = Lca();
        m["allow-top-navigation-by-user-activation"] && l.set(1);
        m["allow-popups-to-escape-sandbox"] && l.set(2);
        A.crypto && A.crypto.subtle && l.set(3);
        A.TextDecoder && A.TextEncoder && l.set(4);
        l = $ea(l);
        b = (k.bc = l, k.bih = g.height, k.biw = g.width, k.brdim = f.join(), k.vis = Fm(b.l), k.wgl = !!F.WebGLRenderingContext, k);
        c = d.call(c, e, b);
        c.ca_type = "image";
        a && (c.bid = a);
        return c
    }

    function hu(a) {
        var b = {};
        b.dt = Xea;
        b.flash = "0";
        a: {
            try {
                var c = a.i.top.location.href
            } catch (f) {
                a = 2;
                break a
            }
            a = c ? c === a.l.location.href ? 0 : 1 : 2
        }
        b = (b.frm = a, b);
        b.u_tz = -(new Date).getTimezoneOffset();
        var d = void 0 === d ? F : d;
        try {
            var e = d.history.length
        } catch (f) {
            e = 0
        }
        b.u_his = e;
        b.u_java = !!F.navigator && "unknown" !== typeof F.navigator.javaEnabled && !!F.navigator.javaEnabled && F.navigator.javaEnabled();
        F.screen && (b.u_h = F.screen.height, b.u_w = F.screen.width, b.u_ah = F.screen.availHeight, b.u_aw = F.screen.availWidth, b.u_cd = F.screen.colorDepth);
        F.navigator && F.navigator.plugins && (b.u_nplug = F.navigator.plugins.length);
        F.navigator && F.navigator.mimeTypes && (b.u_nmime = F.navigator.mimeTypes.length);
        return b
    }
    var gu = new function() {
        var a = window.document;
        this.i = window;
        this.l = a
    };
    Ia("yt.ads_.signals_.getAdSignalsString", function(a) {
        return ot(fu(a))
    }, void 0);
    var iu = "XMLHttpRequest" in A ? function() {
        return new XMLHttpRequest
    } : null;

    function Lfa() {
        if (!iu) return null;
        var a = iu();
        return "open" in a ? a : null
    }

    function ju(a) {
        switch (ku(a)) {
            case 200:
            case 201:
            case 202:
            case 203:
            case 204:
            case 205:
            case 206:
            case 304:
                return !0;
            default:
                return !1
        }
    }

    function ku(a) {
        return a && "status" in a ? a.status : -1
    };
    var lu = {
            Authorization: "AUTHORIZATION",
            "X-Goog-Visitor-Id": "SANDBOXED_VISITOR_ID",
            "X-Youtube-Chrome-Connected": "CHROME_CONNECTED_HEADER",
            "X-YouTube-Client-Name": "INNERTUBE_CONTEXT_CLIENT_NAME",
            "X-YouTube-Client-Version": "INNERTUBE_CONTEXT_CLIENT_VERSION",
            "X-YouTube-Delegation-Context": "INNERTUBE_CONTEXT_SERIALIZED_DELEGATION_CONTEXT",
            "X-YouTube-Device": "DEVICE",
            "X-Youtube-Identity-Token": "ID_TOKEN",
            "X-YouTube-Page-CL": "PAGE_CL",
            "X-YouTube-Page-Label": "PAGE_BUILD_LABEL",
            "X-YouTube-Variants-Checksum": "VARIANTS_CHECKSUM"
        },
        Mfa = "app debugcss debugjs expflag force_ad_params force_ad_encrypted force_viral_ad_response_params forced_experiments innertube_snapshots innertube_goldens internalcountrycode internalipoverride absolute_experiments conditional_experiments sbb sr_bns_address client_dev_root_url client_dev_regex_map".split(" "),
        mu = !1;

    function Nfa(a, b) {
        b = void 0 === b ? {} : b;
        var c = wt(a),
            d = I("web_ajax_ignore_global_headers_if_set"),
            e;
        for (e in lu) {
            var f = G(lu[e]);
            !f || !c && !nu(a, e) || d && void 0 !== b[e] || (b[e] = f)
        }
        if (c || nu(a, "X-YouTube-Utc-Offset")) b["X-YouTube-Utc-Offset"] = String(-(new Date).getTimezoneOffset());
        if (c || nu(a, "X-YouTube-Time-Zone")) {
            try {
                var g = (new Intl.DateTimeFormat).resolvedOptions().timeZone
            } catch (k) {}
            g && (b["X-YouTube-Time-Zone"] = g)
        }
        if (c || nu(a, "X-YouTube-Ad-Signals")) b["X-YouTube-Ad-Signals"] = ot(fu(void 0));
        return b
    }

    function ou(a, b) {
        var c = Ji(a);
        I("debug_handle_relative_url_for_query_forward_killswitch") || c || !wt(a) || (c = document.location.hostname);
        var d = Hi(Ii(5, a));
        d = (c = c && (c.endsWith("youtube.com") || c.endsWith("youtube-nocookie.com"))) && d && d.startsWith("/api/");
        if (!c || d) return a;
        var e = pt(b),
            f = {};
        nb(Mfa, function(g) {
            e[g] && (f[g] = e[g])
        });
        return vt(a, f)
    }

    function nu(a) {
        return Ji(a) ? !1 : !0
    }

    function pu(a, b) {
        var c = b.format || "JSON";
        a = Ofa(a, b);
        var d = Pfa(a, b),
            e = !1,
            f = qu(a, function(l) {
                    if (!e) {
                        e = !0;
                        k && Vs(k);
                        var m = ju(l),
                            n = null,
                            p = 400 <= l.status && 500 > l.status,
                            q = 500 <= l.status && 600 > l.status;
                        if (m || p || q) n = Qfa(a, c, l, b.convertToSafeHtml);
                        if (m) a: if (l && 204 == l.status) m = !0;
                            else {
                                switch (c) {
                                    case "XML":
                                        m = 0 == parseInt(n && n.return_code, 10);
                                        break a;
                                    case "RAW":
                                        m = !0;
                                        break a
                                }
                                m = !!n
                            } n = n || {};
                        p = b.context || A;
                        m ? b.onSuccess && b.onSuccess.call(p, l, n) : b.onError && b.onError.call(p, l, n);
                        b.onFinish && b.onFinish.call(p, l, n)
                    }
                }, b.method,
                d, b.headers, b.responseType, b.withCredentials);
        if (b.onTimeout && 0 < b.timeout) {
            var g = b.onTimeout;
            var k = Ts(function() {
                e || (e = !0, f.abort(), Vs(k), g.call(b.context || A, f))
            }, b.timeout)
        }
        return f
    }

    function Ofa(a, b) {
        b.includeDomain && (a = document.location.protocol + "//" + document.location.hostname + (document.location.port ? ":" + document.location.port : "") + a);
        var c = G("XSRF_FIELD_NAME", void 0);
        if (b = b.urlParams) b[c] && delete b[c], a = tt(a, b);
        return a
    }

    function Pfa(a, b) {
        var c = G("XSRF_FIELD_NAME", void 0),
            d = G("XSRF_TOKEN", void 0),
            e = b.postBody || "",
            f = b.postParams,
            g = ys("XSRF_FIELD_NAME"),
            k;
        b.headers && (k = b.headers["Content-Type"]);
        b.excludeXsrf || Ji(a) && !b.withCredentials && Ji(a) != document.location.hostname || "POST" != b.method || k && "application/x-www-form-urlencoded" != k || b.postParams && b.postParams[g] || (f || (f = {}), f[c] = d);
        f && "string" === typeof e && (e = pt(e), jc(e, f), e = b.postBodyFormat && "JSON" == b.postBodyFormat ? JSON.stringify(e) : Si(e));
        f = e || f && !bc(f);
        !mu && f && "POST" !=
            b.method && (mu = !0, Cs(Error("AJAX request with postData should use POST")));
        return e
    }

    function Qfa(a, b, c, d) {
        var e = null;
        switch (b) {
            case "JSON":
                try {
                    var f = c.responseText
                } catch (g) {
                    throw d = Error("Error reading responseText"), d.params = a, Ds(d), g;
                }
                a = c.getResponseHeader("Content-Type") || "";
                f && 0 <= a.indexOf("json") && (")]}'\n" === f.substring(0, 5) && (f = f.substring(5)), e = JSON.parse(f));
                break;
            case "XML":
                if (a = (a = c.responseXML) ? Rfa(a) : null) e = {}, nb(a.getElementsByTagName("*"), function(g) {
                    e[g.tagName] = Sfa(g)
                })
        }
        d && ru(e);
        return e
    }

    function ru(a) {
        if (Oa(a))
            for (var b in a) "html_content" == b || Ac(b, "_html") ? a[b] = ud(sc("HTML that is escaped and sanitized server-side and passed through yt.net.ajax"), a[b]) : ru(a[b])
    }

    function Rfa(a) {
        return a ? (a = ("responseXML" in a ? a.responseXML : a).getElementsByTagName("root")) && 0 < a.length ? a[0] : null : null
    }

    function Sfa(a) {
        var b = "";
        nb(a.childNodes, function(c) {
            b += c.nodeValue
        });
        return b
    }
    var tu = nu;

    function qu(a, b, c, d, e, f, g) {
        function k() {
            4 == (l && "readyState" in l ? l.readyState : 0) && b && Bs(b)(l)
        }
        c = void 0 === c ? "GET" : c;
        d = void 0 === d ? "" : d;
        var l = Lfa();
        if (!l) return null;
        "onloadend" in l ? l.addEventListener("loadend", k, !1) : l.onreadystatechange = k;
        I("debug_forward_web_query_parameters") && (a = ou(a, window.location.search));
        l.open(c, a, !0);
        f && (l.responseType = f);
        g && (l.withCredentials = !0);
        c = "POST" == c && (void 0 === window.FormData || !(d instanceof FormData));
        if (e = Nfa(a, e))
            for (var m in e) l.setRequestHeader(m, e[m]), "content-type" == m.toLowerCase() && (c = !1);
        c && l.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        l.send(d);
        return l
    };
    var uu = Ke || Le;

    function vu() {
        var a = /\sCobalt\/(\S+)\s/.exec(fd);
        if (!a) return NaN;
        var b = [];
        a = t(a[1].split("."));
        for (var c = a.next(); !c.done; c = a.next()) c = parseInt(c.value, 10), 0 <= c && b.push(c);
        return parseFloat(b.join("."))
    }

    function wu() {
        return xu("android") && xu("chrome") && !(xu("trident/") || xu("edge/")) && !xu("cobalt")
    }

    function yu() {
        return xu("armv7") || xu("aarch64") || xu("android")
    }

    function zu() {
        return xu("cobalt")
    }

    function Au() {
        return xu("cobalt") && xu("; youtubevr")
    }

    function Bu() {
        return xu("cobalt") && xu("appletv")
    }

    function Cu() {
        return xu("(ps3; leanback shell)") || xu("ps3") && zu()
    }

    function Du() {
        return xu("(ps4; leanback shell)") || xu("ps4") && zu()
    }

    function Eu() {
        return zu() && (xu("ps4 vr") || xu("ps4 pro vr"))
    }

    function Fu() {
        var a = /WebKit\/([0-9]+)/.exec(fd);
        return !!(a && 600 <= parseInt(a[1], 10))
    }

    function Gu() {
        var a = /WebKit\/([0-9]+)/.exec(fd);
        return !!(a && 602 <= parseInt(a[1], 10))
    }

    function Hu() {
        return xu("iemobile") || xu("windows phone") && xu("edge")
    }

    function Iu() {
        return ue && xu("version/")
    }

    function Ju() {
        return xu("smart-tv") && xu("samsung")
    }

    function xu(a) {
        var b = fd;
        return b ? 0 <= b.toLowerCase().indexOf(a) : !1
    };
    var Ku = {},
        Tfa = 0;

    function Lu(a, b, c, d, e) {
        e = void 0 === e ? "" : e;
        if (a)
            if (c && !zu()) a && (a = Sc(Uc(a) || Xc), "about:invalid#zClosurez" === a || a.startsWith("data") ? a = "" : (a = pd(qd(a)).toString(), a = yd(li(a))), Ec(a) || (a = Lg("IFRAME", {
                src: 'javascript:"<body><img src=\\""+' + a + '+"\\"></body>"',
                style: "display:none"
            }), Dg(a).body.appendChild(a)));
            else if (e) qu(a, b, "POST", e, d);
        else if (G("USE_NET_AJAX_FOR_PING_TRANSPORT", !1) || d) qu(a, b, "GET", "", d);
        else {
            b: {
                try {
                    var f = new Dca({
                        url: a
                    });
                    if (f.u && f.l || f.B) {
                        var g = Hi(Ii(5, a));
                        var k = !(!g || !g.endsWith("/aclk") ||
                            "1" !== Xi(a, "ri"));
                        break b
                    }
                } catch (l) {}
                k = !1
            }
            k ? Mu(a) ? (b && b(), c = !0) : c = !1 : c = !1;c || Ufa(a, b)
        }
    }

    function Nu(a, b, c) {
        c = void 0 === c ? "" : c;
        Mu(a, c) ? b && b() : Lu(a, b, void 0, void 0, c)
    }

    function Mu(a, b) {
        try {
            if (window.navigator && window.navigator.sendBeacon && window.navigator.sendBeacon(a, void 0 === b ? "" : b)) return !0
        } catch (c) {}
        return !1
    }

    function Ufa(a, b) {
        var c = new Image,
            d = "" + Tfa++;
        Ku[d] = c;
        c.onload = c.onerror = function() {
            b && Ku[d] && b();
            delete Ku[d]
        };
        c.src = a
    };
    var Vfa = A.ytPubsubPubsubInstance || new Gr,
        Ou = A.ytPubsubPubsubSubscribedKeys || {},
        Pu = A.ytPubsubPubsubTopicToKeys || {},
        Qu = A.ytPubsubPubsubIsSynchronous || {};

    function Ru(a, b, c) {
        var d = Su();
        if (d && b) {
            var e = d.subscribe(a, function() {
                var f = arguments;
                var g = function() {
                    Ou[e] && b.apply && "function" == typeof b.apply && b.apply(c || window, f)
                };
                try {
                    Qu[a] ? g() : Ts(g, 0)
                } catch (k) {
                    Cs(k)
                }
            }, c);
            Ou[e] = !0;
            Pu[a] || (Pu[a] = []);
            Pu[a].push(e);
            return e
        }
        return 0
    }

    function Tu(a) {
        var b = Su();
        b && ("number" === typeof a ? a = [a] : "string" === typeof a && (a = [parseInt(a, 10)]), nb(a, function(c) {
            b.unsubscribeByKey(c);
            delete Ou[c]
        }))
    }

    function Uu(a, b) {
        var c = Su();
        return c ? c.publish.apply(c, arguments) : !1
    }

    function Vu(a) {
        var b = Su();
        if (b)
            if (b.clear(a), a) Wu(a);
            else
                for (var c in Pu) Wu(c)
    }

    function Su() {
        return A.ytPubsubPubsubInstance
    }

    function Wu(a) {
        Pu[a] && (a = Pu[a], nb(a, function(b) {
            Ou[b] && delete Ou[b]
        }), a.length = 0)
    }
    Gr.prototype.subscribe = Gr.prototype.subscribe;
    Gr.prototype.unsubscribeByKey = Gr.prototype.cg;
    Gr.prototype.publish = Gr.prototype.W;
    Gr.prototype.clear = Gr.prototype.clear;
    Ia("ytPubsubPubsubInstance", Vfa, void 0);
    Ia("ytPubsubPubsubTopicToKeys", Pu, void 0);
    Ia("ytPubsubPubsubIsSynchronous", Qu, void 0);
    Ia("ytPubsubPubsubSubscribedKeys", Ou, void 0);
    var Xu = window,
        K = Xu.ytcsi && Xu.ytcsi.now ? Xu.ytcsi.now : Xu.performance && Xu.performance.timing && Xu.performance.now && Xu.performance.timing.navigationStart ? function() {
            return Xu.performance.timing.navigationStart + Xu.performance.now()
        } : function() {
            return (new Date).getTime()
        };
    var Wfa = Hs("initial_gel_batch_timeout", 2E3),
        Yu = Math.pow(2, 16) - 1,
        Zu = null,
        $u = 0,
        av = void 0,
        bv = 0,
        cv = 0,
        dv = 0,
        ev = !0,
        fv = A.ytLoggingTransportGELQueue_ || new Map;
    Ia("ytLoggingTransportGELQueue_", fv, void 0);
    var gv = A.ytLoggingTransportTokensToCttTargetIds_ || {};
    Ia("ytLoggingTransportTokensToCttTargetIds_", gv, void 0);

    function Xfa(a, b) {
        if ("log_event" === a.endpoint) {
            var c = "";
            a.Ep ? c = "visitorOnlyApprovedKey" : a.wd && (gv[a.wd.token] = hv(a.wd), c = a.wd.token);
            var d = fv.get(c) || [];
            fv.set(c, d);
            d.push(a.payload);
            b && (av = new b);
            a = Hs("tvhtml5_logging_max_batch") || Hs("web_logging_max_batch") || 100;
            b = K();
            d.length >= a ? iv({
                writeThenSend: !0
            }) : 10 <= b - dv && (jv(), dv = b)
        }
    }

    function Yfa(a, b) {
        if ("log_event" === a.endpoint) {
            var c = "";
            a.Ep ? c = "visitorOnlyApprovedKey" : a.wd && (gv[a.wd.token] = hv(a.wd), c = a.wd.token);
            var d = new Map;
            d.set(c, [a.payload]);
            b && (av = new b);
            return new kh(function(e) {
                av && av.isReady() ? kv(d, e, {
                    bypassNetworkless: !0
                }) : e()
            })
        }
    }

    function iv(a) {
        a = void 0 === a ? {} : a;
        new kh(function(b) {
            Vs(bv);
            Vs(cv);
            cv = 0;
            av && av.isReady() ? (kv(fv, b, a), fv.clear()) : (jv(), b())
        })
    }

    function jv() {
        I("web_gel_timeout_cap") && !cv && (cv = Ts(function() {
            iv({
                writeThenSend: !0
            })
        }, 6E4));
        Vs(bv);
        var a = G("LOGGING_BATCH_TIMEOUT", Hs("web_gel_debounce_ms", 1E4));
        I("shorten_initial_gel_batch_timeout") && ev && (a = Wfa);
        bv = Ts(function() {
            iv({
                writeThenSend: !0
            })
        }, a)
    }

    function kv(a, b, c) {
        var d = av;
        c = void 0 === c ? {} : c;
        var e = Math.round(K()),
            f = a.size;
        a = t(a);
        for (var g = a.next(); !g.done; g = a.next()) {
            var k = t(g.value);
            g = k.next().value;
            var l = k.next().value;
            k = hc({
                context: lv(d.config_ || mv())
            });
            k.events = l;
            (l = gv[g]) && Zfa(k, g, l);
            delete gv[g];
            g = "visitorOnlyApprovedKey" === g;
            $fa(k, e, g);
            I("send_beacon_before_gel") && window.navigator && window.navigator.sendBeacon && !c.writeThenSend && Nu("/generate_204");
            nv(d, "log_event", k, {
                retry: !0,
                onSuccess: function() {
                    f--;
                    f || b();
                    $u = Math.round(K() - e)
                },
                onError: function() {
                    f--;
                    f || b()
                },
                Wz: c,
                Ep: g
            });
            ev = !1
        }
    }

    function $fa(a, b, c) {
        a.requestTimeMs = String(b);
        I("unsplit_gel_payloads_in_logs") && (a.unsplitGelPayloadsInLogs = !0);
        !c && (b = G("EVENT_ID", void 0)) && ((c = G("BATCH_CLIENT_COUNTER", void 0) || 0) || (c = Math.floor(Math.random() * Yu / 2)), c++, c > Yu && (c = 1), xs("BATCH_CLIENT_COUNTER", c), b = {
            serializedEventId: b,
            clientCounter: String(c)
        }, a.serializedClientEventId = b, Zu && $u && I("log_gel_rtt_web") && (a.previousBatchInfo = {
            serializedClientEventId: Zu,
            roundtripMs: String($u)
        }), Zu = b, $u = 0)
    }

    function Zfa(a, b, c) {
        if (c.videoId) var d = "VIDEO";
        else if (c.playlistId) d = "PLAYLIST";
        else return;
        a.credentialTransferTokenTargetId = c;
        a.context = a.context || {};
        a.context.user = a.context.user || {};
        a.context.user.credentialTransferTokens = [{
            token: b,
            scope: d
        }]
    }

    function hv(a) {
        var b = {};
        a.videoId ? b.videoId = a.videoId : a.playlistId && (b.playlistId = a.playlistId);
        return b
    };
    var ov = A.ytLoggingGelSequenceIdObj_ || {};
    Ia("ytLoggingGelSequenceIdObj_", ov, void 0);

    function pv(a, b, c, d) {
        d = void 0 === d ? {} : d;
        var e = {},
            f = Math.round(d.timestamp || K());
        e.eventTimeMs = f < Number.MAX_SAFE_INTEGER ? f : 0;
        e[a] = b;
        a = jt();
        e.context = {
            lastActivityMs: String(d.timestamp || !isFinite(a) ? -1 : a)
        };
        I("log_sequence_info_on_gel_web") && d.ci && (a = e.context, b = d.ci, ov[b] = b in ov ? ov[b] + 1 : 0, a.sequence = {
            index: ov[b],
            groupKey: b
        }, d.kE && delete ov[d.ci]);
        (d.mH ? Yfa : Xfa)({
            endpoint: "log_event",
            payload: e,
            wd: d.wd,
            Ep: d.Ep
        }, c)
    };

    function qv(a) {
        var b = this;
        this.i = void 0;
        a.addEventListener("beforeinstallprompt", function(c) {
            c.preventDefault();
            b.i = c
        })
    }

    function rv() {
        if (!A.matchMedia) return "WEB_DISPLAY_MODE_UNKNOWN";
        try {
            return A.matchMedia("(display-mode: standalone)").matches ? "WEB_DISPLAY_MODE_STANDALONE" : A.matchMedia("(display-mode: minimal-ui)").matches ? "WEB_DISPLAY_MODE_MINIMAL_UI" : A.matchMedia("(display-mode: fullscreen)").matches ? "WEB_DISPLAY_MODE_FULLSCREEN" : A.matchMedia("(display-mode: browser)").matches ? "WEB_DISPLAY_MODE_BROWSER" : "WEB_DISPLAY_MODE_UNKNOWN"
        } catch (a) {
            return "WEB_DISPLAY_MODE_UNKNOWN"
        }
    };
    var tv = !1;

    function uv(a, b, c, d, e) {
        tv || ei.set("" + a, b, {
            tq: c,
            path: "/",
            domain: void 0 === d ? "youtube.com" : d,
            kH: void 0 === e ? !1 : e
        })
    }

    function vv(a) {
        if (!tv) return ei.get("" + a, void 0)
    }

    function aga() {
        if (!ei.isEnabled()) return !1;
        if (!ei.isEmpty()) return !0;
        ei.set("TESTCOOKIESENABLED", "1", {
            tq: 60
        });
        if ("1" !== ei.get("TESTCOOKIESENABLED")) return !1;
        ei.remove("TESTCOOKIESENABLED");
        return !0
    };
    var wv = Ja("ytglobal.prefsUserPrefsPrefs_") || {};
    Ia("ytglobal.prefsUserPrefsPrefs_", wv, void 0);

    function xv() {
        this.i = G("ALT_PREF_COOKIE_NAME", "PREF");
        this.l = G("ALT_PREF_COOKIE_DOMAIN", "youtube.com");
        var a = vv(this.i);
        if (a) {
            a = decodeURIComponent(a).split("&");
            for (var b = 0; b < a.length; b++) {
                var c = a[b].split("="),
                    d = c[0];
                (c = c[1]) && (wv[d] = c.toString())
            }
        }
    }
    h = xv.prototype;
    h.get = function(a, b) {
        yv(a);
        zv(a);
        a = void 0 !== wv[a] ? wv[a].toString() : null;
        return null != a ? a : b ? b : ""
    };
    h.set = function(a, b) {
        yv(a);
        zv(a);
        if (null == b) throw Error("ExpectedNotNull");
        wv[a] = b.toString()
    };

    function Av(a, b) {
        return !!((Bv("f" + (Math.floor(b / 31) + 1)) || 0) & 1 << b % 31)
    }
    h.remove = function(a) {
        yv(a);
        zv(a);
        delete wv[a]
    };
    h.save = function() {
        var a = !0;
        I("web_secure_pref_cookie_killswitch") && (a = !1);
        uv(this.i, this.dump(), 63072E3, this.l, a)
    };
    h.clear = function() {
        cc(wv)
    };
    h.dump = function() {
        var a = [],
            b;
        for (b in wv) a.push(b + "=" + encodeURIComponent(String(wv[b])));
        return a.join("&")
    };

    function zv(a) {
        if (/^f([1-9][0-9]*)$/.test(a)) throw Error("ExpectedRegexMatch: " + a);
    }

    function yv(a) {
        if (!/^\w+$/.test(a)) throw Error("ExpectedRegexMismatch: " + a);
    }

    function Bv(a) {
        a = void 0 !== wv[a] ? wv[a].toString() : null;
        return null != a && /^[A-Fa-f0-9]+$/.test(a) ? parseInt(a, 16) : null
    }
    La(xv);
    var Cv = {
            bluetooth: "CONN_DISCO",
            cellular: "CONN_CELLULAR_UNKNOWN",
            ethernet: "CONN_WIFI",
            none: "CONN_NONE",
            wifi: "CONN_WIFI",
            wimax: "CONN_CELLULAR_4G",
            other: "CONN_UNKNOWN",
            unknown: "CONN_UNKNOWN",
            "slow-2g": "CONN_CELLULAR_2G",
            "2g": "CONN_CELLULAR_2G",
            "3g": "CONN_CELLULAR_3G",
            "4g": "CONN_CELLULAR_4G"
        },
        Dv = {
            "slow-2g": "EFFECTIVE_CONNECTION_TYPE_SLOW_2G",
            "2g": "EFFECTIVE_CONNECTION_TYPE_2G",
            "3g": "EFFECTIVE_CONNECTION_TYPE_3G",
            "4g": "EFFECTIVE_CONNECTION_TYPE_4G"
        };

    function Ev() {
        var a = A.navigator;
        return a ? a.connection : void 0
    }

    function Fv() {
        var a = Ev();
        if (a) {
            var b = Cv[a.type || "unknown"] || "CONN_UNKNOWN";
            a = Cv[a.effectiveType || "unknown"] || "CONN_UNKNOWN";
            "CONN_CELLULAR_UNKNOWN" === b && "CONN_UNKNOWN" !== a && (b = a);
            if ("CONN_UNKNOWN" !== b) return b;
            if ("CONN_UNKNOWN" !== a) return a
        }
    }

    function Gv() {
        var a = Ev();
        if (null !== a && void 0 !== a && a.effectiveType) return Dv.hasOwnProperty(a.effectiveType) ? Dv[a.effectiveType] : "EFFECTIVE_CONNECTION_TYPE_UNKNOWN"
    };

    function Hv() {
        return "INNERTUBE_API_KEY" in ws && "INNERTUBE_API_VERSION" in ws
    }

    function mv() {
        return {
            innertubeApiKey: G("INNERTUBE_API_KEY", void 0),
            innertubeApiVersion: G("INNERTUBE_API_VERSION", void 0),
            qz: G("INNERTUBE_CONTEXT_CLIENT_CONFIG_INFO"),
            rz: G("INNERTUBE_CONTEXT_CLIENT_NAME", "WEB"),
            innertubeContextClientVersion: G("INNERTUBE_CONTEXT_CLIENT_VERSION", void 0),
            vz: G("INNERTUBE_CONTEXT_HL", void 0),
            sz: G("INNERTUBE_CONTEXT_GL", void 0),
            wz: G("INNERTUBE_HOST_OVERRIDE", void 0) || "",
            yz: !!G("INNERTUBE_USE_THIRD_PARTY_AUTH", !1),
            xz: !!G("INNERTUBE_OMIT_API_KEY_WHEN_AUTH_HEADER_IS_PRESENT",
                !1),
            appInstallData: G("SERIALIZED_CLIENT_CONFIG_DATA", void 0)
        }
    }

    function lv(a) {
        var b = {
            client: {
                hl: a.vz,
                gl: a.sz,
                clientName: a.rz,
                clientVersion: a.innertubeContextClientVersion,
                configInfo: a.qz
            }
        };
        I("web_include_ua_it_context") && navigator.userAgent && (b.client.userAgent = String(navigator.userAgent));
        var c = A.devicePixelRatio;
        c && 1 != c && (b.client.screenDensityFloat = String(c));
        c = G("EXPERIMENTS_TOKEN", "");
        "" !== c && (b.client.experimentsToken = c);
        c = Is();
        0 < c.length && (b.request = {
            internalExperimentFlags: c
        });
        c = b.client.clientName;
        if ("WEB" === c || "MWEB" === c || 1 === c || 2 === c) {
            if (!I("web_include_display_mode_killswitch")) {
                var d;
                b.client.mainAppWebInfo = null != (d = b.client.mainAppWebInfo) ? d : {};
                b.client.mainAppWebInfo.webDisplayMode = rv()
            }
        } else if (d = b.client.clientName, ("WEB_REMIX" === d || 76 === d) && !I("music_web_display_mode_killswitch")) {
            var e;
            b.client.Vz = null != (e = b.client.Vz) ? e : {};
            b.client.Vz.webDisplayMode = rv()
        }
        a.appInstallData && (b.client.configInfo = b.client.configInfo || {}, b.client.configInfo.appInstallData = a.appInstallData);
        G("DELEGATED_SESSION_ID") && !I("pageid_as_header_web") && (b.user = {
            onBehalfOfUser: G("DELEGATED_SESSION_ID")
        });
        if (a = Fv()) b.client.connectionType = a;
        I("web_log_effective_connection_type") && (a = Gv()) && (b.client.effectiveConnectionType = a);
        a = Object;
        e = a.assign;
        d = b.client;
        c = {};
        for (var f = t(Object.entries(pt(G("DEVICE", "")))), g = f.next(); !g.done; g = f.next()) {
            var k = t(g.value);
            g = k.next().value;
            k = k.next().value;
            "cbrand" === g ? c.deviceMake = k : "cmodel" === g ? c.deviceModel = k : "cbr" === g ? c.browserName = k : "cbrver" === g ? c.browserVersion = k : "cos" === g ? c.osName = k : "cosver" === g ? c.osVersion = k : "cplatform" === g && (c.platform = k)
        }
        b.client = e.call(a,
            d, c);
        return b
    }

    function Iv(a, b, c) {
        c = void 0 === c ? {} : c;
        var d = {
            "X-Goog-Visitor-Id": c.visitorData || G("VISITOR_DATA", "")
        };
        if (b && b.includes("www.youtube-nocookie.com")) return d;
        (b = c.Gx || G("AUTHORIZATION")) || (a ? b = "Bearer " + Ja("gapi.auth.getToken")().kU : b = ii([]));
        b && (d.Authorization = b, d["X-Goog-AuthUser"] = G("SESSION_INDEX", 0), I("pageid_as_header_web") && (d["X-Goog-PageId"] = G("DELEGATED_SESSION_ID")));
        return d
    };

    function Jv(a) {
        a = Object.assign({}, a);
        delete a.Authorization;
        var b = ii();
        if (b) {
            var c = new gr;
            c.update(G("INNERTUBE_API_KEY", void 0));
            c.update(b);
            a.hash = Re(c.digest(), 3)
        }
        return a
    };

    function Kv(a) {
        var b;
        (b = Wr(a)) || (a = new Rr(a || "UserDataSharedStore"), b = a.isAvailable() ? a : null);
        this.i = (a = b) ? new Lr(a) : null;
        this.l = document.domain || window.location.hostname
    }
    Kv.prototype.set = function(a, b, c, d) {
        c = c || 31104E3;
        this.remove(a);
        if (this.i) try {
            this.i.set(a, b, Date.now() + 1E3 * c);
            return
        } catch (f) {}
        var e = "";
        if (d) try {
            e = escape(li(b))
        } catch (f) {
            return
        } else e = escape(b);
        uv(a, e, c, this.l)
    };
    Kv.prototype.get = function(a, b) {
        var c = void 0,
            d = !this.i;
        if (!d) try {
            c = this.i.get(a)
        } catch (e) {
            d = !0
        }
        if (d && (c = vv(a)) && (c = unescape(c), b)) try {
            c = JSON.parse(c)
        } catch (e) {
            this.remove(a), c = void 0
        }
        return c
    };
    Kv.prototype.remove = function(a) {
        this.i && this.i.remove(a);
        var b = this.l;
        tv || ei.remove("" + a, "/", void 0 === b ? "youtube.com" : b)
    };
    var Lv;

    function Mv() {
        Lv || (Lv = new Kv("yt.innertube"));
        return Lv
    }

    function cga(a, b, c, d) {
        if (d) return null;
        d = Mv().get("nextId", !0) || 1;
        var e = Mv().get("requests", !0) || {};
        e[d] = {
            method: a,
            request: b,
            authState: Jv(c),
            requestTime: Math.round(K())
        };
        Mv().set("nextId", d + 1, 86400, !0);
        Mv().set("requests", e, 86400, !0);
        return d
    }

    function Nv(a) {
        var b = Mv().get("requests", !0) || {};
        delete b[a];
        Mv().set("requests", b, 86400, !0)
    }

    function Ov(a) {
        var b = Mv().get("requests", !0);
        if (b) {
            for (var c in b) {
                var d = b[c];
                if (!(6E4 > Math.round(K()) - d.requestTime)) {
                    var e = d.authState,
                        f = Jv(Iv(!1));
                    fc(e, f) && (e = d.request, "requestTimeMs" in e && (e.requestTimeMs = Math.round(K())), nv(a, d.method, e, {}));
                    delete b[c]
                }
            }
            Mv().set("requests", b, 86400, !0)
        }
    };

    function Pv(a, b) {
        this.version = a;
        this.args = b
    };

    function Qv(a, b) {
        this.topic = a;
        this.i = b
    }
    Qv.prototype.toString = function() {
        return this.topic
    };
    var dga = Ja("ytPubsub2Pubsub2Instance") || new Gr;
    Gr.prototype.subscribe = Gr.prototype.subscribe;
    Gr.prototype.unsubscribeByKey = Gr.prototype.cg;
    Gr.prototype.publish = Gr.prototype.W;
    Gr.prototype.clear = Gr.prototype.clear;
    Ia("ytPubsub2Pubsub2Instance", dga, void 0);
    var Rv = Ja("ytPubsub2Pubsub2SubscribedKeys") || {};
    Ia("ytPubsub2Pubsub2SubscribedKeys", Rv, void 0);
    var Sv = Ja("ytPubsub2Pubsub2TopicToKeys") || {};
    Ia("ytPubsub2Pubsub2TopicToKeys", Sv, void 0);
    var Tv = Ja("ytPubsub2Pubsub2IsAsync") || {};
    Ia("ytPubsub2Pubsub2IsAsync", Tv, void 0);
    Ia("ytPubsub2Pubsub2SkipSubKey", null, void 0);

    function Uv(a, b) {
        var c = Vv();
        c && c.publish.call(c, a.toString(), a, b)
    }

    function ega(a, b, c) {
        var d = Vv();
        if (!d) return 0;
        var e = d.subscribe(a.toString(), function(f, g) {
            var k = Ja("ytPubsub2Pubsub2SkipSubKey");
            k && k == e || (k = function() {
                if (Rv[e]) try {
                    if (g && a instanceof Qv && a != f) try {
                        var l = a.i,
                            m = g;
                        if (!m.args || !m.version) throw Error("yt.pubsub2.Data.deserialize(): serializedData is incomplete.");
                        try {
                            if (!l.tj) {
                                var n = new l;
                                l.tj = n.version
                            }
                            var p = l.tj
                        } catch (q) {}
                        if (!p || m.version != p) throw Error("yt.pubsub2.Data.deserialize(): serializedData version is incompatible.");
                        try {
                            g = Reflect.construct(l,
                                Cb(m.args))
                        } catch (q) {
                            throw q.message = "yt.pubsub2.Data.deserialize(): " + q.message, q;
                        }
                    } catch (q) {
                        throw q.message = "yt.pubsub2.pubsub2 cross-binary conversion error for " + a.toString() + ": " + q.message, q;
                    }
                    b.call(c || window, g)
                } catch (q) {
                    Cs(q)
                }
            }, Tv[a.toString()] ? ct() ? $s(k) : Ts(k, 0) : k())
        });
        Rv[e] = !0;
        Sv[a.toString()] || (Sv[a.toString()] = []);
        Sv[a.toString()].push(e);
        return e
    }

    function Wv(a, b, c) {
        var d = ega(a, function(e) {
            b.apply(c, arguments);
            Xv(d)
        }, c);
        return d
    }

    function Xv(a) {
        var b = Vv();
        b && ("number" === typeof a && (a = [a]), nb(a, function(c) {
            b.unsubscribeByKey(c);
            delete Rv[c]
        }))
    }

    function Vv() {
        return Ja("ytPubsub2Pubsub2Instance")
    };

    function Yv() {
        this.vH = !0
    }

    function Zv() {
        Yv.i || (Yv.i = new Yv);
        return Yv.i
    }

    function $v(a, b) {
        return ph(a.ot(b))
    }
    Yv.prototype.ot = function(a) {
        var b = {},
            c = ii([]);
        c && (b.Authorization = c, c = a = null === a || void 0 === a ? void 0 : a.sessionIndex, void 0 === c && (c = Number(G("SESSION_INDEX", 0)), c = isNaN(c) ? 0 : c), b["X-Goog-AuthUser"] = c, "INNERTUBE_HOST_OVERRIDE" in ws || (b["X-Origin"] = window.location.origin), I("pageid_as_header_web") && void 0 === a && "DELEGATED_SESSION_ID" in ws && (b["X-Goog-PageId"] = G("DELEGATED_SESSION_ID")));
        return b
    };
    var fga = {
        identityType: "UNAUTHENTICATED_IDENTITY_TYPE_UNKNOWN"
    };
    var aw = function() {
        var a;
        return function() {
            a || (a = new Kv("ytidb"));
            return a
        }
    }();

    function bw() {
        var a;
        return null === (a = aw()) || void 0 === a ? void 0 : a.get("LAST_RESULT_ENTRY_KEY", !0)
    }

    function cw(a) {
        this.i = void 0 === a ? !1 : a;
        (a = bw()) || (a = {
            hasSucceededOnce: this.i
        });
        this.l = a;
        var b, c;
        I("ytidb_analyze_is_supported") && (null === (c = aw()) || void 0 === c ? 0 : c.i) && (c = {
            hasSucceededOnce: this.l.hasSucceededOnce || this.i
        }, null === (b = aw()) || void 0 === b ? void 0 : b.set("LAST_RESULT_ENTRY_KEY", c, 2592E3, !0))
    }
    cw.prototype.isSupported = function() {
        return this.i
    };
    var dw = [],
        ew, fw = !1;

    function gga() {
        var a = {};
        for (ew = new gw(void 0 === a.handleError ? hw : a.handleError, void 0 === a.logEvent ? iw : a.logEvent); 0 < dw.length;) switch (a = dw.shift(), a.type) {
            case "ERROR":
                ew.Fc(a.payload);
                break;
            case "EVENT":
                ew.logEvent(a.eventType, a.payload)
        }
    }

    function jw(a) {
        fw || (ew ? ew.Fc(a) : (dw.push({
            type: "ERROR",
            payload: a
        }), 10 < dw.length && dw.shift()))
    }

    function kw(a, b) {
        fw || (ew ? ew.logEvent(a, b) : (dw.push({
            type: "EVENT",
            eventType: a,
            payload: b
        }), 10 < dw.length && dw.shift()))
    };

    function lw(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        d = Error.call(this, a);
        this.message = d.message;
        "stack" in d && (this.stack = d.stack);
        this.args = [].concat(ha(c))
    }
    v(lw, Error);

    function mw() {
        try {
            return nw(), !0
        } catch (a) {
            return !1
        }
    }

    function nw(a) {
        if (void 0 !== G("DATASYNC_ID", void 0)) return G("DATASYNC_ID", void 0);
        throw new lw("Datasync ID not set", void 0 === a ? "unknown" : a);
    };

    function ow(a) {
        if (0 <= a.indexOf(":")) throw Error("Database name cannot contain ':'");
    }

    function pw(a) {
        return a.substr(0, a.indexOf(":")) || a
    };
    var qw = {},
        rw = (qw.AUTH_INVALID = "No user identifier specified.", qw.EXPLICIT_ABORT = "Transaction was explicitly aborted.", qw.IDB_NOT_SUPPORTED = "IndexedDB is not supported.", qw.MISSING_OBJECT_STORE = "Object store not created.", qw.DB_DELETED_BY_MISSING_OBJECT_STORE = "Database is deleted because an expected object store was not created.", qw.UNKNOWN_ABORT = "Transaction was aborted for unknown reasons.", qw.QUOTA_EXCEEDED = "The current transaction exceeded its quota limitations.", qw.QUOTA_MAYBE_EXCEEDED = "The current transaction may have failed because of exceeding quota limitations.",
            qw.EXECUTE_TRANSACTION_ON_CLOSED_DB = "Can't start a transaction on a closed database", qw),
        tw = {},
        hga = (tw.AUTH_INVALID = "ERROR", tw.EXECUTE_TRANSACTION_ON_CLOSED_DB = "WARNING", tw.EXPLICIT_ABORT = "IGNORED", tw.IDB_NOT_SUPPORTED = "ERROR", tw.MISSING_OBJECT_STORE = "ERROR", tw.DB_DELETED_BY_MISSING_OBJECT_STORE = "WARNING", tw.QUOTA_EXCEEDED = "WARNING", tw.QUOTA_MAYBE_EXCEEDED = "WARNING", tw.UNKNOWN_ABORT = "WARNING", tw),
        uw = {},
        iga = (uw.AUTH_INVALID = !1, uw.EXECUTE_TRANSACTION_ON_CLOSED_DB = !1, uw.EXPLICIT_ABORT = !1, uw.IDB_NOT_SUPPORTED = !1, uw.MISSING_OBJECT_STORE = !1, uw.DB_DELETED_BY_MISSING_OBJECT_STORE = !1, uw.QUOTA_EXCEEDED = !1, uw.QUOTA_MAYBE_EXCEEDED = !0, uw.UNKNOWN_ABORT = !0, uw);

    function vw(a, b, c, d, e) {
        b = void 0 === b ? {} : b;
        c = void 0 === c ? rw[a] : c;
        d = void 0 === d ? hga[a] : d;
        e = void 0 === e ? iga[a] : e;
        lw.call(this, c, Object.assign({
            name: "YtIdbKnownError",
            isSw: void 0 === self.document,
            isIframe: self !== self.top,
            type: a
        }, b));
        this.type = a;
        this.message = c;
        this.level = d;
        this.i = e;
        Object.setPrototypeOf(this, vw.prototype)
    }
    v(vw, lw);

    function ww(a) {
        vw.call(this, "MISSING_OBJECT_STORE", {
            fF: a
        }, rw.MISSING_OBJECT_STORE);
        Object.setPrototypeOf(this, ww.prototype)
    }
    v(ww, vw);
    var jga = ["The database connection is closing", "Can't start a transaction on a closed database", "A mutation operation was attempted on a database that did not allow mutations"];

    function kga(a, b, c) {
        b = pw(b);
        var d = a instanceof Error ? a : Error("Unexpected error: " + a);
        if (d instanceof vw) return d;
        if ("QuotaExceededError" === d.name) return new vw("QUOTA_EXCEEDED", {
            objectStoreNames: c,
            dbName: b
        });
        if (Oe && "UnknownError" === d.name) return new vw("QUOTA_MAYBE_EXCEEDED", {
            objectStoreNames: c,
            dbName: b
        });
        if ("InvalidStateError" === d.name && jga.some(function(e) {
                return d.message.includes(e)
            })) return new vw("EXECUTE_TRANSACTION_ON_CLOSED_DB", {
            objectStoreNames: c,
            dbName: b
        });
        if ("AbortError" === d.name) return new vw("UNKNOWN_ABORT", {
            objectStoreNames: c,
            dbName: b
        }, d.message);
        d.args = [{
            name: "IdbError",
            Su: d.name,
            dbName: b,
            objectStoreNames: c
        }];
        d.level = "WARNING";
        return d
    };

    function lga(a) {
        if (!a) throw Error();
        throw a;
    }

    function mga(a) {
        return a
    }

    function xw(a) {
        function b(e) {
            if ("PENDING" === d.state.status) {
                d.state = {
                    status: "REJECTED",
                    reason: e
                };
                e = t(d.onRejected);
                for (var f = e.next(); !f.done; f = e.next()) f = f.value, f()
            }
        }

        function c(e) {
            if ("PENDING" === d.state.status) {
                d.state = {
                    status: "FULFILLED",
                    value: e
                };
                e = t(d.i);
                for (var f = e.next(); !f.done; f = e.next()) f = f.value, f()
            }
        }
        var d = this;
        this.l = a;
        this.state = {
            status: "PENDING"
        };
        this.i = [];
        this.onRejected = [];
        try {
            this.l(c, b)
        } catch (e) {
            b(e)
        }
    }
    xw.all = function(a) {
        return new xw(function(b, c) {
            var d = [],
                e = a.length;
            0 === e && b(d);
            for (var f = {
                    ql: 0
                }; f.ql < a.length; f = {
                    ql: f.ql
                }, ++f.ql) xw.resolve(a[f.ql]).then(function(g) {
                return function(k) {
                    d[g.ql] = k;
                    e--;
                    0 === e && b(d)
                }
            }(f)).catch(function(g) {
                c(g)
            })
        })
    };
    xw.resolve = function(a) {
        return new xw(function(b, c) {
            a instanceof xw ? a.then(b, c) : b(a)
        })
    };
    xw.reject = function(a) {
        return new xw(function(b, c) {
            c(a)
        })
    };
    xw.prototype.then = function(a, b) {
        var c = this,
            d = null !== a && void 0 !== a ? a : mga,
            e = null !== b && void 0 !== b ? b : lga;
        return new xw(function(f, g) {
            "PENDING" === c.state.status ? (c.i.push(function() {
                yw(c, c, d, f, g)
            }), c.onRejected.push(function() {
                zw(c, c, e, f, g)
            })) : "FULFILLED" === c.state.status ? yw(c, c, d, f, g) : "REJECTED" === c.state.status && zw(c, c, e, f, g)
        })
    };
    xw.prototype.catch = function(a) {
        return this.then(void 0, a)
    };

    function yw(a, b, c, d, e) {
        try {
            if ("FULFILLED" !== a.state.status) throw Error("calling handleResolve before the promise is fulfilled.");
            var f = c(a.state.value);
            f instanceof xw ? Aw(a, b, f, d, e) : d(f)
        } catch (g) {
            e(g)
        }
    }

    function zw(a, b, c, d, e) {
        try {
            if ("REJECTED" !== a.state.status) throw Error("calling handleReject before the promise is rejected.");
            var f = c(a.state.reason);
            f instanceof xw ? Aw(a, b, f, d, e) : d(f)
        } catch (g) {
            e(g)
        }
    }

    function Aw(a, b, c, d, e) {
        b === c ? e(new TypeError("Circular promise chain detected.")) : c.then(function(f) {
            f instanceof xw ? Aw(a, b, f, d, e) : d(f)
        }, function(f) {
            e(f)
        })
    };

    function Bw(a, b, c) {
        function d() {
            c(a.error);
            f()
        }

        function e() {
            b(a.result);
            f()
        }

        function f() {
            try {
                a.removeEventListener("success", e), a.removeEventListener("error", d)
            } catch (g) {}
        }
        a.addEventListener("success", e);
        a.addEventListener("error", d)
    }

    function nga(a) {
        return new Promise(function(b, c) {
            Bw(a, b, c)
        })
    }

    function Cw(a) {
        return new xw(function(b, c) {
            Bw(a, b, c)
        })
    };

    function Dw(a, b) {
        return new xw(function(c, d) {
            function e() {
                var f = a ? b(a) : null;
                f ? f.then(function(g) {
                    a = g;
                    e()
                }, d) : c()
            }
            e()
        })
    }

    function Ew(a, b) {
        this.request = a;
        this.cursor = b
    }

    function Fw(a) {
        return Cw(a).then(function(b) {
            return null === b ? null : new Ew(a, b)
        })
    }
    h = Ew.prototype;
    h.advance = function(a) {
        this.cursor.advance(a);
        return Fw(this.request)
    };
    h.continue = function(a) {
        this.cursor.continue(a);
        return Fw(this.request)
    };
    h.continuePrimaryKey = function(a, b) {
        this.cursor.continuePrimaryKey(a, b);
        return Fw(this.request)
    };
    h.getKey = function() {
        return this.cursor.key
    };
    h.Xy = function() {
        return this.cursor.primaryKey
    };

    function Gw(a, b) {
        this.i = a;
        this.options = b;
        this.transactionCount = 0;
        this.u = Math.round(K());
        this.l = !1
    }
    h = Gw.prototype;
    h.add = function(a, b, c) {
        return Hw(this, [a], {
            mode: "readwrite",
            wf: !0
        }, function(d) {
            return Iw(d, a).add(b, c)
        })
    };
    h.clear = function(a) {
        return Hw(this, [a], {
            mode: "readwrite",
            wf: !0
        }, function(b) {
            return Iw(b, a).clear()
        })
    };
    h.close = function() {
        var a;
        this.i.close();
        (null === (a = this.options) || void 0 === a ? 0 : a.closed) && this.options.closed()
    };
    h.count = function(a, b) {
        return Hw(this, [a], {
            mode: "readonly",
            wf: !0
        }, function(c) {
            return Iw(c, a).count(b)
        })
    };

    function Jw(a, b, c) {
        a = a.i.createObjectStore(b, c);
        return new Kw(a)
    }
    h.delete = function(a, b) {
        return Hw(this, [a], {
            mode: "readwrite",
            wf: !0
        }, function(c) {
            return Iw(c, a).delete(b)
        })
    };
    h.get = function(a, b) {
        return Hw(this, [a], {
            mode: "readonly",
            wf: !0
        }, function(c) {
            return Iw(c, a).get(b)
        })
    };
    h.getAll = function(a, b, c) {
        return Hw(this, [a], {
            mode: "readonly",
            wf: !0
        }, function(d) {
            return Iw(d, a).getAll(b, c)
        })
    };

    function oga(a, b) {
        return Hw(a, ["LogsRequestsStore"], {
            mode: "readwrite",
            wf: !0
        }, function(c) {
            return Lw(Iw(c, "LogsRequestsStore"), b, void 0)
        })
    }
    h.objectStoreNames = function() {
        return Array.from(this.i.objectStoreNames)
    };

    function Hw(a, b, c, d) {
        return B(a, function f() {
            var g = this,
                k, l, m, n, p, q, r, u, x, z, D, H;
            return y(f, function(O) {
                switch (O.i) {
                    case 1:
                        var M = {
                            mode: "readonly",
                            wf: !1,
                            tag: "IDB_TRANSACTION_TAG_UNKNOWN"
                        };
                        "string" === typeof c ? M.mode = c : Object.assign(M, c);
                        k = M;
                        g.transactionCount++;
                        l = k.wf ? Hs("ytidb_transaction_try_count", 1) : 1;
                        m = 0;
                    case 2:
                        if (n) {
                            O.Ya(3);
                            break
                        }
                        m++;
                        p = Math.round(K());
                        ta(O, 4);
                        q = g.i.transaction(b, k.mode);
                        M = new Mw(q);
                        M = pga(M, d);
                        return w(O, M, 6);
                    case 6:
                        return r = O.l, u = Math.round(K()), Nw(g, p, u, m, void 0, b.join(), k), O.return(r);
                    case 4:
                        x = va(O);
                        z = Math.round(K());
                        D = kga(x, g.i.name, b.join());
                        if ((H = D instanceof vw && !D.i) || m >= l) Nw(g, p, z, m, D, b.join(), k), n = D;
                        O.Ya(2);
                        break;
                    case 3:
                        return O.return(Promise.reject(n))
                }
            })
        })
    }

    function Nw(a, b, c, d, e, f, g) {
        b = c - b;
        e ? (e instanceof vw && ("QUOTA_EXCEEDED" === e.type || "QUOTA_MAYBE_EXCEEDED" === e.type) && kw("QUOTA_EXCEEDED", {
            dbName: pw(a.i.name),
            objectStoreNames: f,
            transactionCount: a.transactionCount,
            transactionMode: g.mode
        }), e instanceof vw && "UNKNOWN_ABORT" === e.type && (kw("TRANSACTION_UNEXPECTEDLY_ABORTED", {
            objectStoreNames: f,
            transactionDuration: b,
            transactionCount: a.transactionCount,
            dbDuration: c - a.u
        }), a.l = !0), Ow(a, !1, d, f, b, g.tag), jw(e)) : Ow(a, !0, d, f, b, g.tag)
    }

    function Ow(a, b, c, d, e, f) {
        kw("TRANSACTION_ENDED", {
            objectStoreNames: d,
            connectionHasUnknownAbortedTransaction: a.l,
            duration: e,
            isSuccessful: b,
            tryCount: c,
            tag: void 0 === f ? "IDB_TRANSACTION_TAG_UNKNOWN" : f
        })
    }
    h.getName = function() {
        return this.i.name
    };

    function Kw(a) {
        this.i = a
    }
    h = Kw.prototype;
    h.add = function(a, b) {
        return Cw(this.i.add(a, b))
    };
    h.autoIncrement = function() {
        return this.i.autoIncrement
    };
    h.clear = function() {
        return Cw(this.i.clear()).then(function() {})
    };
    h.count = function(a) {
        return Cw(this.i.count(a))
    };

    function qga(a, b) {
        return Pw(a, {
            query: b
        }, function(c) {
            return c.delete().then(function() {
                return c.continue()
            })
        }).then(function() {})
    }
    h.delete = function(a) {
        return a instanceof IDBKeyRange ? qga(this, a) : Cw(this.i.delete(a))
    };
    h.get = function(a) {
        return Cw(this.i.get(a))
    };
    h.getAll = function(a, b) {
        return "getAll" in IDBObjectStore.prototype ? Cw(this.i.getAll(a, b)) : rga(this, a, b)
    };

    function rga(a, b, c) {
        var d = [];
        return Pw(a, {
            query: b
        }, function(e) {
            if (!(void 0 !== c && d.length >= c)) return d.push(e.getValue()), e.continue()
        }).then(function() {
            return d
        })
    }
    h.index = function(a) {
        return new Qw(this.i.index(a))
    };
    h.getName = function() {
        return this.i.name
    };
    h.keyPath = function() {
        return this.i.keyPath
    };

    function Lw(a, b, c) {
        return Cw(a.i.put(b, c))
    }

    function Pw(a, b, c) {
        a = a.i.openCursor(b.query, b.direction);
        return Rw(a).then(function(d) {
            return Dw(d, c)
        })
    }

    function sga(a, b) {
        var c = {},
            d = c.query;
        c = c.direction;
        a = "openKeyCursor" in IDBObjectStore.prototype ? a.i.openKeyCursor(d, c) : a.i.openCursor(d, c);
        return Fw(a).then(function(e) {
            return Dw(e, b)
        })
    }

    function Mw(a) {
        var b = this;
        this.i = a;
        this.u = new Map;
        this.l = !1;
        this.done = new Promise(function(c, d) {
            b.i.addEventListener("complete", function() {
                c()
            });
            b.i.addEventListener("error", function(e) {
                e.currentTarget === e.target && d(b.i.error)
            });
            b.i.addEventListener("abort", function() {
                var e = b.i.error;
                if (e) d(e);
                else if (!b.l) {
                    e = vw;
                    for (var f = b.i.objectStoreNames, g = [], k = 0; k < f.length; k++) {
                        var l = f.item(k);
                        if (null === l) throw Error("Invariant: item in DOMStringList is null");
                        g.push(l)
                    }
                    e = new e("UNKNOWN_ABORT", {
                        objectStoreNames: g.join(),
                        dbName: b.i.db.name,
                        mode: b.i.mode
                    });
                    d(e)
                }
            })
        })
    }

    function pga(a, b) {
        var c = new Promise(function(d, e) {
            try {
                b(a).then(function(f) {
                    d(f)
                }).catch(e)
            } catch (f) {
                e(f), a.abort()
            }
        });
        return Promise.all([c, a.done]).then(function(d) {
            return t(d).next().value
        })
    }
    Mw.prototype.abort = function() {
        this.i.abort();
        this.l = !0;
        throw new vw("EXPLICIT_ABORT");
    };

    function Iw(a, b) {
        b = a.i.objectStore(b);
        var c = a.u.get(b);
        c || (c = new Kw(b), a.u.set(b, c));
        return c
    }

    function Qw(a) {
        this.i = a
    }
    h = Qw.prototype;
    h.count = function(a) {
        return Cw(this.i.count(a))
    };
    h.delete = function(a) {
        return Sw(this, {
            query: a
        }, function(b) {
            return b.delete().then(function() {
                return b.continue()
            })
        })
    };
    h.get = function(a) {
        return Cw(this.i.get(a))
    };
    h.getAll = function(a, b) {
        return "getAll" in IDBIndex.prototype ? Cw(this.i.getAll(a, b)) : tga(this, a, b)
    };

    function tga(a, b, c) {
        var d = [];
        return Sw(a, {
            query: b
        }, function(e) {
            if (!(void 0 !== c && d.length >= c)) return d.push(e.getValue()), e.continue()
        }).then(function() {
            return d
        })
    }
    h.getKey = function(a) {
        return Cw(this.i.getKey(a))
    };
    h.keyPath = function() {
        return this.i.keyPath
    };
    h.unique = function() {
        return this.i.unique
    };

    function Sw(a, b, c) {
        a = a.i.openCursor(void 0 === b.query ? null : b.query, void 0 === b.direction ? "next" : b.direction);
        return Rw(a).then(function(d) {
            return Dw(d, c)
        })
    }

    function Tw(a, b) {
        this.request = a;
        this.cursor = b
    }

    function Rw(a) {
        return Cw(a).then(function(b) {
            return null === b ? null : new Tw(a, b)
        })
    }
    h = Tw.prototype;
    h.advance = function(a) {
        this.cursor.advance(a);
        return Rw(this.request)
    };
    h.continue = function(a) {
        this.cursor.continue(a);
        return Rw(this.request)
    };
    h.delete = function() {
        return Cw(this.cursor.delete()).then(function() {})
    };
    h.getKey = function() {
        return this.cursor.key
    };
    h.Xy = function() {
        return this.cursor.primaryKey
    };
    h.getValue = function() {
        return this.cursor.value
    };
    h.update = function(a) {
        return Cw(this.cursor.update(a))
    };

    function uga(a, b, c) {
        return new Promise(function(d, e) {
            function f() {
                q || (q = new Gw(g.result, {
                    closed: p
                }));
                return q
            }
            var g = self.indexedDB.open(a, b),
                k = c.blocked,
                l = c.blocking,
                m = c.xH,
                n = c.upgrade,
                p = c.closed,
                q;
            g.addEventListener("upgradeneeded", function(r) {
                try {
                    if (null === r.newVersion) throw Error("Invariant: newVersion on IDbVersionChangeEvent is null");
                    if (null === g.transaction) throw Error("Invariant: transaction on IDbOpenDbRequest is null");
                    r.dataLoss && "none" !== r.dataLoss && kw("IDB_DATA_CORRUPTED", {
                        reason: r.dataLossMessage || "unknown reason",
                        dbName: pw(a)
                    });
                    var u = f(),
                        x = new Mw(g.transaction);
                    n && n(u, r.oldVersion, r.newVersion,
                        x);
                    x.done.catch(function(z) {
                        e(z)
                    })
                } catch (z) {
                    e(z)
                }
            });
            g.addEventListener("success", function() {
                var r = g.result;
                l && r.addEventListener("versionchange", function() {
                    l(f())
                });
                r.addEventListener("close", function() {
                    kw("IDB_UNEXPECTEDLY_CLOSED", {
                        dbName: pw(a),
                        dbVersion: r.version
                    });
                    m && m()
                });
                d(f())
            });
            g.addEventListener("error", function() {
                e(g.error)
            });
            k && g.addEventListener("blocked", function() {
                k()
            })
        })
    }

    function Uw(a, b, c) {
        c = void 0 === c ? {} : c;
        return uga(a, b, c)
    }

    function Vw(a, b) {
        b = void 0 === b ? {} : b;
        return B(this, function d() {
            var e, f, g;
            return y(d, function(k) {
                e = self.indexedDB.deleteDatabase(a);
                f = b;
                (g = f.blocked) && e.addEventListener("blocked", function() {
                    g()
                });
                return w(k, nga(e), 0)
            })
        })
    };

    function Ww(a, b) {
        this.name = a;
        this.options = b;
        this.u = !1
    }
    Ww.prototype.l = function(a, b, c) {
        c = void 0 === c ? {} : c;
        return Uw(a, b, c)
    };
    Ww.prototype.delete = function(a) {
        a = void 0 === a ? {} : a;
        return Vw(this.name, a)
    };
    Ww.prototype.open = function() {
        var a = this;
        if (!this.i) {
            var b, c = function() {
                    a.i === b && (a.i = void 0)
                },
                d = {
                    blocking: function(f) {
                        f.close()
                    },
                    closed: c,
                    xH: c,
                    upgrade: this.options.upgrade
                },
                e = function() {
                    return B(a, function g() {
                        var k = this,
                            l, m, n;
                        return y(g, function(p) {
                            switch (p.i) {
                                case 1:
                                    return ta(p, 2), w(p, k.l(k.name, k.options.version, d), 4);
                                case 4:
                                    l = p.l;
                                    a: {
                                        var q = k.options;
                                        for (var r = t(Object.keys(q.Eo)), u = r.next(); !u.done; u = r.next()) {
                                            u = u.value;
                                            var x = q.Eo[u];
                                            if ("boolean" === typeof x) {
                                                if (!l.i.objectStoreNames.contains(u)) {
                                                    q = u;
                                                    break a
                                                }
                                            } else {
                                                var z = void 0 === x.eH ? Number.MAX_VALUE : x.eH;
                                                if (l.i.version >= x.oU && !(l.i.version >= z) && !l.i.objectStoreNames.contains(u)) {
                                                    q =
                                                        u;
                                                    break a
                                                }
                                            }
                                        }
                                        q = void 0
                                    }
                                    m = q;
                                    if (void 0 === m) {
                                        p.Ya(5);
                                        break
                                    }
                                    if (k.u) {
                                        p.Ya(6);
                                        break
                                    }
                                    k.u = !0;
                                    return w(p, k.delete(), 7);
                                case 7:
                                    return jw(new vw("DB_DELETED_BY_MISSING_OBJECT_STORE", {
                                        dbName: k.name,
                                        fF: m
                                    })), p.return(e());
                                case 6:
                                    throw new ww(m);
                                case 5:
                                    return p.return(l);
                                case 2:
                                    n = va(p);
                                    if (n instanceof DOMException ? "VersionError" === n.name : "DOMError" in self && n instanceof DOMError ? "VersionError" === n.name : n instanceof Object && "message" in n && "An attempt was made to open a database using a lower version than the existing version." ===
                                        n.message) return p.return(k.l(k.name, void 0, Object.assign(Object.assign({}, d), {
                                        upgrade: void 0
                                    })));
                                    c();
                                    throw n;
                            }
                        })
                    })
                };
            this.i = b = e()
        }
        return this.i
    };
    var Xw = new Ww("YtIdbMeta", {
        Eo: {
            databases: !0
        },
        upgrade: function(a, b) {
            1 > b && Jw(a, "databases", {
                keyPath: "actualName"
            })
        }
    });

    function Yw(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                if (1 == e.i) return w(e, Xw.open(), 2);
                d = e.l;
                return e.return(Hw(d, ["databases"], {
                    wf: !0,
                    mode: "readwrite"
                }, function(f) {
                    var g = Iw(f, "databases");
                    return g.get(a.actualName).then(function(k) {
                        if (k ? a.actualName !== k.actualName || a.publicName !== k.publicName || a.userIdentifier !== k.userIdentifier : 1) return Lw(g, a).then(function() {})
                    })
                }))
            })
        })
    }

    function Zw(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                if (1 == e.i) return w(e, Xw.open(), 2);
                d = e.l;
                return e.return(d.delete("databases", a))
            })
        })
    }

    function vga(a) {
        return B(this, function c() {
            var d, e;
            return y(c, function(f) {
                return 1 == f.i ? (d = [], w(f, Xw.open(), 2)) : 3 != f.i ? (e = f.l, w(f, Hw(e, ["databases"], {
                    wf: !0,
                    mode: "readonly"
                }, function(g) {
                    d.length = 0;
                    return Pw(Iw(g, "databases"), {}, function(k) {
                        a(k.getValue()) && d.push(k.getValue());
                        return k.continue()
                    })
                }), 3)) : f.return(d)
            })
        })
    }

    function wga() {
        return B(this, function b() {
            var c, d;
            return y(b, function(e) {
                if (1 == e.i) return c = nw("YtIdbMeta"), w(e, vga(function(f) {
                    return "yt-player-local-media" === f.publicName && f.userIdentifier === c
                }), 2);
                d = e.l;
                return e.return(0 < d.length)
            })
        })
    };
    var $w;

    function xga() {
        return B(this, function b() {
            var c, d, e;
            return y(b, function(f) {
                switch (f.i) {
                    case 1:
                        if (I("ytidb_is_supported_cache_success_result") && (c = bw(), null === c || void 0 === c ? 0 : c.hasSucceededOnce)) return f.return(new cw(!0));
                        if (uu && Fu() && !Gu() || oe) return f.return(new cw(!1));
                        try {
                            if (d = self, !(d.indexedDB && d.IDBIndex && d.IDBKeyRange && d.IDBObjectStore)) return f.return(new cw(!1))
                        } catch (g) {
                            return f.return(new cw(!1))
                        }
                        if (!("IDBTransaction" in self && "objectStoreNames" in IDBTransaction.prototype)) return f.return(new cw(!1));
                        ta(f,
                            2);
                        e = {
                            actualName: "yt-idb-test-do-not-use",
                            publicName: "yt-idb-test-do-not-use",
                            userIdentifier: void 0
                        };
                        return w(f, Yw(e), 4);
                    case 4:
                        return w(f, Zw("yt-idb-test-do-not-use"), 5);
                    case 5:
                        return f.return(new cw(!0));
                    case 2:
                        return va(f), f.return(new cw(!1))
                }
            })
        })
    }

    function ax() {
        if (void 0 !== $w) return $w;
        fw = !0;
        return $w = xga().then(function(a) {
            fw = !1;
            return a.isSupported()
        })
    };

    function bx(a) {
        if (!mw()) throw a = new vw("AUTH_INVALID"), jw(a), a;
        var b = nw();
        return {
            actualName: a + ":" + b,
            publicName: a,
            userIdentifier: b
        }
    }

    function cx(a, b, c, d) {
        return B(this, function f() {
            var g, k;
            return y(f, function(l) {
                switch (l.i) {
                    case 1:
                        return w(l, yga({
                            caller: "openDbImpl",
                            publicName: a,
                            version: b
                        }), 2);
                    case 2:
                        return ow(a), g = c ? {
                            actualName: a,
                            publicName: a,
                            userIdentifier: void 0
                        } : bx(a), ta(l, 3), w(l, Yw(g), 5);
                    case 5:
                        return w(l, Uw(g.actualName, b, d), 6);
                    case 6:
                        return l.return(l.l);
                    case 3:
                        return k = va(l), ta(l, 7), w(l, Zw(g.actualName), 9);
                    case 9:
                        ua(l, 8);
                        break;
                    case 7:
                        va(l);
                    case 8:
                        throw k;
                }
            })
        })
    }

    function yga(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                if (1 == e.i) return w(e, ax(), 2);
                if (!e.l) throw d = new vw("IDB_NOT_SUPPORTED", {
                    context: a
                }), jw(d), d;
                sa(e)
            })
        })
    }

    function zga(a, b, c) {
        c = void 0 === c ? {} : c;
        return cx(a, b, !1, c)
    }

    function Aga(a, b, c) {
        c = void 0 === c ? {} : c;
        return cx(a, b, !0, c)
    }

    function Bga(a, b) {
        b = void 0 === b ? {} : b;
        return B(this, function d() {
            var e;
            return y(d, function(f) {
                if (1 == f.i) return w(f, ax(), 2);
                if (3 != f.i) {
                    if (!f.l) return f.return();
                    ow(a);
                    e = bx(a);
                    return w(f, Vw(e.actualName, b), 3)
                }
                return w(f, Zw(e.actualName), 0)
            })
        })
    }

    function Cga(a, b) {
        b = void 0 === b ? {} : b;
        return B(this, function d() {
            return y(d, function(e) {
                if (1 == e.i) return w(e, ax(), 2);
                if (3 != e.i) {
                    if (!e.l) return e.return();
                    ow(a);
                    return w(e, Vw(a, b), 3)
                }
                return w(e, Zw(a), 0)
            })
        })
    }

    function Dga() {
        return B(this, function b() {
            return y(b, function(c) {
                return 1 == c.i ? w(c, ax(), 2) : c.l ? c.return(wga()) : c.return(!1)
            })
        })
    };

    function dx() {
        xw.call(this, function() {});
        throw Error("Not allowed to instantiate the thennable outside of the core library.");
    }
    v(dx, xw);
    dx.reject = xw.reject;
    dx.resolve = xw.resolve;
    dx.all = xw.all;

    function ex(a, b) {
        Ww.call(this, a, b);
        this.options = b;
        ow(a)
    }
    v(ex, Ww);

    function Ega(a, b) {
        var c;
        return function() {
            c || (c = new ex(a, b));
            return c
        }
    }
    ex.prototype.l = function(a, b, c) {
        c = void 0 === c ? {} : c;
        return (this.options.Zq ? Aga : zga)(a, b, Object.assign({}, c))
    };
    ex.prototype.delete = function(a) {
        a = void 0 === a ? {} : a;
        return (this.options.Zq ? Cga : Bga)(this.name, a)
    };

    function fx(a, b) {
        return Ega(a, b)
    };
    var gx;

    function hx() {
        if (gx) return gx();
        var a = {};
        gx = fx("LogsDatabaseV2", {
            Eo: (a.LogsRequestsStore = !0, a.sapisid = !0, a.SWHealthLog = !0, a),
            Zq: !1,
            upgrade: function(b, c, d) {
                2 > c && 2 <= d && (Jw(b, "LogsRequestsStore", {
                    keyPath: "id",
                    autoIncrement: !0
                }).i.createIndex("newRequest", ["status", "authHash", "interface", "timestamp"], {
                    unique: !1
                }), Jw(b, "sapisid"));
                3 > c && 3 <= d && Jw(b, "SWHealthLog", {
                    keyPath: "id",
                    autoIncrement: !0
                }).i.createIndex("swHealthNewRequest", ["interface", "timestamp"], {
                    unique: !1
                })
            },
            version: 4
        });
        return gx()
    };

    function ix(a) {
        return B(this, function c() {
            var d, e, f, g, k;
            return y(c, function(l) {
                switch (l.i) {
                    case 1:
                        return d = {
                            startTime: K(),
                            transactionType: "YT_IDB_TRANSACTION_TYPE_WRITE"
                        }, w(l, hx().open(), 2);
                    case 2:
                        e = l.l;
                        if (5 <= e.i.version) {
                            f = Object.assign(Object.assign({}, a), {
                                options: JSON.parse(JSON.stringify(a.options)),
                                interface: G("INNERTUBE_CONTEXT_CLIENT_NAME", 0)
                            });
                            l.Ya(3);
                            break
                        }
                        return w(l, jx(), 4);
                    case 4:
                        g = l.l, f = Object.assign(Object.assign({}, a), {
                            authHash: g,
                            options: JSON.parse(JSON.stringify(a.options)),
                            interface: G("INNERTUBE_CONTEXT_CLIENT_NAME",
                                0)
                        });
                    case 3:
                        return w(l, oga(e, f), 5);
                    case 5:
                        return k = l.l, d.BH = K(), kx(d), l.return(k)
                }
            })
        })
    }

    function Fga() {
        return B(this, function b() {
            var c, d, e, f, g, k, l, m, n;
            return y(b, function(p) {
                switch (p.i) {
                    case 1:
                        return c = {
                            startTime: K(),
                            transactionType: "YT_IDB_TRANSACTION_TYPE_READ"
                        }, w(p, hx().open(), 2);
                    case 2:
                        d = p.l;
                        e = G("INNERTUBE_CONTEXT_CLIENT_NAME", 0);
                        if (5 <= d.i.version) {
                            f = ["NEW", e, 0];
                            g = ["NEW", e, K()];
                            p.Ya(3);
                            break
                        }
                        return w(p, jx(), 4);
                    case 4:
                        k = p.l, f = ["NEW", k, e, 0], g = ["NEW", k, e, K()];
                    case 3:
                        return l = IDBKeyRange.bound(f, g), m = void 0, n = 5 <= d.i.version ? "newRequestV2" : "newRequest", w(p, Hw(d, ["LogsRequestsStore"], {
                            mode: "readwrite",
                            wf: !0
                        }, function(q) {
                            return Sw(Iw(q, "LogsRequestsStore").index(n), {
                                query: l,
                                direction: "prev"
                            }, function(r) {
                                r.getValue() && (m = r.getValue(), m.status = "QUEUED", r.update(m))
                            })
                        }), 5);
                    case 5:
                        return c.BH = K(), kx(c), p.return(m)
                }
            })
        })
    }

    function Gga(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                if (1 == e.i) return w(e, hx().open(), 2);
                d = e.l;
                return e.return(Hw(d, ["LogsRequestsStore"], {
                    mode: "readwrite",
                    wf: !0
                }, function(f) {
                    var g = Iw(f, "LogsRequestsStore");
                    return g.get(a).then(function(k) {
                        if (k) return k.status = "QUEUED", Lw(g, k).then(function() {
                            return k
                        })
                    })
                }))
            })
        })
    }

    function Hga(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                if (1 == e.i) return w(e, hx().open(), 2);
                d = e.l;
                return e.return(Hw(d, ["LogsRequestsStore"], {
                    mode: "readwrite",
                    wf: !0
                }, function(f) {
                    var g = Iw(f, "LogsRequestsStore");
                    return g.get(a).then(function(k) {
                        return k ? (k.status = "NEW", k.sendCount += 1, Lw(g, k).then(function() {
                            return k
                        })) : dx.resolve(void 0)
                    })
                }))
            })
        })
    }

    function lx(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                if (1 == e.i) return w(e, hx().open(), 2);
                d = e.l;
                return e.return(d.delete("LogsRequestsStore", a))
            })
        })
    }

    function jx() {
        return B(this, function b() {
            var c;
            return y(b, function(d) {
                if (1 == d.i) return w(d, $v(Zv()), 2);
                c = d.l;
                var e = d.return,
                    f = Jv(c),
                    g = new gr;
                g.update(JSON.stringify(f, Object.keys(f).sort()));
                f = g.digest();
                g = "";
                for (var k = 0; k < f.length; k++) g += "0123456789ABCDEF".charAt(Math.floor(f[k] / 16)) + "0123456789ABCDEF".charAt(f[k] % 16);
                return e.call(d, g)
            })
        })
    }

    function kx(a) {
        var b = Hs("nwl_latency_sampling_rate", .01);
        .02 < b || Math.random() <= b && Uv("nwl_transaction_latency_payload", a)
    };
    var mx;

    function nx() {
        mx || (mx = new Kv("yt.offline"));
        return mx
    }

    function ox() {
        if (I("offline_error_handling")) {
            var a = nx().get("errors", !0);
            if (a) {
                for (var b in a)
                    if (a[b]) {
                        var c = new lw(b, "sent via offline_errors");
                        c.name = a[b].name;
                        c.stack = a[b].stack;
                        c.level = a[b].level;
                        Cs(c)
                    } nx().set("errors", {}, 2592E3, !0)
            }
        }
    };
    var Iga = Hs("network_polling_interval", 3E4);

    function px() {
        ng.call(this);
        this.K = 0;
        this.C = this.l = !1;
        this.D = 0;
        this.u = this.I = !1;
        this.i = this.bq();
        this.u = I("validate_network_status");
        Jga(this);
        Kga(this)
    }
    v(px, ng);

    function qx() {
        if (!px.i) {
            var a = Ja("yt.networkStatusManager.instance") || new px;
            Ia("yt.networkStatusManager.instance", a, void 0);
            px.i = a
        }
        return px.i
    }
    h = px.prototype;
    h.Pg = function() {
        this.u || this.i === this.bq() || Ds(new lw("NetworkStatusManager isOnline does not match window status"));
        return this.i
    };
    h.gF = function(a) {
        this.l = !0;
        if (void 0 === a ? 0 : a) this.K || rx(this)
    };
    h.bq = function() {
        var a = window.navigator.onLine;
        return void 0 === a ? !0 : a
    };
    h.hE = function() {
        this.I = !0
    };
    h.jd = function(a, b) {
        return ng.prototype.jd.call(this, a, b)
    };

    function Kga(a) {
        window.addEventListener("online", function() {
            return B(a, function c() {
                var d = this;
                return y(c, function(e) {
                    if (1 == e.i) return d.u ? w(e, d.pj(), 2) : (d.i = !0, d.l && d.dispatchEvent("ytnetworkstatus-online"), e.Ya(2));
                    sx(d);
                    d.I && ox();
                    sa(e)
                })
            })
        })
    }

    function Jga(a) {
        window.addEventListener("offline", function() {
            return B(a, function c() {
                var d = this;
                return y(c, function(e) {
                    if (1 == e.i) return d.u ? w(e, d.pj(), 2) : (d.i = !1, d.l && d.dispatchEvent("ytnetworkstatus-offline"), e.Ya(2));
                    sx(d);
                    sa(e)
                })
            })
        })
    }

    function rx(a) {
        a.K = Ys(0, function() {
            return B(a, function c() {
                var d = this;
                return y(c, function(e) {
                    if (1 == e.i) {
                        if (I("trigger_nsm_validation_checks_with_nwl") && !d.i) return w(e, d.pj(), 3);
                        if (d.bq()) {
                            if (!1 !== d.i) return e.Ya(3);
                            d.C = !0;
                            d.D = K();
                            return d.l ? d.u ? w(e, d.pj(), 11) : (d.i = !0, d.dispatchEvent("ytnetworkstatus-online"), e.Ya(11)) : e.Ya(11)
                        }
                        if (!0 !== d.i) return e.Ya(3);
                        d.C = !0;
                        d.D = K();
                        return d.l ? d.u ? w(e, d.pj(), 3) : (d.i = !1, d.dispatchEvent("ytnetworkstatus-offline"), e.Ya(3)) : e.Ya(3)
                    }
                    if (3 != e.i) return d.I && ox(), e.Ya(3);
                    rx(d);
                    sa(e)
                })
            })
        }, Iga)
    }

    function sx(a) {
        a.C && (Ds(new lw("NetworkStatusManager state did not match poll", K() - a.D)), a.C = !1)
    }
    h.pj = function(a) {
        var b = this;
        return this.G ? this.G : this.G = new Promise(function(c) {
            return B(b, function e() {
                var f, g, k, l = this;
                return y(e, function(m) {
                    switch (m.i) {
                        case 1:
                            return f = window.AbortController ? new window.AbortController : void 0, g = null === f || void 0 === f ? void 0 : f.signal, k = !1, ta(m, 2, 3), f && (l.J = $s(function() {
                                f.abort()
                            }, a || 2E4)), w(m, fetch("/generate_204", {
                                method: "HEAD",
                                signal: g
                            }), 5);
                        case 5:
                            k = !0;
                        case 3:
                            wa(m);
                            l.G = void 0;
                            l.J && dt(l.J);
                            k !== l.i && (l.i = k, l.i && l.l ? l.dispatchEvent("ytnetworkstatus-online") : l.l && l.dispatchEvent("ytnetworkstatus-offline"));
                            c(k);
                            xa(m, 0);
                            break;
                        case 2:
                            va(m), k = !1, m.Ya(3)
                    }
                })
            })
        })
    };
    px.prototype.sendNetworkCheckRequest = px.prototype.pj;
    px.prototype.listen = px.prototype.jd;
    px.prototype.enableErrorFlushing = px.prototype.hE;
    px.prototype.getWindowStatus = px.prototype.bq;
    px.prototype.monitorNetworkStatusChange = px.prototype.gF;
    px.prototype.isNetworkAvailable = px.prototype.Pg;
    px.getInstance = qx;

    function tx(a) {
        a = void 0 === a ? {} : a;
        ng.call(this);
        var b = this;
        this.l = this.C = 0;
        this.i = qx();
        var c = Ja("yt.networkStatusManager.instance.monitorNetworkStatusChange").bind(this.i);
        c && c(a.jE);
        a.ZE && (c = Ja("yt.networkStatusManager.instance.enableErrorFlushing").bind(this.i)) && c();
        if (c = Ja("yt.networkStatusManager.instance.listen").bind(this.i)) a.Qq ? (this.Qq = a.Qq, c("ytnetworkstatus-online", function() {
                ux(b, "publicytnetworkstatus-online")
            }), c("ytnetworkstatus-offline", function() {
                ux(b, "publicytnetworkstatus-offline")
            })) :
            (c("ytnetworkstatus-online", function() {
                b.dispatchEvent("publicytnetworkstatus-online")
            }), c("ytnetworkstatus-offline", function() {
                b.dispatchEvent("publicytnetworkstatus-offline")
            }))
    }
    v(tx, ng);
    tx.prototype.Pg = function() {
        var a = Ja("yt.networkStatusManager.instance.isNetworkAvailable").bind(this.i);
        return a ? a() : !0
    };
    tx.prototype.pj = function(a) {
        return B(this, function c() {
            var d = this,
                e;
            return y(c, function(f) {
                return (e = Ja("yt.networkStatusManager.instance.sendNetworkCheckRequest").bind(d.i)) ? f.return(e(a)) : f.return(!0)
            })
        })
    };

    function ux(a, b) {
        a.Qq ? a.l ? (dt(a.C), a.C = $s(function() {
            a.u !== b && (a.dispatchEvent(b), a.u = b, a.l = K())
        }, a.Qq - (K() - a.l))) : (a.dispatchEvent(b), a.u = b, a.l = K()) : a.dispatchEvent(b)
    };
    var vx = 0,
        wx = 0,
        xx, yx = A.ytNetworklessLoggingInitializationOptions || {
            isNwlInitialized: !1,
            isIdbSupported: !1,
            potentialEsfErrorCounter: wx
        };
    I("export_networkless_options") && Ia("ytNetworklessLoggingInitializationOptions", yx, void 0);

    function zx(a, b) {
        function c(d) {
            var e = Ax().Pg();
            if (!Bx() || !d || e && I("vss_networkless_bypass_write")) Cx(a, b);
            else {
                var f = {
                    url: a,
                    options: b,
                    timestamp: K(),
                    status: "NEW",
                    sendCount: 0
                };
                ix(f).then(function(g) {
                    f.id = g;
                    (Ax().Pg() || I("networkless_always_online")) && Dx(f)
                }).catch(function(g) {
                    Dx(f);
                    Ex(g)
                })
            }
        }
        b = void 0 === b ? {} : b;
        I("skip_is_supported_killswitch") ? ax().then(function(d) {
            c(d)
        }) : c(Fx())
    }

    function Gx(a, b) {
        function c(e) {
            if (Bx() && e) {
                var f = {
                    url: a,
                    options: b,
                    timestamp: K(),
                    status: "NEW",
                    sendCount: 0
                };
                if (Ax().Pg()) {
                    var g = b.onError ? b.onError : function() {};
                    b.onError = function(k, l) {
                        return B(d, function n() {
                            return y(n, function(p) {
                                if (1 == p.i) return w(p, ix(f).catch(function(q) {
                                    Ex(q)
                                }), 2);
                                g(k, l);
                                sa(p)
                            })
                        })
                    };
                    Cx(a, b)
                } else ix(f).catch(function(k) {
                    Ex(k)
                })
            } else Cx(a, b)
        }
        var d = this;
        b = void 0 === b ? {} : b;
        I("skip_is_supported_killswitch") ? ax().then(function(e) {
            c(e)
        }) : c(Fx())
    }

    function Hx(a, b) {
        function c(d) {
            if (Bx() && d) {
                var e = {
                        url: a,
                        options: b,
                        timestamp: K(),
                        status: "NEW",
                        sendCount: 0
                    },
                    f = !1,
                    g = b.onSuccess ? b.onSuccess : function() {};
                e.options.onSuccess = function(k, l) {
                    void 0 !== e.id ? lx(e.id) : f = !0;
                    g(k, l)
                };
                Cx(e.url, e.options);
                ix(e).then(function(k) {
                    e.id = k;
                    f && lx(e.id)
                }).catch(function(k) {
                    Ex(k)
                })
            } else Cx(a, b)
        }
        b = void 0 === b ? {} : b;
        I("skip_is_supported_killswitch") ? ax().then(function(d) {
            c(d)
        }) : c(Fx())
    }

    function Ix() {
        var a = this;
        vx || (vx = $s(function() {
            return B(a, function c() {
                var d;
                return y(c, function(e) {
                    if (1 == e.i) return w(e, Fga(), 2);
                    if (3 != e.i) return d = e.l, d ? w(e, Dx(d), 3) : (dt(vx), vx = 0, e.return());
                    if (!I("nwl_throttling_race_fix") || vx) vx = 0, Ix();
                    sa(e)
                })
            })
        }, 100))
    }

    function Dx(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                switch (e.i) {
                    case 1:
                        if (void 0 === a.id) {
                            e.Ya(2);
                            break
                        }
                        return w(e, Gga(a.id), 3);
                    case 3:
                        (d = e.l) ? a = d: Ds(Error("The request cannot be found in the database."));
                    case 2:
                        var f = a.timestamp;
                        if (!(2592E6 <= K() - f)) {
                            e.Ya(4);
                            break
                        }
                        Ds(Error("Networkless Logging: Stored logs request expired age limit"));
                        if (void 0 === a.id) {
                            e.Ya(5);
                            break
                        }
                        return w(e, lx(a.id), 5);
                    case 5:
                        return e.return();
                    case 4:
                        f = a = Lga(a);
                        var g, k;
                        if (null === (k = null === (g = null === f || void 0 ===
                                f ? void 0 : f.options) || void 0 === g ? void 0 : g.postParams) || void 0 === k ? 0 : k.requestTimeMs) f.options.postParams.requestTimeMs = Math.round(K());
                        (a = f) && Cx(a.url, a.options);
                        sa(e)
                }
            })
        })
    }

    function Lga(a) {
        var b = this,
            c = a.options.onError ? a.options.onError : function() {};
        a.options.onError = function(e, f) {
            return B(b, function k() {
                return y(k, function(l) {
                    switch (l.i) {
                        case 1:
                            if (!(I("trigger_nsm_validation_checks_with_nwl") && (Ja("ytNetworklessLoggingInitializationOptions") ? yx.potentialEsfErrorCounter : wx) <= Hs("potential_esf_error_limit", 10))) {
                                l.Ya(2);
                                break
                            }
                            return w(l, Ax().pj(), 3);
                        case 3:
                            if (Ax().Pg()) Ja("ytNetworklessLoggingInitializationOptions") && yx.potentialEsfErrorCounter++, wx++;
                            else return c(e, f), l.return();
                        case 2:
                            if (void 0 === (null === a || void 0 === a ? void 0 : a.id)) {
                                l.Ya(4);
                                break
                            }
                            return 1 > a.sendCount ? w(l, Hga(a.id), 8) : w(l, lx(a.id), 4);
                        case 8:
                            $s(function() {
                                Ax().Pg() && Ix()
                            }, 5E3);
                        case 4:
                            c(e, f), sa(l)
                    }
                })
            })
        };
        var d = a.options.onSuccess ? a.options.onSuccess : function() {};
        a.options.onSuccess = function(e, f) {
            return B(b, function k() {
                return y(k, function(l) {
                    if (1 == l.i) return void 0 === (null === a || void 0 === a ? void 0 : a.id) ? l.Ya(2) : w(l, lx(a.id), 2);
                    d(e, f);
                    sa(l)
                })
            })
        };
        return a
    }

    function Ax() {
        xx || (xx = new tx({
            ZE: !0,
            jE: I("trigger_nsm_validation_checks_with_nwl")
        }));
        return xx
    }

    function Ex(a) {
        if (Ax().Pg()) Cs(a);
        else if (I("offline_error_handling")) {
            var b = nx().get("errors", !0) || {};
            b[a.message] = {
                name: a.name,
                stack: a.stack
            };
            a.level && (b[a.message].level = a.level);
            nx().set("errors", b, 2592E3, !0)
        }
    }

    function Cx(a, b) {
        if (I("networkless_with_beacon")) {
            var c = ["method", "postBody"];
            if (Object.keys(b).length > c.length) var d = !0;
            else {
                d = 0;
                c = t(c);
                for (var e = c.next(); !e.done; e = c.next()) b.hasOwnProperty(e.value) && d++;
                d = Object.keys(b).length !== d
            }
            d ? pu(a, b) : I("networkless_with_ping_send") && 1 === Object.keys(b).length && b.allowPingSend ? Lu(a) : Nu(a, void 0, b.postBody)
        } else I("networkless_with_ping_send") && 1 === Object.keys(b).length && b.allowPingSend ? Lu(a) : pu(a, b)
    }

    function Bx() {
        return Ja("ytNetworklessLoggingInitializationOptions") ? yx.isNwlInitialized : !1
    }

    function Fx() {
        return Ja("ytNetworklessLoggingInitializationOptions") ? yx.isIdbSupported : !1
    };

    function Jx(a) {
        var b = this;
        this.config_ = null;
        a ? this.config_ = a : Hv() && (this.config_ = mv());
        Ys(0, function() {
            Ov(b)
        }, 5E3)
    }
    Jx.prototype.isReady = function() {
        !this.config_ && Hv() && (this.config_ = mv());
        return !!this.config_
    };

    function nv(a, b, c, d) {
        function e(q) {
            q = void 0 === q ? !1 : q;
            var r;
            if (d.retry && "www.youtube-nocookie.com" != k && (q || (r = cga(b, c, m, l)), r)) {
                var u = g.onSuccess,
                    x = g.onFetchSuccess;
                g.onSuccess = function(z, D) {
                    Nv(r);
                    u(z, D)
                };
                c.onFetchSuccess = function(z, D) {
                    Nv(r);
                    x(z, D)
                }
            }
            try {
                q && d.retry && !d.Wz.bypassNetworkless ? (g.method = "POST", !d.Wz.writeThenSend && I("nwl_send_fast_on_unload") ? Hx(p, g) : zx(p, g)) : (g.method = "POST", g.postParams || (g.postParams = {}), pu(p, g))
            } catch (z) {
                if ("InvalidAccessError" == z.name) r && (Nv(r), r = 0), Ds(Error("An extension is blocking network request."));
                else throw z;
            }
            r && Ys(0, function() {
                Ov(a)
            }, 5E3)
        }!G("VISITOR_DATA") && "visitor_id" !== b && .01 > Math.random() && Ds(new lw("Missing VISITOR_DATA when sending innertube request.", b, c, d));
        if (!a.isReady()) {
            var f = new lw("innertube xhrclient not ready", b, c, d);
            Cs(f);
            throw f;
        }
        var g = {
                headers: {
                    "Content-Type": "application/json"
                },
                method: "POST",
                postParams: c,
                postBodyFormat: "JSON",
                onTimeout: function() {
                    d.onTimeout()
                },
                onFetchTimeout: d.onTimeout,
                onSuccess: function(q, r) {
                    if (d.onSuccess) d.onSuccess(r)
                },
                onFetchSuccess: function(q) {
                    if (d.onSuccess) d.onSuccess(q)
                },
                onError: function(q, r) {
                    if (d.onError) d.onError(r)
                },
                onFetchError: function(q) {
                    if (d.onError) d.onError(q)
                },
                timeout: d.timeout,
                withCredentials: !0
            },
            k = "";
        (f = a.config_.wz) && (k = f);
        var l = a.config_.yz || !1,
            m = Iv(l, k, d);
        Object.assign(g.headers, m);
        g.headers.Authorization && !k && (g.headers["x-origin"] = window.location.origin);
        f = "/youtubei/" + a.config_.innertubeApiVersion + "/" + b;
        var n = {
            alt: "json"
        };
        a.config_.xz && g.headers.Authorization || (n.key = a.config_.innertubeApiKey);
        var p = tt("" + k + f, n);
        Bx() ? ax().then(function(q) {
            e(q)
        }) : e(!1)
    };

    function iw(a, b, c) {
        c = void 0 === c ? {} : c;
        var d = Jx;
        G("ytLoggingEventsDefaultDisabled", !1) && Jx == Jx && (d = null);
        pv(a, b, d, c)
    };
    var Kx = Date.now().toString();

    function Lx(a) {
        if (window.crypto && window.crypto.getRandomValues) try {
            var b = Array(a),
                c = new Uint8Array(a);
            window.crypto.getRandomValues(c);
            for (var d = 0; d < b.length; d++) b[d] = c[d];
            return b
        } catch (f) {}
        b = Array(a);
        for (c = 0; c < a; c++) {
            d = Date.now();
            for (var e = 0; e < d % 23; e++) b[c] = Math.random();
            b[c] = Math.floor(256 * Math.random())
        }
        if (Kx)
            for (c = 1, d = 0; d < Kx.length; d++) b[c % a] = b[c % a] ^ b[(c - 1) % a] / 4 ^ Kx.charCodeAt(d), c++;
        return b
    }

    function Mx() {
        for (var a = Lx(16), b = [], c = 0; c < a.length; c++) b.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a[c] & 63));
        return b.join("")
    }

    function Nx() {
        return pb(Lx(16), function(a) {
            return (a & 15).toString(16)
        }).join("")
    };
    var Ox, Px = A.ytLoggingDocDocumentNonce_;
    Px || (Px = Mx(), Wa("ytLoggingDocDocumentNonce_", Px));
    Ox = Px;
    var Mga = {
        ZB: 0,
        cJ: 1,
        qJ: 2,
        nP: 3,
        iL: 4,
        LT: 5,
        eQ: 6,
        OR: 7,
        0: "DEFAULT",
        1: "CHAT",
        2: "CONVERSATIONS",
        3: "MINIPLAYER",
        4: "DIALOG",
        5: "VOZ",
        6: "MUSIC_WATCH_TABS",
        7: "SHARE"
    };

    function Qx(a) {
        this.i = a
    }

    function Rx(a) {
        return new Qx({
            trackingParams: a
        })
    }
    Qx.prototype.getAsJson = function() {
        var a = {};
        void 0 !== this.i.trackingParams ? a.trackingParams = this.i.trackingParams : (a.veType = this.i.veType, void 0 !== this.i.veCounter && (a.veCounter = this.i.veCounter), void 0 !== this.i.elementIndex && (a.elementIndex = this.i.elementIndex));
        void 0 !== this.i.dataElement && (a.dataElement = this.i.dataElement.getAsJson());
        void 0 !== this.i.youtubeData && (a.youtubeData = this.i.youtubeData);
        return a
    };
    Qx.prototype.toString = function() {
        return JSON.stringify(this.getAsJson())
    };
    Qx.prototype.isClientVe = function() {
        return !this.i.trackingParams && !!this.i.veType
    };

    function Sx(a) {
        a = void 0 === a ? 0 : a;
        return 0 == a ? "client-screen-nonce" : "client-screen-nonce." + a
    }

    function Tx(a) {
        a = void 0 === a ? 0 : a;
        return 0 == a ? "ROOT_VE_TYPE" : "ROOT_VE_TYPE." + a
    }

    function Ux(a) {
        return G(Tx(void 0 === a ? 0 : a), void 0)
    }
    Ia("yt_logging_screen.getRootVeType", Ux, void 0);

    function Vx(a) {
        return (a = Ux(void 0 === a ? 0 : a)) ? new Qx({
            veType: a,
            youtubeData: void 0
        }) : null
    }

    function Wx() {
        var a = G("csn-to-ctt-auth-info");
        a || (a = {}, xs("csn-to-ctt-auth-info", a));
        return a
    }

    function Xx(a) {
        a = void 0 === a ? 0 : a;
        var b = G(Sx(a));
        if (!b && !G("USE_CSN_FALLBACK", !0)) return null;
        b || 0 != a || (b = "UNDEFINED_CSN");
        return b ? b : null
    }
    Ia("yt_logging_screen.getCurrentCsn", Xx, void 0);

    function Nga(a, b, c) {
        var d = Wx();
        (c = Xx(c)) && delete d[c];
        b && (d[a] = b)
    }

    function Yx(a) {
        return Wx()[a]
    }
    Ia("yt_logging_screen.getCttAuthInfo", Yx, void 0);

    function Zx(a, b, c, d) {
        c = void 0 === c ? 0 : c;
        if (a !== G(Sx(c)) || b !== G(Tx(c))) Nga(a, d, c), xs(Sx(c), a), xs(Tx(c), b), b = function() {
            setTimeout(function() {
                a && pv("foregroundHeartbeatScreenAssociated", {
                    clientDocumentNonce: Ox,
                    clientScreenNonce: a
                }, Jx)
            }, 0)
        }, "requestAnimationFrame" in window ? window.requestAnimationFrame(b) : b()
    }
    Ia("yt_logging_screen.setCurrentScreen", Zx, void 0);
    var Oga = [{
        Tz: function(a) {
            return "Cannot read property '" + a.key + "'"
        },
        Uu: {
            TypeError: [{
                Hf: /Cannot read property '([^']+)' of (null|undefined)/,
                groups: ["key", "value"]
            }, {
                Hf: /\u65e0\u6cd5\u83b7\u53d6\u672a\u5b9a\u4e49\u6216 (null|undefined) \u5f15\u7528\u7684\u5c5e\u6027\u201c([^\u201d]+)\u201d/,
                groups: ["value", "key"]
            }, {
                Hf: /\uc815\uc758\ub418\uc9c0 \uc54a\uc74c \ub610\ub294 (null|undefined) \ucc38\uc870\uc778 '([^']+)' \uc18d\uc131\uc744 \uac00\uc838\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4./,
                groups: ["value", "key"]
            }, {
                Hf: /No se puede obtener la propiedad '([^']+)' de referencia nula o sin definir/,
                groups: ["key"]
            }, {
                Hf: /Unable to get property '([^']+)' of (undefined or null) reference/,
                groups: ["key", "value"]
            }, {
                Hf: /(null) is not an object \(evaluating '(?:([^.]+)\.)?([^']+)'\)/,
                groups: ["value", "base", "key"]
            }],
            Error: [{
                Hf: /(Permission denied) to access property "([^']+)"/,
                groups: ["reason", "key"]
            }]
        }
    }, {
        Tz: function(a) {
            return "Cannot call '" + a.key + "'"
        },
        Uu: {
            TypeError: [{
                    Hf: /(?:([^ ]+)?\.)?([^ ]+) is not a function/,
                    groups: ["base", "key"]
                }, {
                    Hf: /([^ ]+) called on (null or undefined)/,
                    groups: ["key", "value"]
                }, {
                    Hf: /Object (.*) has no method '([^ ]+)'/,
                    groups: ["base", "key"]
                }, {
                    Hf: /Object doesn't support property or method '([^ ]+)'/,
                    groups: ["key"]
                }, {
                    Hf: /\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f '([^']+)' \u30d7\u30ed\u30d1\u30c6\u30a3\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093/,
                    groups: ["key"]
                },
                {
                    Hf: /\uac1c\uccb4\uac00 '([^']+)' \uc18d\uc131\uc774\ub098 \uba54\uc11c\ub4dc\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4./,
                    groups: ["key"]
                }
            ]
        }
    }];
    var $x = {
        dj: [],
        Fi: [{
            callback: Pga,
            weight: 500
        }]
    };

    function Pga(a) {
        a = a.stack;
        return a.includes("chrome://") || a.includes("chrome-extension://") || a.includes("moz-extension://")
    };

    function Qga() {
        this.Fi = [];
        this.dj = []
    }
    var ay;

    function by() {
        if (!ay) {
            var a = ay = new Qga;
            a.dj.length = 0;
            a.Fi.length = 0;
            $x.dj && a.dj.push.apply(a.dj, $x.dj);
            $x.Fi && a.Fi.push.apply(a.Fi, $x.Fi)
        }
        return ay
    };
    var cy = new Gr;

    function Rga(a) {
        function b() {
            return a.charCodeAt(d++)
        }
        var c = a.length,
            d = 0;
        do {
            var e = dy(b);
            if (Infinity === e) break;
            var f = e >> 3;
            switch (e & 7) {
                case 0:
                    e = dy(b);
                    if (2 === f) return e;
                    break;
                case 1:
                    if (2 === f) return;
                    d += 8;
                    break;
                case 2:
                    e = dy(b);
                    if (2 === f) return a.substr(d, e);
                    d += e;
                    break;
                case 5:
                    if (2 === f) return;
                    d += 4;
                    break;
                default:
                    return
            }
        } while (d < c)
    }

    function dy(a) {
        var b = a(),
            c = b & 127;
        if (128 > b) return c;
        b = a();
        c |= (b & 127) << 7;
        if (128 > b) return c;
        b = a();
        c |= (b & 127) << 14;
        if (128 > b) return c;
        b = a();
        return 128 > b ? c | (b & 127) << 21 : Infinity
    };

    function ey(a, b, c, d) {
        if (a)
            if (Array.isArray(a)) {
                var e = d;
                for (d = 0; d < a.length && !(a[d] && (e += fy(d, a[d], b, c), 500 < e)); d++);
                d = e
            } else if ("object" === typeof a)
            for (e in a) {
                if (a[e]) {
                    var f = e;
                    var g = a[e],
                        k = b,
                        l = c;
                    f = "string" !== typeof g || "clickTrackingParams" !== f && "trackingParams" !== f ? 0 : (g = Rga(atob(g.replace(/-/g, "+").replace(/_/g, "/")))) ? fy(f + ".ve", g, k, l) : 0;
                    d += f;
                    d += fy(e, a[e], b, c);
                    if (500 < d) break
                }
            } else c[b] = gy(a), d += c[b].length;
        else c[b] = gy(a), d += c[b].length;
        return d
    }

    function fy(a, b, c, d) {
        c += "." + a;
        a = gy(b);
        d[c] = a;
        return c.length + a.length
    }

    function gy(a) {
        return ("string" === typeof a ? a : String(JSON.stringify(a))).substr(0, 500)
    };
    var hy = new Set,
        iy = 0,
        Sga = 0,
        jy = 0,
        Tga = [],
        Uga = ["PhantomJS", "Googlebot", "TO STOP THIS SECURITY SCAN go/scan"];

    function hw(a) {
        ky(a)
    }

    function ly(a) {
        ky(a, "WARNING")
    }

    function ky(a, b) {
        var c = void 0 === c ? {} : c;
        c.name = G("INNERTUBE_CONTEXT_CLIENT_NAME", 1);
        c.version = G("INNERTUBE_CONTEXT_CLIENT_VERSION", void 0);
        c = c || {};
        b = void 0 === b ? "ERROR" : b;
        b = void 0 === b ? "ERROR" : b;
        if (a) {
            a.hasOwnProperty("level") && a.level && (b = a.level);
            if (I("console_log_js_exceptions")) {
                var d = [];
                d.push("Name: " + a.name);
                d.push("Message: " + a.message);
                a.hasOwnProperty("params") && d.push("Error Params: " + JSON.stringify(a.params));
                a.hasOwnProperty("args") && d.push("Error args: " + JSON.stringify(a.args));
                d.push("File name: " +
                    a.fileName);
                d.push("Stacktrace: " + a.stack);
                window.console.log(d.join("\n"), a)
            }
            if (!(5 <= iy)) {
                d = Tga;
                var e = gba(a),
                    f = e.message || "Unknown Error",
                    g = e.name || "UnknownError",
                    k = e.stack || a.l || "Not available";
                if (k.startsWith(g + ": " + f)) {
                    var l = k.split("\n");
                    l.shift();
                    k = l.join("\n")
                }
                l = e.lineNumber || "Not available";
                e = e.fileName || "Not available";
                var m = 0;
                if (a.hasOwnProperty("args") && a.args && a.args.length)
                    for (var n = 0; n < a.args.length && !(m = ey(a.args[n], "params." + n, c, m), 500 <= m); n++);
                else if (a.hasOwnProperty("params") &&
                    a.params) {
                    var p = a.params;
                    if ("object" === typeof a.params)
                        for (n in p) {
                            if (p[n]) {
                                var q = "params." + n,
                                    r = gy(p[n]);
                                c[q] = r;
                                m += q.length + r.length;
                                if (500 < m) break
                            }
                        } else c.params = gy(p)
                }
                if (d.length)
                    for (n = 0; n < d.length && !(m = ey(d[n], "params.context." + n, c, m), 500 <= m); n++);
                navigator.vendor && !c.hasOwnProperty("vendor") && (c["device.vendor"] = navigator.vendor);
                c = {
                    message: f,
                    name: g,
                    lineNumber: l,
                    fileName: e,
                    stack: k,
                    params: c,
                    sampleWeight: 1
                };
                n = Number(a.columnNumber);
                isNaN(n) || (c.lineNumber = c.lineNumber + ":" + n);
                if ("IGNORED" === a.level) a =
                    0;
                else a: {
                    a = by();n = t(a.dj);
                    for (d = n.next(); !d.done; d = n.next())
                        if (d = d.value, c.message && c.message.match(d.MU)) {
                            a = d.weight;
                            break a
                        } a = t(a.Fi);
                    for (n = a.next(); !n.done; n = a.next())
                        if (n = n.value, n.callback(c)) {
                            a = n.weight;
                            break a
                        } a = 1
                }
                c.sampleWeight = a;
                a = t(Oga);
                for (n = a.next(); !n.done; n = a.next())
                    if (n = n.value, n.Uu[c.name])
                        for (f = t(n.Uu[c.name]), d = f.next(); !d.done; d = f.next())
                            if (g = d.value, d = c.message.match(g.Hf)) {
                                c.params["params.error.original"] = d[0];
                                f = g.groups;
                                g = {};
                                for (l = 0; l < f.length; l++) g[f[l]] = d[l + 1], c.params["params.error." +
                                    f[l]] = d[l + 1];
                                c.message = n.Tz(g);
                                break
                            } c.params || (c.params = {});
                a = by();
                c.params["params.errorServiceSignature"] = "msg=" + a.dj.length + "&cb=" + a.Fi.length;
                c.params["params.serviceWorker"] = "false";
                A.document && A.document.querySelectorAll && (c.params["params.fscripts"] = String(document.querySelectorAll("script:not([nonce])").length));
                window.yterr && "function" === typeof window.yterr && window.yterr(c);
                if (0 !== c.sampleWeight && !hy.has(c.message)) {
                    "ERROR" === b ? (cy.W("handleError", c), I("record_app_crashed_web") && 0 === jy &&
                        1 === c.sampleWeight && (jy++, iw("appCrashed", {
                            appCrashType: "APP_CRASH_TYPE_BREAKPAD"
                        })), Sga++) : "WARNING" === b && cy.W("handleWarning", c);
                    if (I("kevlar_gel_error_routing")) {
                        a = b;
                        b: {
                            n = t(Uga);
                            for (d = n.next(); !d.done; d = n.next())
                                if (xu(d.value.toLowerCase())) {
                                    n = !0;
                                    break b
                                } n = !1
                        }
                        if (n) n = void 0;
                        else {
                            d = {
                                stackTrace: c.stack
                            };
                            c.fileName && (d.filename = c.fileName);
                            n = c.lineNumber && c.lineNumber.split ? c.lineNumber.split(":") : [];
                            0 !== n.length && (1 !== n.length || isNaN(Number(n[0])) ? 2 !== n.length || isNaN(Number(n[0])) || isNaN(Number(n[1])) ||
                                (d.lineNumber = Number(n[0]), d.columnNumber = Number(n[1])) : d.lineNumber = Number(n[0]));
                            n = {
                                level: "ERROR_LEVEL_UNKNOWN",
                                message: c.message,
                                errorClassName: c.name,
                                sampleWeight: c.sampleWeight
                            };
                            "ERROR" === a ? n.level = "ERROR_LEVEL_ERROR" : "WARNING" === a && (n.level = "ERROR_LEVEL_WARNNING");
                            d = {
                                isObfuscated: !0,
                                browserStackInfo: d
                            };
                            f = {
                                pageUrl: window.location.href,
                                kvPairs: []
                            };
                            G("FEXP_EXPERIMENTS") && (f.experimentIds = G("FEXP_EXPERIMENTS"));
                            if (g = c.params)
                                for (l = t(Object.keys(g)), e = l.next(); !e.done; e = l.next()) e = e.value, f.kvPairs.push({
                                    key: "client." +
                                        e,
                                    value: String(g[e])
                                });
                            g = ys("SERVER_NAME");
                            l = ys("SERVER_VERSION");
                            g && l && (f.kvPairs.push({
                                key: "server.name",
                                value: g
                            }), f.kvPairs.push({
                                key: "server.version",
                                value: l
                            }));
                            n = {
                                errorMetadata: f,
                                stackTrace: d,
                                logMessage: n
                            }
                        }
                        n && (iw("clientError", n), ("ERROR" === a || I("errors_flush_gel_always_killswitch")) && iv())
                    }
                    if (!I("suppress_error_204_logging")) {
                        a = c.params || {};
                        b = {
                            urlParams: {
                                a: "logerror",
                                t: "jserror",
                                type: c.name,
                                msg: c.message.substr(0, 250),
                                line: c.lineNumber,
                                level: b,
                                "client.name": a.name
                            },
                            postParams: {
                                url: G("PAGE_NAME",
                                    window.location.href),
                                file: c.fileName
                            },
                            method: "POST"
                        };
                        a.version && (b["client.version"] = a.version);
                        if (b.postParams) {
                            c.stack && (b.postParams.stack = c.stack);
                            n = t(Object.keys(a));
                            for (d = n.next(); !d.done; d = n.next()) d = d.value, b.postParams["client." + d] = a[d];
                            if (a = G("LATEST_ECATCHER_SERVICE_TRACKING_PARAMS", void 0))
                                for (n = t(Object.keys(a)), d = n.next(); !d.done; d = n.next()) d = d.value, b.postParams[d] = a[d];
                            a = G("SERVER_NAME", void 0);
                            n = G("SERVER_VERSION", void 0);
                            a && n && (b.postParams["server.name"] = a, b.postParams["server.version"] =
                                n)
                        }
                        pu(G("ECATCHER_REPORT_HOST", "") + "/error_204", b)
                    }
                    hy.add(c.message);
                    iy++
                }
            }
        }
    }

    function Vga(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        a.args || (a.args = []);
        a.args.push.apply(a.args, ha(c))
    };

    function my(a) {
        Pv.call(this, 1, arguments);
        this.csn = a
    }
    v(my, Pv);
    var ny = new Qv("screen-created", my),
        oy = [],
        Xga = Wga,
        py = 0;

    function qy(a, b, c, d) {
        var e = d.filter(function(f) {
            f.csn !== b ? (f.csn = b, f = !0) : f = !1;
            return f
        });
        c = {
            csn: b,
            parentVe: c.getAsJson(),
            childVes: pb(e, function(f) {
                return f.getAsJson()
            })
        };
        d = t(d);
        for (e = d.next(); !e.done; e = d.next()) e = e.value.getAsJson(), (bc(e) || !e.trackingParams && !e.veType) && ly(Error("Child VE logged with no data"));
        d = {
            wd: Yx(b),
            ci: b
        };
        "UNDEFINED_CSN" == b ? ry("visualElementAttached", c, d) : a ? pv("visualElementAttached", c, a, d) : iw("visualElementAttached", c, d)
    }

    function sy(a, b, c) {
        var d = I("use_default_events_client") ? void 0 : Jx;
        b = {
            csn: a,
            ve: b.getAsJson(),
            eventType: 1
        };
        c && (b.clientData = c);
        c = {
            wd: Yx(a),
            ci: a
        };
        "UNDEFINED_CSN" == a ? ry("visualElementShown", b, c) : d ? pv("visualElementShown", b, d, c) : iw("visualElementShown", b, c)
    }

    function ty(a, b, c, d, e) {
        var f = (d = void 0 === d ? !1 : d) ? 16 : 8;
        c = {
            csn: b,
            ve: c.getAsJson(),
            eventType: f
        };
        e && (c.clientData = e);
        d = {
            wd: Yx(b),
            ci: b,
            kE: d
        };
        "UNDEFINED_CSN" == b ? ry("visualElementHidden", c, d) : a ? pv("visualElementHidden", c, a, d) : iw("visualElementHidden", c, d)
    }

    function uy(a, b, c, d) {
        var e = "INTERACTION_LOGGING_GESTURE_TYPE_GENERIC_CLICK";
        c = {
            csn: b,
            ve: c.getAsJson(),
            gestureType: e
        };
        d && (c.clientData = d);
        d = {
            wd: Yx(b),
            ci: b
        };
        "UNDEFINED_CSN" == b ? ry("visualElementGestured", c, d) : a ? pv("visualElementGestured", c, a, d) : iw("visualElementGestured", c, d)
    }

    function Wga() {
        return Re(cb(Math.random() + ""), 3)
    }

    function ry(a, b, c) {
        oy.push({
            payloadName: a,
            payload: b,
            options: c
        });
        py || (py = Wv(ny, Yga))
    }

    function Yga(a) {
        if (oy) {
            for (var b = t(oy), c = b.next(); !c.done; c = b.next()) c = c.value, c.payload && (c.payload.csn = a.csn, pv(c.payloadName, c.payload, null, c.options));
            oy.length = 0
        }
        py = 0
    };

    function Zga(a, b) {
        var c = I("use_default_events_client") ? void 0 : Jx;
        nb(b, function(d) {
            d = {
                csn: a,
                ve: d.getAsJson(),
                eventType: 4
            };
            var e = {
                wd: Yx(a),
                ci: a
            };
            "UNDEFINED_CSN" == a ? ry("visualElementShown", d, e) : c ? pv("visualElementShown", d, c, e) : iw("visualElementShown", d, e)
        })
    }

    function $ga(a, b) {
        var c = I("use_default_events_client") ? void 0 : Jx;
        nb(b, function(d) {
            ty(c, a, d, void 0, void 0)
        })
    };

    function vy(a, b, c) {
        var d = c && 0 < c ? c : 0;
        c = d ? Date.now() + 1E3 * d : 0;
        if ((d = d ? wy() : yy()) && window.JSON) {
            "string" !== typeof b && (b = JSON.stringify(b, void 0));
            try {
                d.set(a, b, c)
            } catch (e) {
                d.remove(a)
            }
        }
    }

    function zy(a) {
        var b = yy(),
            c = wy();
        if (!b && !c || !window.JSON) return null;
        try {
            var d = b.get(a)
        } catch (e) {}
        if ("string" !== typeof d) try {
            d = c.get(a)
        } catch (e) {}
        if ("string" !== typeof d) return null;
        try {
            d = JSON.parse(d, void 0)
        } catch (e) {}
        return d
    }

    function Ay() {
        var a = wy();
        if (a && (a = a.l("yt-player-quality"))) return a.creation
    }
    var wy = ib(function() {
            var a = new Pr;
            return a.isAvailable() ? new Mr(a) : null
        }),
        yy = ib(function() {
            var a = new Qr;
            return a.isAvailable() ? new Mr(a) : null
        });
    var aha = new Map([
            ["dark", "USER_INTERFACE_THEME_DARK"],
            ["light", "USER_INTERFACE_THEME_LIGHT"]
        ]),
        bha = ["/fashion", "/feed/fashion_destination", "/channel/UCrpQ4p1Ql_hG8rKXIKM1MOQ"];

    function cha() {
        var a = void 0 === a ? window.location.href : a;
        if (I("kevlar_disable_theme_param")) return null;
        var b = Hi(Ii(5, a));
        if (dha(b)) return "USER_INTERFACE_THEME_DARK";
        try {
            var c = rt(a).theme;
            return aha.get(c) || null
        } catch (d) {}
        return null
    }

    function dha(a) {
        var b = bha.map(function(c) {
            return c.toLowerCase()
        });
        return !I("disable_dark_fashion_destination_launch") && b.some(function(c) {
            return a.toLowerCase().startsWith(c)
        }) ? !0 : !1
    };

    function By() {
        this.i = {};
        if (this.l = aga()) {
            var a = vv("CONSISTENCY");
            a && Cy(this, {
                encryptedTokenJarContents: a
            })
        }
    }
    By.prototype.Ak = function(a, b) {
        var c, d, e;
        b = (null === (d = null === (c = b.Wt.context) || void 0 === c ? void 0 : c.request) || void 0 === d ? void 0 : d.consistencyTokenJars) || [];
        (a = null === (e = a.responseContext) || void 0 === e ? void 0 : e.consistencyTokenJar) && this.replace(b, a)
    };
    By.prototype.replace = function(a, b) {
        a = t(a);
        for (var c = a.next(); !c.done; c = a.next()) delete this.i[c.value.encryptedTokenJarContents];
        Cy(this, b)
    };

    function Cy(a, b) {
        if (b.encryptedTokenJarContents && (a.i[b.encryptedTokenJarContents] = b, "string" === typeof b.expirationSeconds)) {
            var c = Number(b.expirationSeconds);
            setTimeout(function() {
                delete a.i[b.encryptedTokenJarContents]
            }, 1E3 * c);
            a.l && uv("CONSISTENCY", b.encryptedTokenJarContents, c, void 0, !0)
        }
    };

    function Dy() {
        var a = G("LOCATION_PLAYABILITY_TOKEN");
        "TVHTML5" === G("INNERTUBE_CLIENT_NAME") && (this.localStorage = Ey(this)) && (a = this.localStorage.get("yt-location-playability-token"));
        a && (this.locationPlayabilityToken = a, this.i = void 0)
    }
    var Fy;
    Dy.getInstance = function() {
        Fy = Ja("yt.clientLocationService.instance");
        Fy || (Fy = new Dy, Ia("yt.clientLocationService.instance", Fy, void 0));
        return Fy
    };
    Dy.prototype.setLocationOnInnerTubeContext = function(a) {
        a.client || (a.client = {});
        this.i ? (a.client.locationInfo || (a.client.locationInfo = {}), a.client.locationInfo.latitudeE7 = 1E7 * this.i.coords.latitude, a.client.locationInfo.longitudeE7 = 1E7 * this.i.coords.longitude, a.client.locationInfo.horizontalAccuracyMeters = this.i.coords.accuracy, a.client.locationInfo.forceLocationPlayabilityTokenRefresh = !0) : this.locationPlayabilityToken && (a.client.locationPlayabilityToken = this.locationPlayabilityToken)
    };
    Dy.prototype.Ak = function(a) {
        var b;
        a = null === (b = a.responseContext) || void 0 === b ? void 0 : b.locationPlayabilityToken;
        void 0 !== a && (this.locationPlayabilityToken = a, this.i = void 0, "TVHTML5" === G("INNERTUBE_CLIENT_NAME") ? (this.localStorage = Ey(this)) && this.localStorage.set("yt-location-playability-token", a, 15552E3) : uv("YT_CL", JSON.stringify({
            LU: a
        }), 15552E3, void 0, !0))
    };

    function Ey(a) {
        return void 0 === a.localStorage ? new Kv("yt-client-location") : a.localStorage
    }
    Dy.prototype.getCurrentPositionFromGeolocation = function() {
        var a = this;
        if (!(navigator && navigator.geolocation && navigator.geolocation.getCurrentPosition) || !I("web_enable_browser_geolocation_api") && !I("enable_handoff_location_2fa_on_mweb")) return Promise.reject(Error("Geolocation unsupported"));
        var b = !1,
            c = 1E4;
        I("enable_handoff_location_2fa_on_mweb") && (b = !0, c = 15E3);
        return new Promise(function(d, e) {
            navigator.geolocation.getCurrentPosition(function(f) {
                a.i = f;
                d(f)
            }, function(f) {
                e(f)
            }, {
                enableHighAccuracy: b,
                maximumAge: 0,
                timeout: c
            })
        })
    };
    Dy.prototype.createUnpluggedLocationInfo = function(a) {
        var b = {};
        a = a.coords;
        if (null === a || void 0 === a ? 0 : a.latitude) b.latitudeE7 = Math.floor(1E7 * a.latitude);
        if (null === a || void 0 === a ? 0 : a.longitude) b.longitudeE7 = Math.floor(1E7 * a.longitude);
        if (null === a || void 0 === a ? 0 : a.accuracy) b.locationRadiusMeters = Math.round(a.accuracy);
        return b
    };

    function Gy(a, b) {
        b = void 0 === b ? !1 : b;
        var c = void 0 === c ? !1 : c;
        var d = G("INNERTUBE_CONTEXT");
        if (!d) return ky(Error("Error: No InnerTubeContext shell provided in ytconfig.")), {};
        d = hc(d);
        I("web_no_tracking_params_in_shell_killswitch") || delete d.clickTracking;
        d.client || (d.client = {});
        var e = d.client;
        "MWEB" === e.clientName && (e.clientFormFactor = G("IS_TABLET") ? "LARGE_FORM_FACTOR" : "SMALL_FORM_FACTOR");
        e.screenWidthPoints = window.innerWidth;
        e.screenHeightPoints = window.innerHeight;
        e.screenPixelDensity = Math.round(window.devicePixelRatio ||
            1);
        e.screenDensityFloat = window.devicePixelRatio || 1;
        e.utcOffsetMinutes = -Math.floor((new Date).getTimezoneOffset());
        var f = void 0 === f ? !1 : f;
        xv.getInstance();
        var g = "USER_INTERFACE_THEME_LIGHT";
        Av(0, 165) ? g = "USER_INTERFACE_THEME_DARK" : Av(0, 174) ? g = "USER_INTERFACE_THEME_LIGHT" : !I("kevlar_legacy_browsers") && window.matchMedia && window.matchMedia("(prefers-color-scheme)").matches && window.matchMedia("(prefers-color-scheme: dark)").matches && (g = "USER_INTERFACE_THEME_DARK");
        f = f ? g : cha() || g;
        e.userInterfaceTheme = f;
        if (I("web_log_connection") &&
            !b) {
            if (f = Fv()) e.connectionType = f;
            I("web_log_effective_connection_type") && (f = Gv()) && (d.client.effectiveConnectionType = f)
        }
        f = rt(A.location.href);
        !I("web_populate_internal_geo_killswitch") && f.internalcountrycode && (e.internalGeo = f.internalcountrycode);
        if ("MWEB" === e.clientName || "WEB" === e.clientName) e.mainAppWebInfo = {
                graftUrl: A.location.href
            }, I("kevlar_woffle") && qv.i && (e.mainAppWebInfo.pwaInstallabilityStatus = qv.i.i ? "PWA_INSTALLABILITY_STATUS_CAN_BE_INSTALLED" : "PWA_INSTALLABILITY_STATUS_UNKNOWN"), I("web_include_display_mode_killswitch") ||
            (e.mainAppWebInfo.webDisplayMode = rv()), I("kevlar_share_panel_more_button") && (e.mainAppWebInfo.isWebNativeShareAvailable = navigator && void 0 !== navigator.share);
        if (!I("web_populate_time_zone_itc_killswitch")) {
            a: {
                if ("undefined" !== typeof Intl) try {
                    var k = (new Intl.DateTimeFormat).resolvedOptions().timeZone;
                    break a
                } catch (z) {}
                k = void 0
            }
            k && (e.timeZone = k)
        }(k = G("EXPERIMENTS_TOKEN", "")) ? e.experimentsToken = k: delete e.experimentsToken;
        e = Is();
        By.i || (By.i = new By);
        k = Ub(By.i.i);
        d.request = Object.assign(Object.assign({},
            d.request), {
            internalExperimentFlags: e,
            consistencyTokenJars: k
        });
        k = xv.getInstance();
        e = Av(0, 58);
        k = k.get("gsml", "");
        d.user = Object.assign({}, d.user);
        e && (d.user.enableSafetyMode = e);
        k && (d.user.lockedSafetyMode = !0);
        (e = G("DELEGATED_SESSION_ID")) && !I("pageid_as_header_web") && (d.user.onBehalfOfUser = e);
        I("warm_op_csn_cleanup") ? c && (c = Xx()) && (d.clientScreenNonce = c) : !b && (c = Xx()) && (d.clientScreenNonce = c);
        a && (d.clickTracking = {
            clickTrackingParams: a
        });
        I("web_enable_client_location_service") && Dy.getInstance().setLocationOnInnerTubeContext(d);
        var l;
        try {
            var m = fu(void 0),
                n = m.bid;
            delete m.bid;
            d.adSignalsInfo = {
                params: [],
                bid: n
            };
            for (var p = t(Object.entries(m)), q = p.next(); !q.done; q = p.next()) {
                var r = t(q.value),
                    u = r.next().value,
                    x = r.next().value;
                null === (l = d.adSignalsInfo.params) || void 0 === l ? void 0 : l.push({
                    key: u,
                    value: "" + x
                })
            }
        } catch (z) {
            ky(z)
        }
        return d
    };
    var Hy = {},
        Iy = (Hy.WEB_UNPLUGGED = "^unplugged/", Hy.WEB_UNPLUGGED_ONBOARDING = "^unplugged/", Hy.WEB_UNPLUGGED_OPS = "^unplugged/", Hy.WEB_UNPLUGGED_PUBLIC = "^unplugged/", Hy.WEB_CREATOR = "^creator/", Hy.WEB_KIDS = "^kids/", Hy.WEB_EXPERIMENTS = "^experiments/", Hy.WEB_MUSIC = "^music/", Hy.WEB_REMIX = "^music/", Hy.WEB_MUSIC_EMBEDDED_PLAYER = "^music/", Hy.WEB_MUSIC_EMBEDDED_PLAYER = "^main_app/|^sfv/", Hy);

    function eha(a) {
        var b = void 0 === b ? "UNKNOWN_INTERFACE" : b;
        if (1 === a.length) return a[0];
        var c = Iy[b];
        if (c) {
            var d = new RegExp(c),
                e = t(a);
            for (c = e.next(); !c.done; c = e.next())
                if (c = c.value, d.exec(c)) return c
        }
        var f = [];
        Object.entries(Iy).forEach(function(g) {
            var k = t(g);
            g = k.next().value;
            k = k.next().value;
            b !== g && f.push(k)
        });
        d = new RegExp(f.join("|"));
        a.sort(function(g, k) {
            return g.length - k.length
        });
        e = t(a);
        for (c = e.next(); !c.done; c = e.next())
            if (c = c.value, !d.exec(c)) return c;
        return a[0]
    }

    function Jy(a) {
        return "/youtubei/v1/" + eha(a)
    };

    function Ky(a) {
        var b = G("INNERTUBE_HOST_OVERRIDE");
        b && (a = String(b) + String(Li(a)));
        return a
    };

    function Ly() {};

    function My() {}
    v(My, Ly);
    var Ny = {},
        fha = (Ny.GET_DATASYNC_IDS = My, Ny);

    function Oy(a, b, c, d) {
        var e = hw;
        this.u = b;
        this.i = c;
        this.handleError = e;
        this.l = d;
        a.Jv || (a.Jv = {});
        a.Jv = Object.assign(Object.assign({}, fha), a.Jv)
    }

    function Py(a, b, c) {
        var d = void 0 === d ? {
            Fx: {
                identity: fga
            }
        } : d;
        var e = void 0 === e ? !0 : e;
        b.context || (b.context = Gy(void 0, e));
        return new kh(function(f) {
            return B(a, function k() {
                var l, m, n = this,
                    p, q, r;
                return y(k, function(u) {
                    if (1 == u.i) return l = Ky(c), m = wt(l) ? "same-origin" : "cors", w(u, gha(n, d, m), 2);
                    p = u.l;
                    var x = Ky(c);
                    G("INNERTUBE_OMIT_API_KEY_WHEN_AUTH_HEADER_IS_PRESENT") && (null === p || void 0 === p ? 0 : p.Authorization) || (x = vt(x, {
                        key: G("INNERTUBE_API_KEY")
                    }));
                    q = x;
                    x = {
                        method: "POST",
                        mode: wt(q) ? "same-origin" : "cors",
                        credentials: wt(q) ?
                            "same-origin" : "include"
                    };
                    r = {
                        input: q,
                        Uq: x,
                        Wt: b,
                        config: d
                    };
                    f(hha(n, r, p));
                    sa(u)
                })
            })
        })
    }

    function hha(a, b, c) {
        return B(a, function e() {
            var f = this,
                g, k, l, m, n, p, q, r, u;
            return y(e, function(x) {
                switch (x.i) {
                    case 1:
                        x.Ya(2);
                        break;
                    case 3:
                        if ((g = x.l) && !g.isExpired()) return x.return(Promise.resolve(g.i()));
                    case 2:
                        k = t([]);
                        for (l = k.next(); !l.done; l = k.next()) m = l.value, m.XU(b.Wt.context);
                        n = JSON.stringify(b.Wt);
                        b.Uq = Object.assign(Object.assign({}, b.Uq), {
                            headers: c
                        });
                        p = Object.assign({}, b.Uq);
                        "POST" === b.Uq.method && (p = Object.assign(Object.assign({}, p), {
                            body: n
                        }));
                        return w(x, f.u.fetch(b.input, p), 4);
                    case 4:
                        if ((q =
                                x.l) && f.l)
                            for (r = t(f.l), l = r.next(); !l.done; l = r.next()) u = l.value, u.Ak(q, b);
                        return x.return(q)
                }
            })
        })
    }

    function gha(a, b, c) {
        return B(a, function e() {
            var f = this;
            return y(e, function(g) {
                if (f.i.vH) {
                    var k = g.return,
                        l, m = null === (l = null === b || void 0 === b ? void 0 : b.Fx) || void 0 === l ? void 0 : l.sessionIndex;
                    l = f.i.ot({
                        sessionIndex: m
                    });
                    l = Object.assign(Object.assign({}, Qy(c)), l);
                    g = k.call(g, l)
                } else g = g.return(iha(f, b, c));
                return g
            })
        })
    }

    function iha(a, b, c) {
        var d;
        b = null === (d = null === b || void 0 === b ? void 0 : b.Fx) || void 0 === d ? void 0 : d.sessionIndex;
        return $v(a.i, {
            sessionIndex: b
        }).then(function(e) {
            return Promise.resolve(Object.assign(Object.assign({}, Qy(c)), e))
        })
    }

    function Qy(a) {
        var b = {
                "Content-Type": "application/json"
            },
            c = G("VISITOR_DATA");
        c && (b["X-Goog-Visitor-Id"] = c);
        "cors" !== a && ((a = G("INNERTUBE_CONTEXT_CLIENT_NAME")) && (b["X-Youtube-Client-Name"] = a), (a = G("INNERTUBE_CONTEXT_CLIENT_VERSION")) && (b["X-Youtube-Client-Version"] = a), (a = G("CHROME_CONNECTED_HEADER")) && (b["X-Youtube-Chrome-Connected"] = a));
        return b
    };
    var jha = ["offline"],
        kha = ["offline/get_playback_data_entity"],
        lha = ["player"],
        mha = ["next", "unplugged/watch_next"];

    function Ry() {}
    v(Ry, Ly);

    function Sy() {}
    v(Sy, Ly);

    function Ty() {}
    v(Ty, Ly);

    function Uy() {}
    v(Uy, Ly);

    function Vy() {}
    v(Vy, Ly);

    function Wy() {}
    v(Wy, Ly);

    function Xy() {
        this.i = this.l = void 0
    }
    Xy.prototype.fetch = function(a, b) {
        var c = this,
            d;
        if (null === (d = this.l) || void 0 === d ? 0 : d.B(a, b)) return Promise.resolve(this.l.u(a, b).catch(function(f) {
            ly(f)
        }));
        if (this.i) {
            var e = Hi(Ii(5, Yi(a, "key"))) || "/UNKNOWN_PATH";
            this.i.start(e)
        }
        e = new window.Request(a, b);
        return Promise.resolve(fetch(e).then(function(f) {
            return c.Ak(f)
        }).catch(function(f) {
            var g, k;
            if (null === (g = c.l) || void 0 === g ? 0 : g.i(a, b)) return f = c.l.l(a, b), null === (k = c.i) || void 0 === k ? void 0 : k.success(), f;
            ly(f)
        }))
    };
    Xy.prototype.Ak = function(a) {
        var b = a.text().then(function(c) {
            return JSON.parse(c.replace(")]}'", ""))
        });
        a.redirected || a.ok ? this.i && this.i.success() : (this.i && this.i.failure(), b = b.then(function(c) {
            ly(new lw("Error: API fetch failed", a.status, a.url, c));
            return Object.assign(Object.assign({}, c), {
                errorMetadata: {
                    status: a.status
                }
            })
        }));
        return b
    };
    var Yy;

    function Zy(a, b) {
        if (!Yy) {
            var c = {
                    sU: {
                        feedbackEndpoint: Ty,
                        modifyChannelNotificationPreferenceEndpoint: Uy,
                        playlistEditEndpoint: Vy,
                        subscribeEndpoint: Ry,
                        unsubscribeEndpoint: Sy,
                        webPlayerShareEntityServiceEndpoint: Wy
                    }
                },
                d = I("web_enable_client_location_service") ? Dy.getInstance() : void 0,
                e = [];
            d && e.push(d);
            void 0 === a && (a = Zv());
            void 0 === b && (Xy.i || (Xy.i = new Xy), b = Xy.i);
            Oy.i = new Oy(c, b, a, e);
            Yy = Oy.i
        }
        return Yy
    };

    function $y(a, b, c) {
        a && (a.dataset ? a.dataset[az(b)] = String(c) : a.setAttribute("data-" + b, c))
    }

    function bz(a, b) {
        return a ? a.dataset ? a.dataset[az(b)] : a.getAttribute("data-" + b) : null
    }
    var cz = {};

    function az(a) {
        return cz[a] || (cz[a] = String(a).replace(/\-([a-z])/g, function(b, c) {
            return c.toUpperCase()
        }))
    };
    var nha = /\.vflset|-vfl[a-zA-Z0-9_+=-]+/,
        oha = /-[a-zA-Z]{2,3}_[a-zA-Z]{2,3}(?=(\/|$))/;

    function dz(a, b, c) {
        c = void 0 === c ? null : c;
        if (window.spf && spf.script) {
            c = "";
            if (a) {
                var d = a.indexOf("jsbin/"),
                    e = a.lastIndexOf(".js"),
                    f = d + 6; - 1 < d && -1 < e && e > f && (c = a.substring(f, e), c = c.replace(nha, ""), c = c.replace(oha, ""), c = c.replace("debug-", ""), c = c.replace("tracing-", ""))
            }
            spf.script.load(a, c, b)
        } else pha(a, b, c)
    }

    function pha(a, b, c) {
        c = void 0 === c ? null : c;
        var d = ez(a),
            e = document.getElementById(d),
            f = e && bz(e, "loaded"),
            g = e && !f;
        f ? b && b() : (b && (f = Ru(d, b), b = "" + Pa(b), fz[b] = f), g || (e = qha(a, d, function() {
            bz(e, "loaded") || ($y(e, "loaded", "true"), Uu(d), Ts(Ta(Vu, d), 0))
        }, c)))
    }

    function qha(a, b, c, d) {
        d = void 0 === d ? null : d;
        var e = Og("SCRIPT");
        e.id = b;
        e.onload = function() {
            c && setTimeout(c, 0)
        };
        e.onreadystatechange = function() {
            switch (e.readyState) {
                case "loaded":
                case "complete":
                    e.onload()
            }
        };
        d && e.setAttribute("nonce", d);
        ek(e, Zl(a));
        a = document.getElementsByTagName("head")[0] || document.body;
        a.insertBefore(e, a.firstChild);
        return e
    }

    function gz(a, b) {
        a && b && (a = "" + Pa(b), (a = fz[a]) && Tu(a))
    }

    function ez(a) {
        var b = document.createElement("a");
        vd(b, a);
        a = b.href.replace(/^[a-zA-Z]+:\/\//, "//");
        return "js-" + Fd(a)
    }
    var fz = {};

    function hz() {
        if (gi()) return !0;
        var a = G("INNERTUBE_CLIENT_NAME");
        return !a || "WEB" !== a && "MWEB" !== a || uu && xu("applewebkit") && !xu("version") && (!xu("safari") || xu("gsa/")) || Iu() ? !0 : (a = vv("CONSENT")) ? a.startsWith("YES+") : !0
    };
    var rha = [],
        iz = !1;

    function jz() {
        if ((!I("condition_ad_status_fetch_on_consent_cookie_html5_clients") || hz()) && "1" != ec(G("PLAYER_VARS", {}), "privembed", !1)) {
            var a = function() {
                iz = !0;
                "google_ad_status" in window ? xs("DCLKSTAT", 1) : xs("DCLKSTAT", 2)
            };
            try {
                dz("//static.doubleclick.net/instream/ad_status.js", a)
            } catch (b) {}
            rha.push($s(function() {
                if (!(iz || "google_ad_status" in window)) {
                    try {
                        gz("//static.doubleclick.net/instream/ad_status.js", a)
                    } catch (b) {}
                    iz = !0;
                    xs("DCLKSTAT", 3)
                }
            }, 5E3))
        }
    }

    function kz() {
        var a = Number(G("DCLKSTAT", 0));
        return isNaN(a) ? 0 : a
    };

    function lz(a, b) {
        Pv.call(this, 1, arguments)
    }
    v(lz, Pv);

    function mz(a, b) {
        Pv.call(this, 1, arguments);
        this.i = a
    }
    v(mz, Pv);
    var sha = new Qv("aft-recorded", lz),
        nz = new Qv("timing-sent", mz);

    function oz(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        if (!pz(a) || c.some(function(e) {
                return !pz(e)
            })) throw Error("Only objects may be merged.");
        c = t(c);
        for (d = c.next(); !d.done; d = c.next()) qz(a, d.value);
        return a
    }

    function qz(a, b) {
        for (var c in b)
            if (pz(b[c])) {
                if (c in a && !pz(a[c])) throw Error("Cannot merge an object into a non-object.");
                c in a || (a[c] = {});
                qz(a[c], b[c])
            } else if (rz(b[c])) {
            if (c in a && !rz(a[c])) throw Error("Cannot merge an array into a non-array.");
            c in a || (a[c] = []);
            sz(a[c], b[c])
        } else a[c] = b[c];
        return a
    }

    function sz(a, b) {
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) c = c.value, pz(c) ? a.push(qz({}, c)) : rz(c) ? a.push(sz([], c)) : a.push(c);
        return a
    }

    function pz(a) {
        return "object" === typeof a && !Array.isArray(a)
    }

    function rz(a) {
        return "object" === typeof a && Array.isArray(a)
    };
    var tz = window;

    function tha() {
        this.timing = {};
        this.clearResourceTimings = function() {};
        this.webkitClearResourceTimings = function() {};
        this.mozClearResourceTimings = function() {};
        this.msClearResourceTimings = function() {};
        this.oClearResourceTimings = function() {}
    }
    var uz = tz.performance || tz.mozPerformance || tz.msPerformance || tz.webkitPerformance || new tha;
    var vz = !1,
        uha = Sa(uz.clearResourceTimings || uz.webkitClearResourceTimings || uz.mozClearResourceTimings || uz.msClearResourceTimings || uz.oClearResourceTimings || Ka, uz);

    function wz(a) {
        var b = xz(a);
        if (b.aft) return b.aft;
        a = G((a || "") + "TIMING_AFT_KEYS", ["ol"]);
        for (var c = a.length, d = 0; d < c; d++) {
            var e = b[a[d]];
            if (e) return e
        }
        return NaN
    }

    function yz(a) {
        return !!Ja("yt.timing." + (a || "") + "pingSent_")
    }

    function zz(a, b) {
        Ia("yt.timing." + (b || "") + "pingSent_", a, void 0)
    }

    function Az(a) {
        return Ja("ytcsi." + (a || "") + "data_") || Bz(a)
    }

    function Cz(a) {
        a = Az(a);
        a.info || (a.info = {});
        return a.info
    }

    function xz(a) {
        a = Az(a);
        a.tick || (a.tick = {});
        return a.tick
    }

    function Dz(a) {
        var b = Az(a).nonce;
        b || (b = Mx(), Az(a).nonce = b);
        return b
    }

    function Bz(a) {
        var b = {
            tick: {},
            info: {}
        };
        Ia("ytcsi." + (a || "") + "data_", b, void 0);
        return b
    }

    function Ez(a) {
        var b = xz(a || ""),
            c = wz(a);
        c && !vz && (Uv(sha, new lz(Math.round(c - b._start), a)), vz = !0)
    };

    function Fz() {
        var a = Ja("ytcsi.debug");
        a || (a = [], Ia("ytcsi.debug", a, void 0), Ia("ytcsi.reference", {}, void 0));
        return a
    }

    function Gz(a) {
        a = a || "";
        var b = Hz();
        if (b[a]) return b[a];
        var c = Fz(),
            d = {
                timerName: a,
                info: {},
                tick: {},
                span: {}
            };
        c.push(d);
        return b[a] = d
    }

    function Iz(a) {
        a = a || "";
        var b = Hz();
        b[a] && delete b[a];
        var c = Fz(),
            d = {
                timerName: a,
                info: {},
                tick: {},
                span: {}
            };
        c.push(d);
        b[a] = d
    }

    function Hz() {
        var a = Ja("ytcsi.reference");
        if (a) return a;
        Fz();
        return Ja("ytcsi.reference")
    };
    var Jz = A.ytLoggingLatencyUsageStats_ || {};
    Ia("ytLoggingLatencyUsageStats_", Jz, void 0);

    function Kz() {
        this.i = 0
    }

    function Lz() {
        Kz.i || (Kz.i = new Kz);
        return Kz.i
    }
    Kz.prototype.tick = function(a, b, c) {
        Mz(this, "tick_" + a + "_" + b) || iw("latencyActionTicked", {
            tickName: a,
            clientActionNonce: b
        }, {
            timestamp: c
        })
    };
    Kz.prototype.info = function(a, b) {
        var c = Object.keys(a).join("");
        Mz(this, "info_" + c + "_" + b) || (a = Object.assign({}, a), a.clientActionNonce = b, iw("latencyActionInfo", a))
    };
    Kz.prototype.span = function(a, b) {
        var c = Object.keys(a).join("");
        Mz(this, "span_" + c + "_" + b) || (a.clientActionNonce = b, iw("latencyActionSpan", a))
    };

    function Mz(a, b) {
        Jz[b] = Jz[b] || {
            count: 0
        };
        var c = Jz[b];
        c.count++;
        c.time = K();
        a.i || (a.i = Ys(0, function() {
            var d = K(),
                e;
            for (e in Jz) Jz[e] && 6E4 < d - Jz[e].time && delete Jz[e];
            a && (a.i = 0)
        }, 5E3));
        return 5 < c.count ? (6 === c.count && 1 > 1E5 * Math.random() && (c = new lw("CSI data exceeded logging limit with key", b.split("_")), 0 <= b.indexOf("plev") || ly(c)), !0) : !1
    };
    var Nz = {},
        Oz = (Nz.auto_search = "LATENCY_ACTION_AUTO_SEARCH", Nz.ad_to_ad = "LATENCY_ACTION_AD_TO_AD", Nz.ad_to_video = "LATENCY_ACTION_AD_TO_VIDEO", Nz.app_startup = "LATENCY_ACTION_APP_STARTUP", Nz["artist.analytics"] = "LATENCY_ACTION_CREATOR_ARTIST_ANALYTICS", Nz["artist.events"] = "LATENCY_ACTION_CREATOR_ARTIST_CONCERTS", Nz["artist.presskit"] = "LATENCY_ACTION_CREATOR_ARTIST_PROFILE", Nz.browse = "LATENCY_ACTION_BROWSE", Nz.channels = "LATENCY_ACTION_CHANNELS", Nz.creator_channel_dashboard = "LATENCY_ACTION_CREATOR_CHANNEL_DASHBOARD",
            Nz["channel.analytics"] = "LATENCY_ACTION_CREATOR_CHANNEL_ANALYTICS", Nz["channel.comments"] = "LATENCY_ACTION_CREATOR_CHANNEL_COMMENTS", Nz["channel.content"] = "LATENCY_ACTION_CREATOR_POST_LIST", Nz["channel.copyright"] = "LATENCY_ACTION_CREATOR_CHANNEL_COPYRIGHT", Nz["channel.editing"] = "LATENCY_ACTION_CREATOR_CHANNEL_EDITING", Nz["channel.monetization"] = "LATENCY_ACTION_CREATOR_CHANNEL_MONETIZATION", Nz["channel.music"] = "LATENCY_ACTION_CREATOR_CHANNEL_MUSIC", Nz["channel.translations"] = "LATENCY_ACTION_CREATOR_CHANNEL_TRANSLATIONS",
            Nz["channel.videos"] = "LATENCY_ACTION_CREATOR_CHANNEL_VIDEOS", Nz["channel.live_streaming"] = "LATENCY_ACTION_CREATOR_LIVE_STREAMING", Nz.chips = "LATENCY_ACTION_CHIPS", Nz["dialog.copyright_strikes"] = "LATENCY_ACTION_CREATOR_DIALOG_COPYRIGHT_STRIKES", Nz["dialog.uploads"] = "LATENCY_ACTION_CREATOR_DIALOG_UPLOADS", Nz.direct_playback = "LATENCY_ACTION_DIRECT_PLAYBACK", Nz.embed = "LATENCY_ACTION_EMBED", Nz.entity_key_serialization_perf = "LATENCY_ACTION_ENTITY_KEY_SERIALIZATION_PERF", Nz.entity_key_deserialization_perf =
            "LATENCY_ACTION_ENTITY_KEY_DESERIALIZATION_PERF", Nz.home = "LATENCY_ACTION_HOME", Nz.library = "LATENCY_ACTION_LIBRARY", Nz.live = "LATENCY_ACTION_LIVE", Nz.live_pagination = "LATENCY_ACTION_LIVE_PAGINATION", Nz.onboarding = "LATENCY_ACTION_KIDS_ONBOARDING", Nz.parent_profile_settings = "LATENCY_ACTION_KIDS_PARENT_PROFILE_SETTINGS", Nz.parent_tools_collection = "LATENCY_ACTION_PARENT_TOOLS_COLLECTION", Nz.parent_tools_dashboard = "LATENCY_ACTION_PARENT_TOOLS_DASHBOARD", Nz.player_att = "LATENCY_ACTION_PLAYER_ATTESTATION",
            Nz["post.comments"] = "LATENCY_ACTION_CREATOR_POST_COMMENTS", Nz["post.edit"] = "LATENCY_ACTION_CREATOR_POST_EDIT", Nz.prebuffer = "LATENCY_ACTION_PREBUFFER", Nz.prefetch = "LATENCY_ACTION_PREFETCH", Nz.profile_settings = "LATENCY_ACTION_KIDS_PROFILE_SETTINGS", Nz.profile_switcher = "LATENCY_ACTION_KIDS_PROFILE_SWITCHER", Nz.reel_watch = "LATENCY_ACTION_REEL_WATCH", Nz.results = "LATENCY_ACTION_RESULTS", Nz.search_ui = "LATENCY_ACTION_SEARCH_UI", Nz.search_suggest = "LATENCY_ACTION_SUGGEST", Nz.search_zero_state = "LATENCY_ACTION_SEARCH_ZERO_STATE",
            Nz.secret_code = "LATENCY_ACTION_KIDS_SECRET_CODE", Nz.seek = "LATENCY_ACTION_PLAYER_SEEK", Nz.settings = "LATENCY_ACTION_SETTINGS", Nz.tenx = "LATENCY_ACTION_TENX", Nz.video_to_ad = "LATENCY_ACTION_VIDEO_TO_AD", Nz.watch = "LATENCY_ACTION_WATCH", Nz.watch_it_again = "LATENCY_ACTION_KIDS_WATCH_IT_AGAIN", Nz["watch,watch7"] = "LATENCY_ACTION_WATCH", Nz["watch,watch7_html5"] = "LATENCY_ACTION_WATCH", Nz["watch,watch7ad"] = "LATENCY_ACTION_WATCH", Nz["watch,watch7ad_html5"] = "LATENCY_ACTION_WATCH", Nz.wn_comments = "LATENCY_ACTION_LOAD_COMMENTS",
            Nz.ww_rqs = "LATENCY_ACTION_WHO_IS_WATCHING", Nz["video.analytics"] = "LATENCY_ACTION_CREATOR_VIDEO_ANALYTICS", Nz["video.comments"] = "LATENCY_ACTION_CREATOR_VIDEO_COMMENTS", Nz["video.edit"] = "LATENCY_ACTION_CREATOR_VIDEO_EDIT", Nz["video.translations"] = "LATENCY_ACTION_CREATOR_VIDEO_TRANSLATIONS", Nz["video.video_editor"] = "LATENCY_ACTION_CREATOR_VIDEO_VIDEO_EDITOR", Nz["video.video_editor_async"] = "LATENCY_ACTION_CREATOR_VIDEO_VIDEO_EDITOR_ASYNC", Nz["video.monetization"] = "LATENCY_ACTION_CREATOR_VIDEO_MONETIZATION",
            Nz.voice_assistant = "LATENCY_ACTION_VOICE_ASSISTANT", Nz.cast_load_by_entity_to_watch = "LATENCY_ACTION_CAST_LOAD_BY_ENTITY_TO_WATCH", Nz.networkless_performance = "LATENCY_ACTION_NETWORKLESS_PERFORMANCE", Nz),
        Pz = {},
        Qz = (Pz.ad_allowed = "adTypesAllowed", Pz.yt_abt = "adBreakType", Pz.ad_cpn = "adClientPlaybackNonce", Pz.ad_docid = "adVideoId", Pz.yt_ad_an = "adNetworks", Pz.ad_at = "adType", Pz.aida = "appInstallDataAgeMs", Pz.browse_id = "browseId", Pz.p = "httpProtocol", Pz.t = "transportProtocol", Pz.cpn = "clientPlaybackNonce", Pz.ccs =
            "creatorInfo.creatorCanaryState", Pz.csn = "clientScreenNonce", Pz.docid = "videoId", Pz.GetHome_rid = "requestIds", Pz.GetSearch_rid = "requestIds", Pz.GetPlayer_rid = "requestIds", Pz.GetWatchNext_rid = "requestIds", Pz.GetBrowse_rid = "requestIds", Pz.GetLibrary_rid = "requestIds", Pz.is_continuation = "isContinuation", Pz.is_nav = "isNavigation", Pz.b_p = "kabukiInfo.browseParams", Pz.is_prefetch = "kabukiInfo.isPrefetch", Pz.is_secondary_nav = "kabukiInfo.isSecondaryNav", Pz.prev_browse_id = "kabukiInfo.prevBrowseId", Pz.query_source =
            "kabukiInfo.querySource", Pz.voz_type = "kabukiInfo.vozType", Pz.yt_lt = "loadType", Pz.mver = "creatorInfo.measurementVersion", Pz.yt_ad = "isMonetized", Pz.nr = "webInfo.navigationReason", Pz.nrsu = "navigationRequestedSameUrl", Pz.ncnp = "webInfo.nonPreloadedNodeCount", Pz.pnt = "performanceNavigationTiming", Pz.prt = "playbackRequiresTap", Pz.plt = "playerInfo.playbackType", Pz.pis = "playerInfo.playerInitializedState", Pz.paused = "playerInfo.isPausedOnLoad", Pz.yt_pt = "playerType", Pz.fmt = "playerInfo.itag", Pz.yt_pl = "watchInfo.isPlaylist",
            Pz.yt_pre = "playerInfo.preloadType", Pz.yt_ad_pr = "prerollAllowed", Pz.pa = "previousAction", Pz.yt_red = "isRedSubscriber", Pz.rce = "mwebInfo.responseContentEncoding", Pz.scrh = "screenHeight", Pz.scrw = "screenWidth", Pz.st = "serverTimeMs", Pz.ssdm = "shellStartupDurationMs", Pz.br_trs = "tvInfo.bedrockTriggerState", Pz.kebqat = "kabukiInfo.earlyBrowseRequestInfo.abandonmentType", Pz.kebqa = "kabukiInfo.earlyBrowseRequestInfo.adopted", Pz.label = "tvInfo.label", Pz.is_mdx = "tvInfo.isMdx", Pz.preloaded = "tvInfo.isPreloaded", Pz.upg_player_vis =
            "playerInfo.visibilityState", Pz.query = "unpluggedInfo.query", Pz.upg_chip_ids_string = "unpluggedInfo.upgChipIdsString", Pz.yt_vst = "videoStreamType", Pz.vph = "viewportHeight", Pz.vpw = "viewportWidth", Pz.yt_vis = "isVisible", Pz.rcl = "mwebInfo.responseContentLength", Pz.GetSettings_rid = "requestIds", Pz.GetTrending_rid = "requestIds", Pz.GetMusicSearchSuggestions_rid = "requestIds", Pz.REQUEST_ID = "requestIds", Pz),
        vha = "isContinuation isNavigation kabukiInfo.earlyBrowseRequestInfo.adopted kabukiInfo.isPrefetch kabukiInfo.isSecondaryNav isMonetized navigationRequestedSameUrl performanceNavigationTiming playerInfo.isPausedOnLoad prerollAllowed isRedSubscriber tvInfo.isMdx tvInfo.isPreloaded isVisible watchInfo.isPlaylist playbackRequiresTap".split(" "),
        Rz = {},
        Sz = (Rz.ccs = "CANARY_STATE_", Rz.mver = "MEASUREMENT_VERSION_", Rz.pis = "PLAYER_INITIALIZED_STATE_", Rz.yt_pt = "LATENCY_PLAYER_", Rz.pa = "LATENCY_ACTION_", Rz.yt_vst = "VIDEO_STREAM_TYPE_", Rz),
        wha = "all_vc ap aq c cver cbrand cmodel cplatform ctheme ei l_an l_mm plid srt yt_fss yt_li vpst vpni2 vpil2 icrc icrt pa GetAccountOverview_rid GetHistory_rid cmt d_vpct d_vpnfi d_vpni nsru pc pfa pfeh pftr pnc prerender psc rc start tcrt tcrc ssr vpr vps yt_abt yt_fn yt_fs yt_pft yt_pre yt_pt yt_pvis ytu_pvis yt_ref yt_sts tds".split(" ");

    function Tz(a) {
        return !!G("FORCE_CSI_ON_GEL", !1) || I("csi_on_gel") || I("enable_csi_on_gel") || !!Az(a).useGel
    }

    function Uz(a) {
        a = Az(a);
        if (a.gel) {
            var b = a.gel;
            b.gelInfos || (b.gelInfos = {});
            b.gelTicks || (b.gelTicks = {})
        } else a.gel = {
            gelTicks: {},
            gelInfos: {}
        };
        return a.gel
    };

    function Vz(a) {
        Bz(a);
        uha();
        zz(!1, a);
        a || (G("TIMING_ACTION") && xs("PREVIOUS_ACTION", G("TIMING_ACTION")), xs("TIMING_ACTION", ""))
    }

    function Wz(a, b, c, d) {
        d = d ? d : a;
        Xz(d);
        Iz(d);
        Vz(d);
        Az(d).useGel = !0;
        Gz(d || "").info.actionType = a;
        xs(d + "TIMING_AFT_KEYS", b);
        xs(d + "TIMING_ACTION", a);
        Yz("yt_sts", "c", d);
        Zz("_start", c, d);
        if (Tz(d)) {
            a = {
                actionType: Oz[ys((d || "") + "TIMING_ACTION")] || "LATENCY_ACTION_UNKNOWN",
                previousAction: Oz[ys("PREVIOUS_ACTION")] || "LATENCY_ACTION_UNKNOWN"
            };
            if (b = Xx()) a.clientScreenNonce = b;
            b = Dz(d);
            Lz().info(a, b)
        }
        Wa("ytglobal.timing" + (d || "") + "ready_", !0);
        $z(d)
    }

    function Yz(a, b, c) {
        if (null !== b)
            if (Cz(c)[a] = b, Tz(c)) {
                var d = b;
                b = Uz(c);
                if (b.gelInfos) b.gelInfos["info_" + a] = !0;
                else {
                    var e = {};
                    b.gelInfos = (e["info_" + a] = !0, e)
                }
                if (a.match("_rid")) {
                    var f = a.split("_rid")[0];
                    a = "REQUEST_ID"
                }
                if (a in Qz) {
                    b = Qz[a];
                    xb(vha, b) && (d = !!d);
                    a in Sz && "string" === typeof d && (d = Sz[a] + d.toUpperCase());
                    a = d;
                    d = b.split(".");
                    for (var g = e = {}, k = 0; k < d.length - 1; k++) {
                        var l = d[k];
                        g[l] = {};
                        g = g[l]
                    }
                    g[d[d.length - 1]] = "requestIds" === b ? [{
                        id: a,
                        endpoint: f
                    }] : a;
                    b = oz({}, e)
                } else xb(wha, a) || ly(new lw("Unknown label logged with GEL CSI",
                    a)), b = void 0;
                b && aA(b, c)
            } else Gz(c || "").info[a] = b
    }

    function aA(a, b) {
        if (Tz(b)) {
            var c = Gz(b || "");
            oz(c.info, a);
            c = Uz(b);
            c.gelInfos || (c.gelInfos = {});
            oz(c.gelInfos, a);
            b = Dz(b);
            Lz().info(a, b)
        }
    }

    function Zz(a, b, c) {
        var d = xz(c);
        if (!b && "_" !== a[0]) {
            var e = a;
            uz.mark && (zc(e, "mark_") || (e = "mark_" + e), c && (e += " (" + c + ")"), uz.mark(e))
        }
        e = b || K();
        d[a] = e;
        e = Uz(c);
        e.gelTicks && (e.gelTicks["tick_" + a] = !0);
        c || b || K();
        if (Tz(c)) {
            Gz(c || "").tick[a] = b || K();
            e = Dz(c);
            if ("_start" === a) {
                var f = Lz();
                Mz(f, "baseline_" + e) || iw("latencyActionBaselined", {
                    clientActionNonce: e
                }, {
                    timestamp: b
                })
            } else Lz().tick(a, e, b);
            Ez(c);
            e = !0
        } else e = !1;
        e || ($z(c), Gz(c || "").tick[a] = b || K());
        return d[a]
    }

    function bA(a) {
        var b = "above_the_fold";
        uz && uz.measure && (zc(b, "measure_") || (b = "measure_" + b), a ? uz.measure(b, a) : uz.measure(b))
    }

    function cA(a, b) {
        b = xz(b);
        return a in b
    }

    function dA(a, b) {
        cA("_start", b) && !cA(a, b) && Zz(a, void 0, b)
    }

    function $z(a) {
        if (!yz(a)) {
            var b = G((a || "") + "TIMING_ACTION", void 0),
                c = xz(a);
            if (Ja("ytglobal.timing" + (a || "") + "ready_") && b && cA("_start") && wz(a))
                if (Ez(a), a) eA(a);
                else {
                    b = !0;
                    var d = G("TIMING_WAIT", []);
                    if (d.length)
                        for (var e = 0, f = d.length; e < f; ++e)
                            if (!(d[e] in c)) {
                                b = !1;
                                break
                            } b && eA(a)
                }
        }
    }

    function xha() {
        switch (ls()) {
            case "hidden":
                return 0;
            case "visible":
                return 1;
            case "prerender":
                return 2;
            case "unloaded":
                return 3;
            default:
                return -1
        }
    }

    function eA(a) {
        if (!Tz(a)) {
            var b = xz(a),
                c = Cz(a),
                d = b._start,
                e = G("CSI_SERVICE_NAME", "youtube"),
                f = {
                    v: 2,
                    s: e,
                    action: G((a || "") + "TIMING_ACTION", void 0)
                },
                g = c.srt;
            void 0 !== b.srt && delete c.srt;
            b.aft = wz(a);
            var k = xz(a),
                l = k.pbr,
                m = k.vc;
            k = k.pbs;
            l && m && k && l < m && m < k && Cz(a).yt_pvis && "youtube" === e && (Yz("yt_lt", "hot_bg", a), e = b.vc, l = b.pbs, delete b.aft, c.aft = Math.round(l - e));
            for (var n in c) "_" !== n.charAt(0) && (f[n] = c[n]);
            b.ps = K();
            n = {};
            e = [];
            for (var p in b) "_" !== p.charAt(0) && (l = Math.round(b[p] - d), n[p] = l, e.push(p + "." + l));
            f.rt =
                e.join(",");
            b = !!c.ap;
            c = "";
            for (var q in f) f.hasOwnProperty(q) && (c += "&" + q + "=" + f[q]);
            f = "/csi_204?" + c.substring(1);
            window.navigator && window.navigator.sendBeacon && (b || I("always_send_csi_204_with_beacon")) ? Nu(f) : Lu(f);
            zz(!0, a);
            Uv(nz, new mz(n.aft + (Number(g) || 0), a))
        }
    }

    function Xz(a) {
        if (Tz(a)) cA("_start", a) && Zz("aa", void 0, a);
        else if (!yz(a)) {
            var b = G("CSI_SERVICE_NAME", "youtube");
            G((a || "") + "TIMING_ACTION", void 0) && b && (Zz("aa", void 0, a), Yz("ap", 1, a), Yz("yt_fss", "c", a), eA(a))
        }
    }
    var fA = window;
    fA.ytcsi && (fA.ytcsi.info = Yz, fA.ytcsi.tick = Zz);

    function yha() {
        var a, b;
        return B(this, function d() {
            var e;
            return y(d, function(f) {
                e = navigator;
                return (null === (a = e.storage) || void 0 === a ? 0 : a.estimate) ? f.return(e.storage.estimate()) : (null === (b = e.webkitTemporaryStorage) || void 0 === b ? 0 : b.queryUsageAndQuota) ? f.return(zha()) : f.return()
            })
        })
    }

    function zha() {
        var a = navigator;
        return new Promise(function(b, c) {
            var d;
            null !== (d = a.webkitTemporaryStorage) && void 0 !== d && d.queryUsageAndQuota ? a.webkitTemporaryStorage.queryUsageAndQuota(function(e, f) {
                b({
                    usage: e,
                    quota: f
                })
            }, function(e) {
                c(e)
            }) : c(Error("webkitTemporaryStorage is not supported."))
        })
    };

    function gw(a, b) {
        var c = this;
        this.handleError = a;
        this.i = b;
        this.l = !1;
        void 0 === self.document || self.addEventListener("beforeunload", function() {
            c.l = !0
        })
    }
    gw.prototype.Fc = function(a) {
        this.handleError(a)
    };
    gw.prototype.logEvent = function(a, b) {
        switch (a) {
            case "IDB_DATA_CORRUPTED":
                I("idb_data_corrupted_killswitch") || this.i("idbDataCorrupted", b);
                break;
            case "IDB_UNEXPECTEDLY_CLOSED":
                this.i("idbUnexpectedlyClosed", b);
                break;
            case "IS_SUPPORTED_COMPLETED":
                I("idb_is_supported_completed_killswitch") || this.i("idbIsSupportedCompleted", b);
                break;
            case "QUOTA_EXCEEDED":
                Aha(this, b);
                break;
            case "TRANSACTION_ENDED":
                Math.random() <= Hs("ytidb_transaction_ended_event_rate_limit", .02) && this.i("idbTransactionEnded", b);
                break;
            case "TRANSACTION_UNEXPECTEDLY_ABORTED":
                a =
                    Object.assign(Object.assign({}, b), {
                        hasWindowUnloaded: this.l
                    }), this.i("idbTransactionAborted", a)
        }
    };

    function Aha(a, b) {
        yha().then(function(c) {
            c = Object.assign(Object.assign({}, b), {
                isSw: void 0 === self.document,
                isIframe: self !== self.top,
                deviceStorageUsageMbytes: gA(null === c || void 0 === c ? void 0 : c.usage),
                deviceStorageQuotaMbytes: gA(null === c || void 0 === c ? void 0 : c.quota)
            });
            a.i("idbQuotaExceeded", c)
        })
    }

    function gA(a) {
        return "undefined" === typeof a ? "-1" : String(Math.ceil(a / 1048576))
    };

    function hA() {
        this.l = !1;
        this.i = null
    }
    hA.prototype.initialize = function(a, b, c, d) {
        d = void 0 === d ? !1 : d;
        var e, f;
        if (a.program) {
            var g = null !== (e = a.interpreterScript) && void 0 !== e ? e : null,
                k = null !== (f = a.interpreterUrl) && void 0 !== f ? f : null;
            a.interpreterSafeScript && (g = (g = a.interpreterSafeScript) ? (g = g.privateDoNotAccessOrElseSafeScriptWrappedValue) ? Yj(g) : null : null, g = g.toString());
            if (a.interpreterSafeUrl) {
                var l;
                if (k = a.interpreterSafeUrl)
                    if (k = k.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue) {
                        var m = null === (l = Vj()) || void 0 === l ? void 0 : l.createScriptURL(k);
                        l = new ck(null !== m && void 0 !== m ? m : k, Rj)
                    } else l = null;
                else l = null;
                k = l.toString()
            }
            Bha(this, g, k, a.program, b, c, d)
        } else ly(Error("Cannot initialize botguard without program"))
    };

    function Bha(a, b, c, d, e, f, g) {
        g = void 0 === g ? !1 : g;
        c ? (a.l = !0, dz(c, function() {
            a.l = !1;
            var k = 0 <= c.indexOf("/th/");
            if (k ? window.trayride : window.botguard) iA(a, d, !!g, k, e);
            else {
                k = ez(c);
                var l = document.getElementById(k);
                l && (Vu(k), l.parentNode.removeChild(l));
                ly(new lw("Unable to load Botguard", "from " + c))
            }
        }, f)) : b && (f = Og("SCRIPT"), f.textContent = b, f.nonce = wd("script[nonce]", void 0), document.head.appendChild(f), document.head.removeChild(f), ((b = b.includes("trayride")) ? window.trayride : window.botguard) ? iA(a, d, !!g, b, e) :
            ly(Error("Unable to load Botguard from JS")))
    }

    function iA(a, b, c, d, e) {
        var f, g;
        if (d = d ? null === (f = window.trayride) || void 0 === f ? void 0 : f.ad : null === (g = window.botguard) || void 0 === g ? void 0 : g.bg)
            if (c) try {
                BA(a, new d(b, e ? function() {
                    return e(b)
                } : Ka))
            } catch (k) {
                k instanceof Error && ly(k)
            } else {
                try {
                    BA(a, new d(b))
                } catch (k) {
                    k instanceof Error && ly(k)
                }
                e && e(b)
            } else ly(Error("Failed to finish initializing VM"))
    }
    hA.prototype.invoke = function(a) {
        a = void 0 === a ? {} : a;
        return this.i ? this.i.hasOwnProperty("hot") ? this.i.hot(void 0, void 0, a) : this.i.invoke(void 0, void 0, a) : null
    };

    function Cha(a, b) {
        var c = CA;
        a = void 0 === a ? {} : a;
        b = void 0 === b ? 3E3 : b;
        return c.i ? Promise.race([new Promise(function(d, e) {
                setTimeout(function() {
                    setTimeout(function() {
                        setTimeout(function() {
                            e(Error("Timed out waiting for snapshot"))
                        }, 0)
                    }, 0)
                }, b)
            }),
            new Promise(function(d) {
                c.i ? c.i.hasOwnProperty("hot") ? c.i.hot(d, !0, a) : c.i.invoke(d, !0, a) : d(null)
            })
        ]) : Promise.resolve(null)
    }
    hA.prototype.dispose = function() {
        this.i = null
    };

    function BA(a, b) {
        a.i = b
    };
    var CA = new hA,
        DA = 0;

    function Dha() {
        dA("bg_l", "player_att");
        DA = K()
    }

    function Eha(a) {
        var b = Hs("botguard_async_snapshot_timeout_ms", 3E3);
        a = void 0 === a ? {} : a;
        return Cha(a, b)
    };

    function EA(a) {
        var b = this;
        this.videoData = a;
        a = {};
        this.l = (a.c1a = function() {
                if (CA.i) {
                    var c = "";
                    b.videoData && b.videoData.U && (c = b.videoData.U + ("&r1b=" + b.videoData.clientPlaybackNonce));
                    var d = {};
                    c = (d.atr_challenge = c, d);
                    dA("bg_v", "player_att");
                    c = void 0 === c ? {} : c;
                    c = CA.invoke(c);
                    dA("bg_s", "player_att");
                    c = c ? "r1a=" + c : "r1c=2"
                } else dA("bg_e", "player_att"), c = window.trayride || window.botguard ? "r1c=1" : "r1c=4";
                return c
            }, a.c3a = function(c) {
                return "r3a=" + Math.floor(b.videoData.lengthSeconds % Number(c.c3a)).toString()
            }, a.c6a =
            function(c) {
                return "r6a=" + (Number(c.c) ^ kz())
            }, a);
        this.videoData && this.videoData.U ? this.i = pt(this.videoData.U) : this.i = {}
    }

    function Fha(a) {
        if (a.videoData && a.videoData.U) {
            for (var b = [a.videoData.U], c = t(Object.keys(a.l)), d = c.next(); !d.done; d = c.next()) d = d.value, a.i[d] && a.l[d] && (d = a.l[d](a.i)) && b.push(d);
            return b.join("&")
        }
        return null
    }

    function FA(a) {
        var b = {};
        Object.assign(b, a.l);
        "c1b" in a.i && (b.c1a = function() {
            return Gha(a)
        });
        if (a.videoData && a.videoData.U) {
            for (var c = [a.videoData.U], d = t(Object.keys(b)), e = d.next(); !e.done; e = d.next()) e = e.value, a.i[e] && b[e] && (e = b[e](a.i)) && c.push(e);
            return new Promise(function(f, g) {
                Promise.all(c).then(function(k) {
                    f(k.filter(function(l) {
                        return !!l
                    }).join("&"))
                }, g)
            })
        }
        return Promise.resolve(null)
    }

    function Gha(a) {
        if (!CA.i) return dA("bg_e", "player_att"), window.trayride || window.botguard ? Promise.resolve("r1c=1") : Promise.resolve("r1c=4");
        var b = "";
        a.videoData && a.videoData.U && (b = a.videoData.U + ("&r1b=" + a.videoData.clientPlaybackNonce));
        a = {};
        var c = (a.atr_challenge = b, a);
        return new Promise(function(d) {
            dA("bg_v", "player_att");
            Eha(c).then(function(e) {
                e ? (dA("bg_s", "player_att"), d("r1a=" + e)) : (dA("bg_e", "player_att"), d("r1c=2"))
            }, function() {
                dA("bg_e", "player_att");
                d("r1c=3")
            })
        })
    };
    var Hha = {
        nL: 1,
        AL: 2,
        PAUSED: 3,
        1: "DISABLED",
        2: "ENABLED",
        3: "PAUSED"
    };
    var GA = 16 / 9,
        HA = [.25, .5, .75, 1, 1.25, 1.5, 1.75, 2],
        Iha = HA.concat([3, 4, 5, 6, 7, 8, 9, 10, 15]);

    function IA(a, b, c) {
        this.errorCode = a;
        this.i = b;
        this.details = c || {}
    }

    function JA(a) {
        var b;
        for (b in a)
            if (a.hasOwnProperty(b) && void 0 !== a[b]) {
                var c = ("" + a[b]).replace(/[:,=]/g, "_");
                var d = (d ? d + ";" : "") + b + "." + c
            } return d || ""
    }

    function KA(a) {
        var b = void 0 === b ? !1 : b;
        if (a instanceof IA) return a;
        a = a && a instanceof Error ? a : Error("" + a);
        b ? ky(a) : ly(a);
        return new IA(b ? "player.fatalexception" : "player.exception", b, {
            name: "" + a.name,
            message: "" + a.message
        })
    };

    function LA(a, b) {
        this.id = a;
        this.Ob = b;
        this.captionTracks = [];
        this.i = this.u = this.B = null;
        this.l = "UNKNOWN";
        this.captionsInitialState = "CAPTIONS_INITIAL_STATE_UNKNOWN"
    }
    LA.prototype.getLanguageInfo = function() {
        return this.Ob
    };

    function MA(a, b) {
        return b ? a.captionsInitialState : "CAPTIONS_INITIAL_STATE_UNKNOWN"
    }
    LA.prototype.toString = function() {
        return this.Ob.name
    };
    LA.prototype.getLanguageInfo = LA.prototype.getLanguageInfo;
    var NA = {},
        OA = (NA.auto = 0, NA.tiny = 144, NA.light = 144, NA.small = 240, NA.medium = 360, NA.large = 480, NA.hd720 = 720, NA.hd1080 = 1080, NA.hd1440 = 1440, NA.hd2160 = 2160, NA.hd2880 = 2880, NA.highres = 4320, NA),
        PA = {
            0: "auto",
            144: "tiny",
            240: "small",
            360: "medium",
            480: "large",
            720: "hd720",
            1080: "hd1080",
            1440: "hd1440",
            2160: "hd2160",
            2880: "hd2880",
            4320: "highres"
        };

    function QA(a, b, c, d) {
        this.u = c;
        this.reason = d;
        this.l = a || 0;
        this.i = b || 0
    }

    function RA(a, b) {
        return a.l === b.l && a.i === b.i && a.u === b.u && a.reason === b.reason
    }

    function SA(a, b, c, d) {
        return new QA(OA[a] || 0, OA[b] || 0, c, d)
    }

    function TA(a) {
        var b = OA.auto;
        return a.l === b && a.i === b
    }
    QA.prototype.isLocked = function() {
        return this.u && !!this.l && this.l === this.i
    };
    QA.prototype.compose = function(a) {
        if (a.u && TA(a)) return UA;
        if (a.u || TA(this)) return a;
        if (this.u || TA(a)) return this;
        var b = this.l && a.l ? Math.max(this.l, a.l) : this.l || a.l,
            c = this.i && a.i ? Math.min(this.i, a.i) : this.i || a.i;
        b = Math.min(b, c);
        return b === this.l && c === this.i ? this : new QA(b, c, !1, c === this.i ? this.reason : a.reason)
    };

    function VA(a) {
        return PA[a.i || a.l] || "auto"
    }
    QA.prototype.B = function(a) {
        return a.video ? WA(this, a.video.quality) : !1
    };

    function WA(a, b) {
        b = OA[b];
        return a.l <= b && (!a.i || a.i >= b)
    }
    var XA = SA("auto", "hd1080", !1, "l"),
        YA = SA("auto", "large", !1, "l"),
        UA = SA("auto", "auto", !1, "p");
    SA("small", "auto", !1, "p");
    var ZA = {},
        $A = (ZA["api.invalidparam"] = 2, ZA.auth = 150, ZA["drm.auth"] = 150, ZA["heartbeat.net"] = 150, ZA["heartbeat.servererror"] = 150, ZA["heartbeat.stop"] = 150, ZA["html5.unsupportedads"] = 5, ZA["fmt.noneavailable"] = 5, ZA["fmt.decode"] = 5, ZA["fmt.unplayable"] = 5, ZA["html5.missingapi"] = 5, ZA["html5.unsupportedlive"] = 5, ZA["drm.unavailable"] = 5, ZA);

    function aB(a, b, c) {
        "string" === typeof a && (a = {
            mediaContentUrl: a,
            startSeconds: b,
            suggestedQuality: c
        });
        a: {
            if ((b = a.mediaContentUrl) && (b = /\/([ve]|embed)\/([^#?]+)/.exec(b)) && b[2]) {
                b = b[2];
                break a
            }
            b = null
        }
        a.videoId = b;
        return bB(a)
    }

    function bB(a, b, c) {
        if ("string" === typeof a) return {
            videoId: a,
            startSeconds: b,
            suggestedQuality: c
        };
        b = ["endSeconds", "startSeconds", "mediaContentUrl", "suggestedQuality", "videoId"];
        c = {};
        for (var d = 0; d < b.length; d++) {
            var e = b[d];
            a[e] && (c[e] = a[e])
        }
        return c
    };

    function L(a, b) {
        return void 0 === b || null === b ? a : "1" === b || !0 === b || 1 === b || "True" === b ? !0 : !1
    }

    function cB(a, b, c) {
        for (var d in c)
            if (c[d] == b) return c[d];
        return a
    }

    function dB(a, b) {
        return void 0 === b || null === b ? a : Number(b)
    }

    function eB(a, b) {
        return void 0 === b || null === b ? a : b.toString()
    }

    function Jha(a) {
        if (!a) return null;
        var b = a.split("x");
        if (2 !== b.length) return null;
        a = Number(b[0]);
        b = Number(b[1]);
        return isNaN(a) || isNaN(b) || 0 >= a * b ? null : new zg(a, b)
    }
    var Kha = /^([0-9\.]+):([0-9\.]+)$/;

    function fB(a, b) {
        if (b) {
            if ("fullwidth" === a) return Infinity;
            if ("fullheight" === a) return 0
        }
        return a && (b = a.match(Kha)) && (a = Number(b[2]), b = Number(b[1]), !isNaN(a) && !isNaN(b) && 0 < a) ? b / a : NaN
    }

    function gB(a) {
        var b = a.docid || a.video_id || a.videoId || a.id;
        if (b) return b;
        b = a.raw_player_response;
        b || I("parse_video_id_from_serialized_player_response_killswitch") || (a = a.player_response) && (b = JSON.parse(a));
        return b && b.videoDetails && b.videoDetails.videoId || null
    };
    var Lha = /^https?:\/\/([^.]*\.moatads\.com\/|e[0-9]+\.yt\.srs\.doubleverify\.com|pagead2\.googlesyndication\.com\/pagead\/gen_204\?id=yt3p&sr=1&|pm\.adsafeprotected\.com\/youtube|pm\.test-adsafeprotected\.com\/youtube|youtube[0-9]+\.moatpixel\.com\/)/,
        hB = /^http:\/\/0\.[a-z0-9\-_]+\.[a-z0-9\-_]+\.l2gfe\.[a-z0-9_]+\.([a-z]{2}|i)\.borg\.google\.com(:[0-9]+)?\/|^https:\/\/([a-z]+\.)?[0-9a-f]{1,63}\.sslproxy\.corp\.google\.com\/|^https:\/\/([a-z]+\.)?[a-z0-9\-]{1,63}\.demos\.corp\.google\.com\/|^https:\/\/[0-9a-f]{1,63}\.proxy\.googleprod\.com\/|^https?:\/\/((?:uytfe\.corp|dev-uytfe\.corp|uytfe\.sandbox)\.google\.com\/|([-\w]*www[-\w]*\.|[-\w]*web[-\w]*\.|[-\w]*canary[-\w]*\.|[-\w]*dev[-\w]*\.|[-\w]{1,3}\.)+(corp\.)?youtube(-nocookie|kids)?\.com\/|([A-Za-z0-9-]{1,63}\.)*(youtube\.googleapis\.com)[.]?(:[0-9]+)?\/|([a-z]+\.)?[a-z0-9\-]{1,63}\.([a-z]{3}|i)\.corp\.google\.com(:[0-9]+)?\/|([a-z]+\.)?[a-z0-9\-]{1,63}\.c\.googlers\.com(:[0-9]+)?\/|(docs|drive)\.google\.com\/(a\/[^/\\%]+\/|)|(tv|tv-green-qa|tv-release-qa)\.youtube\.com\/|[A-Za-z0-9-]+\.prod\.google\.com(:[0-9]+)?\/|m?web-ppg\.corp\.google\.com\/)/,
        Mha = /^https?:\/\/(www\.google\.com\/pagead\/xsul|www\.youtube\.com\/pagead\/slav)/,
        Nha = /^https:\/\/([A-Za-z0-9-]{1,63}\.)+demos\.corp\.google\.com(\/(?!url\b)|$)|^https:\/\/([A-Za-z0-9-]{1,63}\.)+sslproxy\.corp\.google\.com(\/|$)|^https?:\/\/(([A-Za-z0-9-]{1,63}\.)*(corp\.google\.com|proxy\.googleprod\.com|c\.googlers\.com|proxy\.googlers\.com|docs\.google\.com|drive\.google\.com|prod\.google\.com|currents\.google\.com|mail\.google\.com|youtube\.com|youtube\-nocookie\.com|youtubekids\.com)[.]?(:[0-9]+)?\/|([A-Za-z0-9-]{1,63}\.)*(sandbox\.google\.com)(:[0-9]+)?(\/(?!url\b)|$))/,
        Oha = /^https?:\/\/([A-Za-z0-9-]{1,63}\.)*(plus\.google\.com)[.]?(:[0-9]+)?\//,
        Pha = /^https:\/\/([A-Za-z0-9-]{1,63}\.)+demos\.corp\.google\.com(\/(?!url\b)|$)|^https:\/\/([A-Za-z0-9-]{1,63}\.)+sslproxy\.corp\.google\.com(\/|$)|^https?:\/\/(([A-Za-z0-9-]{1,63}\.)*(corp\.google\.com|proxy\.googleprod\.com|c\.googlers\.com|proxy\.googlers\.com|borg\.google\.com|prod\.google\.com|youtube\.com|youtubekids\.com)[.]?(:[0-9]+)?\/|([A-Za-z0-9-]{1,63}\.)*(sandbox\.google\.com)(:[0-9]+)?(\/(?!url\b)|$))/,
        Qha = /^((http(s)?):)?\/\/((((lh[3-6](-tt|-d[a-g,z])?\.((ggpht)|(googleusercontent)|(google)|(sandbox\.google)))|(([1-4]\.bp\.blogspot)|(bp[0-3]\.blogger))|(ccp-lh\.googleusercontent)|((((cp|ci|gp)[3-6])|(ap[1-2]))\.(ggpht|googleusercontent))|(gm[1-4]\.ggpht)|(play-(ti-)?lh\.googleusercontent)|(gz0\.googleusercontent)|(((yt[3-4])|(sp[1-3]))\.(ggpht|googleusercontent)))\.com)|(dp[3-6]\.googleusercontent\.cn)|(dp4\.googleusercontent\.com)|(photos\-image\-(dev|qa)(-auth)?\.corp\.google\.com)|((dev|dev2|dev3|qa|qa2|qa3|qa-red|qa-blue|canary)[-.]lighthouse\.sandbox\.google\.com\/image)|(image\-(dev|qa)\-lighthouse(-auth)?\.sandbox\.google\.com(\/image)?))\/|^https:\/\/([A-Za-z0-9-]{1,63}\.)+demos\.corp\.google\.com(\/(?!url\b)|$)|^https:\/\/([A-Za-z0-9-]{1,63}\.)+sslproxy\.corp\.google\.com(\/|$)|^https?:\/\/(([A-Za-z0-9-]{1,63}\.)*(corp\.google\.com|proxy\.googleprod\.com|c\.googlers\.com|proxy\.googlers\.com|borg\.google\.com|docs\.google\.com|drive\.google\.com|googleplex\.com|play\.google\.com|prod\.google\.com|currents\.google\.com|video\.google\.com|youtube\.com|ytimg\.com|ytimg\.sandbox\.google\.com|chat\.google\.com)[.]?(:[0-9]+)?\/|([A-Za-z0-9-]{1,63}\.)*(sandbox\.google\.com)(:[0-9]+)?(\/(?!url\b)|$)|s2\.googleusercontent\.com\/s2\/favicons\?|yt[3-4]\.ggpht\.com\/)/,
        Rha = /^https?:\/\/([A-Za-z0-9-]{1,63}\.)*(plus\.google\.com)[.]?(:[0-9]+)?\//,
        Sha = /^https?.*#ocr$|^https?:\/\/(aksecure\.imrworldwide\.com\/|cdn\.imrworldwide\.com\/|secure\-..\.imrworldwide\.com\/)/,
        Tha = /^https?:\/\/(googleads\.g\.doubleclick\.net\/(aclk|pagead\/conversion)|www\.google\.com\/(aclk|pagead\/conversion)|www\.googleadservices\.com\/(aclk|pagead\/(aclk|conversion))|www\.youtube\.com\/pagead\/conversion)/,
        Uha = /^((http(s)?):)?\/\/((((lh[3-6](-tt|-d[a-g,z])?\.((ggpht)|(googleusercontent)|(google)|(sandbox\.google)))|(([1-4]\.bp\.blogspot)|(bp[0-3]\.blogger))|(ccp-lh\.googleusercontent)|((((cp|ci|gp)[3-6])|(ap[1-2]))\.(ggpht|googleusercontent))|(gm[1-4]\.ggpht)|(play-(ti-)?lh\.googleusercontent)|(gz0\.googleusercontent)|(((yt[3-4])|(sp[1-3]))\.(ggpht|googleusercontent)))\.com)|(dp[3-6]\.googleusercontent\.cn)|(dp4\.googleusercontent\.com)|(photos\-image\-(dev|qa)(-auth)?\.corp\.google\.com)|((dev|dev2|dev3|qa|qa2|qa3|qa-red|qa-blue|canary)[-.]lighthouse\.sandbox\.google\.com\/image)|(image\-(dev|qa)\-lighthouse(-auth)?\.sandbox\.google\.com(\/image)?))\/|^https:\/\/([A-Za-z0-9-]{1,63}\.)+demos\.corp\.google\.com(\/(?!url\b)|$)|^https:\/\/([A-Za-z0-9-]{1,63}\.)+sslproxy\.corp\.google\.com(\/|$)|^https?:\/\/(([A-Za-z0-9-]{1,63}\.)*(corp\.google\.com|proxy\.googleprod\.com|c\.googlers\.com|proxy\.googlers\.com|borg\.google\.com|docs\.google\.com|drive\.google\.com|googleplex\.com|googlevideo\.com|prod\.google\.com|lh3\.photos\.google\.com|currents\.google\.com|mail\.google\.com|youtube\.com|xfx7\.com|yt\.akamaized\.net|chat\.google\.com|shopping\.google\.com|cdn\.shoploop\.tv)[.]?(:[0-9]+)?\/|([A-Za-z0-9-]{1,63}\.)*(sandbox\.google\.com)(:[0-9]+)?(\/(?!url\b)|$)|([A-Za-z0-9-]{1,63}\.)*c\.lh3(-d[a-gz]|-testonly)?\.(googleusercontent|photos\.google)\.com\/.*$)/,
        Vha = /^https?:\/\/([A-Za-z0-9-]{1,63}\.)*(plus\.google\.com)[.]?(:[0-9]+)?\//,
        Wha = /^https?:\/\/(([A-Za-z0-9-]{1,63}\.)*(imasdk\.googleapis\.com|2mdn\.net|googlesyndication\.com|corp\.google\.com|proxy\.googleprod\.com|c\.googlers\.com|proxy\.googlers\.com|borg\.google\.com|googleads\.g\.doubleclick\.net|prod\.google\.com|static\.doubleclick\.net|static\.googleadsserving\.cn|studioapi\.doubleclick\.net|youtube\.com|youtube\.googleapis\.com|youtube\-nocookie\.com|youtubekids\.com|ytimg\.com|ytimg\.sandbox\.google\.com)[.]?(:[0-9]+)?\/|lightbox-(demos|builder)\.appspot\.com\/|s[01](qa)?\.2mdn\.net\/ads\/richmedia\/studio\/mu\/templates\/tetris|www\.gstatic\.com\/doubleclick\/studio\/innovation\/h5\/layouts\/tetris|www\.gstatic\.com\/doubleclick\/studio\/innovation\/ytplayer)/,
        Xha = /^https:\/\/([A-Za-z0-9-]{1,63}\.)*(crowdsource|datacompute)\.google\.com\/|^https:\/\/([A-Za-z0-9-]{1,63}\.)+demos\.corp\.google\.com(\/(?!url\b)|$)|^https:\/\/([A-Za-z0-9-]{1,63}\.)+sslproxy\.corp\.google\.com(\/|$)|^https:\/\/canvastester-3fd0b\.appspot\.com(\/|$)|^https:\/\/narrative-news-cast-receiver-d\.appspot\.com(\/|$)|^https:\/\/narrative-news-cast-receiver-f\.appspot\.com(\/|$)|^https:\/\/one\.google\.com(\/|$)|^https:\/\/www\.gstatic\.com\/aog_howto|^https:\/\/www\.gstatic\.com\/narrative_cast_receiver\/news|^https?:\/\/(([A-Za-z0-9-]{1,63}\.)*(imasdk\.googleapis\.com|corp\.google\.com|proxy\.googleprod\.com|c\.googlers\.com|proxy\.googlers\.com|borg\.google\.com|docs\.google\.com|drive\.google\.com|googleads\.g\.doubleclick\.net|googleplex\.com|play\.google\.com|prod\.google\.com|photos\.google\.com|get\.google\.com|class\.photos\.google\.com|currents\.google\.com|books\.googleusercontent\.com|play\-books\-autopush\-sandbox\.googleusercontent\.com|play\-books\-canary\-sandbox\.googleusercontent\.com|play\-books\-internal\-sandbox\.googleusercontent\.com|play\-books\-staging\-sandbox\.googleusercontent\.com|blogger\.com|mail\.google\.com|survey\.g\.doubleclick\.net|youtube\.com|youtube\.googleapis\.com|youtube\-nocookie\.com|yt\-web\-embedded\-player\.appspot\.com|youtubekids\.com|vevo\.com|chat\.google\.com|meet\.google\.com|stadia\.google\.com|shoploop\.area120\.google\.com|shopping\.google\.com)[.]?(:[0-9]+)?(\/|$)|([A-Za-z0-9-]{1,63}\.)*(sandbox\.google\.com)(:[0-9]+)?(\/(?!url\b)|$)|(www\.|encrypted\.)?google\.(cat|com(\.(a[fgiru]|b[dhnorz]|c[ouy]|do|e[cgt]|fj|g[hit]|hk|jm|kh|kw|l[bcy]|m[mtxy]|n[afgip]|om|p[aeghkry]|qa|s[abglv]|t[jnrw]|ua|uy|vc|vn))?|a[cdelmstz]|c[acdfghilmnvz]|b[aefgijsty]|ee|es|d[ejkmz]|g[aefglmpry]|f[imr]|i[emoqrst]|h[nrtu]|k[giz]|je|jo|m[degklnsuvw]|l[aiktuv]|n[eloru]|p[lnst]|s[cehikmnort]|r[osuw]|us|t[dgklmnot]|ws|vg|vu|co\.(ao|bw|ck|cr|i[dln]|jp|ke|kr|ls|ma|mz|nz|th|tz|u[gkz]|ve|vi|z[amw]))\/(search|webhp)\?|(www\.|encrypted\.)google\.(cat|com(\.(a[fgiru]|b[dhnorz]|c[ouy]|do|e[cgt]|fj|g[hit]|hk|jm|kh|kw|l[bcy]|m[mtxy]|n[afgip]|om|p[aeghkry]|qa|s[abglv]|t[jnrw]|ua|uy|vc|vn))?|a[cdelmstz]|c[acdfghilmnvz]|b[aefgijsty]|ee|es|d[ejkmz]|g[aefglmpry]|f[imr]|i[emoqrst]|h[nrtu]|k[giz]|je|jo|m[degklnsuvw]|l[aiktuv]|n[eloru]|p[lnst]|s[cehikmnort]|r[osuw]|us|t[dgklmnot]|ws|vg|vu|co\.(ao|bw|ck|cr|i[dln]|jp|ke|kr|ls|ma|mz|nz|th|tz|u[gkz]|ve|vi|z[amw]))\/?$|lightbox-(demos|builder)\.appspot\.com\/|s0\.2mdn\.net\/instream\/html5\/native\/|s[01](qa)?\.2mdn\.net\/ads\/richmedia\/studio\/mu\/templates\/tetris|www\.gstatic\.com\/doubleclick\/studio\/innovation\/h5\/layouts\/tetris)/,
        Yha = /^https?:\/\/([A-Za-z0-9-]{1,63}\.)*(plus\.google\.com)[.]?(:[0-9]+)?(\/|$)/,
        iB = /^(https\:\/\/photos\.google\.com|https\:\/\/get\.google\.com|https\:\/\/class\.photos\.google\.com|https\:\/\/currents\.google\.com|https\:\/\/mail\.google\.com|https\:\/\/yt\-web\-embedded\-player\.appspot\.com|http\:\/\/yt\-web\-embedded\-player\.appspot\.com|https\:\/\/chat\.google\.com|https\:\/\/stadia\.google\.com|https\:\/\/one\.google\.com|https\:\/\/shoploop\.area120\.google\.com|https\:\/\/shopping\.google\.com)$|^http:\/\/[0-9]+\.[a-z0-9\-_]+\.[a-z0-9\-_]+\.[a-z0-9\-_]+\.([a-z]{2}|i)\.borg\.google\.com(:[0-9]+)?$|^https:\/\/((staging|stream|today)\.)?meet\.google\.com$|^https:\/\/([A-Za-z0-9-]{1,63}\.)*(crowdsource|datacompute)\.google\.com$|^https:\/\/([A-Za-z0-9-]{1,63}\.)*(youtube|youtubekids)\.com$|^https:\/\/([A-Za-z0-9-]{1,63}\.)+demos\.corp\.google\.com$|^https:\/\/([A-Za-z0-9-]{1,63}\.)+sandbox\.google\.com$|^https:\/\/([A-Za-z0-9-]{1,63}\.)+sslproxy\.corp\.google\.com$|^https:\/\/(books|play-books-(autopush|canary|internal|staging)-sandbox)\.googleusercontent\.com$|^https:\/\/(draft|www|(www\.)?dev\.sandbox|(www\.)?autopush\.sandbox|(www\.)?restore\.sandbox)\.blogger\.com$|^https:\/\/[0-9a-f]{1,63}\.proxy\.googleprod\.com$|^https?:\/\/(((docs|m|sing|ss|sss|www)\.)?drive\.google\.com$|([A-Za-z0-9-]{1,63}\.)*c\.googlers\.com(:[0-9]+)?$|([A-Za-z0-9-]{1,63}\.)*corp\.google\.com(:[0-9]+)?$|([A-Za-z0-9-]{1,63}\.)*googleplex\.com(:[0-9]+)?$|([A-Za-z0-9-]{1,63}\.)*proxy\.googlers\.com(:[0-9]+)?$|(www\.|encrypted\.)google\.(cat|com(\.(a[fgiru]|b[dhnorz]|c[ouy]|do|e[cgt]|fj|g[hit]|hk|jm|kh|kw|l[bcy]|m[mtxy]|n[afgip]|om|p[aeghkry]|qa|s[abglv]|t[jnrw]|ua|uy|vc|vn))?|a[cdelmstz]|c[acdfghilmnvz]|b[aefgijsty]|ee|es|d[ejkmz]|g[aefglmpry]|f[imr]|i[emoqrst]|h[nrtu]|k[giz]|je|jo|m[degklnsuvw]|l[aiktuv]|n[eloru]|p[lnst]|s[cehikmnort]|r[osuw]|us|t[dgklmnot]|ws|vg|vu|co\.(ao|bw|ck|cr|i[dln]|jp|ke|kr|ls|ma|mz|nz|th|tz|u[gkz]|ve|vi|z[amw]))\/?$|[A-Za-z0-9-]+\.prod\.google\.com(:[0-9]+)?$|docs\.google\.com$)/,
        jB = /^(https\:\/\/plus\.google\.com)$/;
    var kB = !1;

    function lB(a, b, c, d) {
        !a && (void 0 === c ? 0 : c) && ly(Error("Player URL validator detects invalid url. " + (void 0 === d ? "" : d) + ": " + b));
        return a
    }

    function mB(a, b, c) {
        return b && b.test(a) || kB && c && c.test(a) ? !0 : !1
    }

    function nB(a) {
        return (a = hB && hB.exec(a)) ? a[0] : ""
    }

    function oB(a) {
        var b = void 0 === b ? !1 : b;
        return lB(mB(a, Uha, Vha), a, b, "Trusted Stream URL")
    }

    function pB(a) {
        var b = void 0 === b ? !1 : b;
        return lB(mB(a, Qha, Rha), a, b, "Trusted Image URL")
    }

    function Zha(a) {
        var b = void 0 === b ? !1 : b;
        return lB(mB(a, Wha, null), a, b, "Trusted Ad Domain URL")
    }

    function qB(a) {
        var b = void 0 === b ? !1 : b;
        return lB(mB(a, Tha, null), a, b, "Trusted Promoted Video Domain URL")
    }

    function $ha(a) {
        var b = void 0 === b ? !1 : b;
        return lB(mB(a, Pha, null), a, b, "Drm Licensor URL")
    }

    function rB(a, b) {
        b = void 0 === b ? !1 : b;
        return lB(mB(a, Nha, Oha), a, b, "Captions URL")
    }

    function sB(a) {
        a = new Ek(a);
        Fk(a, document.location.protocol);
        Gk(a, document.location.hostname);
        document.location.port && Hk(a, document.location.port);
        return a.toString()
    }

    function tB(a) {
        a = new Ek(a);
        Fk(a, document.location.protocol);
        return a.toString()
    };

    function uB(a, b) {
        C.call(this);
        var c = this;
        this.app = a;
        this.playerType = b;
        this.i = !0;
        this.element = null;
        this.C = {};
        this.G = {};
        this.l = {};
        this.I = [];
        this.D = {};
        this.B = {};
        this.u = null;
        this.J = new Set;
        vB(this, "cueVideoById", this.cueVideoById);
        vB(this, "loadVideoById", this.loadVideoById);
        vB(this, "cueVideoByUrl", this.cueVideoByUrl);
        vB(this, "loadVideoByUrl", this.loadVideoByUrl);
        vB(this, "playVideo", this.playVideo);
        vB(this, "pauseVideo", this.pauseVideo);
        vB(this, "stopVideo", this.stopVideo);
        vB(this, "clearVideo", this.clearVideo);
        vB(this, "getVideoBytesLoaded", this.getVideoBytesLoaded);
        vB(this, "getVideoBytesTotal", this.getVideoBytesTotal);
        vB(this, "getVideoLoadedFraction", this.getVideoLoadedFraction);
        vB(this, "getVideoStartBytes", this.getVideoStartBytes);
        vB(this, "cuePlaylist", this.cuePlaylist);
        vB(this, "loadPlaylist", this.loadPlaylist);
        vB(this, "nextVideo", this.nextVideo);
        vB(this, "previousVideo", this.previousVideo);
        vB(this, "playVideoAt", this.playVideoAt);
        vB(this, "setShuffle", this.setShuffle);
        vB(this, "setLoop", this.setLoop);
        vB(this,
            "getPlaylist", this.uE);
        vB(this, "getPlaylistIndex", this.getPlaylistIndex);
        vB(this, "getPlaylistId", this.getPlaylistId);
        vB(this, "loadModule", this.loadModule);
        vB(this, "unloadModule", this.unloadModule);
        vB(this, "setOption", this.setOption);
        vB(this, "getOption", this.getOption);
        vB(this, "getOptions", this.getOptions);
        vB(this, "mute", this.mute);
        vB(this, "unMute", this.unMute);
        vB(this, "isMuted", this.isMuted);
        vB(this, "setVolume", this.setVolume);
        vB(this, "getVolume", this.getVolume);
        vB(this, "seekTo", this.seekTo);
        vB(this,
            "getPlayerState", this.getPlayerState);
        vB(this, "getPlaybackRate", this.getPlaybackRate);
        vB(this, "setPlaybackRate", this.setPlaybackRate);
        vB(this, "getAvailablePlaybackRates", this.getAvailablePlaybackRates);
        vB(this, "getPlaybackQuality", function() {
            return c.getPlaybackQuality(1)
        });
        vB(this, "setPlaybackQuality", this.setPlaybackQuality);
        vB(this, "getAvailableQualityLevels", this.getAvailableQualityLevels);
        vB(this, "getCurrentTime", this.getCurrentTime);
        vB(this, "getDuration", this.getDuration);
        vB(this, "addEventListener", this.OD);
        vB(this, "removeEventListener", this.cH);
        vB(this, "getDebugText", this.getDebugText);
        vB(this, "getVideoData", function() {
            return c.aq()
        });
        vB(this, "addCueRange", this.addCueRange);
        vB(this, "removeCueRange", this.removeCueRange);
        vB(this, "setSize", this.setSize);
        vB(this, "getApiInterface", this.getApiInterface);
        vB(this, "destroy", this.destroy);
        vB(this, "showVideoInfo", this.showVideoInfo);
        vB(this, "hideVideoInfo", this.hideVideoInfo);
        vB(this, "isVideoInfoVisible", this.isVideoInfoVisible);
        vB(this, "getSphericalProperties", this.getSphericalProperties);
        vB(this, "setSphericalProperties", this.setSphericalProperties);
        vB(this, "getVideoEmbedCode", this.getVideoEmbedCode);
        vB(this, "getVideoUrl", this.getVideoUrl);
        vB(this, "getMediaReferenceTime", this.getMediaReferenceTime);
        N(this, "getInternalApiInterface", this.getInternalApiInterface);
        N(this, "cueVideoByPlayerVars", this.cueVideoByPlayerVars);
        N(this, "loadVideoByPlayerVars", this.loadVideoByPlayerVars);
        N(this, "preloadVideoByPlayerVars", this.preloadVideoByPlayerVars);
        N(this, "getAdState", this.getAdState);
        N(this, "sendAbandonmentPing", this.sendAbandonmentPing);
        N(this, "setLoopRange", this.setLoopRange);
        N(this, "getLoopRange", this.getLoopRange);
        N(this, "setAutonavState", this.setAutonavState);
        N(this, "seekToLiveHead", this.seekToLiveHead);
        N(this, "seekToStreamTime", this.seekToStreamTime);
        N(this, "seekToChapterWithAnimation", this.seekToChapterWithAnimation);
        N(this, "startSeekCsiAction", this.startSeekCsiAction);
        N(this, "getStreamTimeOffset", this.getStreamTimeOffset);
        N(this, "getVideoData", this.aq);
        N(this, "setIsExternalPlaylist", this.setIsExternalPlaylist);
        N(this, "downloadVideo", this.downloadVideo);
        N(this, "refreshAllVideos", this.refreshAllVideos);
        N(this,
            "deleteVideos", this.deleteVideos);
        N(this, "deleteAllVideos", this.deleteAllVideos);
        N(this, "isOrchestrationLeader", this.isOrchestrationLeader);
        N(this, "getAppState", this.getAppState);
        N(this, "addInfoCardXml", this.addInfoCardXml);
        N(this, "updateLastActiveTime", this.updateLastActiveTime);
        N(this, "setBlackout", this.setBlackout);
        N(this, "setAccountLinkState", this.setAccountLinkState);
        N(this, "updateAccountLinkingConfig", this.updateAccountLinkingConfig);
        N(this, "setUserEngagement", this.setUserEngagement);
        N(this,
            "updateSubtitlesUserSettings", this.updateSubtitlesUserSettings);
        N(this, "setFauxFullscreen", this.setFauxFullscreen);
        N(this, "setUseFastSizingOnWatch", this.setUseFastSizingOnWatch);
        N(this, "getPresentingPlayerType", this.getPresentingPlayerType);
        N(this, "canPlayType", this.canPlayType);
        N(this, "updatePlaylist", this.updatePlaylist);
        N(this, "updateVideoData", this.updateVideoData);
        N(this, "updateEnvironmentData", this.updateEnvironmentData);
        N(this, "sendVideoStatsEngageEvent", this.sendVideoStatsEngageEvent);
        N(this,
            "setCardsVisible", this.setCardsVisible);
        N(this, "productsInVideoVisibilityUpdated", this.productsInVideoVisibilityUpdated);
        N(this, "setSafetyMode", this.setSafetyMode);
        N(this, "isAtLiveHead", function(d) {
            c.isAtLiveHead(void 0, d)
        });
        N(this, "getVideoAspectRatio", this.getVideoAspectRatio);
        N(this, "getPreferredQuality", this.getPreferredQuality);
        N(this, "setPlaybackQualityRange", this.setPlaybackQualityRange);
        N(this, "onAdUxClicked", this.onAdUxClicked);
        N(this, "getFeedbackProductData", this.getFeedbackProductData);
        N(this, "getStoryboardFrame", this.getStoryboardFrame);
        N(this, "getStoryboardFrameIndex", this.getStoryboardFrameIndex);
        N(this, "getStoryboardLevel", this.getStoryboardLevel);
        N(this, "getNumberOfStoryboardLevels", this.getNumberOfStoryboardLevels);
        N(this, "getCaptionWindowContainerId", this.getCaptionWindowContainerId);
        N(this, "getAvailableQualityLabels", this.getAvailableQualityLabels);
        N(this, "setLoopVideo", this.setLoopVideo);
        N(this, "getLoopVideo", this.getLoopVideo);
        N(this, "setAutonav", this.setAutonav);
        N(this, "isNotServable", this.isNotServable);
        N(this, "channelSubscribed", this.channelSubscribed);
        N(this, "channelUnsubscribed", this.channelUnsubscribed);
        N(this, "isPictureInPictureAllowed", this.isPictureInPictureAllowed);
        N(this, "togglePictureInPicture",
            this.togglePictureInPicture);
        N(this, "supportsGaplessAudio", this.supportsGaplessAudio);
        N(this, "enqueueVideoByPlayerVars", function(d) {
            return void c.enqueueVideoByPlayerVars(d)
        });
        N(this, "clearQueue", this.clearQueue);
        N(this, "isFastLoad", function() {
            return !1
        });
        N(this, "getPlayerResponse", this.getPlayerResponse);
        N(this, "getAudioTrack", this.oE);
        N(this, "setAudioTrack", this.setAudioTrack);
        N(this, "getAvailableAudioTracks", this.pE);
        N(this, "getMaxPlaybackQuality", this.getMaxPlaybackQuality);
        N(this, "getUserPlaybackQualityPreference", this.getUserPlaybackQualityPreference);
        N(this, "getSubtitlesUserSettings", this.getSubtitlesUserSettings);
        N(this, "resetSubtitlesUserSettings", this.resetSubtitlesUserSettings);
        N(this, "setMinimized", this.setMinimized);
        N(this, "confirmYpcRental",
            this.confirmYpcRental);
        N(this, "setInlinePreview", this.setInlinePreview);
        N(this, "toggleSubtitlesOn", this.toggleSubtitlesOn);
        N(this, "setHomeGroupInfo", this.setHomeGroupInfo);
        N(this, "setLivingRoomAppMode", this.setLivingRoomAppMode);
        N(this, "setEnablePrivacyFilter", this.setEnablePrivacyFilter);
        N(this, "setConnectedRemoteApps", this.setConnectedRemoteApps);
        N(this, "getBandwidthEstimate", this.getBandwidthEstimate);
        N(this, "reportPlaybackIssue", this.reportPlaybackIssue);
        N(this, "setImmersivePreview", this.setImmersivePreview)
    }
    v(uB, C);

    function vB(a, b, c) {
        a.C[b] = function(d) {
            for (var e = [], f = 0; f < arguments.length; ++f) e[f - 0] = arguments[f];
            a.L();
            return c.apply(a, e)
        };
        a.l.hasOwnProperty(b) || N(a, b, c);
        a.I.push(b)
    }

    function wB(a, b, c) {
        a.G[b] = function(d) {
            for (var e = [], f = 0; f < arguments.length; ++f) e[f - 0] = arguments[f];
            a.L();
            return c.apply(a, e)
        };
        a.l.hasOwnProperty(b) || N(a, b, c);
        a.I.push(b)
    }

    function N(a, b, c) {
        a.l[b] = function(d) {
            for (var e = [], f = 0; f < arguments.length; ++f) e[f - 0] = arguments[f];
            a.L();
            return c.apply(a, e)
        }
    }
    h = uB.prototype;
    h.handleExternalCall = function(a, b, c) {
        var d = this.C[a],
            e = this.G[a],
            f = d;
        if (e)
            if (c && mB(c, iB, jB)) f = e;
            else if (!d) throw Error('API call from an untrusted origin: "' + c + '"');
        d = this.app.Y();
        d.og && !this.J.has(a) && (this.J.add(a), iw("webPlayerApiCalled", {
            callerUrl: d.loaderUrl,
            methodName: a,
            origin: c || void 0,
            playerStyle: d.playerStyle || void 0
        }));
        if (f) {
            c = !1;
            d = t(b);
            for (e = d.next(); !e.done; e = d.next())
                if (String(e.value).includes("javascript:")) {
                    c = !0;
                    break
                } c && ly(Error('Dangerous call to "' + a + '" with [' + b + "]."));
            return f.apply(this,
                b)
        }
        throw Error('Unknown API method: "' + a + '".');
    };
    h.isExternalMethodAvailable = function(a, b) {
        return this.C[a] ? !0 : !!(this.G[a] && b && mB(b, iB, jB))
    };
    h.getBandwidthEstimate = function() {
        return xB(this.app.Y().schedule)
    };
    h.reportPlaybackIssue = function(a) {
        a = void 0 === a ? "" : a;
        var b = P(this.app);
        b && (a = {
            gpu: yB(),
            d: a
        }, b.handleError(new IA("feedback", !1, a)))
    };
    h.getApiInterface = function() {
        return this.I.slice()
    };
    h.getInternalApiInterface = function() {
        return Vb(this.l)
    };

    function zB(a) {
        a.u || (a.u = {}, Ua(a.u, a.C), Ua(a.u, a.G), a.u.addEventListener = function(b, c) {
            aia(a, b, c)
        }, a.u.removeEventListener = function(b, c) {
            c = "string" === typeof c ? b + c : b + String(Pa(c));
            var d = a.B[c];
            d && (a.app.Ih.unsubscribe(b, d), dc(a.B, c))
        });
        return a.u
    }
    h.OD = function(a, b) {
        if ("string" === typeof b) {
            var c = function(d) {
                for (var e = [], f = 0; f < arguments.length; ++f) e[f - 0] = arguments[f];
                Ja(b).apply(window, e)
            };
            this.D[b] = c
        } else c = b;
        this.app.Ih.subscribe(a, c)
    };

    function aia(a, b, c) {
        var d = "string" === typeof c ? b + c : b + String(Pa(c));
        if (!a.B[d]) {
            var e;
            "string" === typeof c ? e = function(g) {
                for (var k = [], l = 0; l < arguments.length; ++l) k[l - 0] = arguments[l];
                Ja(c).apply(window, k)
            } : e = c;
            var f = function(g) {
                e({
                    target: a.u,
                    data: g
                })
            };
            a.B[d] = f;
            a.app.Ih.subscribe(b, f)
        }
    }
    h.cH = function(a, b) {
        if ("string" === typeof b) {
            var c = this.D[b];
            dc(this.D, b);
            b = c
        }
        this.app.Ih.unsubscribe(a, b)
    };
    h.getPlayerState = function() {
        return AB(this.app)
    };
    h.cueVideoByPlayerVars = function(a, b) {
        this.app.cueVideoByPlayerVars(a, b || this.playerType)
    };
    h.loadVideoByPlayerVars = function(a, b, c, d, e) {
        this.app.loadVideoByPlayerVars(a, c || this.playerType, b, d, e)
    };
    h.preloadVideoByPlayerVars = function(a, b, c, d, e) {
        c = void 0 === c ? NaN : c;
        this.app.preloadVideoByPlayerVars(a, b || this.playerType, c, void 0 === d ? "" : d, void 0 === e ? "" : e)
    };
    h.seekTo = function(a, b, c) {
        this.i && BB(this.app, !0, this.playerType);
        CB(this.app, a, b, c, this.playerType)
    };
    h.seekToChapterWithAnimation = function(a) {
        this.app.seekToChapterWithAnimation(a)
    };
    h.startSeekCsiAction = function() {
        this.N("h5_csi_seek_latency_action") && (this.app.Ul().B.i = K())
    };
    h.seekToStreamTime = function(a, b, c) {
        this.i && BB(this.app, !0, this.playerType);
        var d = this.app,
            e = this.playerType;
        b = void 0 === b ? !0 : b;
        var f = void 0 === f ? !1 : f;
        var g = P(d, e),
            k = 0;
        g && g.getStreamTimeOffset() && !g.Ub() && (k = g.getStreamTimeOffset());
        CB(d, a - k, b, c, e, f)
    };
    h.getStreamTimeOffset = function() {
        var a = P(this.app, 1);
        return a ? a.getStreamTimeOffset() : 0
    };
    h.seekToLiveHead = function(a, b) {
        var c = P(this.app, this.playerType);
        c && (c = c.getVideoData()) && c.isLivePlayback && CB(this.app, Infinity, a, b, this.playerType)
    };
    h.getCurrentTime = function() {
        return this.app.getCurrentTime(this.playerType)
    };
    h.getMediaReferenceTime = function() {
        var a = this.app.getIngestionTime(this.playerType);
        return isNaN(a) ? this.getCurrentTime() : a
    };
    h.getDuration = function() {
        return this.app.getDuration(this.playerType)
    };
    h.getVolume = function() {
        return this.app.ye.volume
    };

    function DB(a, b, c) {
        b = rg(Math.floor(b), 0, 100);
        isFinite(b) && EB(a.app, {
            volume: b,
            muted: a.isMuted()
        }, c)
    }
    h.setVolume = function(a) {
        DB(this, a)
    };
    h.isMuted = function() {
        return this.app.ye.muted
    };

    function FB(a, b) {
        EB(a.app, {
            muted: !0,
            volume: a.getVolume()
        }, b)
    }
    h.mute = function() {
        FB(this)
    };

    function GB(a, b) {
        EB(a.app, {
            muted: !1,
            volume: Math.max(5, a.getVolume())
        }, b)
    }
    h.unMute = function() {
        GB(this)
    };
    h.playVideo = function() {
        this.i && BB(this.app, !0, this.playerType);
        var a = this.app.getPresentingPlayerType();
        if (2 === a && !this.app.Oc()) {
            var b = HB(this.app.Hb());
            if (!IB(b)) {
                b.Rh("control_play");
                return
            }
            if (JB(b)) return
        }
        3 === a ? KB(this.app.Hb()).Rh("control_play") : this.app.playVideo(a)
    };
    h.pauseVideo = function() {
        var a = this.app.getPresentingPlayerType();
        if (2 === a && !this.app.Oc()) {
            var b = HB(this.app.Hb());
            if (!IB(b)) {
                b.Rh("control_pause");
                return
            }
        }
        3 === a ? KB(this.app.Hb()).Rh("control_pause") : this.app.pauseVideo(a)
    };
    h.stopVideo = function() {
        var a = this.app;
        a.La.W("pageTransition");
        a.stopVideo()
    };
    h.clearVideo = function() {};
    h.getPlaybackRate = function() {
        return P(this.app, 1).getPlaybackRate()
    };
    h.setPlaybackRate = function(a) {
        "number" === typeof a && this.app.setPlaybackRate(a)
    };
    h.getAvailablePlaybackRates = function() {
        var a = this.app.Y();
        if (a.hh) {
            var b = a.N("web_player_admin_origin_killswitch") ? a.Ma[0] : window.location.origin;
            a = ["https://admin.youtube.com", "https://viacon.corp.google.com", "https://yurt.corp.google.com"].includes(b) || a.dh ? Iha : HA
        } else a = [1];
        return a
    };
    h.getPlaybackQuality = function(a) {
        return (a = P(this.app, a)) ? a.getPlaybackQuality() : "unknown"
    };
    h.setPlaybackQuality = function() {};
    h.getAvailableQualityLevels = function() {
        var a = P(this.app, this.playerType);
        return a ? (a = pb(a.Tl(), function(b) {
            return b.quality
        }), a.length && ("auto" === a[0] && a.shift(), a = a.concat(["auto"])), a) : []
    };
    h.getAvailableQualityLabels = function() {
        var a = P(this.app, this.playerType);
        return a ? pb(a.Tl(), function(b) {
            return b.qualityLabel
        }) : []
    };
    h.getVideoBytesLoaded = function() {
        return this.getVideoLoadedFraction()
    };
    h.getVideoBytesTotal = function() {
        return 1
    };
    h.getVideoLoadedFraction = function() {
        return this.app.getVideoLoadedFraction()
    };
    h.getVideoStartBytes = function() {
        return 0
    };
    h.setSize = function() {
        this.app.Tb().resize()
    };
    h.channelSubscribed = function() {
        this.Ja("SUBSCRIBE", LB(this.app).oi)
    };
    h.channelUnsubscribed = function() {
        this.Ja("UNSUBSCRIBE", LB(this.app).oi)
    };
    h.getStatsForNerds = function() {
        return this.app.getStatsForNerds()
    };
    h.setScreenLayer = function(a) {
        this.app.setScreenLayer(a)
    };
    h.getCurrentPlaylistSequence = function() {
        return P(this.app).getPlaylistSequenceForTime(this.app.getCurrentTime())
    };
    h.getPlaylistSequenceForTime = function(a) {
        return P(this.app).getPlaylistSequenceForTime(a)
    };
    h.shouldSendVisibilityState = function() {
        return !0
    };
    h.updateFullerscreenEduButtonVisibility = function() {};
    h.updateFullerscreenEduButtonSubtleModeState = function() {};
    h.confirmYpcRental = function() {
        var a = P(this.app, this.playerType);
        a && a.Bd("ypc_clickwrap")
    };
    h.setHomeGroupInfo = function(a) {
        this.app.Y().homeGroupInfo = a
    };
    h.setConnectedRemoteApps = function(a) {
        this.app.Y().rg = a
    };
    h.setLivingRoomAppMode = function(a) {
        this.app.Y().livingRoomAppMode = cB("LIVING_ROOM_APP_MODE_UNSPECIFIED", a, Js)
    };
    h.setEnablePrivacyFilter = function(a) {
        this.app.Y().enablePrivacyFilter = void 0 === a ? !1 : a
    };
    h.isPictureInPictureAllowed = function() {
        return LB(this.app).yl
    };
    h.togglePictureInPicture = function() {
        this.app.togglePictureInPicture()
    };
    h.loadModule = function(a) {
        "captions" === a && (a = MB(this.app.Hb())) && !a.loaded && a.load()
    };
    h.unloadModule = function(a) {
        "captions" === a && (a = MB(this.app.Hb())) && a.loaded && (!a.Cc && a.Jf || a.unload())
    };
    h.loadVideoById = function(a, b, c) {
        a && (a = this.app.loadVideoByPlayerVars(bB(a, b, c), this.playerType), this.i && BB(this.app, a, this.playerType))
    };
    h.cueVideoById = function(a, b, c) {
        this.app.cueVideoByPlayerVars(bB(a, b, c), this.playerType)
    };
    h.loadVideoByUrl = function(a, b, c) {
        a = aB(a, b, c);
        a = this.app.loadVideoByPlayerVars(a, this.playerType);
        this.i && BB(this.app, a, this.playerType)
    };
    h.cueVideoByUrl = function(a, b, c) {
        a = aB(a, b, c);
        this.app.cueVideoByPlayerVars(a, this.playerType)
    };
    h.getVideoUrl = function() {
        var a = this.app.Y(),
            b = LB(this.app),
            c = void 0;
        b.isLivePlayback || (c = Math.floor(this.app.getCurrentTime(1)));
        return a.getVideoUrl(b.videoId, this.getPlaylistId() || void 0, c)
    };
    h.getDebugText = function() {
        return this.app.getDebugText()
    };
    h.getVideoEmbedCode = function() {
        return this.app.Y().getVideoEmbedCode(LB(this.app).videoId, this.app.Tb().getPlayerSize(), this.getPlaylistId() || void 0)
    };
    h.addCueRange = function(a, b, c) {
        return NB(this.app, a, b, c)
    };
    h.removeCueRange = function(a) {
        a: {
            for (var b = this.app, c = b.l.Li(), d = 0; d < c.length; d++) {
                var e = c[d];
                if (e.getId() === a) {
                    b.l.removeCueRange(e);
                    OB(b, "cuerangesremoved", [e]);
                    a = !0;
                    break a
                }
            }
            a = !1
        }
        return a
    };
    h.loadPlaylist = function(a, b, c, d) {
        this.app.loadPlaylist(a, b, c, d);
        this.i && BB(this.app, !0, this.playerType)
    };
    h.cuePlaylist = function(a, b, c, d) {
        this.app.cuePlaylist(a, b, c, d)
    };
    h.nextVideo = function() {
        this.app.nextVideo();
        this.i && BB(this.app, !0, this.playerType)
    };
    h.previousVideo = function() {
        this.app.previousVideo();
        this.i && BB(this.app, !0, this.playerType)
    };
    h.playVideoAt = function(a) {
        this.app.playVideoAt(a);
        this.i && BB(this.app, !0, this.playerType)
    };
    h.setShuffle = function(a) {
        var b = this.app.getPlaylist();
        b && b.setShuffle(a)
    };
    h.setLoop = function(a) {
        var b = this.app.getPlaylist();
        b && (b.loop = a)
    };
    h.uE = function() {
        var a = this.app.getPlaylist();
        if (!a) return null;
        for (var b = [], c = 0; c < a.length; c++) {
            var d = a.gb();
            d && b.push(d.videoId)
        }
        return b
    };
    h.getPlaylistIndex = function() {
        var a = this.app.getPlaylist();
        return a ? a.index : -1
    };
    h.getPlaylistId = function() {
        var a = this.app.getPlaylist();
        return a && a.listId ? a.listId.toString() : null
    };
    h.setOption = function(a, b, c) {
        if (!b) return null;
        var d = this.app.Hb();
        return "captions" === a ? (a = MB(d)) && a.Ch(b, c) : null
    };
    h.getOption = function(a, b, c) {
        var d = P(this.app, this.playerType);
        return d && d.getVideoData(), this.setOption(a, b, c)
    };
    h.getOptions = function(a) {
        var b = this.app.Hb();
        if ("captions" === a) return (b = MB(b)) && b.getOptions();
        if (!a) return a = [], MB(b) && a.push("captions"), a
    };
    h.aq = function(a) {
        a = void 0 === a ? this.playerType : a;
        var b = {};
        if (a = P(this.app, a)) {
            a = a.getVideoData();
            if (a.isPrivate) return {};
            b.video_id = a.videoId;
            b.author = a.author;
            b.title = a.title;
            if (a.u && a.u.video) {
                b.video_quality = a.u.video.quality;
                a = a.u.video;
                var c = [];
                32 < a.fps && c.push("hfr");
                a.isHdr() && c.push("hdr");
                "bt2020" === a.primaries && c.push("wcg");
                b.video_quality_features = c
            }
        }
        if (a = this.getPlaylistId()) b.list = a;
        return b
    };
    h.showVideoInfo = function() {
        PB(this.app, !0)
    };
    h.hideVideoInfo = function() {
        PB(this.app, !1)
    };
    h.isVideoInfoVisible = function() {
        return this.app.isVideoInfoVisible()
    };
    h.getAdState = function() {
        return this.app.getAdState()
    };
    h.isNotServable = function(a) {
        if (a !== this.app.config.args.video_id) return !1;
        var b = (a = (a = P(this.app, 1)) ? a.getPlayerState() : null) ? a.getData() : null;
        return !!(a && b && Q(a, 128) && 5 === $A[b.errorCode])
    };
    h.getSphericalProperties = function() {
        var a = QB(this.app.Hb());
        return a && 2 !== this.playerType ? a.getSphericalProperties() : {}
    };
    h.setSphericalProperties = function(a) {
        if (a && 2 !== this.playerType) {
            var b = QB(this.app.Hb());
            b && b.setSphericalProperties(a, !0)
        }
    };
    h.supportsGaplessAudio = function() {
        return this.app.Y().supportsGaplessAudio()
    };
    h.enqueueVideoByPlayerVars = function(a, b, c, d) {
        c = void 0 === c ? Infinity : c;
        this.app.enqueueVideoByPlayerVars(a, b, c, void 0 === d ? "" : d)
    };
    h.clearQueue = function() {
        this.app.clearQueue()
    };

    function RB(a) {
        var b = SB(a.app.Hb());
        if (b) return b.Jy();
        a = a.app.Hb();
        a = TB(a.S.Y()) ? a.cd.get("music") : void 0;
        return a ? a.Jy() : null
    }
    h.destroy = function() {
        this.app.dispose()
    };
    h.sendAbandonmentPing = function() {
        var a = P(this.app);
        a && a.sendAbandonmentPing()
    };
    h.downloadVideo = function(a) {
        return this.app.downloadVideo(a)
    };
    h.refreshAllVideos = function() {
        return this.app.refreshAllVideos()
    };
    h.deleteAllVideos = function() {
        return this.app.deleteAllVideos()
    };
    h.deleteVideos = function(a) {
        return this.app.deleteVideos(a)
    };
    h.isOrchestrationLeader = function() {
        return this.app.isOrchestrationLeader()
    };
    h.setAutonavState = function(a) {
        var b = this.app;
        LB(b).autonavState = a;
        bia(a);
        b.La.W("autonavchange", a)
    };
    h.setAutonav = function(a) {
        this.setAutonavState(a ? 2 : 1)
    };
    h.setLoopRange = function(a) {
        this.app.setLoopRange(a)
    };
    h.getLoopRange = function() {
        return this.app.getLoopRange()
    };
    h.setImmersivePreview = function(a) {
        this.app.setImmersivePreview(a)
    };
    h.setIsExternalPlaylist = function(a) {
        this.app.setIsExternalPlaylist(a)
    };
    h.getAppState = function() {
        return this.app.getAppState()
    };
    h.addInfoCardXml = function(a, b, c) {
        this.app.Y().G.add(a, {
            RD: b,
            bw: c
        })
    };
    h.updateLastActiveTime = function() {
        ht()
    };
    h.setBlackout = function(a) {
        this.app.setBlackout(a)
    };
    h.setAccountLinkState = function(a) {
        this.app.setAccountLinkState(a)
    };
    h.updateAccountLinkingConfig = function(a) {
        this.app.updateAccountLinkingConfig(a)
    };
    h.setUserEngagement = function(a) {
        this.app.Y().Ic !== a && (this.app.Y().Ic = a, (a = P(this.app, this.playerType)) && UB(a))
    };
    h.updateSubtitlesUserSettings = function(a, b) {
        b = void 0 === b ? !0 : b;
        var c = MB(this.app.Hb());
        VB(c, a, b)
    };
    h.getCaptionWindowContainerId = function() {
        var a = MB(this.app.Hb());
        return a ? a.getCaptionWindowContainerId() : ""
    };
    h.toggleSubtitlesOn = function() {
        var a = MB(this.app.Hb());
        a && WB(a)
    };
    h.setFauxFullscreen = function(a) {
        ps();
        this.app.di(a ? 2 : 0)
    };
    h.setUseFastSizingOnWatch = function(a) {
        this.app.Tb().setUseFastSizingOnWatch(a)
    };
    h.getPresentingPlayerType = function() {
        var a = this.app.getPresentingPlayerType(!0);
        2 === a && this.app.Oc() && (a = 1);
        return a
    };
    h.getPlayerResponse = function() {
        var a = P(this.app, this.playerType);
        return a ? a.getVideoData().getPlayerResponse() : null
    };
    h.getStoryboardFrame = function(a, b) {
        var c = this.app.Qi();
        if (!c) return null;
        b = c.levels[b];
        if (!b) return null;
        a >= b.Hr() && b.ip();
        c = Math.floor(a / (b.columns * b.rows));
        var d = b.columns * b.rows,
            e = a % d;
        a = e % b.columns;
        e = Math.floor(e / b.columns);
        var f = b.ip() + 1 - d * c;
        if (f < b.columns) {
            var g = f;
            d = 1
        } else g = b.columns, d = f < d ? Math.ceil(f / b.columns) : b.rows;
        f = b.C;
        f = f.replace("$N", b.B);
        f = f.replace("$L", b.level.toString());
        f = f.replace("$M", c.toString());
        b.signature && (f = Ti(f, {
            sigh: b.signature
        }));
        return b = {
            url: tB(f),
            column: a,
            columns: g,
            row: e,
            rows: d,
            iF: b.width * g,
            hF: b.height * d
        }, {
            column: b.column,
            columns: b.columns,
            height: b.hF,
            row: b.row,
            rows: b.rows,
            url: b.url,
            width: b.iF
        }
    };
    h.getStoryboardFrameIndex = function(a, b) {
        var c = this.app.Qi();
        if (!c) return -1;
        b = c.levels[b];
        if (!b) return -1;
        a -= this.Ub();
        return b.Kw(a)
    };
    h.getStoryboardLevel = function(a) {
        var b = this.app.Qi();
        return b ? (b = b.levels[a]) ? {
            index: a,
            intervalMs: b.u,
            maxFrameIndex: b.ip(),
            minFrameIndex: b.Hr()
        } : null : null
    };
    h.getNumberOfStoryboardLevels = function() {
        var a = this.app.Qi();
        return a ? a.levels.length : 0
    };
    h.oE = function() {
        return this.getAudioTrack()
    };
    h.getAudioTrack = function() {
        var a = P(this.app, this.playerType);
        return a ? a.getAudioTrack() : this.app.getVideoData().dh
    };
    h.setAudioTrack = function(a) {
        3 === this.getPresentingPlayerType() && KB(this.app.Hb()).Rh("control_set_audio_track");
        var b = P(this.app, this.playerType);
        if (b) {
            var c;
            if (!b.Ea() && !Q(b.playerState, 128))
                if (null === (c = b.videoData.l) || void 0 === c ? 0 : c.i) b.l.setAudioTrack(a);
                else {
                    a: if (c = b.videoData, c.D && !XB(c.D) || a == c.yg || !c.Sa || 0 >= c.Sa.length) c = !1;
                        else {
                            for (var d = t(c.Sa), e = d.next(); !e.done; e = d.next()) {
                                e = e.value;
                                if (!(e instanceof YB)) {
                                    c = !1;
                                    break a
                                }
                                var f = a.Ob.getId();
                                e.u && (e.u.i = f, e.l = null)
                            }
                            c.yg = a;
                            c = !0
                        }c && (b.W("internalaudioformatchange",
                        b.videoData, !0), ZB(b) && b.Aa("hlsaudio", a.id))
                }
        }
    };
    h.pE = function() {
        return this.getAvailableAudioTracks()
    };
    h.getAvailableAudioTracks = function() {
        return P(this.app, this.playerType).getAvailableAudioTracks()
    };
    h.getMaxPlaybackQuality = function() {
        var a = P(this.app, this.playerType);
        return a && a.getVideoData().u ? VA(a.J ? $B(a.Ne, a.J, aC(a)) : UA) : "unknown"
    };
    h.getUserPlaybackQualityPreference = function() {
        var a = P(this.app, this.playerType);
        return a ? a.getUserPlaybackQualityPreference() : "auto"
    };
    h.getSubtitlesUserSettings = function() {
        var a = MB(this.app.Hb());
        if (a) {
            var b = bC.fc;
            b = {
                background: b.background,
                backgroundOpacity: b.backgroundOpacity,
                charEdgeStyle: b.charEdgeStyle,
                color: b.color,
                fontFamily: b.fontFamily,
                fontSizeIncrement: b.fontSizeIncrement,
                fontStyle: b.bold && b.hg ? 3 : b.bold ? 1 : b.hg ? 2 : 0,
                textOpacity: b.textOpacity,
                windowColor: bC.windowColor,
                windowOpacity: bC.windowOpacity
            };
            a = cC(a, "display-settings") || {};
            null != a.background && (b.background = a.background);
            null != a.backgroundOverride && (b.backgroundOverride =
                a.backgroundOverride);
            null != a.backgroundOpacity && (b.backgroundOpacity = a.backgroundOpacity);
            null != a.backgroundOpacityOverride && (b.backgroundOpacityOverride = a.backgroundOpacityOverride);
            null != a.charEdgeStyle && (b.charEdgeStyle = a.charEdgeStyle);
            null != a.charEdgeStyleOverride && (b.charEdgeStyleOverride = a.charEdgeStyleOverride);
            null != a.color && (b.color = a.color);
            null != a.colorOverride && (b.colorOverride = a.colorOverride);
            null != a.fontFamily && (b.fontFamily = a.fontFamily);
            null != a.fontFamilyOverride && (b.fontFamilyOverride =
                a.fontFamilyOverride);
            null != a.fontSizeIncrement && (b.fontSizeIncrement = a.fontSizeIncrement);
            null != a.fontSizeIncrementOverride && (b.fontSizeIncrementOverride = a.fontSizeIncrementOverride);
            null != a.fontStyle && (b.fontStyle = a.fontStyle);
            null != a.fontStyleOverride && (b.fontStyleOverride = a.fontStyleOverride);
            null != a.textOpacity && (b.textOpacity = a.textOpacity);
            null != a.textOpacityOverride && (b.textOpacityOverride = a.textOpacityOverride);
            null != a.windowColor && (b.windowColor = a.windowColor);
            null != a.windowColorOverride &&
                (b.windowColorOverride = a.windowColorOverride);
            null != a.windowOpacity && (b.windowOpacity = a.windowOpacity);
            null != a.windowOpacityOverride && (b.windowOpacityOverride = a.windowOpacityOverride);
            a = b
        } else a = null;
        return a
    };
    h.resetSubtitlesUserSettings = function() {
        var a = MB(this.app.Hb());
        dC(a, {}, !0);
        R(a.Ac.experiments, "web_player_disable_publish_captions_settings_changed_on_reset") || a.player.Ja("captionssettingschanged")
    };
    h.setMinimized = function(a) {
        this.app.setMinimized(a)
    };
    h.setInlinePreview = function(a) {
        this.app.setInlinePreview(a)
    };
    h.setGlobalCrop = function(a) {
        this.app.Tb().setGlobalCrop(a)
    };
    h.getVisibilityState = function() {
        var a = this.bf();
        return this.app.getVisibilityState(this.pe(), this.isFullscreen() || eC(this.app.Y()), a, this.isInline(), this.app.im(), this.app.gm())
    };
    h.isMutedByMutedAutoplay = function() {
        return this.app.Co
    };
    h.isInline = function() {
        return this.app.isInline()
    };
    h.setInternalSize = function(a, b) {
        this.app.Tb().setInternalSize(new zg(a, b))
    };
    h.Ub = function() {
        var a = P(this.app, void 0);
        return a ? a.Ub() : 0
    };
    h.bf = function() {
        return this.app.bf()
    };
    h.pe = function() {
        var a = P(this.app, this.playerType);
        return !!a && a.pe()
    };
    h.isFullscreen = function() {
        return this.app.isFullscreen()
    };
    h.setSafetyMode = function(a) {
        this.app.Y().enableSafetyMode = a
    };
    h.canPlayType = function(a) {
        return this.app.canPlayType(a)
    };
    h.updatePlaylist = function() {};
    h.updateVideoData = function(a, b) {
        var c = P(this.app, this.playerType || 1);
        c && fC(c.getVideoData(), a, b)
    };
    h.updateEnvironmentData = function(a) {
        gC(this.app.Y(), a, !1)
    };
    h.sendVideoStatsEngageEvent = function(a) {
        this.app.sendVideoStatsEngageEvent(a, this.playerType)
    };
    h.setCardsVisible = function() {
        hC(this.app.Hb())
    };
    h.productsInVideoVisibilityUpdated = function(a) {
        this.W("changeProductsInVideoVisibility", a)
    };
    h.setInline = function(a) {
        this.app.setInline(a)
    };
    h.isAtLiveHead = function(a, b) {
        return this.app.isAtLiveHead(a, void 0 === b ? !0 : b)
    };
    h.getVideoAspectRatio = function() {
        return this.app.Tb().getVideoAspectRatio()
    };
    h.getPreferredQuality = function() {
        var a = P(this.app);
        return a ? a.getPreferredQuality() : "unknown"
    };
    h.setPlaybackQualityRange = function(a, b) {
        var c = P(this.app, this.playerType);
        c && (a = SA(a, b || a, !0, "m"), iC(c, a, !0))
    };
    h.onAdUxClicked = function(a, b) {
        this.W("aduxclicked", a, b)
    };
    h.getLoopVideo = function() {
        return this.app.getLoopVideo()
    };
    h.setLoopVideo = function(a) {
        this.app.setLoopVideo(a)
    };
    h.W = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        this.app.Y().l && ("videodatachange" === a || "resize" === a || "cardstatechange" === a) && this.app.Ih.W.apply(this.app.Ih, [a].concat(ha(c)));
        this.app.Wh.W.apply(this.app.Wh, [a].concat(ha(c)))
    };
    h.Ja = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        this.app.Ih.W.apply(this.app.Ih, [a].concat(ha(c)));
        this.app.Wh.W.apply(this.app.Wh, [a].concat(ha(c)))
    };
    h.getFeedbackProductData = function() {
        return this.app.getFeedbackProductData()
    };
    h.N = function(a) {
        return R(this.app.Y().experiments, a)
    };
    h.L = function() {};
    h.Da = function() {
        if (this.element) {
            var a = this.element,
                b;
            for (b in this.l) this.l.hasOwnProperty(b) && (a[b] = null);
            this.element = null
        }
        this.B = {};
        this.D = {};
        C.prototype.Da.call(this)
    };

    function jC(a, b) {
        uB.call(this, a, b);
        var c = this;
        this.i = !1;
        wB(this, "cueVideoByPlayerVars", function(d, e) {
            c.cueVideoByPlayerVars(kC(d), e)
        });
        wB(this, "loadVideoByPlayerVars", function(d, e, f, g) {
            c.loadVideoByPlayerVars(kC(d), e, f, g)
        });
        wB(this, "preloadVideoByPlayerVars", function(d, e, f, g) {
            return void c.preloadVideoByPlayerVars(kC(d), e, f, g)
        });
        wB(this, "seekBy", this.seekBy);
        wB(this, "mutedAutoplay", this.mutedAutoplay);
        wB(this, "showControls", this.showControls);
        wB(this, "hideControls", this.hideControls);
        wB(this, "cancelPlayback", this.cancelPlayback);
        wB(this, "getProgressState", this.getProgressState);
        wB(this, "isInline", this.isInline);
        wB(this, "setInline", this.setInline);
        wB(this, "getStoryboardFormat", this.getStoryboardFormat);
        wB(this, "getVideoContentRect", this.getVideoContentRect)
    }
    v(jC, uB);

    function kC(a) {
        var b, c = {},
            d = t(cia);
        for (b = d.next(); !b.done; b = d.next()) b = b.value, a.hasOwnProperty(b) && (c[b] = a[b]);
        return c
    }
    h = jC.prototype;
    h.addCueRange = function(a, b, c, d, e) {
        return NB(this.app, a, b, c, d, e)
    };
    h.getPlayerState = function(a) {
        return AB(this.app, a)
    };
    h.nextVideo = function(a, b) {
        this.app.nextVideo(a, b)
    };
    h.previousVideo = function(a) {
        this.app.previousVideo(a)
    };
    h.seekBy = function(a, b, c) {
        CB(this.app, this.app.getCurrentTime() + a, b, c, this.playerType)
    };
    h.seekTo = function(a, b, c, d) {
        CB(this.app, a, b, c, d || this.playerType)
    };
    h.getStoryboardFormat = function() {
        return this.app.getStoryboardFormat()
    };
    h.aq = function(a) {
        a = void 0 === a ? this.playerType : a;
        var b = uB.prototype.aq.call(this, a) || {};
        if (a = P(this.app, a)) {
            a = a.getVideoData();
            b.backgroundable = a.backgroundable;
            b.eventId = a.eventId;
            b.cpn = a.clientPlaybackNonce;
            b.isLive = a.isLivePlayback;
            b.isWindowedLive = a.lh;
            b.isManifestless = lC(a);
            b.allowLiveDvr = a.allowLiveDvr;
            b.isListed = a.isListed;
            b.itct = a.Fa;
            b.ypcOriginalItct = a.uD;
            b.ypcPreview = a.ypcPreview;
            var c = (c = a.playerResponse && a.playerResponse.paidContentOverlay && a.playerResponse.paidContentOverlay.paidContentOverlayRenderer ||
                null) && c.text ? mC(c.text) : a.paidContentOverlayText;
            b.paidContentOverlayText = c;
            c = a.playerResponse && a.playerResponse.paidContentOverlay && a.playerResponse.paidContentOverlay.paidContentOverlayRenderer || null;
            b.paidContentOverlayDurationMs = c && c.durationMs ? Gd(c.durationMs) : a.paidContentOverlayDurationMs;
            null != a.liveUtcStartSeconds && (b.liveUtcStartSeconds = a.liveUtcStartSeconds);
            a.i && nC(a.i) && (b.usingLocalMedia = "true")
        }
        return b
    };
    h.getCurrentTime = function(a, b) {
        var c;
        return 2 === this.app.getAppState() && 5 === this.getPlayerState() ? (null === (c = this.app.getVideoData()) || void 0 === c ? void 0 : c.startSeconds) || 0 : a ? this.app.getCurrentTime(a, b) : uB.prototype.getCurrentTime.call(this)
    };
    h.getDuration = function(a, b) {
        return 3 === this.getPresentingPlayerType() ? (a = KB(this.app.Hb()).getProgressState(), (null === a || void 0 === a ? void 0 : a.duration) || 0) : a ? this.app.getDuration(a, b) : uB.prototype.getDuration.call(this)
    };
    h.getProgressState = function(a) {
        if (3 === this.getPresentingPlayerType()) return KB(this.app.Hb()).getProgressState();
        var b = this.app.getVideoData(),
            c = (P(this.app, a) || P(this.app)).getPlayerType(),
            d = this.getCurrentTime(a);
        a = this.getDuration(a);
        var e = this.app.getIngestionTime(c),
            f = this.app.isAtLiveHead(c),
            g = this.app.cm(),
            k = this.app.getMinSeekableTime(c);
        var l = this.app;
        (c = P(l, c)) ? (c = oC(l, c), l = pC(l, qC(c), c)) : l = 0;
        return {
            allowSeeking: this.app.lq(),
            clipEnd: b.clipEnd,
            clipStart: b.clipStart,
            current: d,
            displayedStart: -1,
            duration: a,
            ingestionTime: e,
            isAtLiveHead: f,
            loaded: g,
            seekableStart: k,
            seekableEnd: l
        }
    };
    h.getVideoLoadedFraction = function(a) {
        return this.app.getVideoLoadedFraction(a)
    };
    h.getCurrentBroadcastId = function() {
        return null
    };
    h.handleGlobalKeyDown = function(a, b, c, d, e, f, g) {
        b = void 0 === b ? !1 : b;
        c = void 0 === c ? !1 : c;
        d = void 0 === d ? !1 : d;
        e = void 0 === e ? !1 : e;
        var k = RB(this);
        k && k.handleGlobalKeyDown(a, b, c, d, e, f, g)
    };
    h.handleGlobalKeyUp = function(a, b, c, d, e, f, g) {
        b = void 0 === b ? !1 : b;
        c = void 0 === c ? !1 : c;
        d = void 0 === d ? !1 : d;
        e = void 0 === e ? !1 : e;
        var k = RB(this);
        k && k.handleGlobalKeyUp(a, b, c, d, e, f, g)
    };
    h.setSizeStyle = function(a, b) {
        this.app.setSizeStyle(a, b)
    };
    h.showControls = function() {
        var a = RB(this);
        a && a.showControls(!0)
    };
    h.hideControls = function() {
        var a = RB(this);
        a && a.showControls(!1)
    };
    h.getVideoContentRect = function(a) {
        a = this.app.Tb().getVideoContentRect(a);
        return {
            left: a.left,
            top: a.top,
            width: a.width,
            height: a.height
        }
    };
    h.toggleFullscreen = function() {
        function a(c) {
            ly(c)
        }
        var b = this.app.Y();
        if (b.externalFullscreen) return this.isFullscreen() ? os(window.document.documentElement) : ns(window.document.documentElement).catch(a);
        if (ps() || b.ud) return this.isFullscreen() ? os(qs()) : "3" !== b.controlsType && ps() ? ns(this.app.Tb().element).catch(a) : (b = this.app.Dc().Cd()) ? ns(b).catch(a) : Promise.reject(Error("Media element missing"));
        this.Ja("onFullscreenToggled", this.isFullscreen());
        return Promise.resolve(void 0)
    };
    h.cancelPlayback = function() {
        var a = HB(this.app.Hb());
        a && a.created && a.destroy();
        (a = P(this.app)) && a.stopVideo();
        (a = this.app.Hb().cd.get("endscreen")) && a.GU() && (a = this.app.La, 3 === a.getPresentingPlayerType() ? a.W("mdxautoplaycancel") : a.W("autonavcancel", !0))
    };
    h.stopVideo = function() {
        var a = this.app.Y();
        !R(a.experiments, "disable_new_pause_state3") && rC(a) && "blazer" !== a.playerStyle ? this.cancelPlayback() : uB.prototype.stopVideo.call(this)
    };
    h.getVideoStats = function() {
        return P(this.app, this.playerType).wb(!0)
    };
    h.toggleSubtitles = function() {
        var a = MB(this.app.Hb());
        a && (a.loaded && a.Cc && !sC(a) ? (tC(a.Ac) ? uC(a, !1) : vC(a, "module-enabled", !1), a.unload(), wC(a, !0) && xC(a, yC(a), !1)) : WB(a))
    };
    h.getDebugText = function(a) {
        return this.app.getDebugText(a)
    };
    h.setSphericalProperties = function(a) {
        if (a) {
            var b = QB(this.app.Hb());
            b && b.setSphericalProperties(a, !0)
        }
    };
    h.getSphericalProperties = function() {
        var a = QB(this.app.Hb());
        return a ? a.getSphericalProperties() : {}
    };
    h.setVolume = function(a, b) {
        DB(this, a, b)
    };
    h.mute = function(a) {
        FB(this, a)
    };
    h.unMute = function(a) {
        GB(this, a)
    };
    h.mutedAutoplay = function() {
        this.N("embeds_enable_muted_autoplay") && this.app.mutedAutoplay()
    };
    h.loadModule = function(a) {
        if ("annotations_module" === a) {
            var b = hC(this.app.Hb());
            b && !b.loaded && b.load()
        }
        uB.prototype.loadModule.call(this, a)
    };
    h.unloadModule = function(a) {
        if ("annotations_module" === a) {
            var b = hC(this.app.Hb());
            b && b.loaded && b.unload()
        }
        uB.prototype.unloadModule.call(this, a)
    };
    h.setOption = function(a, b, c) {
        if (!b) return null;
        var d = this.app.Hb();
        switch (a) {
            case "ad":
                return (a = HB(d)) && a.Ch && a.Ch(b, c);
            case "kids":
                return;
            case "remote":
                return (a = KB(d)) && a.Ch(b, c);
            case "unplugged":
                return (a = zC(d)) && a.Ch(b, c);
            case "annotations_module":
                return (a = hC(d)) && a.Ch(b, c);
            case "creatorendscreen":
                return (a = AC(d)) && a.Ch(b, c)
        }
        return uB.prototype.setOption.call(this, a, b, c)
    };
    h.getOptions = function(a) {
        var b = this.app.Hb();
        switch (a) {
            case "ad":
                return (b = HB(b)) && b.getOptions && b.getOptions();
            case "remote":
                return (b = KB(b)) && b.getOptions();
            case "annotations_module":
                return (b = hC(b)) && b.getOptions();
            case "creatorendscreen":
                return (b = AC(b)) && b.getOptions();
            case "unplugged":
                return (b = zC(b)) && b.getOptions();
            case "kids":
                return
        }
        if (!a) {
            a = uB.prototype.getOptions.call(this);
            if (!a) return a;
            HB(b) && a.push("ad");
            KB(b) && a.push("remote");
            hC(b) && a.push("annotations_module");
            AC(b) && a.push("creatorendscreen");
            zC(b) && a.push("unplugged");
            return a
        }
        return uB.prototype.getOptions.call(this, a)
    };
    h.getPlayerSize = function() {
        var a = this.app.Tb().getPlayerSize();
        return {
            width: a.width,
            height: a.height
        }
    };
    h.wakeUpControls = function() {
        var a = RB(this);
        a && a.hV()
    };
    h.setCenterCrop = function(a) {
        this.app.Tb().setCenterCrop(a)
    };
    var cia = "adformat allow_embed authuser autohide autonav autoplay c cbr cbrver cc_load_policy controls cos cosver cr csi_page_type cver cyc dash dashmpd disablekb el enablecastapi enablecsi end external_fullscreen external_list fs hl host_language innertube_api_key innertube_api_version innertube_context_client_version iurl iurlhq iurlmq iv_load_policy jsapicallback length_seconds live_playback live_storyboard_spec loaderUrl osig override_hl pageid partnerid pipable player_params player_wide playsinline plid postid profile_picture ps rel show_miniplayer_button showinfo showwatchlater start startSeconds status storyboard_spec suggestedQuality timestamp title tkn token transparent_background ucid url_encoded_fmt_stream_map use_fast_sizing_on_watch_default use_miniplayer_ui use_native_controls videoId video_id vss_host watermark".split(" ");

    function BC(a) {
        a = void 0 === a ? {} : a;
        this.languageCode = a.languageCode || "";
        this.languageName = a.languageName || null;
        this.kind = a.kind || "";
        this.name = a.name || null;
        this.id = a.id || null;
        this.i = a.is_servable || !1;
        this.isTranslateable = a.is_translateable || !1;
        this.url = a.url || null;
        this.vssId = a.vss_id || "";
        this.isDefault = a.is_default || !1;
        this.translationLanguage = a.translationLanguage || null
    }

    function CC(a) {
        var b = {
            languageCode: a.languageCode,
            languageName: a.languageName,
            displayName: DC(a),
            kind: a.kind,
            name: a.name,
            id: a.id,
            is_servable: a.i,
            is_default: a.isDefault,
            is_translateable: a.isTranslateable,
            vss_id: a.vssId
        };
        a.translationLanguage && (b.translationLanguage = a.translationLanguage);
        return b
    }
    h = BC.prototype;
    h.getId = function() {
        return this.id
    };

    function EC(a) {
        return a.translationLanguage ? a.translationLanguage.languageCode : a.languageCode
    }
    h.getName = function() {
        return this.name
    };
    h.isServable = function() {
        return this.i
    };

    function DC(a) {
        var b = a.languageName || "",
            c = [b];
        "asr" === a.kind && -1 === b.indexOf("(") && c.push(" (Automatic Captions)");
        a.name && c.push(" - " + a.name);
        a.translationLanguage && c.push(" >> " + a.translationLanguage.languageName);
        return c.join("")
    }
    h.toString = function() {
        return this.languageCode + ": " + DC(this) + " - " + this.vssId
    };

    function dia(a, b) {
        var c = new BC;
        c.languageCode = a.languageCode;
        c.languageName = a.languageName;
        c.name = a.name;
        c.kind = a.kind;
        c.isDefault = !1;
        c.i = a.i;
        c.isTranslateable = a.isTranslateable;
        c.vssId = a.vssId;
        c.url = a.url;
        c.translationLanguage = b;
        return c
    }
    h.isValid = function() {
        return !(!this.languageCode || this.translationLanguage && !this.translationLanguage.languageCode)
    };
    var FC = {},
        GC = fx("yt-player-local-media", {
            Eo: (FC.index = !0, FC.media = !0, FC.captions = !0, FC),
            Zq: !1,
            upgrade: function(a, b, c) {
                2 > b && 2 <= c && (Jw(a, "index"), Jw(a, "media"));
                5 > b && 5 <= c && Jw(a, "captions");
                6 > b && 6 <= c && (a.i.objectStoreNames.contains("metadata") && a.i.deleteObjectStore("metadata"), a.i.objectStoreNames.contains("playerdata") && a.i.deleteObjectStore("playerdata"))
            },
            version: 5
        });
    var HC = void 0;

    function IC() {
        void 0 === HC && (HC = Wr());
        return HC
    };

    function JC() {
        var a = IC();
        if (!a) return {};
        try {
            var b = a.get("yt-player-lv");
            return JSON.parse(b || "{}")
        } catch (c) {
            return {}
        }
    }

    function KC(a) {
        var b = IC();
        b && (a = JSON.stringify(a), b.set("yt-player-lv", a))
    }

    function LC(a) {
        return JC()[a] || 0
    }

    function MC(a, b) {
        var c = JC();
        b !== c[a] && (0 !== b ? c[a] = b : delete c[a], KC(c))
    }

    function eia(a) {
        var b = JC();
        b = Object.assign({}, b);
        a = Object.assign({}, a);
        for (var c in b) a[c] ? (4 !== b[c] && (b[c] = a[c]), delete a[c]) : 2 !== b[c] && (b[c] = 4);
        Object.assign(b, a);
        KC(b);
        JSON.stringify(b);
        return b
    };

    function fia() {
        return B(this, function b() {
            return y(b, function(c) {
                return c.return(Dga())
            })
        })
    }

    function NC() {
        return B(this, function b() {
            return y(b, function(c) {
                return c.return(GC().open())
            })
        })
    }

    function OC(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                if (1 == e.i) return w(e, NC(), 2);
                d = e.l;
                return e.return(Hw(d, ["index", "media", "captions"], "readwrite", function(f) {
                    var g = IDBKeyRange.bound(a + "|", a + "~");
                    f = [Iw(f, "index").delete(g), Iw(f, "media").delete(g), Iw(f, "captions").delete(g)];
                    return dx.all(f).then(function() {})
                }))
            })
        })
    }

    function gia() {
        return B(this, function b() {
            var c;
            return y(b, function(d) {
                if (1 == d.i) return w(d, NC(), 2);
                c = d.l;
                return d.return(Hw(c, ["index", "media"], "readwrite", function(e) {
                    var f = {};
                    return Pw(Iw(e, "index"), {}, function(g) {
                        var k, l = g.getKey().match(/^([\w\-_]+)\|(a|v)$/),
                            m = dx.resolve(void 0);
                        if (l) {
                            var n = l[1];
                            l = l[2];
                            f[n] = f[n] || {};
                            f[n][l] = PC(null === (k = g.getValue()) || void 0 === k ? void 0 : k.fmts)
                        } else m = g.delete().then(function() {});
                        return dx.all([g.continue(), m]).then(function(p) {
                            return t(p).next().value
                        })
                    }).then(function() {
                        for (var g = {}, k = t(Object.keys(f)), l = k.next(); !l.done; l = k.next()) {
                            l = l.value;
                            var m = f[l].v;
                            g[l] = f[l].a && m ? 1 : 2
                        }
                        var n = eia(g);
                        return sga(Iw(e, "media"), function(p) {
                            var q = p.getKey().match(hia);
                            q && g[q[1]] || Iw(e, "media").delete(p.getKey());
                            return p.continue()
                        }).then(function() {
                            return n
                        })
                    })
                }))
            })
        })
    }

    function iia(a, b) {
        return B(this, function d() {
            var e;
            return y(d, function(f) {
                if (1 == f.i) return w(f, NC(), 2);
                e = f.l;
                return w(f, Hw(e, ["captions"], "readwrite", function(g) {
                    var k = [];
                    g = Iw(g, "captions");
                    for (var l = 0; l < b.length; l++) {
                        var m = Lw(g, b[l], a + "|" + b[l].metadata.vss_id);
                        k.push(m)
                    }
                    return dx.all(k)
                }), 0)
            })
        })
    }

    function jia(a, b) {
        return B(this, function d() {
            var e, f;
            return y(d, function(g) {
                if (1 == g.i) return e = a + "|" + b, w(g, NC(), 2);
                f = g.l;
                return g.return(f.get("captions", e))
            })
        })
    }

    function QC(a, b, c, d, e, f) {
        return B(this, function k() {
            var l, m, n, p, q;
            return y(k, function(r) {
                switch (r.i) {
                    case 1:
                        l = LC(a);
                        if (4 === l) return r.return(Promise.resolve(4));
                        m = c.lastModified || "0";
                        return w(r, NC(), 2);
                    case 2:
                        return n = r.l, ta(r, 3), w(r, Hw(n, ["index", "media"], "readwrite", function(u) {
                            if (void 0 !== e && void 0 !== f) {
                                var x = "" + a + "|" + b.id + "|" + m + "|" + String(e).padStart(10, "0");
                                x = Lw(Iw(u, "media"), f, x)
                            } else x = dx.resolve(void 0);
                            var z = RC(a, b.isVideo()),
                                D = RC(a, !b.isVideo()),
                                H = {
                                    fmts: kia(d),
                                    format: c || {}
                                };
                            z = Lw(Iw(u, "index"),
                                H, z);
                            var O = -1 === d.downloadedEndTime;
                            u = O ? Iw(u, "index").get(D) : dx.resolve(void 0);
                            return dx.all([u, x, z]).then(function(M) {
                                M = t(M).next().value;
                                var J = LC(a);
                                4 !== J && O && void 0 !== M && PC(M.fmts) && (J = 1, MC(a, J));
                                return J
                            })
                        }), 5);
                    case 5:
                        return r.return(r.l);
                    case 3:
                        p = va(r);
                        q = LC(a);
                        if (4 === q) return r.return(q);
                        MC(a, 4);
                        throw p;
                }
            })
        })
    }

    function lia(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                if (1 == e.i) return w(e, NC(), 2);
                d = e.l;
                return e.return(Hw(d, ["index"], "readonly", function(f) {
                    var g = IDBKeyRange.bound(a + "|", a + "~");
                    return Iw(f, "index").getAll(g).then(function(k) {
                        return k.map(function(l) {
                            return l ? l.format : {}
                        })
                    })
                }))
            })
        })
    }

    function mia(a, b, c, d) {
        return B(this, function f() {
            var g;
            return y(f, function(k) {
                if (1 == k.i) return w(k, NC(), 2);
                g = k.l;
                return k.return(Hw(g, ["media"], "readonly", function(l) {
                    var m = "" + a + "|" + b + "|" + c + "|" + String(d).padStart(10, "0");
                    return Iw(l, "media").get(m)
                }))
            })
        })
    }

    function nia(a) {
        return B(this, function c() {
            return y(c, function(d) {
                MC(a, 0);
                return d.return(OC(a))
            })
        })
    }

    function oia() {
        return B(this, function b() {
            return y(b, function(c) {
                var d = IC();
                d && d.remove("yt-player-lv");
                return w(c, GC().delete(), 0)
            })
        })
    }
    var hia = /^([\w\-_]+)\|(\d+)\|(\d+)\|(\d+)$/;

    function PC(a) {
        return a ? a.includes("dlt=-1") || !a.includes("dlt=") : !1
    }

    function RC(a, b) {
        return "" + a + "|" + (b ? "v" : "a")
    }

    function kia(a) {
        var b = {};
        return ot((b.dlt = a.downloadedEndTime.toString(), b.mket = a.maxKnownEndTime.toString(), b.avbr = a.averageByteRate.toString(), b))
    };

    function SC(a) {
        jC.call(this, a)
    }
    v(SC, jC);
    h = SC.prototype;
    h.jw = function(a, b, c, d, e, f) {
        return this.app.jw(a, b, c, d, e, f)
    };
    h.Hb = function() {
        return this.app.Hb()
    };

    function pia(a, b, c) {
        jia(a, b).then(function(d) {
            d && c(d.trackData, new BC(d.metadata))
        })
    }
    h.getRootNode = function() {
        return this.Tb().element
    };
    h.Y = function() {
        return this.app.Y()
    };
    h.xt = function() {
        return this.app.Ht()
    };
    h.wt = function(a) {
        return this.app.wt(a)
    };
    h.Nd = function(a) {
        return this.app.Nd(a)
    };
    h.Tb = function() {
        return this.app.Tb()
    };
    h.getPlaylist = function() {
        return this.app.getPlaylist()
    };
    h.getVideoData = function(a) {
        var b = P(this.app, a);
        if (!b) return null;
        b = b.getVideoData();
        var c;
        b.enableServerStitchedDai && 2 === a ? (a = this.app, null === (c = a.C) || void 0 === c ? c = void 0 : (b = a.getCurrentTime(), c = TC(c, 1E3 * b), c = null === c || void 0 === c ? void 0 : c.videoData), c = c || a.getVideoData()) : c = b;
        return c
    };
    h.Qi = function(a) {
        return this.app.Qi(a)
    };
    h.isWidescreen = function() {
        return this.app.isWidescreen()
    };
    h.isHdr = function() {
        var a = P(this.app);
        return a ? a.isHdr() : !1
    };
    h.Dm = function(a) {
        this.app.Dm(a)
    };
    h.Rd = function(a, b, c, d) {
        this.app.ld(a, b, c, d)
    };
    h.Qo = function(a, b) {
        this.app.Qo(a, b)
    };
    h.playVideo = function(a) {
        try {
            if (3 === this.getPresentingPlayerType()) {
                KB(this.app.Hb()).Rh("control_play");
                return
            }
            if (2 === this.getPresentingPlayerType()) {
                var b = HB(this.app.Hb());
                if (b && (b.bj() || JB(b))) return
            }
        } catch (c) {
            ky(c)
        }
        this.app.playVideo(a)
    };
    h.stopVideo = function(a) {
        P(this.app, a).stopVideo()
    };
    h.Yh = function(a) {
        P(this.app, a).Yh()
    };
    h.addEventListener = function(a, b) {
        this.app.Wh.subscribe(a, b)
    };
    h.removeEventListener = function(a, b) {
        this.app.Wh.unsubscribe(a, b)
    };
    h.Wf = function(a) {
        this.app.Wf(a)
    };
    h.setPlaybackQuality = function(a) {
        this.setPlaybackQualityRange(a, a)
    };
    h.Tl = function() {
        var a = {},
            b = P(this.app).Tl();
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) c = c.value, a[c.quality] = c;
        return a
    };
    h.getDebugText = function(a) {
        return this.app.getDebugText(a)
    };
    h.getVideoUrl = function(a, b, c, d) {
        var e = this.getPresentingPlayerType(),
            f = 2 === e;
        if (d && f || 3 === e) f = !1, e = 1;
        d = this.getVideoData(e);
        if (!d) return "";
        var g;
        a || d.isLivePlayback || (g = Math.floor(this.getCurrentTime(e)));
        a = f ? void 0 : this.getPlaylistId() || void 0;
        b && "WL" === a && (a = void 0);
        return this.app.getVideoUrl(d.videoId, a, g, b, c)
    };
    h.Ct = function() {
        return this.app.Ct()
    };
    h.Pk = function() {
        var a = P(this.app);
        a && a.Pk()
    };
    h.nm = function(a, b) {
        this.Hb().nm(a, b)
    };
    h.setCardsVisible = function(a, b, c) {
        var d = hC(this.Hb());
        d && d.setCardsVisible(a, b, c)
    };
    h.productsInVideoVisibilityUpdated = function(a) {
        this.W("changeProductsInVideoVisibility", a)
    };
    h.ol = function() {
        var a = P(this.app);
        a && a.ol()
    };
    h.Dv = function(a) {
        this.Ja("onVideoAreaChange");
        this.Ja(a ? "onShowControls" : "onHideControls")
    };

    function UC(a, b, c) {
        var d = RB(a);
        if (d) return UC(d, b, c);
        a = a.app.Tb().Ye();
        return new Ml(0, 0, a.width, a.height)
    }
    h.au = function() {
        var a = this.Hb().cd.get("heartbeat");
        return !!a && a.au()
    };
    h.lq = function() {
        if (this.Y().Cb) return !1;
        var a = P(this.app);
        if (!a) return !1;
        var b = a.getVideoData();
        return !b.isValid() || VC(b) || 2 === this.getPresentingPlayerType() && !this.app.Oc() || a.Xi() && 3 !== this.getPresentingPlayerType() ? !1 : !0
    };
    h.kq = function() {
        var a;
        return (null === (a = P(this.app)) || void 0 === a ? void 0 : a.kq) || !1
    };
    h.sendVideoStatsEngageEvent = function(a, b, c) {
        this.app.sendVideoStatsEngageEvent(a, c, b)
    };
    h.Mf = function(a, b) {
        this.app.zn(a, b)
    };
    h.qe = function(a, b) {
        this.app.tv(a, b)
    };
    h.Zh = function(a, b) {
        var c = this.app,
            d = P(c, b);
        d && (a = d.K.Zh(a), b && c.getPresentingPlayerType() !== b || OB(c, "cuerangesremoved", a))
    };
    h.Bd = function(a, b) {
        (b = P(this.app, b)) && b.Bd(a)
    };
    h.Xi = function() {
        var a = P(this.app, void 0);
        return a ? a.Xi() : !0
    };
    h.setPlaybackRate = function(a, b) {
        this.app.setPlaybackRate(a, b)
    };
    h.setVolume = function(a) {
        a = rg(a, 0, 100);
        EB(this.app, {
            volume: a,
            muted: this.isMuted()
        }, !0)
    };
    h.mute = function() {
        EB(this.app, {
            muted: !0,
            volume: this.getVolume()
        }, !0)
    };
    h.unMute = function() {
        EB(this.app, {
            muted: !1,
            volume: Math.max(5, this.getVolume())
        }, !0)
    };
    h.setLoopVideo = function(a) {
        this.app.setLoopVideo(a)
    };
    h.getLoopVideo = function() {
        return this.app.getLoopVideo()
    };

    function WC(a, b) {
        a = a.Tb().element;
        var c = Jb(a.children, function(d) {
            return 4 - Number(d.getAttribute("data-layer")) || 1
        });
        0 > c && (c = -(c + 1));
        Rg(a, b, c);
        b.setAttribute("data-layer", "4")
    }
    h.Dc = function() {
        return this.app.Dc()
    };
    h.Ul = function() {
        return this.app.Ul()
    };
    h.getBandwidthEstimate = function() {
        return xB(this.Y().schedule)
    };
    h.Ii = function(a, b, c) {
        this.Y().X && this.app.Ck.Ii(a, b, void 0 === c ? !1 : c)
    };
    h.Fv = function(a, b) {
        this.Y().X && this.app.Ck.Fv(a, b)
    };
    h.Ug = function(a, b, c) {
        if (this.Y().X) {
            var d = this.app.Ck;
            d.elements.has(a);
            b ? d.i.add(a) : d.i.delete(a);
            var e = Xx(),
                f = a.visualElement;
            d.l.has(a) ? e && f && (b ? Zga(e, [f]) : $ga(e, [f])) : b && !d.u.has(a) && (e && f && sy(e, f, c), d.u.add(a))
        }
    };
    h.gq = function(a) {
        return this.Y().X ? this.app.Ck.gq(a) : !1
    };
    h.hc = function() {
        return P(this.app)
    };
    h.getPresentingPlayerType = function(a) {
        return this.app.getPresentingPlayerType(a)
    };
    h.gi = function(a) {
        this.app.gi(a)
    };
    h.zp = function(a) {
        this.app.zp(a)
    };
    h.lj = function(a) {
        this.app.getPresentingPlayerType() === a && this.app.lj(a)
    };
    h.Bt = function(a) {
        return this.app.Bt(a)
    };
    h.qj = function(a) {
        this.app.qj(a)
    };
    h.Kl = function(a, b, c, d, e, f) {
        return this.app.Kl(a, b, c, d, e, f)
    };
    h.Zn = function(a, b, c, d, e, f) {
        return this.app.Zn(a, b, c, d, e, f)
    };
    h.Sk = function(a) {
        this.app.Sk(a)
    };
    h.ek = function(a, b) {
        b = void 0 === b ? Infinity : b;
        this.app.ek(void 0 === a ? -1 : a, b)
    };
    h.Nm = function(a, b, c) {
        this.app.Nm(a, b, c)
    };
    h.Mi = function() {
        return this.app.Mi()
    };
    h.Hp = function(a, b, c) {
        this.app.Hp(a, b, void 0 === c ? 0 : c)
    };
    h.jm = function() {
        return this.app.jm()
    };
    h.clearQueue = function() {
        this.app.clearQueue()
    };
    h.Oc = function() {
        return this.app.Oc()
    };
    h.xo = function(a, b, c) {
        return this.app.xo(a, b, c)
    };
    h.Aa = function(a, b, c, d) {
        c = void 0 === c ? !1 : c;
        var e;
        null === (e = P(this.app, d)) || void 0 === e ? void 0 : e.Aa(a, b, c)
    };
    h.requestStorageAccess = function(a, b) {
        this.app.requestStorageAccess(a, b)
    };
    h.Nu = function(a, b) {
        this.W("muteadaccepted", a, b)
    };

    function XC(a, b) {
        var c = gc(b),
            d;
        return xh(new kh(function(e, f) {
            c.onSuccess = function(g) {
                ju(g) ? e(new qia(g)) : f(new YC("Request failed, status=" + ku(g), "net.badstatus", g))
            };
            c.onError = function(g) {
                f(new YC("Unknown request error", "net.unknown", g))
            };
            c.onTimeout = function(g) {
                f(new YC("Request timed out", "net.timeout", g))
            };
            d = pu(a, c)
        }), function(e) {
            e instanceof yh && d.abort();
            return qh(e)
        })
    }

    function ZC(a, b, c, d) {
        function e(k, l, m) {
            return xh(k, function(n) {
                if (0 >= l || 403 === ku(n.xhr)) return qh(new YC("Request retried too many times", "net.retryexhausted", n.xhr, n));
                n = Math.pow(2, c - l + 1) * m;
                var p = 0 < g ? Math.min(g, n) : n;
                return f(m).then(function() {
                    return e(XC(a, b), l - 1, p)
                })
            })
        }

        function f(k) {
            return new kh(function(l) {
                setTimeout(l, k)
            })
        }
        var g = void 0 === g ? -1 : g;
        return e(XC(a, b), c - 1, d)
    }

    function YC(a, b, c) {
        Za.call(this, a + ", errorCode=" + b);
        this.errorCode = b;
        this.xhr = c;
        this.name = "PromiseAjaxError"
    }
    v(YC, Za);

    function qia(a) {
        this.xhr = a
    };

    function S(a) {
        a = void 0 === a ? !1 : a;
        C.call(this);
        this.tf = new Gr(a);
        E(this, this.tf)
    }
    Xa(S, C);
    S.prototype.subscribe = function(a, b, c) {
        return this.Ea() ? 0 : this.tf.subscribe(a, b, c)
    };
    S.prototype.unsubscribe = function(a, b, c) {
        return this.Ea() ? !1 : this.tf.unsubscribe(a, b, c)
    };
    S.prototype.cg = function(a) {
        return this.Ea() ? !1 : this.tf.cg(a)
    };
    S.prototype.W = function(a, b) {
        return this.Ea() ? !1 : this.tf.W.apply(this.tf, arguments)
    };

    function $C(a, b, c) {
        for (var d in b) a.subscribe(d, b[d], c)
    }

    function aD(a, b, c) {
        for (var d in b) a.unsubscribe(d, b[d], c)
    };
    var bD = {
        cr: function(a) {
            a.reverse()
        },
        rI: function(a, b) {
            var c = a[0];
            a[0] = a[b % a.length];
            a[b % a.length] = c
        },
        UA: function(a, b) {
            a.splice(0, b)
        }
    };

    function cD(a) {
        a = a.split("");
        bD.rI(a, 49);
        bD.rI(a, 26);
        bD.cr(a, 76);
        bD.rI(a, 62);
        bD.cr(a, 59);
        bD.UA(a, 2);
        return a.join("")
    };

    function dD(a, b) {
        this.l = a;
        this.C = void 0 === b ? !1 : b;
        this.B = this.path = this.u = "";
        this.i = {};
        this.url = ""
    }
    dD.prototype.set = function(a, b) {
        this.i[a] !== b && (this.i[a] = b, this.url = "")
    };
    dD.prototype.get = function(a) {
        eD(this);
        return this.i[a] || null
    };

    function fD(a) {
        a.url || (a.url = ria(a));
        return a.url
    }

    function gD(a) {
        eD(a);
        return a.B
    }

    function hD(a) {
        return a.l ? zc(a.l, "local") : "local" === a.u
    }

    function iD(a) {
        eD(a);
        return Qb(a.i, function(b) {
            return null !== b
        })
    }

    function jD(a) {
        eD(a);
        if ("/videoplayback" !== a.path) {
            var b = a.clone();
            b.set("playerfallback", "1");
            return b
        }
        var c = fD(a);
        b = new Ek(c);
        var d = a.get("fvip");
        a = decodeURIComponent(a.get("mn") || "").split(",");
        if (d && a && 1 < a.length && a[1]) return c = b.i.replace(/^[^.]*/, ""), Gk(b, "r" + d + "---" + a[1] + c), b = new dD(b.toString()), b.set("fallback_count", "1"), b;
        d = b.i.match("\\.a1\\.googlevideo\\.com$");
        b.i.match("\\.googlevideo\\.com$") ? (Gk(b, "redirector.googlevideo.com"), c = b.toString()) : b.i.match("r[1-9].*\\.c\\.youtube\\.com$") ?
            (Gk(b, "www.youtube.com"), c = b.toString()) : c = sB(c);
        b = new dD(c);
        b.set("cmo=pf", "1");
        d && b.set("cmo=td", "a1.googlevideo.com");
        return b
    }
    dD.prototype.clone = function() {
        var a = new dD(this.l, this.C);
        a.u = this.u;
        a.path = this.path;
        a.B = this.B;
        a.i = gc(this.i);
        a.url = this.url;
        return a
    };

    function eD(a) {
        if (a.l) {
            if (!oB(a.l) && !a.l.startsWith("local")) throw Error("Untrusted URL: " + a.l);
            var b = a.l;
            b = b instanceof Ek ? b.clone() : new Ek(b, void 0);
            a.u = b.u;
            a.B = b.i + (null != b.C ? ":" + b.C : "");
            var c = b.getPath();
            if (c.startsWith("/videoplayback")) a.path = "/videoplayback", c = c.substr(14);
            else if (c.startsWith("/initplayback")) a.path = "/initplayback", c = c.substr(13);
            else if (c.startsWith("/api/manifest")) {
                var d = c.indexOf("/", 12),
                    e = c.indexOf("/", d + 1);
                0 < d && 0 < e ? (a.path = c.substr(0, e), c = c.substr(e + 1)) : (a.path = c, c =
                    "")
            } else a.path = c, c = "";
            d = a.i;
            a.i = kD(c);
            Ua(a.i, lD(b.l.toString()));
            Ua(a.i, d);
            "index.m3u8" === a.i.file && (delete a.i.file, a.path += "/file/index.m3u8");
            a.l = "";
            a.url = "";
            a.C && (b = a.get("n")) && (b = yfa(b), a.set("n", b))
        }
    }

    function ria(a) {
        eD(a);
        var b = a.u + (a.u ? "://" : "//") + a.B + a.path;
        if (iD(a)) {
            var c = [];
            Nb(a.i, function(d, e) {
                null !== d && c.push(e + "=" + d)
            });
            b += "?" + c.join("&")
        }
        return b
    }

    function kD(a) {
        a = a.split("/");
        var b = 0;
        a[0] || b++;
        for (var c = {}; b < a.length; b += 2) a[b] && mD(c, a[b], a[b + 1]);
        return c
    }

    function lD(a) {
        a = a.split("&");
        for (var b = {}, c = 0; c < a.length; c++) {
            var d = a[c],
                e = d.indexOf("=");
            0 < e ? mD(b, d.substr(0, e), d.substr(e + 1)) : d && (b[d] = "")
        }
        return b
    }

    function mD(a, b, c) {
        if ("cmo" === b) {
            var d;
            0 <= (d = c.indexOf("=")) ? (b = "cmo=" + c.substr(0, d), c = c.substr(d + 1)) : 0 <= (d = c.indexOf("%3D")) && (b = "cmo=" + c.substr(0, d), c = c.substr(d + 3))
        }
        a[b] = c
    };

    function nD(a, b, c, d, e, f, g, k, l, m) {
        this.oa = a;
        this.startTime = b;
        this.duration = c;
        this.ingestionTime = d;
        this.sourceURL = e;
        this.i = void 0 === l ? null : l;
        this.Jc = m;
        this.endTime = b + c;
        this.l = g || 0;
        this.range = f || null;
        this.pending = k || !1;
        this.Jc = m || null
    };

    function oD() {
        this.segments = []
    }
    h = oD.prototype;
    h.Gr = function(a) {
        this.segments.push(a)
    };
    h.getDuration = function(a) {
        return (a = this.gg(a)) ? a.duration : 0
    };
    h.getDurationTicks = function(a) {
        return this.getDuration(a)
    };
    h.getFirstSegmentNumber = function() {
        return this.segments.length ? this.segments[0].oa : -1
    };
    h.getIngestionTime = function(a) {
        return (a = this.gg(a)) ? a.ingestionTime : NaN
    };
    h.getStitchedVideoInfo = function(a) {
        return (a = this.gg(a)) ? a.i : null
    };
    h.getLastSegmentNumber = function() {
        return this.segments.length ? this.segments[this.segments.length - 1].oa : -1
    };
    h.getMaxKnownEndTime = function() {
        var a = this.segments[this.segments.length - 1];
        return a ? a.endTime : NaN
    };
    h.getMinSeekableTime = function() {
        return this.segments[0].startTime
    };
    h.getNumberOfSegments = function() {
        return this.segments.length
    };
    h.getOffset = function() {
        return 0
    };
    h.getSegmentNumberForTime = function(a) {
        return (a = this.Sl(a)) ? a.oa : -1
    };
    h.getSegmentURL = function(a) {
        return (a = this.gg(a)) ? a.sourceURL : ""
    };
    h.getStartTime = function(a) {
        return (a = this.gg(a)) ? a.startTime : 0
    };
    h.getStartTimeInPeriod = function(a) {
        return (a = this.gg(a)) ? a.l : 0
    };
    h.isLoaded = function() {
        return 0 < this.segments.length
    };
    h.gg = function(a) {
        a = Gb(this.segments, new nD(a, 0, 0, 0, ""), function(b, c) {
            return b.oa - c.oa
        });
        return 0 <= a ? this.segments[a] : null
    };
    h.Sl = function(a) {
        a = Gb(this.segments, {
            startTime: a
        }, function(b, c) {
            return b.startTime - c.startTime
        });
        return 0 <= a ? this.segments[a] : this.segments[Math.max(0, -a - 2)]
    };
    h.append = function(a) {
        if (a.length)
            if (a = Cb(a), this.segments.length) {
                var b = this.segments.length ? kb(this.segments).endTime : 0,
                    c = a[0].oa - this.getLastSegmentNumber();
                1 < c && yb(this.segments);
                for (c = 0 < c ? 0 : -c + 1; c < a.length; c++) {
                    var d = a[c];
                    d.startTime = b;
                    d.endTime = d.startTime + d.duration;
                    b += a[c].duration;
                    this.segments.push(a[c])
                }
            } else this.segments = a
    };

    function pD(a, b) {
        if (b > a.getLastSegmentNumber()) a.segments = [];
        else {
            var c = vb(a.segments, function(d) {
                return d.oa >= b
            }, a);
            0 < c && a.segments.splice(0, c)
        }
    }
    h.getLocalMaxByterate = function() {
        return 0
    };
    var qD = function() {
        function a(d) {
            for (var e = new Uint8Array(d.length), f = 0; f < d.length; f++) e[f] = d[f];
            return e
        }

        function b(d) {
            return new Uint8Array(d)
        }
        var c = new Uint8Array([1]);
        return 1 === c.length && 1 === c[0] ? b : a
    }();

    function rD(a) {
        for (var b = new Uint8Array(a.length), c = 0; c < a.length; c++) b[c] = a.charCodeAt(c);
        return b
    }

    function sD(a) {
        return String.fromCharCode.apply(null, a)
    }

    function tD(a) {
        return window.TextDecoder ? (new TextDecoder).decode(a) : sD(a)
    };

    function uD(a, b, c, d, e) {
        e = void 0 === e ? !1 : e;
        this.data = a;
        this.offset = b;
        this.size = c;
        this.type = d;
        this.Db = (this.vy = e) ? 0 : 8;
        this.dataOffset = this.offset + this.Db
    }
    h = uD.prototype;
    h.Pe = function() {
        var a = this.data.getUint8(this.offset + this.Db);
        this.Db += 1;
        return a
    };
    h.eh = function() {
        var a = this.data.getUint16(this.offset + this.Db);
        this.Db += 2;
        return a
    };
    h.zd = function() {
        var a = this.data.getInt32(this.offset + this.Db);
        this.Db += 4;
        return a
    };
    h.Mb = function() {
        var a = this.data.getUint32(this.offset + this.Db);
        this.Db += 4;
        return a
    };
    h.zm = function() {
        var a = this.data;
        var b = this.offset + this.Db;
        a = 4294967296 * a.getUint32(b) + a.getUint32(b + 4);
        this.Db += 8;
        return a
    };
    h.Ad = function(a) {
        a = void 0 === a ? NaN : a;
        if (isNaN(a)) var b = this.size;
        else
            for (b = this.Db; b < this.size && this.data.getUint8(this.offset + b) !== a;) ++b;
        a = new Uint8Array(this.data.buffer, this.offset + this.Db + this.data.byteOffset, b - this.Db);
        this.Db = Math.min(b + 1, this.size);
        return tD(a)
    };
    h.skip = function(a) {
        this.Db += a
    };
    h.markAsSkip = function() {
        this.type = 1936419184;
        this.data.setUint32(this.offset + 4, 1936419184)
    };
    h.setUint32 = function(a, b) {
        this.data.setUint32(this.offset + a, b)
    };

    function sia(a) {
        this.offset = 0;
        this.data = new DataView(new ArrayBuffer(a))
    }

    function vD(a, b, c, d) {
        (new Uint8Array(a.data.buffer, a.offset, d)).set(new Uint8Array(b.buffer, c + b.byteOffset, d));
        a.offset += d
    };

    function wD(a, b, c, d, e, f) {
        this.startSecs = a;
        this.durationSecs = b;
        this.context = c;
        this.identifier = d;
        this.event = e;
        this.i = f
    }
    var xD = !1;
    var yD = {},
        tia = (yD.predictStart = "predictStart", yD.start = "start", yD["continue"] = "continue", yD.stop = "stop", yD),
        uia = {
            EVENT_PREDICT_START: "predictStart",
            EVENT_START: "start",
            EVENT_CONTINUE: "continue",
            EVENT_STOP: "stop"
        };

    function zD(a, b) {
        this.data = a;
        this.uri = b || "http://youtube.com/streaming/metadata/segment/102015";
        this.i = AD(this, "Sequence-Number");
        this.D = AD(this, "Segment-Count");
        this.G = this.data["Segment-Durations-Ms"] || "";
        this.ingestionTime = AD(this, "Ingestion-Walltime-Us") / 1E6;
        this.l = (AD(this, "First-Frame-Time-Us") + AD(this, "First-Frame-Uncertainty-Us")) / 1E6;
        this.Zf = AD(this, "Target-Duration-Us") / 1E6;
        this.B = "T" === this.data["Stream-Finished"];
        this.C = "T" === this.data.Streamable;
        this.cryptoPeriodIndex = AD(this, "Crypto-Period-Index");
        this.u = AD(this, "Crypto-Period-Seconds")
    }

    function BD(a) {
        var b;
        a.data["Cuepoint-Type"] ? b = new wD(xD ? Number(a.data["Cuepoint-Playhead-Time-Sec"]) || 0 : -(Number(a.data["Cuepoint-Playhead-Time-Sec"]) || 0), Number(a.data["Cuepoint-Total-Duration-Sec"]) || 0, a.data["Cuepoint-Context"], a.data["Cuepoint-Identifier"] || "", uia[a.data["Cuepoint-Event"] || ""] || "unknown", 1E3 * (Number(a.data["Cuepoint-Playhead-Time-Sec"]) || 0)) : b = null;
        return b
    }

    function CD(a) {
        return Number(a.data["Start-Media-Time-Us"]) / 1E6 || 0
    }

    function AD(a, b) {
        return Number(a.data[b]) || 0
    };

    function via(a, b) {
        this.i = a;
        this.duration = b
    };

    function DD(a, b, c, d, e) {
        this.u = e;
        this.l = a || 0;
        this.pitch = b || 0;
        this.yaw = c || 0;
        this.roll = d || 0;
        this.i = e.getUint32(4)
    };

    function ED(a) {
        var b = {};
        a = a.split("\r\n");
        for (var c = 0; c < a.length; c++) {
            if (0 === a[c].length) return b;
            var d = a[c].match(/([^:]+):\s+([\S\s]+)/);
            null != d && (b[d[1]] = d[2])
        }
        return null
    };

    function FD(a, b) {
        var c = GD(a, 0, 1952868452);
        a = GD(a, 0, 1953658222);
        if (c && a) {
            c.skip(1);
            var d = c.Pe() << 16 | c.eh();
            c.skip(4);
            d & 1 && c.skip(8);
            d & 2 && c.skip(4);
            if (d & 8) {
                d = c.Db;
                var e = c.Mb();
                c.setUint32(d, 1 < b ? Math.ceil(e * b) : Math.floor(e * b))
            }
            a.skip(1);
            c = a.Pe() << 16 | a.eh();
            if (c & 256) {
                d = c & 1;
                e = c & 4;
                var f = c & 512,
                    g = c & 1024,
                    k = c & 2048;
                c = a.Mb();
                d && a.skip(4);
                e && a.skip(4);
                d = (f ? 4 : 0) + (g ? 4 : 0) + (k ? 4 : 0);
                for (e = 0; e < c; e++) f = a.Db, g = a.Mb(), a.setUint32(f, 1 < b ? Math.ceil(g * b) : Math.floor(g * b)), a.skip(d)
            }
        }
    }

    function HD(a) {
        a = new DataView(a.buffer, a.byteOffset, a.byteLength);
        return (a = GD(a, 0, 1836476516)) ? ID(a) : NaN
    }

    function wia(a) {
        var b = GD(a, 0, 1937011556);
        if (!b) return null;
        b = JD(a, b.dataOffset + 8, 1635148593);
        if (!b) return null;
        var c = JD(a, b.dataOffset + 78, 1936995172),
            d = JD(a, b.dataOffset + 78, 1937126244);
        if (!d) return null;
        b = null;
        if (c) switch (c.skip(4), c.Pe()) {
            default:
                b = 0;
                break;
            case 1:
                b = 2;
                break;
            case 2:
                b = 1;
                break;
            case 3:
                b = 255
        }
        var e = c = null,
            f = null;
        if (d = JD(a, d.dataOffset, 1886547818)) {
            var g = JD(a, d.dataOffset, 1886546020),
                k = JD(a, d.dataOffset, 2037673328);
            if (!k && (k = JD(a, d.dataOffset, 1836279920), !k)) return null;
            g && (g.skip(4), c =
                g.zd() / 65536, f = g.zd() / 65536, e = g.zd() / 65536);
            a = new DataView(k.data.buffer, k.dataOffset, k.size - 8);
            return new DD(b, c, f, e, a)
        }
        return null
    }

    function JD(a, b, c) {
        for (; KD(a, b);) {
            var d = LD(a, b);
            if (d.type === c) return d;
            b += d.size
        }
        return null
    }

    function GD(a, b, c) {
        for (; KD(a, b);) {
            var d = LD(a, b);
            if (d.type === c) return d;
            b = MD(d.type) ? b + 8 : b + d.size
        }
        return null
    }

    function ND(a) {
        if (a.data.getUint8(a.dataOffset)) {
            var b = a.data;
            a = a.dataOffset + 4;
            return 4294967296 * b.getUint32(a) + b.getUint32(a + 4)
        }
        return a.data.getUint32(a.dataOffset + 4)
    }

    function LD(a, b) {
        var c = a.getUint32(b),
            d = a.getUint32(b + 4);
        return new uD(a, b, c, d)
    }

    function ID(a) {
        var b = a.data.getUint8(a.dataOffset) ? 20 : 12;
        return a.data.getUint32(a.dataOffset + b)
    }

    function OD(a) {
        a = new uD(a.data, a.offset, a.size, a.type, a.vy);
        var b = a.Pe();
        a.skip(7);
        var c = a.Mb();
        if (0 === b) {
            b = a.Mb();
            var d = a.Mb()
        } else b = a.zm(), d = a.zm();
        a.skip(2);
        for (var e = a.eh(), f = [], g = [], k = 0; k < e; k++) {
            var l = a.Mb();
            f.push(l);
            g.push(a.Mb());
            a.skip(4)
        }
        return {
            Xv: c,
            gE: b,
            qE: d,
            aH: f,
            Rv: g
        }
    }

    function KD(a, b) {
        if (8 > a.byteLength - b) return !1;
        var c = a.getUint32(b);
        if (8 > c || a.byteLength - b < c) return !1;
        c = a.getUint32(b + 4);
        if (1635148593 === c || 1635148611 === c || 1937126244 === c || 1936995172 === c) return !0;
        for (c = 4; 8 > c; c++) {
            var d = a.getInt8(b + c);
            if (97 > d || 122 < d) return !1
        }
        return !0
    }

    function MD(a) {
        return 1701082227 === a || 1836019558 === a || 1836019574 === a || 1835297121 === a || 1835626086 === a || 1937007212 === a || 1953653094 === a || 1953653099 === a || 1836475768 === a
    }

    function PD(a) {
        a.skip(4);
        return {
            jH: a.Ad(0),
            value: a.Ad(0),
            Xv: a.Mb(),
            WU: a.Mb(),
            AU: a.Mb(),
            id: a.Mb(),
            Uz: a.Ad(),
            offset: a.offset
        }
    }

    function QD(a, b) {
        for (var c = JD(a, 0, b); c;) c.markAsSkip(), c = JD(a, c.offset + c.size, b)
    }

    function RD(a, b) {
        for (var c = 0, d = []; KD(a, c);) {
            var e = LD(a, c);
            e.type === b && d.push(e);
            c = MD(e.type) ? c + 8 : c + e.size
        }
        return d
    }

    function xia(a, b) {
        var c = GD(a, 0, 1937011556),
            d = GD(a, 0, 1953654136);
        if (!c || !d || 2 <= a.getUint32(c.offset + 12)) return null;
        var e = new DataView(b.buffer, b.byteOffset, b.length),
            f = GD(e, 0, 1937011556);
        if (!f) return null;
        b = e.getUint32(f.dataOffset + 8);
        d = e.getUint32(f.dataOffset + 12);
        if (1701733217 !== d && 1701733238 !== d) return null;
        d = new sia(a.byteLength + b);
        vD(d, a, 0, c.offset + 12);
        d.data.setInt32(d.offset, 2);
        d.offset += 4;
        vD(d, a, c.offset + 16, c.size - 16);
        vD(d, e, e.byteOffset + f.dataOffset + 8, b);
        vD(d, a, c.offset + c.size, a.byteLength -
            (c.offset + c.size));
        c = t([1836019574, 1953653099, 1835297121, 1835626086, 1937007212, 1937011556]);
        for (e = c.next(); !e.done; e = c.next()) e = GD(a, 0, e.value), d.data.setUint32(e.offset, e.size + b);
        if (SD) return d.data;
        a = GD(d.data, 0, 1953654136);
        d.data.setUint32(a.offset + 16, 2);
        return d.data
    }
    var SD = !1;

    function TD(a, b) {
        this.l = a;
        this.i = 0;
        this.start = b || 0
    }

    function UD(a) {
        return a.i >= a.l.byteLength
    }

    function VD(a, b, c) {
        var d = new TD(c);
        if (!WD(d, a)) return !1;
        d = XD(d);
        if (!YD(d, b)) return !1;
        for (a = 0; b;) b >>>= 8, a++;
        b = d.start + d.i;
        var e = ZD(d, !0);
        d = a + (d.start + d.i - b) + e;
        d = 9 < d ? $D(d - 9, 8) : $D(d - 2, 1);
        a = b - a;
        c.setUint8(a++, 236);
        for (b = 0; b < d.length; b++) c.setUint8(a++, d[b]);
        return !0
    }

    function yia(a) {
        var b = new TD(a);
        aE(b);
        if (WD(b, [408125543, 374648427, 174, 224])) b = XD(b);
        else return null;
        for (var c = a = null; !UD(b);) {
            var d = ZD(b, !1);
            if (21432 === d) switch (bE(b)) {
                default:
                    a = 0;
                    break;
                case 1:
                    a = 1;
                    break;
                case 3:
                    a = 2;
                    break;
                case 15:
                    a = 255
            } else 30320 === d ? c = XD(b) : cE(b)
        }
        if (!c) return null;
        for (var e, f = d = b = null; !UD(c);) switch (ZD(c, !1)) {
            case 30321:
                if (3 !== bE(c)) return null;
                break;
            case 30324:
                b = dE(c);
                break;
            case 30323:
                f = dE(c);
                break;
            case 30325:
                d = dE(c);
                break;
            case 30322:
                e = ZD(c, !0);
                e = eE(c, e);
                e = new DataView(e.buffer,
                    e.byteOffset, e.byteLength);
                break;
            default:
                cE(c)
        }
        return e ? new DD(a, b, f, d, e) : null
    }

    function XD(a) {
        var b = ZD(a, !0),
            c = a.l.byteOffset + a.i;
        c = new DataView(a.l.buffer, c, Math.min(b, a.l.buffer.byteLength - c));
        c = new TD(c, a.start + a.i);
        a.i += b;
        return c
    }

    function bE(a) {
        for (var b = ZD(a, !0), c = fE(a), d = 1; d < b; d++) c = 256 * c + fE(a);
        return c
    }

    function dE(a) {
        var b = ZD(a, !0),
            c = 0;
        4 === b ? c = a.l.getFloat32(a.i) : 8 === b && (c = a.l.getFloat64(a.i));
        a.i += b;
        return c
    }
    TD.prototype.Ad = function() {
        var a = ZD(this, !0);
        return tD(eE(this, a))
    };

    function fE(a) {
        return a.l.getUint8(a.i++)
    }

    function ZD(a, b) {
        var c = fE(a);
        if (1 === c) {
            for (b = c = 0; 7 > b; b++) c = 256 * c + fE(a);
            return c
        }
        for (var d = 128, e = 0; 6 > e && d > c; e++) c = 256 * c + fE(a), d *= 128;
        return b ? c - d : c
    }

    function cE(a) {
        var b = ZD(a, !0);
        a.i += b
    }

    function aE(a) {
        var b = a.i;
        a.i = 0;
        var c = !1;
        try {
            YD(a, 440786851) && (a.i = 0, YD(a, 408125543) && (c = !0))
        } catch (d) {
            if (d instanceof RangeError) a.i = 0, c = !1, ly(d);
            else throw d;
        }
        a.i = b;
        return c
    }

    function zia(a) {
        if (!YD(a, 440786851, !0)) return null;
        var b = a.i;
        ZD(a, !1);
        var c = ZD(a, !0) + a.i - b;
        a.i = b + c;
        if (!YD(a, 408125543, !1)) return null;
        ZD(a, !0);
        if (!YD(a, 357149030, !0)) return null;
        var d = a.i;
        ZD(a, !1);
        var e = ZD(a, !0) + a.i - d;
        a.i = d + e;
        if (!YD(a, 374648427, !0)) return null;
        var f = a.i;
        ZD(a, !1);
        var g = ZD(a, !0) + a.i - f,
            k = new Uint8Array(c + 12 + e + g),
            l = new DataView(k.buffer);
        k.set(new Uint8Array(a.l.buffer, a.l.byteOffset + b, c));
        l.setUint32(c, 408125543);
        l.setUint32(c + 4, 33554431);
        l.setUint32(c + 8, 4294967295);
        k.set(new Uint8Array(a.l.buffer,
            a.l.byteOffset + d, e), c + 12);
        k.set(new Uint8Array(a.l.buffer, a.l.byteOffset + f, g), c + 12 + e);
        return k
    }

    function gE(a) {
        var b = a.i;
        a.i = 0;
        var c = 1E6;
        WD(a, [408125543, 357149030, 2807729]) && (c = bE(a));
        a.i = b;
        return c
    }

    function Aia(a, b) {
        var c = a.i;
        a.i = 0;
        if (160 !== a.l.getUint8(a.i) && !hE(a) || !YD(a, 160)) return a.i = c, NaN;
        ZD(a, !0);
        var d = a.i;
        if (!YD(a, 161)) return a.i = c, NaN;
        ZD(a, !0);
        fE(a);
        var e = fE(a) << 8 | fE(a);
        a.i = d;
        if (!YD(a, 155)) return a.i = c, NaN;
        d = bE(a);
        a.i = c;
        return (e + d) * b / 1E9
    }

    function hE(a) {
        if (!iE(a) || !YD(a, 524531317)) return !1;
        ZD(a, !0);
        return !0
    }

    function iE(a) {
        if (aE(a)) {
            if (!YD(a, 408125543)) return !1;
            ZD(a, !0)
        }
        return !0
    }

    function WD(a, b) {
        for (var c = 0; c < b.length; c++) {
            if (!YD(a, b[c])) return !1;
            c !== b.length - 1 && ZD(a, !0)
        }
        return !0
    }

    function YD(a, b, c) {
        c = void 0 === c ? !1 : c;
        if (UD(a)) return !1;
        for (var d = a.i; ZD(a, !1) !== b;)
            if (cE(a), d = a.i, UD(a)) return !1;
        c && (a.i = d);
        return !0
    }

    function $D(a, b) {
        b || (b = Math.ceil(Math.log(a + 2) / Math.log(2) / 7));
        for (var c = 1 << 8 - b, d = []; d.length < b - 1;) d.unshift(a % 256), a = Math.floor(a / 256);
        d.unshift(a | c);
        return d
    }

    function eE(a, b) {
        var c = new Uint8Array(a.l.buffer, a.l.byteOffset + a.i, b);
        a.i += b;
        return c
    }
    var jE = !0;

    function kE(a) {
        this.uf = a;
        this.i = {};
        this.url = ""
    }
    kE.prototype.set = function(a, b) {
        this.uf.get(a);
        this.i[a] = b;
        this.url = ""
    };
    kE.prototype.get = function(a) {
        return this.i[a] || this.uf.get(a)
    };

    function lE(a, b) {
        var c = b.indexOf("?");
        if (0 < c) {
            var d = lD(b.substr(c + 1));
            Nb(d, function(e, f) {
                this.set(f, e)
            }, a);
            b = b.substr(0, c)
        }
        b = kD(b);
        Nb(b, function(e, f) {
            this.set(f, e)
        }, a)
    }

    function mE(a) {
        a.url || (a.url = Bia(a));
        return a.url
    }

    function Bia(a) {
        var b = fD(a.uf),
            c = [];
        Nb(a.i, function(e, f) {
            c.push(f + "=" + e)
        });
        if (!c.length) return b;
        var d = c.join("&");
        a = iD(a.uf) ? "&" : "?";
        return b + a + d
    }

    function nE(a, b) {
        var c = new dD(b);
        (b = c.get("req_id")) && a.set("req_id", b);
        Nb(a.i, function(d, e) {
            c.set(e, null)
        });
        return c
    };

    function Cia() {
        this.l = this.i = this.timedOut = this.started = this.u = 0
    }

    function Dia(a) {
        a.u = K();
        a.started += 1
    }

    function oE(a, b, c) {
        var d = a.started + 4 * a.i;
        c && (d += a.l);
        return Math.pow(b.cf, d)
    }

    function pE(a, b) {
        a[b] || (a[b] = new Cia);
        return a[b]
    };

    function qE(a) {
        this.u = null;
        this.C = this.l = 0;
        this.i = a;
        this.B = a.clone()
    }

    function rE(a, b) {
        var c = pE(b, gD(a.i));
        if (1 <= c.timedOut || 1 <= c.i)
            if (a = sE(a), b = pE(b, gD(a)), b.timedOut + b.i <= c.timedOut + c.i) return !0;
        return !1
    }

    function Eia(a, b) {
        a = b ? sE(a) : a.i;
        return new kE(a)
    }

    function sE(a) {
        a.u || (a.u = jD(a.B));
        return a.u
    }

    function tE(a, b) {
        return a.l > b.Ld ? a.C + 1E3 * Math.pow(b.cf, a.l - b.Ld) < K() : !0
    }
    qE.prototype.Vi = function(a, b) {
        a.uf === this.i && (this.i = nE(a, b));
        a.uf === this.u && (this.u = nE(a, b))
    };

    function uE(a, b, c, d) {
        this.initRange = c;
        this.indexRange = d;
        this.i = null;
        this.B = !1;
        this.C = null;
        this.I = 0;
        this.u = null;
        this.J = NaN;
        this.D = null;
        this.info = b;
        this.l = new qE(a)
    }
    uE.prototype.pd = function() {
        return !!this.i && this.index.isLoaded()
    };
    uE.prototype.cn = function() {
        return !1
    };
    uE.prototype.Jw = function(a) {
        return [a]
    };
    uE.prototype.No = function(a) {
        return [a]
    };

    function vE(a) {
        var b = t(a.info.id.split(";")),
            c = b.next().value;
        b = b.next().value;
        return c + ";" + a.info.lastModified + ";" + (void 0 === b ? "" : b)
    };

    function wE(a, b) {
        this.start = a;
        this.end = b;
        this.length = b - a + 1
    }

    function xE(a) {
        a = a.split("-");
        var b = Number(a[0]),
            c = Number(a[1]);
        if (!isNaN(b) && !isNaN(c) && 2 === a.length && (a = new wE(b, c), !isNaN(a.start) && !isNaN(a.end) && !isNaN(a.length) && 0 < a.length)) return a
    }

    function yE(a, b) {
        return new wE(a, a + b - 1)
    }
    wE.prototype.toString = function() {
        return this.start + "-" + (null == this.end ? "" : this.end)
    };

    function zE(a) {
        return null == a.end ? {
            start: String(a.start)
        } : {
            start: String(a.start),
            end: String(a.end)
        }
    };

    function AE(a, b, c, d, e, f, g, k, l, m, n) {
        this.type = a;
        this.i = b;
        this.range = c;
        this.I = [];
        this.D = "";
        this.oa = -1;
        this.D = void 0 === d ? "" : d;
        this.oa = 0 <= e ? e : -1;
        this.startTime = f || 0;
        this.duration = g || 0;
        this.ib = k || 0;
        this.l = 0 <= l ? l : this.range ? this.range.length : NaN;
        this.u = !!m;
        a = this.range ? this.ib + this.l === this.range.length : void 0 === n ? !!this.l : n;
        this.Pc = a;
        this.range ? (this.C = this.startTime + this.duration * this.ib / this.range.length, this.G = this.duration * this.l / this.range.length, this.B = this.C + this.G) : BE(this);
        3 !== this.type || 0 <= this.oa ||
            !this.i.Ue() || ly(new lw("b168859904", CE(this)))
    }

    function BE(a) {
        a.C = a.startTime;
        a.G = a.duration;
        a.B = a.C + a.G
    }
    AE.prototype.Mg = function() {
        return this.i.info.Mg()
    };

    function Fia(a, b, c) {
        var d = !(!b || b.i !== a.i || b.type !== a.type || b.oa !== a.oa);
        return c ? d && !!b && (a.range && b.range ? b.range.end === a.range.end : b.range === a.range) && b.ib + b.l === a.ib + a.l : d
    }

    function DE(a) {
        return 1 === a.type || 2 === a.type
    }
    AE.prototype.isVideo = function() {
        return !!this.i.info.video
    };

    function EE(a) {
        return 3 === a.type || 6 === a.type
    }

    function FE(a, b) {
        return a.i === b.i ? a.range && b.range ? a.range.start + a.ib + a.l === b.range.start + b.ib : a.oa === b.oa ? a.ib + a.l === b.ib : a.oa + 1 === b.oa && 0 === b.ib && a.Pc : !1
    }

    function GE(a, b) {
        return FE(a, b) || tg(a.B, b.C) || a.oa + 1 === b.oa && 0 === b.ib && a.Pc ? !0 : !1
    }

    function Gia(a) {
        1 === a.length || sb(a, function(c) {
            return !!c.range
        });
        for (var b = 1; b < a.length; b++);
        b = a[a.length - 1];
        return new wE(a[0].range.start + a[0].ib, b.range.start + b.ib + b.l - 1)
    }

    function CE(a) {
        a = HE(a);
        var b = "";
        Nb(a, function(c, d) {
            b += d + "_" + c + "_"
        });
        return b.slice(0, -1)
    }

    function HE(a) {
        var b = {};
        b.itag = a.i.info.Ib();
        b.type = "" + a.type;
        b.seg = String(a.oa);
        a.range && (b.range = "" + (a.range.start + a.ib) + "-" + (a.range.start + a.ib + a.l - 1));
        b.time = "" + a.C.toFixed(1) + "-" + (a.C + a.G).toFixed(1);
        b.off = String(a.ib);
        b.len = String(a.l);
        a.Pc && (b.end = "1");
        a.u && (b.eos = "1");
        return b
    }

    function IE(a, b) {
        return a.i !== b.i ? !1 : 4 === a.type && 3 === b.type && a.i.pd() ? (a = a.i.No(a), rb(a, function(c) {
            return IE(c, b)
        })) : a.oa === b.oa && !!b.l && b.ib + b.l > a.ib && b.ib + b.l <= a.ib + a.l
    }

    function JE(a, b) {
        var c = b.i;
        a.D = "updateWithEmsg";
        a.oa = c;
        b.B && (a.u = b.B)
    }

    function KE(a, b) {
        var c = b.oa;
        a.D = "updateWithSegmentInfo";
        a.oa = c;
        if (a.startTime !== b.startTime || a.duration !== b.duration) a.startTime = b.startTime, a.duration = b.duration, BE(a)
    };

    function LE(a, b) {
        this.i = a;
        this.u = null;
        this.C = this.od = NaN;
        this.D = this.requestId = null;
        this.l = a[0].i.l;
        this.B = b || "";
        this.range = this.i[0].range && 0 < this.i[0].l ? Gia(this.i) : null
    }
    LE.prototype.Vl = function() {
        return this.u ? fD(this.u) : ""
    };

    function ME(a) {
        return !DE(a.i[a.i.length - 1])
    }
    LE.prototype.Of = function() {
        return DE(this.i[0])
    };

    function NE(a) {
        return 4 === a.i[a.i.length - 1].type
    }

    function OE(a, b, c) {
        if (a.u) {
            var d = new kE(a.u);
            b.Sm || d.get("alr") || d.set("alr", "yes");
            a.B && lE(d, a.B)
        } else /http[s]?:\/\//.test(a.B) ? d = new kE(new dD(a.B)) : (b = null === a.D ? rE(a.l, c) : a.D, d = Eia(a.l, b), a.B && lE(d, a.B));
        (b = a.range) && d.set("range", b.toString());
        a.requestId && d.set("req_id", a.requestId);
        isNaN(a.od) || d.set("headm", a.od.toString());
        isNaN(a.C) || d.set("mffa", a.C + "ms");
        a.urlParams && Nb(a.urlParams, function(e, f) {
            d.set(f, e)
        });
        return d
    }

    function PE(a) {
        if (a.range) return a.range.length;
        a = a.i[0];
        return Math.round(a.G * a.i.info.qb)
    }
    LE.prototype.Vi = function(a, b) {
        this.l.Vi(a, b);
        if (this.u) {
            this.u = nE(a, b);
            b = t(["acpns", "cpn", "daistate", "skipsq"]);
            for (var c = b.next(); !c.done; c = b.next()) this.u.set(c.value, null)
        }
        this.requestId = a.get("req_id")
    };

    function QE(a, b) {
        var c = a.i[0];
        if (a.range) var d = yE(a.range.start, Math.min(4096, a.range.length));
        else {
            if (a.B && 0 <= a.B.indexOf("/range/") || "1" === a.l.B.get("defrag") || "1" === a.l.B.get("otf")) return null;
            d = yE(0, 4096)
        }
        d = new AE(5, c.i, d, "createProbeRequestInfo" + c.D, c.oa);
        a = new LE([d], a.B);
        a.D = b;
        return a
    };

    function RE(a, b, c, d, e, f) {
        f = void 0 === f ? 0 : f;
        uE.call(this, a, b, d, void 0);
        this.K = c;
        this.Zf = f;
        this.G = !0;
        this.index = e || new oD;
        this.cn() && (this.B = !0)
    }
    v(RE, uE);
    h = RE.prototype;
    h.Ue = function() {
        return !1
    };
    h.po = function() {
        return !1
    };
    h.cn = function() {
        return !this.K
    };
    h.wk = function() {
        var a = new AE(1, this, this.initRange, "getMetadataRequestInfo");
        return new LE([a], this.K)
    };
    h.Cl = function() {
        return null
    };
    h.Zm = function(a) {
        this.ri(a);
        return this.wi(a.Pc ? a.oa + 1 : a.oa, !1)
    };
    h.Pi = function(a, b) {
        b = void 0 === b ? !1 : b;
        a = this.index.getSegmentNumberForTime(a); - 1 !== a || "386" === this.info.Ib() || this.info.Ib();
        b && (a = Math.min(this.index.getLastSegmentNumber(), a + 1));
        return this.wi(a, !0)
    };
    h.Nt = function(a) {
        this.i = new Uint8Array(SE(a).buffer)
    };
    h.ri = function(a) {
        return 0 === a.l ? !0 : this.index.getLastSegmentNumber() > a.oa && this.index.getFirstSegmentNumber() <= a.oa + 1
    };
    h.update = function(a, b, c) {
        this.index.append(a);
        pD(this.index, c);
        this.G = b
    };
    h.pd = function() {
        return this.cn() ? !0 : uE.prototype.pd.call(this)
    };
    h.wi = function(a, b) {
        var c = this.index.getSegmentURL(a),
            d = this.index.getStartTime(a),
            e = this.index.getDuration(a),
            f;
        b ? e = f = 0 : f = 0 < this.info.qb ? this.info.qb * e : 1E3;
        b = !b;
        var g = f;
        f = a === this.index.getLastSegmentNumber() && !this.G && 0 < f;
        a = new AE(3, this, void 0, "liveCreateRequestInfoForSegment", a, d, e, 0, g, f, b);
        return new LE([a], c)
    };
    h.zt = function() {
        return this.cn() ? 0 : this.initRange.length
    };
    h.Xu = function() {
        return !1
    };

    function Hia(a, b, c, d, e) {
        this.oa = a;
        this.startSecs = b;
        this.durationSecs = c;
        this.i = d || NaN;
        this.l = e || NaN
    };

    function TE(a, b, c) {
        for (; a; a = a.parentNode)
            if (a.attributes && (!c || a.nodeName === c)) {
                var d = a.getAttribute(b);
                if (d) return d
            } return ""
    }

    function UE(a, b) {
        for (; a; a = a.parentNode) {
            var c = a.getElementsByTagName(b);
            if (0 < c.length) return c[0]
        }
        return null
    }

    function VE(a) {
        if (!a) return 0;
        var b = a.match(/PT(([0-9]*)H)?(([0-9]*)M)?(([0-9.]*)S)?/);
        return b ? 3600 * (Number(b[2]) | 0) + 60 * (Number(b[4]) | 0) + (Number(b[6]) | 0) : Number(a) | 0
    }

    function WE(a) {
        return a.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.(\d{3})$/) ? a + "Z" : a
    };

    function XE() {
        this.i = [];
        this.l = null;
        this.D = 0;
        this.u = [];
        this.C = !1;
        this.G = "";
        this.B = -1
    }
    XE.prototype.update = function(a, b) {
        var c = void 0;
        this.l && (c = this.l);
        var d = new XE,
            e = Array.from(a.getElementsByTagName("S"));
        if (e.length) {
            var f = +TE(a, "timescale") || 1,
                g = (+e[0].getAttribute("t") || 0) / f,
                k = +TE(a, "startNumber") || 0;
            d.B = g;
            var l = g,
                m = +TE(a, "presentationTimeOffset") || 0;
            b = c ? c.startSecs + c.durationSecs : b ? l - m / f : 0;
            l = Date.parse(WE(TE(a, "yt:segmentIngestTime"))) / 1E3;
            d.C = "SegmentTemplate" === a.parentElement.tagName;
            d.C && (d.G = TE(a, "media"));
            a = c ? k - c.oa : 1;
            d.D = 0 < a ? 0 : -a + 1;
            a = t(e);
            for (e = a.next(); !e.done; e = a.next()) {
                e =
                    e.value;
                m = +e.getAttribute("d") / f;
                for (var n = (+e.getAttribute("yt:sid") || 0) / f, p = +e.getAttribute("r") || 0, q = 0; q <= p; q++)
                    if (c && k <= c.oa) k++;
                    else {
                        var r = new Hia(k, b, m, l + n, g);
                        d.i.push(r);
                        var u = r.startSecs;
                        r = e.getAttribute("yt:cuepointTimeOffset");
                        var x = e.getAttribute("yt:cuepointDuration");
                        if (r && x) {
                            r = Number(r);
                            u = (xD ? r / f : -r / f) + u;
                            x = Number(x) / f;
                            var z = e.getAttribute("yt:cuepointContext") || null,
                                D = e.getAttribute("yt:cuepointIdentifier") || "";
                            var H = e.getAttribute("yt:cuepointEvent") || "";
                            H = tia[H] || "unknown";
                            r = new wD(u,
                                x, z, D, H, r)
                        } else r = null;
                        r && d.u.push(r);
                        k++;
                        b += m;
                        g += m;
                        l += m + n
                    }
            }
            d.i.length && (d.l = kb(d.i))
        }
        this.D = d.D;
        this.l = d.l || this.l;
        Db(this.i, d.i);
        Db(this.u, d.u);
        this.C = d.C;
        this.G = d.G; - 1 === this.B && (this.B = d.getStreamTimeOffset())
    };

    function Iia(a) {
        var b = a.u;
        a.u = [];
        return b
    }
    XE.prototype.getStreamTimeOffset = function() {
        return -1 === this.B ? 0 : this.B
    };

    function Jia() {
        this.B = [];
        this.i = null;
        this.l = {};
        this.u = {}
    }

    function Kia(a, b, c) {
        var d = [];
        b = Array.from(b.getElementsByTagName("SegmentTimeline"));
        b = t(b);
        for (var e = b.next(); !e.done; e = b.next()) {
            e = e.value;
            var f = e.parentNode.parentNode,
                g = null;
            "Period" === f.nodeName ? g = Lia(a) : "AdaptationSet" === f.nodeName ? (f = f.getAttribute("id") || f.getAttribute("mimetype") || "", g = Mia(a, f)) : "Representation" === f.nodeName && (f = f.getAttribute("id") || "", g = Nia(a, f));
            if (null == g) return;
            g.update(e, c);
            Db(d, Iia(g))
        }
        Db(a.B, d);
        paa(a.B, function(k) {
            return 1E3 * k.startSecs + k.i
        })
    }

    function Oia(a) {
        a.i && (a.i.i = []);
        Nb(a.l, function(b) {
            b.i = []
        });
        Nb(a.u, function(b) {
            b.i = []
        })
    }

    function Lia(a) {
        a.i || (a.i = new XE);
        return a.i
    }

    function Mia(a, b) {
        a.l[b] || (a.l[b] = new XE);
        return a.l[b]
    }

    function Nia(a, b) {
        a.u[b] || (a.u[b] = new XE);
        return a.u[b]
    };

    function YE() {
        if (oe) return !1;
        if (zu()) {
            var a = vu();
            if (16 <= a && 17 > a) return !1
        }
        return !("function" !== typeof window.fetch || !window.ReadableStream)
    }

    function ZE(a) {
        if (a.On()) return !1;
        a = a.getResponseHeader("content-type");
        return "audio/mp4" === a || "video/mp4" === a || "video/webm" === a
    };

    function $E(a) {
        a = void 0 === a ? {} : a;
        var b = void 0 === a.Jg ? !1 : a.Jg,
            c = void 0 === a.defraggedFromSubfragments ? !1 : a.defraggedFromSubfragments,
            d = void 0 === a.isManifestless ? !1 : a.isManifestless,
            e = void 0 === a.Qv ? !1 : a.Qv;
        return ((void 0 === a.hasSubfragmentedFmp4 ? 0 : a.hasSubfragmentedFmp4) || b) && d ? e && YE() ? 3 : 2 : c && d ? -1 : 1
    }

    function aF(a) {
        return $E({
            hasSubfragmentedFmp4: a.u.Ud,
            Jg: a.u.Ud,
            defraggedFromSubfragments: a.Gh,
            isManifestless: !0,
            Qv: a.ya
        })
    };

    function bF(a) {
        var b = void 0 === a ? {} : a;
        a = void 0 === b.Zf ? 0 : b.Zf;
        var c = void 0 === b.Cg ? !1 : b.Cg,
            d = void 0 === b.Hh ? 0 : b.Hh,
            e = void 0 === b.Xc ? 0 : b.Xc,
            f = void 0 === b.Ke ? Infinity : b.Ke,
            g = void 0 === b.Ao ? 0 : b.Ao;
        b = void 0 === b.yd ? !1 : b.yd;
        this.segments = [];
        this.i = this.dn = -1;
        this.l = null;
        this.Re = a;
        this.Hh = d;
        this.Cg = c;
        this.Xc = e;
        this.Ke = f;
        this.Ao = g;
        this.yd = b
    }
    v(bF, oD);

    function cF(a, b, c) {
        b = dF(a, b);
        return 0 <= b && (c || !a.segments[b].pending)
    }
    h = bF.prototype;
    h.getFirstSegmentNumber = function() {
        return this.Cg ? this.segments.length ? this.Sl(this.getMinSeekableTime()).oa : -1 : oD.prototype.getFirstSegmentNumber.call(this)
    };
    h.getMinSeekableTime = function() {
        if (this.yd) return 0;
        if (!this.Cg) return oD.prototype.getMinSeekableTime.call(this);
        if (!this.segments.length) return 0;
        var a = Math.max(kb(this.segments).endTime - this.Hh, 0);
        return 0 < this.Xc && this.Sl(a).oa < this.Xc ? this.gg(this.Xc).startTime : a
    };
    h.getMaxKnownEndTime = function() {
        if (!this.segments.length) return oD.prototype.getMaxKnownEndTime.call(this);
        var a = this.getLastSegmentNumber();
        if (!this.Cg || a <= this.segments[this.segments.length - 1].oa) a = this.segments[this.segments.length - 1];
        else {
            var b = this.segments[this.segments.length - 1];
            a = new nD(a, Math.max(0, b.startTime - (b.oa - a) * this.Re), this.Re, 0, "sq/" + a, void 0, void 0, !0)
        }
        return null !== this.l && a.pending && 3 === this.l ? this.yd ? Math.min(this.Hh, a.startTime) : a.startTime : this.yd ? Math.min(this.Hh, a.endTime) :
            a.endTime
    };
    h.getNumberOfSegments = function() {
        return this.Cg ? this.segments.length ? this.getLastSegmentNumber() - this.getFirstSegmentNumber() + 1 : 0 : oD.prototype.getNumberOfSegments.call(this)
    };
    h.getLastSegmentNumber = function() {
        var a = Math.min(this.Ke, Math.max(oD.prototype.getLastSegmentNumber.call(this), this.dn)),
            b = 1E3 * this.Hh;
        b = 0 < this.i && this.i < b;
        this.yd && 0 < this.Hh && 0 < this.dn && !b && (b = this.Sl(this.Hh)) && (a = Math.min(b.oa - 1, a));
        return a
    };
    h.Yl = function() {
        return this.segments.length ? this.segments[this.segments.length - 1] : null
    };
    h.Gr = function(a) {
        var b = dF(this, a.oa);
        if (0 <= b) this.segments[b] = a;
        else if (this.segments.splice(-(b + 1), 0, a), this.Ao && 0 === a.oa % (300 / this.Re)) {
            var c = this.segments[0].oa,
                d = Math.floor(this.Ao / this.Re);
            a = a.oa - d;
            b = -(b + 1) - d;
            0 < b && a > c && (this.segments = this.segments.slice(b))
        }
    };
    h.Sl = function(a) {
        if (!this.Cg) return oD.prototype.Sl.call(this, a);
        if (!this.segments.length) return null;
        var b = this.segments[this.segments.length - 1];
        if (a < this.segments[0].startTime) b = Math.max(0, this.segments[0].oa - Math.ceil((this.segments[0].startTime - a) / this.Re));
        else if (a >= b.endTime) b = b.oa + Math.floor((a - b.endTime) / this.Re + 1);
        else {
            b = Jb(this.segments, function(d) {
                return a < d.startTime ? -1 : a >= d.endTime ? 1 : 0
            });
            if (0 <= b) return this.segments[b];
            var c = -(b + 1);
            b = this.segments[c - 1];
            c = this.segments[c];
            b = Math.floor((a - b.endTime) / ((c.startTime - b.endTime) / (c.oa - b.oa - 1)) + 1) + b.oa
        }
        return this.gg(b)
    };
    h.gg = function(a) {
        if (!this.Cg) return oD.prototype.gg.call(this, a);
        if (!this.segments.length) return null;
        var b = dF(this, a);
        if (0 <= b) return this.segments[b];
        var c = -(b + 1);
        b = this.Re;
        if (0 === c) var d = Math.max(0, this.segments[0].startTime - (this.segments[0].oa - a) * b);
        else c === this.segments.length ? (d = this.segments[this.segments.length - 1], d = d.endTime + (a - d.oa - 1) * b) : (d = this.segments[c - 1], b = this.segments[c], b = (b.startTime - d.endTime) / (b.oa - d.oa - 1), d = d.endTime + (a - d.oa - 1) * b);
        return new nD(a, d, b, 0, "sq/" + a, void 0, void 0,
            !0)
    };

    function dF(a, b) {
        return Jb(a.segments, function(c) {
            return b - c.oa
        })
    };

    function eF(a, b, c) {
        c = void 0 === c ? {} : c;
        RE.call(this, a, b, "", void 0, void 0, c.Zf || 0);
        this.index = new bF(c)
    }
    v(eF, RE);
    h = eF.prototype;
    h.po = function() {
        return !0
    };
    h.pd = function() {
        return !0
    };
    h.ri = function(a) {
        return !a.u
    };
    h.wk = function() {};
    h.Pi = function(a, b) {
        b = void 0 === b ? !1 : b;
        return "number" !== typeof a || isFinite(a) ? RE.prototype.Pi.call(this, a, b) : (a = new AE(3, this, void 0, "mlLiveGetReqInfoStubForTime", -1, void 0, this.Zf, void 0, this.Zf * this.info.qb), new LE([a], ""))
    };
    h.wi = function(a, b) {
        var c = void 0 === c ? !1 : c;
        if (cF(this.index, a)) return RE.prototype.wi.call(this, a, b);
        var d = this.index.getStartTime(a),
            e = b ? 0 : this.Zf * this.info.qb;
        b = !b;
        c = new AE(c ? 6 : 3, this, void 0, "mlLiveCreateReqInfoForSeg", a, d, void 0, void 0, e, a === this.index.getLastSegmentNumber() && !this.G && 0 < e, b);
        return new LE([c], 0 <= a ? "sq/" + a : "")
    };

    function fF(a, b, c) {
        uE.call(this, a, b);
        this.G = c;
        this.index = new oD
    }
    v(fF, uE);
    h = fF.prototype;
    h.Ue = function() {
        return !1
    };
    h.po = function() {
        return !1
    };
    h.wk = function() {
        var a = new AE(1, this, void 0, "otfInit");
        return new LE([a], this.G)
    };
    h.Cl = function() {
        return null
    };
    h.Zm = function(a) {
        this.ri(a);
        return gF(this, a.oa + (a.Pc ? 1 : 0), !1)
    };
    h.Pi = function(a, b) {
        b = void 0 === b ? !1 : b;
        a = this.index.getSegmentNumberForTime(a);
        b && (a = Math.min(this.index.getLastSegmentNumber(), a + 1));
        return gF(this, a, !0)
    };
    h.Nt = function(a) {
        1 === a.info.type && (this.i || (this.i = hF(a.i)), a.l && "http://youtube.com/streaming/otf/durations/112015" === a.l.uri && Pia(this, a.l))
    };
    h.ri = function(a) {
        return 0 === a.l ? !0 : this.index.getLastSegmentNumber() > a.oa && this.index.getFirstSegmentNumber() <= a.oa + 1
    };

    function gF(a, b, c) {
        var d = a.index.getSegmentURL(b),
            e = a.index.getStartTime(b),
            f = a.index.getDuration(b);
        c ? f = c = 0 : c = a.info.qb * f;
        var g = b === a.index.getLastSegmentNumber() && 0 < c;
        a = new AE(3, a, void 0, "otfCreateRequestInfoForSegment", b, e, f, 0, c, g);
        return new LE([a], d)
    }
    h.zt = function() {
        return 0
    };
    h.Xu = function() {
        return !1
    };

    function Pia(a, b) {
        if (!a.index.isLoaded()) {
            var c = [],
                d = b.D;
            b = b.G.split(",").filter(function(n) {
                return 0 < n.length
            });
            for (var e = 0, f = 0, g = 0, k = /^(\d+)/, l = /r=(\d+)/, m = 0; m < d; m++) {
                if (0 >= g)
                    if (g = b.shift(), f = (f = k.exec(g)) ? +f[1] / 1E3 : 0) g = (g = l.exec(g)) ? +g[1] : 0, g += 1;
                    else return;
                c.push(new nD(m, e, f, NaN, "sq/" + (m + 1)));
                e += f;
                g--
            }
            a.index.append(c)
        }
    };

    function iF() {
        this.count = 0;
        this.u = 1;
        this.l = !1;
        this.offsets = new Float64Array(128);
        this.i = new Float64Array(128)
    }
    h = iF.prototype;
    h.getOffset = function(a) {
        return this.offsets[a]
    };
    h.getStartTime = function(a) {
        return this.i[a] / this.u
    };
    h.getStartTimeInPeriod = function() {
        return 0
    };
    h.getIngestionTime = function() {
        return NaN
    };
    h.getStitchedVideoInfo = function() {
        return null
    };
    h.getDuration = function(a) {
        a = this.getDurationTicks(a);
        return 0 <= a ? a / this.u : -1
    };
    h.getDurationTicks = function(a) {
        return a + 1 < this.count || this.l ? this.i[a + 1] - this.i[a] : -1
    };
    h.getByteLength = function(a) {
        return a + 1 < this.count || this.l ? this.offsets[a + 1] - this.offsets[a] : -1
    };
    h.getFirstSegmentNumber = function() {
        return 0
    };
    h.getLastSegmentNumber = function() {
        return this.count - 1
    };
    h.getMaxKnownEndTime = function() {
        return this.l ? this.i[this.count] / this.u : NaN
    };
    h.getMinSeekableTime = function() {
        return 0
    };
    h.getNumberOfSegments = function() {
        return this.count
    };
    h.getTotalByteLength = function() {
        return this.l ? this.offsets[this.count] : -1
    };
    h.getSegmentURL = function() {
        return ""
    };
    h.getSegmentNumberForTime = function(a) {
        a = Gb(this.i.subarray(0, this.count), a * this.u);
        return 0 <= a ? a : Math.max(0, -a - 2)
    };
    h.isLoaded = function() {
        return 0 <= this.getLastSegmentNumber()
    };
    h.getLocalMaxByterate = function(a, b) {
        if (a >= this.getLastSegmentNumber()) return 0;
        var c = 0;
        for (b = this.getStartTime(a) + b; a < this.getLastSegmentNumber() && b > this.getStartTime(a); a++) c = Math.max(c, this.getByteLength(a) / this.getDuration(a));
        return c
    };
    h.resize = function(a) {
        a += 2;
        var b = this.offsets;
        this.offsets = new Float64Array(a + 1);
        var c = this.i;
        this.i = new Float64Array(a + 1);
        for (a = 0; a < this.count + 1; a++) this.offsets[a] = b[a], this.i[a] = c[a]
    };

    function jF(a) {
        a.offsets.length < a.count + 1 && a.resize(2 * a.offsets.length)
    }
    h.setTimebase = function(a) {
        this.u = a
    };
    h.setFirstSegmentStart = function(a, b) {
        this.offsets[0] = a;
        this.i[0] = b;
        this.l = !0
    };
    h.addSegmentBySize = function(a, b) {
        this.count++;
        jF(this);
        this.offsets[this.count] = this.offsets[this.count - 1] + a;
        this.i[this.count] = this.i[this.count - 1] + b
    };
    h.addSegmentByStart = function(a, b) {
        jF(this);
        this.offsets[this.count] = a;
        this.i[this.count] = b;
        this.count++
    };
    h.cap = function(a, b) {
        jF(this);
        this.l = !0;
        this.i[this.count] = b;
        this.offsets[this.count] = a
    };

    function kF(a) {
        var b = this;
        a = void 0 === a ? [] : a;
        this.i = [];
        this.u = this.l = 0;
        this.B = void 0;
        this.totalLength = 0;
        a.forEach(function(c) {
            b.append(c)
        })
    }

    function lF(a, b) {
        return 0 === a.i.length ? !1 : (a = a.i[a.i.length - 1]) && a.buffer === b.buffer && a.byteOffset + a.length === b.byteOffset
    }
    kF.prototype.append = function(a) {
        if (lF(this, a)) {
            var b = this.i[this.i.length - 1];
            this.i[this.i.length - 1] = new Uint8Array(b.buffer, b.byteOffset, b.length + a.length);
            mF(this)
        } else this.i.push(a);
        this.totalLength += a.length
    };

    function nF(a, b) {
        b = t(b.i);
        for (var c = b.next(); !c.done; c = b.next()) a.append(c.value)
    }
    kF.prototype.split = function(a) {
        for (var b = new kF, c = new kF, d = t(this.i), e = d.next(); !e.done; e = d.next()) e = e.value, a >= e.length ? (b.append(e), a -= e.length) : a ? (b.append(new Uint8Array(e.buffer, e.byteOffset, a)), c.append(new Uint8Array(e.buffer, e.byteOffset + a, e.length - a)), a = 0) : c.append(e);
        return {
            hq: b,
            il: c
        }
    };
    kF.prototype.isFocused = function(a) {
        return a >= this.u && a < this.u + this.i[this.l].length
    };

    function mF(a) {
        a.B = void 0;
        a.l = 0;
        a.u = 0
    }
    kF.prototype.focus = function(a) {
        if (!this.isFocused(a)) {
            for (a < this.u && mF(this); this.u + this.i[this.l].length <= a && this.l < this.i.length;) this.u += this.i[this.l].length, this.l += 1;
            this.B = void 0
        }
    };

    function oF(a, b, c) {
        a.isFocused(b);
        return b - a.u + c <= a.i[a.l].length
    }

    function pF(a) {
        if (!a.B) {
            var b = a.i[a.l];
            a.B = new DataView(b.buffer, b.byteOffset, b.length)
        }
        return a.B
    }

    function qF(a, b, c) {
        b = void 0 === b ? 0 : b;
        c = void 0 === c ? -1 : c;
        if (!a.totalLength) return new DataView(new ArrayBuffer(0));
        0 > c && (c = a.totalLength - b);
        a.focus(b);
        if (!oF(a, b, c)) {
            var d = a.l,
                e = a.u;
            a.focus(b + c - 1);
            e = new Uint8Array(a.u + a.i[a.l].length - e);
            for (var f = 0, g = d; g <= a.l; g++) e.set(a.i[g], f), f += a.i[g].length;
            a.i.splice(d, a.l - d + 1, e);
            mF(a);
            a.focus(b)
        }
        d = a.i[a.l];
        return new DataView(d.buffer, d.byteOffset + b - a.u, c)
    }

    function rF(a, b, c) {
        a = qF(a, void 0 === b ? 0 : b, void 0 === c ? -1 : c);
        return new Uint8Array(a.buffer, a.byteOffset, a.byteLength)
    }

    function hF(a) {
        a = rF(a, 0, -1);
        var b = new Uint8Array(a.length);
        try {
            b.set(a)
        } catch (d) {
            for (var c = 0; c < a.length; c++) b[c] = a[c]
        }
        return b
    }

    function sF(a, b) {
        a.focus(b);
        return a.i[a.l][b - a.u]
    }

    function tF(a, b) {
        a.focus(b);
        return oF(a, b, 4) ? pF(a).getUint32(b - a.u) : 256 * (256 * (256 * sF(a, b) + sF(a, b + 1)) + sF(a, b + 2)) + sF(a, b + 3)
    };

    function uF(a, b, c) {
        this.info = a;
        this.u = c;
        this.l = null;
        this.B = -1;
        this.timestampOffset = 0;
        this.i = b instanceof kF ? b : new kF([b])
    }

    function SE(a) {
        return qF(a.i)
    }
    uF.prototype.verify = function(a) {
        if (this.info.l !== this.i.totalLength) return a.slength = this.info.l.toString(), a.range = this.i.totalLength.toString(), !1;
        if (1 === this.info.i.info.containerType) {
            if (8 > this.info.l || 4 === this.info.type) return !0;
            var b = SE(this),
                c = b.getUint32(0, !1);
            b = b.getUint32(4, !1);
            a.infotype = this.info.type.toString();
            a.slicesize = c.toString();
            a.boxtype = b.toString();
            if (2 === this.info.type) return c === this.info.l && 1936286840 === b;
            if (3 === this.info.type && 0 === this.info.ib) return 1836019558 === b || 1936286840 ===
                b || 1937013104 === b || 1718909296 === b || 1701671783 === b || 1936419184 === b
        } else if (2 === this.info.i.info.containerType) {
            if (4 > this.info.l || 4 === this.info.type) return !0;
            c = SE(this).getUint32(0, !1);
            a.ebm = c.toString();
            if (3 === this.info.type && 0 === this.info.ib) return 524531317 === c || 440786851 === c
        }
        return !0
    };

    function vF(a, b) {
        if (1 !== a.info.i.info.containerType || a.info.ib || !a.info.Pc) return !0;
        a = SE(a);
        for (var c = 0, d = 0; c + 4 < a.byteLength;) {
            d = a.getUint32(c);
            if (!d) return !1;
            c += d
        }
        return c !== a.byteLength ? (b && (b.lastboxlen = d.toString(), 4 <= a.byteLength && (b.lastbytes = a.getUint32(a.byteLength - 4).toString()), b.boxlen = c.toString(), b.bytelen = a.byteLength.toString()), !1) : !0
    }

    function wF(a, b) {
        b = Math.min(b, a.info.l);
        var c = a.i.split(b),
            d = c.hq;
        c = c.il;
        var e = new AE(a.info.type, a.info.i, a.info.range, a.info.D, a.info.oa, a.info.startTime, a.info.duration, a.info.ib, b, !1, !1);
        d = new uF(e, d, a.u);
        a = new AE(a.info.type, a.info.i, a.info.range, a.info.D, a.info.oa, a.info.startTime, a.info.duration, a.info.ib + b, a.info.l - b, a.info.u, a.info.Pc);
        a = new uF(a, c, !1);
        return [d, a]
    }

    function xF(a, b, c) {
        var d;
        if (!(d = !FE(a.info, b.info) || a.info.Pc)) {
            if (c = void 0 === c ? !1 : c) c = b.i, c = !(c.i.length ? lF(a.i, c.i[0]) : 1);
            d = c
        }
        if (d) return null;
        c = new AE(a.info.type, a.info.i, a.info.range, a.info.D, a.info.oa, a.info.startTime, a.info.duration, a.info.ib, a.info.l, a.info.u, a.info.Pc);
        d = b.info;
        c.l += d.l;
        c.range && (c.G += d.G);
        c.B = d.B;
        c.Pc = d.Pc;
        c.u = c.u || d.u;
        d = new kF;
        nF(d, a.i);
        nF(d, b.i);
        c = new uF(c, d, a.u);
        c.l = b.l || a.l;
        if (a = c.info.range) a = c.i, a = !(1 === a.i.length && 0 < a.i[0].byteOffset);
        a && (c.u = !1);
        return c
    }

    function yF(a) {
        zF(a.info.i.info) || a.info.i.info.qd();
        if (-1 !== a.B) return a.B;
        if (a.l && CD(a.l)) return a.B = CD(a.l), a.B;
        if (zF(a.info.i.info)) {
            var b = SE(a);
            for (var c = a.info.i.i, d = NaN, e = NaN, f = 0; KD(b, f);) {
                var g = LD(b, f);
                1936286840 === g.type ? e = g.data.getUint32(g.dataOffset + 8) : 1836476516 === g.type ? e = ID(g) : 1952867444 === g.type && isNaN(d) && (d = ND(g));
                f = MD(g.type) ? f + 8 : f + g.size
            }!e && c && (e = HD(c));
            b = d / e
        } else b = new TD(SE(a)), c = a.u ? b : new TD(new DataView(a.info.i.i.buffer)), d = gE(c), c = b.i, b.i = 0, hE(b) ? YD(b, 231) ? (d = bE(b) * d / 1E9,
            b.i = c, b = d) : (b.i = c, b = NaN) : (b.i = c, b = NaN);
        a.B = b || a.info.C;
        return a.B
    }

    function AF(a, b) {
        0 < a.timestampOffset && (b -= a.timestampOffset);
        var c = yF(a) + b;
        BF(a, c);
        a.timestampOffset = b
    }

    function BF(a, b) {
        zF(a.info.i.info) || a.info.i.info.qd();
        a.B = b;
        if (zF(a.info.i.info)) {
            var c = SE(a);
            a = a.info.i.i;
            for (var d = NaN, e = NaN, f = 0; KD(c, f);) {
                var g = LD(c, f);
                isNaN(d) && (1936286840 === g.type ? d = g.data.getUint32(g.dataOffset + 8) : 1836476516 === g.type && (d = ID(g)));
                if (1952867444 === g.type) {
                    !d && a && (d = HD(a));
                    var k = ND(g);
                    isNaN(e) && (e = Math.round(b * d) - k);
                    k += e;
                    if (g.data.getUint8(g.dataOffset)) {
                        var l = g.data,
                            m = g.dataOffset + 4;
                        l.setUint32(m, Math.floor(k / 4294967296));
                        l.setUint32(m + 4, k & 4294967295)
                    } else g.data.setUint32(g.dataOffset +
                        4, k)
                }
                f = MD(g.type) ? f + 8 : f + g.size
            }
            return !0
        }
        c = new TD(SE(a));
        a = a.u ? c : new TD(new DataView(a.info.i.i.buffer));
        d = gE(a);
        a = c.i;
        c.i = 0;
        if (hE(c) && YD(c, 231))
            if (e = ZD(c, !0), b = Math.floor(1E9 * b / d), Math.ceil(Math.log(b) / Math.log(2) / 8) > e) b = !1;
            else {
                for (d = e - 1; 0 <= d; d--) c.l.setUint8(c.i + d, b & 255), b >>>= 8;
                c.i = a;
                b = !0
            }
        else b = !1;
        return b
    }

    function CF(a) {
        zF(a.info.i.info) || a.info.i.info.qd();
        if (a.l && 6 === a.info.type) return a.l.Zf;
        if (zF(a.info.i.info)) {
            var b = SE(a);
            var c = 0;
            b = RD(b, 1936286840);
            b = t(b);
            for (var d = b.next(); !d.done; d = b.next()) d = OD(d.value), c += d.Rv[0] / d.Xv;
            c = c || NaN;
            if (!(0 <= c)) a: {
                c = SE(a);b = a.info.i.i;
                for (var e = d = 0, f = 0; KD(c, d);) {
                    var g = LD(c, d);
                    if (1836476516 === g.type) e = ID(g);
                    else if (1836019558 === g.type) {
                        !e && b && (e = HD(b));
                        if (!e) {
                            c = NaN;
                            break a
                        }
                        var k = JD(g.data, g.dataOffset, 1953653094),
                            l = e,
                            m = JD(k.data, k.dataOffset, 1952868452);
                        k = JD(k.data,
                            k.dataOffset, 1953658222);
                        var n = m.zd();
                        m.zd();
                        n & 2 && m.zd();
                        m = n & 8 ? m.zd() : 0;
                        var p = k.zd(),
                            q = p & 1;
                        n = p & 4;
                        var r = p & 256,
                            u = p & 512,
                            x = p & 1024;
                        p &= 2048;
                        var z = k.Mb();
                        q && k.zd();
                        n && k.zd();
                        for (var D = q = 0; D < z; D++) {
                            var H = r ? k.zd() : m;
                            u && k.zd();
                            n && 0 === D || !x || k.zd();
                            p && k.zd();
                            q += H
                        }
                        f += q / l
                    }
                    d = MD(g.type) ? d + 8 : d + g.size
                }
                c = f || NaN
            }
        } else c = new TD(SE(a)), b = a.u ? c : new TD(new DataView(a.info.i.i.buffer)), c = Aia(c, gE(b));
        return c || a.info.G
    }

    function DF(a) {
        var b = SE(a);
        var c = (c = GD(b, 0, 1936286840)) ? c.data.getUint32(c.dataOffset + 8) : NaN;
        isNaN(c) && (a = a.info.i.i, c = (b = GD(b, 0, 1836476516)) ? ID(b) : a ? HD(a) : NaN);
        return c
    }

    function EF(a) {
        if (!a.l) {
            zF(a.info.i.info) || a.info.i.info.qd();
            if (zF(a.info.i.info)) {
                var b = SE(a),
                    c = JD(b, 0, 1701671783);
                if (c) {
                    var d = PD(c);
                    var e = d.jH;
                    d = ED(d.Uz);
                    if (b = JD(b, c.offset + c.size, 1701671783))
                        if (b = PD(b), b = ED(b.Uz), d && b) {
                            c = t(Object.keys(b));
                            for (var f = c.next(); !f.done; f = c.next()) f = f.value, d[f] = b[f]
                        } e = d ? new zD(d, e) : null
                } else e = null
            } else {
                e = new TD(SE(a));
                d = e.i;
                e.i = 0;
                c = b = null;
                if (WD(e, [408125543, 307544935, 29555, 26568]))
                    for (f = XD(e); !UD(f);) {
                        var g = ZD(f, !1);
                        17543 === g ? c = ED(f.Ad()) : 17827 === g ? b = f.Ad() : cE(f)
                    }
                e.i =
                    d;
                e = c ? new zD(c, b) : null
            }
            a.l = e
        }
    };

    function FF(a, b, c, d, e) {
        uE.call(this, a, b, c, d);
        this.G = null;
        this.index = e ? new e.NativeSegmentIndex : new iF
    }
    v(FF, uE);
    h = FF.prototype;
    h.wk = function(a) {
        var b = new AE(1, this, this.initRange, "initInfo"),
            c = new AE(2, this, this.indexRange, "indexInfo");
        b = [b, c];
        0 < this.info.contentLength && a && (c = c.range.end + 1, a = Math.min(a, this.info.contentLength - c), 0 < a && (a = yE(c, a), b.push(new AE(4, this, a, "tbdRange"))));
        return new LE(b)
    };
    h.Nt = function(a) {
        if (1 === a.info.type) {
            if (this.i) return;
            this.i = hF(a.i)
        } else if (2 === a.info.type) {
            if (this.G || 0 <= this.index.getLastSegmentNumber()) return;
            if (zF(this.info)) {
                var b = this.index,
                    c = SE(a);
                a = a.info.range.start;
                var d = GD(c, 0, 1936286840);
                c = OD(d);
                b.setTimebase(c.Xv);
                b.setFirstSegmentStart(c.qE + a + d.size, c.gE);
                a = c.Rv.length;
                for (d = 0; d < a; d++) b.addSegmentBySize(c.aH[d], c.Rv[d])
            } else this.G = SE(a)
        }
        if (this.info.qd() && this.i && this.G) {
            a = new DataView(this.i.buffer);
            b = this.index;
            d = this.G;
            c = this.indexRange.end;
            var e = new TD(a);
            a = e;
            e = a.i;
            var f = {
                sB: 1E6,
                tB: 1E9,
                duration: 0,
                cB: 0,
                yv: 0
            };
            if (YD(a, 408125543))
                if (f.cB = ZD(a, !0), f.yv = a.start + a.i, YD(a, 357149030)) {
                    for (var g = XD(a); !UD(g);) {
                        var k = ZD(g, !1);
                        2807729 === k ? f.sB = bE(g) : 2807730 === k ? f.tB = bE(g) : 17545 === k ? f.duration = dE(g) : cE(g)
                    }
                    a.i = e;
                    a = f
                } else a.i = e, a = null;
            else a.i = e, a = null;
            if (null !== a) {
                b.setTimebase(a.tB / a.sB);
                e = new TD(d);
                d = e;
                g = a.yv;
                e = d.i;
                f = [];
                if (YD(d, 475249515)) {
                    for (k = XD(d); YD(k, 187);) {
                        var l = XD(k);
                        if (YD(l, 179)) {
                            var m = bE(l);
                            if (YD(l, 183)) {
                                l = XD(l);
                                for (var n = g; YD(l, 241);) n =
                                    bE(l) + g;
                                f.push({
                                    Bp: n,
                                    aE: m
                                })
                            }
                        }
                    }
                    if (0 < f.length && c === f[0].Bp)
                        for (jE && ly(Error("opus_oboe")), c = 0; c < f.length; c++) f[c].Bp += 1;
                    d.i = e;
                    c = f
                } else d.i = e, c = null;
                if (null !== c) {
                    c = t(c);
                    for (d = c.next(); !d.done; d = c.next()) d = d.value, b.addSegmentByStart(d.Bp, d.aE);
                    b.cap(a.cB + a.yv, a.duration)
                }
            }
            this.G = null
        }
    };

    function GF(a, b, c, d) {
        for (var e = [], f = b; f <= a.index.getLastSegmentNumber(); f++) {
            var g = yE(a.index.getOffset(f), a.index.getByteLength(f)),
                k = a.index.getStartTime(f),
                l = a.index.getDuration(f),
                m = Math.max(0, c - g.start),
                n = Math.min(g.end + 1, c + d) - (g.start + m),
                p = f === a.index.getLastSegmentNumber() && m + n === g.length;
            e.push(new AE(3, a, g, "getRequestInfoForRange", f, k, l, m, n, p));
            if (g.start + m + n >= c + d) break
        }
        e.length || ky(new lw("b189619593", "" + b, "" + c, "" + d));
        return new LE(e)
    }
    h.Jw = function(a) {
        for (var b = this.No(a.info), c = a.info.range.start + a.info.ib, d = a.u, e = [], f = 0; f < b.length; f++) {
            var g = b[f].l;
            g = a.i.split(b[f].range.start + b[f].ib - c).il.split(g).hq;
            e.push(new uF(b[f], g, d));
            d = !1
        }
        return e
    };
    h.No = function(a) {
        for (var b = a.range.start + a.ib, c = 0; c < this.index.getLastSegmentNumber() && b >= this.index.getOffset(c + 1);) c++;
        return GF(this, c, b, a.l).i
    };
    h.ri = function(a) {
        return this.pd() ? !0 : a.range.end + 1 < this.info.contentLength
    };
    h.Cl = function(a, b) {
        this.ri(a);
        if (!this.pd()) return b = yE(a.range.end + 1, b), b.end + 1 > this.info.contentLength && (b = new wE(b.start, this.info.contentLength - 1)), a = [new AE(4, a.i, b, "getNextRequestInfoByLength")], new LE(a);
        4 === a.type && (a = this.No(a), a = a[a.length - 1]);
        var c = 0,
            d = a.range.start + a.ib + a.l;
        3 === a.type && (c = a.oa, d === a.range.end + 1 && (c += 1));
        return GF(this, c, d, b)
    };
    h.Zm = function() {
        return null
    };
    h.Pi = function(a, b) {
        b = void 0 === b ? !1 : b;
        a = this.index.getSegmentNumberForTime(a);
        b && (a = Math.min(this.index.getLastSegmentNumber(), a + 1));
        return GF(this, a, this.index.getOffset(a), 0)
    };
    h.Ue = function() {
        return !0
    };
    h.po = function() {
        return !1
    };
    h.zt = function() {
        return this.indexRange.length + this.initRange.length
    };
    h.Xu = function() {
        return this.indexRange && this.initRange && this.initRange.end + 1 === this.indexRange.start ? !0 : !1
    };

    function HF(a, b, c, d) {
        this.sampleRate = a || 0;
        this.i = b || 0;
        this.spatialAudioType = c || 0;
        this.itag = d || ""
    };

    function Qia(a, b, c, d) {
        this.displayName = a;
        this.vssId = b;
        this.languageCode = c;
        this.kind = void 0 === d ? "" : d
    };
    var IF = {},
        JF = (IF.WIDTH = {
            name: "width",
            video: !0,
            valid: 640,
            invalid: 99999
        }, IF.HEIGHT = {
            name: "height",
            video: !0,
            valid: 360,
            invalid: 99999
        }, IF.FRAMERATE = {
            name: "framerate",
            video: !0,
            valid: 30,
            invalid: 9999
        }, IF.BITRATE = {
            name: "bitrate",
            video: !0,
            valid: 3E5,
            invalid: 2E9
        }, IF.EOTF = {
            name: "eotf",
            video: !0,
            valid: "bt709",
            invalid: "catavision"
        }, IF.CHANNELS = {
            name: "channels",
            video: !1,
            valid: 2,
            invalid: 99
        }, IF.CRYPTOBLOCKFORMAT = {
            name: "cryptoblockformat",
            video: !0,
            valid: "subsample",
            invalid: "invalidformat"
        }, IF.DECODETOTEXTURE = {
            name: "decode-to-texture",
            video: !0,
            valid: "false",
            invalid: "nope"
        }, IF.AV1_CODECS = {
            name: "codecs",
            video: !0,
            valid: "av01.0.05M.08",
            invalid: "av99.0.05M.08"
        }, IF.EXPERIMENTAL = {
            name: "experimental",
            video: !0,
            valid: "allowed",
            invalid: "invalid"
        }, IF);
    var T = {},
        KF = (T["0"] = "f", T["160"] = "h", T["133"] = "h", T["134"] = "h", T["135"] = "h", T["136"] = "h", T["137"] = "h", T["264"] = "h", T["266"] = "h", T["138"] = "h", T["298"] = "h", T["299"] = "h", T["304"] = "h", T["305"] = "h", T["214"] = "h", T["216"] = "h", T["374"] = "h", T["375"] = "h", T["140"] = "a", T["141"] = "ah", T["327"] = "sa", T["258"] = "m", T["380"] = "mac3", T["328"] = "meac3", T["161"] = "H", T["142"] = "H", T["143"] = "H", T["144"] = "H", T["222"] = "H", T["223"] = "H", T["145"] = "H", T["224"] = "H", T["225"] = "H", T["146"] = "H", T["226"] = "H", T["227"] = "H", T["147"] = "H",
            T["384"] = "H", T["376"] = "H", T["385"] = "H", T["377"] = "H", T["149"] = "A", T["261"] = "M", T["381"] = "MAC3", T["329"] = "MEAC3", T["598"] = "9", T["278"] = "9", T["242"] = "9", T["243"] = "9", T["244"] = "9", T["247"] = "9", T["248"] = "9", T["353"] = "9", T["355"] = "9", T["271"] = "9", T["313"] = "9", T["272"] = "9", T["302"] = "9", T["303"] = "9", T["407"] = "9", T["408"] = "9", T["308"] = "9", T["315"] = "9", T["330"] = "9h", T["331"] = "9h", T["332"] = "9h", T["333"] = "9h", T["334"] = "9h", T["335"] = "9h", T["336"] = "9h", T["337"] = "9h", T["338"] = "so", T["600"] = "o", T["250"] = "o", T["251"] =
            "o", T["194"] = "*", T["195"] = "*", T["220"] = "*", T["221"] = "*", T["196"] = "*", T["197"] = "*", T["279"] = "(", T["280"] = "(", T["317"] = "(", T["318"] = "(", T["273"] = "(", T["274"] = "(", T["357"] = "(", T["358"] = "(", T["275"] = "(", T["359"] = "(", T["360"] = "(", T["276"] = "(", T["583"] = "(", T["584"] = "(", T["314"] = "(", T["585"] = "(", T["561"] = "(", T["277"] = "(", T["361"] = "(h", T["362"] = "(h", T["363"] = "(h", T["364"] = "(h", T["365"] = "(h", T["366"] = "(h", T["591"] = "(h", T["592"] = "(h", T["367"] = "(h", T["586"] = "(h", T["587"] = "(h", T["368"] = "(h", T["588"] = "(h", T["562"] =
            "(h", T["409"] = "(", T["410"] = "(", T["411"] = "(", T["412"] = "(", T["557"] = "(", T["558"] = "(", T["394"] = "1", T["395"] = "1", T["396"] = "1", T["397"] = "1", T["398"] = "1", T["399"] = "1", T["400"] = "1", T["401"] = "1", T["571"] = "1", T["402"] = "1", T["694"] = "1h", T["695"] = "1h", T["696"] = "1h", T["697"] = "1h", T["698"] = "1h", T["699"] = "1h", T["700"] = "1h", T["701"] = "1h", T["702"] = "1h", T["703"] = "1h", T["386"] = "3", T["387"] = "w", T["406"] = "6", T);
    var LF = "highres hd2880 hd2160 hd1440 hd1080 hd720 large medium small tiny".split(" ");

    function MF(a, b, c, d, e, f, g, k, l) {
        this.width = a;
        this.height = b;
        this.quality = f || NF(a, b);
        this.i = OA[this.quality];
        this.fps = c || 0;
        this.stereoLayout = !e || null != d && 0 !== d && 1 !== d ? 0 : e;
        this.projectionType = d ? 2 === d && 2 === e ? 3 : d : 0;
        (a = g) || (a = OA[this.quality], 0 === a ? a = "Auto" : (b = this.fps, c = this.projectionType, a = a.toString() + (2 === c || 3 === c || 4 === c ? "s" : "p") + (55 < b ? "60" : 49 < b ? "50" : 39 < b ? "48" : "")));
        this.qualityLabel = a;
        this.l = k || "";
        this.primaries = l || ""
    }
    MF.prototype.isHdr = function() {
        return "smpte2084" === this.l || "arib-std-b67" === this.l
    };

    function NF(a, b) {
        var c = Math.max(a, b);
        a = Math.min(a, b);
        b = LF[0];
        for (var d = 0; d < LF.length; d++) {
            var e = LF[d],
                f = OA[e];
            if (c >= 1.3 * Math.floor(16 * f / 9) || a >= 1.3 * f) return b;
            b = e
        }
        return "tiny"
    };

    function OF(a, b, c) {
        c = void 0 === c ? {} : c;
        this.id = a;
        this.mimeType = b;
        this.u = !0;
        this.isSupported = this.l = null;
        0 < c.qb || (c.qb = 16E3);
        Object.assign(this, c);
        this.containerType = PF(b);
        this.i = KF[this.Ib()] || ""
    }
    h = OF.prototype;
    h.gb = function() {
        return this.video
    };
    h.Ib = function() {
        return this.id.split(";", 1)[0]
    };
    h.qd = function() {
        return 2 === this.containerType
    };

    function QF(a) {
        return "9" === a.i || "(" === a.i || "9h" === a.i || "(h" === a.i
    }

    function RF(a) {
        return "9h" === a.i || "(h" === a.i
    }

    function SF(a) {
        return "1" === a.i || "1h" === a.i
    }

    function zF(a) {
        return 1 === a.containerType
    }
    h.Mg = function() {
        return !!this.Nc
    };
    h.aj = function() {
        return !!this.audio
    };
    h.isVideo = function() {
        return !!this.video
    };

    function XB(a) {
        return "application/x-mpegURL" === a.mimeType
    }

    function TF(a) {
        return a.includes("vtt") || a.includes("text/mp4")
    }

    function PF(a) {
        return 0 <= a.indexOf("/mp4") ? 1 : 0 <= a.indexOf("/webm") ? 2 : 0 <= a.indexOf("/x-flv") ? 3 : 0 <= a.indexOf("/vtt") ? 4 : 0
    }

    function UF(a, b, c, d, e) {
        var f = new HF;
        b in OA || (b = "small");
        "light" === b && (b = "tiny");
        d && e ? (e = Number(e), d = Number(d)) : (e = OA[b], d = Math.round(16 * e / 9));
        d = new MF(d, e, 0, null, void 0, b, void 0, void 0, void 0);
        a = unescape(a.replace(/&quot;/g, '"'));
        return new OF(c, a, {
            audio: f,
            video: d
        })
    };

    function VF(a, b, c) {
        this.name = a;
        this.id = b;
        this.isDefault = c
    }
    VF.prototype.getName = function() {
        return this.name
    };
    VF.prototype.getId = function() {
        return this.id
    };
    VF.prototype.getIsDefault = function() {
        return this.isDefault
    };
    VF.prototype.toString = function() {
        return this.name
    };
    VF.prototype.getName = VF.prototype.getName;
    VF.prototype.getId = VF.prototype.getId;
    VF.prototype.getIsDefault = VF.prototype.getIsDefault;

    function WF(a) {
        C.call(this);
        this.u = [];
        this.D = a || this
    }
    v(WF, C);

    function XF(a, b, c, d) {
        for (var e = 0; e < c.length; e++) a.Ga(b, c[e], d)
    }
    WF.prototype.Ga = function(a, b, c, d, e) {
        c = Bs(Sa(c, d || this.D));
        c = {
            target: a,
            name: b,
            callback: c
        };
        var f;
        e && Ffa() && (f = {
            passive: !0
        });
        a.addEventListener(b, c.callback, f);
        this.u.push(c);
        return c
    };
    WF.prototype.xe = function(a) {
        for (var b = 0; b < this.u.length; b++)
            if (this.u[b] == a) {
                this.u.splice(b, 1);
                a.target.removeEventListener(a.name, a.callback);
                break
            }
    };

    function YF(a) {
        for (; a.u.length;) {
            var b = a.u.pop();
            b.target.removeEventListener(b.name, b.callback)
        }
    }
    WF.prototype.Da = function() {
        YF(this);
        C.prototype.Da.call(this)
    };

    function ZF() {
        var a = Ja("yt.player.utils.videoElement_");
        a || (a = Og("VIDEO"), Ia("yt.player.utils.videoElement_", a, void 0));
        return a
    }

    function $F(a) {
        var b = ZF();
        return !!(b && b.canPlayType && b.canPlayType(a))
    }

    function Ria(a) {
        try {
            var b = aG('video/mp4; codecs="avc1.42001E"') || aG('video/webm; codecs="vp9"');
            return (aG('audio/mp4; codecs="mp4a.40.2"') || aG('audio/webm; codecs="opus"')) && (b || !a) || $F('video/mp4; codecs="avc1.42001E, mp4a.40.2"') ? null : "fmt.noneavailable"
        } catch (c) {
            return "html5.missingapi"
        }
    }

    function aG(a) {
        if (/opus/.test(a) && (Ne && !Er("38") || Ne && xu("crkey"))) return !1;
        if (window.MediaSource && window.MediaSource.isTypeSupported) return window.MediaSource.isTypeSupported(a);
        if (/webm/.test(a) && !Du()) return !1;
        'audio/mp4; codecs="mp4a.40.2"' === a && (a = 'video/mp4; codecs="avc1.4d401f"');
        return !!$F(a)
    }

    function bG() {
        return "pictureInPictureEnabled" in window.document && !!window.document.pictureInPictureEnabled
    }

    function cG() {
        var a = ZF();
        return !!a.webkitSupportsPresentationMode && "function" === typeof a.webkitSetPresentationMode
    }

    function dG() {
        var a = ZF();
        try {
            var b = a.muted;
            a.muted = !b;
            return a.muted !== b
        } catch (c) {}
        return !1
    };

    function eG(a, b) {
        return {
            start: function(c) {
                return a[c]
            },
            end: function(c) {
                return b[c]
            },
            length: a.length
        }
    }

    function fG(a, b, c) {
        b = void 0 === b ? "," : b;
        c = void 0 === c ? a ? a.length : 0 : c;
        var d = [];
        if (a)
            for (c = Math.max(a.length - c, 0); c < a.length; c++) d.push(a.start(c).toFixed(3) + "-" + a.end(c).toFixed(3));
        return d.join(b)
    }

    function gG(a, b) {
        if (!a) return -1;
        try {
            for (var c = 0; c < a.length; c++)
                if (a.start(c) <= b && a.end(c) >= b) return c
        } catch (d) {}
        return -1
    }

    function hG(a, b) {
        return 0 <= gG(a, b)
    }

    function Sia(a, b) {
        if (!a) return NaN;
        b = gG(a, b);
        return 0 <= b ? a.start(b) : NaN
    }

    function iG(a, b) {
        if (!a) return NaN;
        b = gG(a, b);
        return 0 <= b ? a.end(b) : NaN
    }

    function jG(a) {
        return a && a.length ? a.end(a.length - 1) : NaN
    }

    function kG(a, b) {
        a = iG(a, b);
        return 0 <= a ? a - b : 0
    }

    function lG(a, b, c) {
        for (var d = [], e = [], f = 0; f < a.length; f++) a.end(f) < b || a.start(f) > c || (d.push(Math.max(b, a.start(f)) - b), e.push(Math.min(c, a.end(f)) - b));
        return eG(d, e)
    };

    function mG(a, b, c, d) {
        S.call(this);
        var e = this;
        this.kc = a;
        this.start = b;
        this.end = c;
        this.isActive = d;
        this.appendWindowStart = 0;
        this.appendWindowEnd = Infinity;
        this.timestampOffset = 0;
        this.jz = {
            error: function() {
                !e.Ea() && e.isActive && e.W("error", e)
            },
            updateend: function() {
                !e.Ea() && e.isActive && e.W("updateend", e)
            }
        };
        $C(this.kc, this.jz);
        this.gp = this.isActive
    }
    v(mG, S);
    h = mG.prototype;
    h.appendBuffer = function(a, b, c) {
        if (this.kc.Op() !== this.appendWindowStart + this.start || this.kc.nt() !== this.appendWindowEnd + this.start || this.kc.Ub() !== this.timestampOffset + this.start) this.kc.supports(1), this.kc.Cv(this.appendWindowStart + this.start, this.appendWindowEnd + this.start), this.kc.Fm(this.timestampOffset + this.start);
        this.kc.appendBuffer(a, b, c)
    };
    h.abort = function() {
        this.kc.abort()
    };
    h.remove = function(a, b) {
        this.kc.remove(a + this.start, b + this.start)
    };
    h.Cv = function(a, b) {
        this.appendWindowStart = a;
        this.appendWindowEnd = b
    };
    h.Gt = function() {
        return this.timestampOffset + this.start
    };
    h.Op = function() {
        return this.appendWindowStart
    };
    h.nt = function() {
        return this.appendWindowEnd
    };
    h.Fm = function(a) {
        this.timestampOffset = a
    };
    h.Ub = function() {
        return this.timestampOffset
    };
    h.Ed = function(a) {
        a = this.kc.Ed(void 0 === a ? !1 : a);
        return lG(a, this.start, this.end)
    };
    h.Ie = function() {
        return this.kc.Ie()
    };
    h.vk = function() {
        return this.kc.vk()
    };
    h.Pp = function() {
        return this.kc.Pp()
    };
    h.gw = function(a, b) {
        this.kc.gw(a, b)
    };
    h.supports = function(a) {
        return this.kc.supports(a)
    };
    h.Qp = function() {
        return this.kc.Qp()
    };
    h.isView = function() {
        return !0
    };
    h.Zo = function(a, b, c) {
        return this.isActive ? this.kc.Zo(a, b, c) : !1
    };
    h.Hs = function() {
        return this.kc.Hs() ? this.isActive : !1
    };
    h.isLocked = function() {
        return this.gp && !this.isActive
    };
    h.wb = function(a) {
        return this.kc.wb(a) + (";vw." + this.start + "-" + this.end)
    };
    h.Sn = function() {
        return this.kc.Sn()
    };
    h.Et = function() {
        return this.kc.Et()
    };
    h.Da = function() {
        aD(this.kc, this.jz);
        S.prototype.Da.call(this)
    };
    var nG = !1;

    function oG(a, b, c, d, e) {
        var f;
        S.call(this);
        var g = this;
        this.sb = a;
        this.kd = b;
        this.id = c;
        this.containerType = d;
        this.isVideo = e;
        this.Hz = this.nq = this.rd = null;
        this.appendWindowStart = this.timestampOffset = 0;
        this.Kx = eG([], []);
        this.wp = !1;
        this.Oo = pG ? [] : void 0;
        this.Zc = function(k) {
            return g.W(k.type, g)
        };
        if (null === (f = this.sb) || void 0 === f ? 0 : f.addEventListener) this.sb.addEventListener("updateend", this.Zc), this.sb.addEventListener("error", this.Zc)
    }
    v(oG, S);
    h = oG.prototype;
    h.appendBuffer = function(a, b, c) {
        var d;
        this.wp = !1;
        c && (this.nq = c);
        b && (b.Mg() && (this.Hz = this.nq), 3 === b.type && (this.rd = b));
        this.Oo && (2 <= this.Oo.length || 32768 < a.length ? delete this.Oo : this.Oo.push(a));
        (null === (d = this.sb) || void 0 === d ? 0 : d.appendBuffer) ? this.sb.appendBuffer(a): this.sb ? this.sb.append(a) : this.kd && this.kd.webkitSourceAppend(this.id, a)
    };
    h.abort = function() {
        try {
            this.sb ? this.sb.abort() : this.kd && this.kd.webkitSourceAbort(this.id)
        } catch (a) {}
        this.nq = this.rd = null
    };
    h.remove = function(a, b) {
        var c;
        this.wp = !1;
        (null === (c = this.sb) || void 0 === c ? 0 : c.remove) && this.sb.remove(a, b)
    };
    h.Op = function() {
        var a;
        return nG && this.isVideo ? this.appendWindowStart : (null === (a = this.sb) || void 0 === a ? void 0 : a.appendWindowStart) || 0
    };
    h.nt = function() {
        var a;
        return (null === (a = this.sb) || void 0 === a ? void 0 : a.appendWindowEnd) || 0
    };
    h.Cv = function(a, b) {
        this.sb && (nG && this.isVideo ? (this.appendWindowStart = a, this.sb.appendWindowEnd = b) : a > this.Op() ? (this.sb.appendWindowEnd = b, this.sb.appendWindowStart = a) : (this.sb.appendWindowStart = a, this.sb.appendWindowEnd = b))
    };
    h.Gt = function() {
        return this.timestampOffset
    };
    h.Fm = function(a) {
        nG ? this.timestampOffset = a : this.supports(1) && (this.sb.timestampOffset = a)
    };
    h.Ub = function() {
        return nG ? this.timestampOffset : this.supports(1) ? this.sb.timestampOffset : 0
    };
    h.Ed = function(a) {
        if (void 0 === a ? 0 : a) return this.wp || this.Ie() || (this.Kx = this.Ed(!1), this.wp = !0), this.Kx;
        try {
            return this.sb ? this.sb.buffered : this.kd ? this.kd.webkitSourceBuffered(this.id) : eG([0], [Infinity])
        } catch (b) {
            return eG([], [])
        }
    };
    h.Ie = function() {
        var a;
        return (null === (a = this.sb) || void 0 === a ? void 0 : a.updating) || !1
    };
    h.vk = function() {
        return this.nq
    };
    h.Pp = function() {
        return this.Hz
    };
    h.gw = function(a, b) {
        this.containerType !== a && (this.supports(4), qG() && this.sb.changeType(b));
        this.containerType = a
    };
    h.Qp = function() {
        return this.rd
    };
    h.isView = function() {
        return !1
    };
    h.supports = function(a) {
        var b, c, d, e, f;
        switch (a) {
            case 1:
                return void 0 !== (null === (b = this.sb) || void 0 === b ? void 0 : b.timestampOffset);
            case 0:
                return !(null === (c = this.sb) || void 0 === c || !c.appendBuffer);
            case 2:
                return !(null === (d = this.sb) || void 0 === d || !d.remove);
            case 3:
                return !!((null === (e = this.sb) || void 0 === e ? 0 : e.addEventListener) && (null === (f = this.sb) || void 0 === f ? 0 : f.removeEventListener));
            case 4:
                return !(!this.sb || !this.sb.changeType);
            default:
                return !1
        }
    };

    function qG() {
        return window.SourceBuffer ? !!SourceBuffer.prototype.changeType : !1
    }
    h.Hs = function() {
        return !this.Ie()
    };
    h.isLocked = function() {
        return !1
    };
    h.wb = function(a) {
        var b, c;
        a.to = "" + this.Ub();
        a.up = "" + +this.Ie();
        var d = (null === (b = this.sb) || void 0 === b ? void 0 : b.appendWindowStart) || 0,
            e = (null === (c = this.sb) || void 0 === c ? void 0 : c.appendWindowEnd) || Infinity;
        a.aw = d.toFixed(3) + "-" + e.toFixed(3);
        try {
            a.bu = fG(this.Ed())
        } catch (f) {}
        return JA(a)
    };
    h.Da = function() {
        this.supports(3) && (this.sb.removeEventListener("updateend", this.Zc), this.sb.removeEventListener("error", this.Zc));
        S.prototype.Da.call(this)
    };
    h.Zo = function(a, b, c) {
        if (!this.supports(2) || this.Ie()) return !1;
        var d = this.Ed(),
            e = gG(d, a);
        if (0 > e) return !1;
        try {
            if (b && e + 1 < d.length) {
                var f = d.start(e + 1),
                    g = d.end(d.length - 1);
                this.L();
                this.remove(f, g);
                return !0
            }
            if (this.isView()) return !1;
            var k = Math.max(0, a - c);
            if (0 < c && d.start(e) < k) return this.L(), this.remove(0, k), !0
        } catch (l) {}
        return !1
    };
    h.L = function() {};
    h.Sn = function() {
        return this.containerType
    };
    h.Et = function() {
        return this.Oo
    };
    var pG = !1;

    function rG(a, b) {
        this.i = a;
        this.l = void 0 === b ? !1 : b;
        this.u = !1
    }
    rG.prototype.dispose = function() {
        if (!this.Ea) {
            if (this.l) try {
                URL.revokeObjectURL(this.i)
            } catch (a) {}
            this.u = !0
        }
    };
    rG.prototype.Ea = function() {
        return this.u
    };
    rG.prototype.toString = function() {
        return "MediaResource {" + this.i + "}"
    };

    function sG(a, b, c) {
        c = void 0 === c ? !1 : c;
        C.call(this);
        this.mediaSource = a;
        this.kd = b;
        this.isView = c;
        this.u = 0;
        this.callback = null;
        this.events = new WF(this);
        E(this, this.events);
        this.Bo = new rG(this.mediaSource ? window.URL.createObjectURL(this.mediaSource) : this.kd.webkitMediaSourceURL, !0);
        a = this.mediaSource || this.kd;
        XF(this.events, a, ["sourceopen", "webkitsourceopen"], this.AG);
        XF(this.events, a, ["sourceclose", "webkitsourceclose"], this.zG)
    }
    v(sG, C);

    function Tia(a, b) {
        tG(a) ? eh(function() {
            b(a)
        }) : a.callback = b
    }
    h = sG.prototype;
    h.getDuration = function() {
        var a;
        return (null === (a = this.mediaSource) || void 0 === a ? void 0 : a.duration) || this.u
    };

    function uG(a, b) {
        try {
            a.mediaSource ? a.mediaSource.duration = b : (a.u = b, a.kd.webkitSourceSetDuration(b))
        } catch (c) {}
    }

    function vG(a) {
        return !!a.i || !!a.l
    }

    function tG(a) {
        try {
            return "open" === wG(a)
        } catch (b) {
            return !1
        }
    }
    h.Ge = function() {
        try {
            return "closed" === wG(this)
        } catch (a) {
            return !0
        }
    };

    function wG(a) {
        if (a.mediaSource) return a.mediaSource.readyState;
        switch (a.kd.webkitSourceState) {
            case a.kd.SOURCE_OPEN:
                return "open";
            case a.kd.SOURCE_ENDED:
                return "ended";
            default:
                return "closed"
        }
    }
    h.Ie = function() {
        return !!(this.i && this.i.Ie() || this.l && this.l.Ie())
    };

    function xG() {
        return !(!window.MediaSource || !window.MediaSource.isTypeSupported)
    }
    h.AG = function() {
        !this.Ea() && tG(this) && this.callback && (this.callback(this), this.callback = null)
    };
    h.zG = function() {
        this.dispose()
    };

    function yG(a, b, c, d) {
        if (!a.i || !a.l) return null;
        var e = a.i.isView() ? a.i.kc : a.i,
            f = a.l.isView() ? a.l.kc : a.l,
            g = new sG(a.mediaSource, a.kd, !0);
        g.Bo = a.Bo;
        e = new mG(e, b, c, d);
        b = new mG(f, b, c, d);
        g.i = e;
        g.l = b;
        E(g, e);
        E(g, b);
        tG(a) || a.i.Fm(a.i.Ub());
        return g
    };
    var Uia = /action_display_post/;

    function Via(a, b) {
        return zG(function(c, d) {
            return ZC(c, d, 4, 1E3)
        }, a, b)
    }

    function AG(a) {
        var b;
        a.responseType && "text" !== a.responseType ? "arraybuffer" === a.responseType && (b = tD(new Uint8Array(a.response))) : b = a.responseText;
        return !b || 2048 < b.length ? "" : 0 === b.indexOf("https://") ? b : ""
    }

    function zG(a, b, c) {
        b.match(Uia);
        return a(b, c).then(function(d) {
            var e = AG(d.xhr);
            return e ? zG(a, e, c) : d.xhr
        })
    };

    function BG(a, b, c) {
        a = void 0 === a ? "" : a;
        b = void 0 === b ? null : b;
        c = void 0 === c ? !1 : c;
        S.call(this);
        this.sourceUrl = a;
        this.isLivePlayback = c;
        this.ra = this.duration = 0;
        this.yd = this.I = this.isLive = this.u = !1;
        this.Ke = this.Xc = 0;
        this.isOtf = this.Rf = !1;
        this.ea = K();
        this.J = Infinity;
        this.i = {};
        this.state = this.U = 0;
        this.timeline = null;
        this.isManifestless = !1;
        this.K = [];
        this.B = null;
        this.T = 0;
        this.va = "";
        this.X = NaN;
        this.G = this.D = this.C = this.timestampOffset = this.l = 0;
        this.Ha = !!b && R(b, "html5_live_nonzero_first_segment_start_time");
        this.Ma = !!b && R(b, "html5_live_self_init_segments");
        this.withCredentials = !b || !R(b, "html5_manifest_without_credentials");
        this.ya = !!b && R(b, "disable_html5_manifest_namespace_redux");
        this.Fa = b && R(b, "disable_html5_duration_caching") ? Infinity : 10;
        this.Ka = !!b && R(b, "html5_reset_index_on_mismatch");
        CG = !!b && R(b, "html5_modern_vp9_mime_type");
        this.Z = !!b && R(b, "html5_unrewrite_timestamps")
    }
    var CG;
    v(BG, S);
    h = BG.prototype;
    h.isFailed = function() {
        return 3 === this.state
    };

    function Wia(a) {
        return Qb(a.i, function(b) {
            return !!b.info.video && b.info.video.isHdr()
        })
    }

    function DG(a) {
        return Qb(a.i, function(b) {
            return !!b.info.Nc
        })
    }

    function Xia(a) {
        return Qb(a.i, function(b) {
            return TF(b.info.mimeType)
        })
    }

    function EG(a) {
        return Qb(a.i, function(b) {
            return b.info.video ? 2 === b.info.video.projectionType : !1
        })
    }

    function FG(a) {
        return Qb(a.i, function(b) {
            return b.info.video ? 3 === b.info.video.projectionType : !1
        })
    }

    function GG(a) {
        return Qb(a.i, function(b) {
            return b.info.video ? 4 === b.info.video.projectionType : !1
        })
    }

    function Yia(a) {
        return Qb(a.i, function(b) {
            return b.info.video ? 1 === b.info.video.stereoLayout : !1
        })
    }

    function Zia(a) {
        return Rb(a.i, function(b) {
            return b.info.video ? b.Xu() : !0
        })
    }

    function nC(a) {
        return Qb(a.i, function(b) {
            return hD(b.l.i)
        })
    }

    function $ia(a) {
        return Qb(a.i, function(b) {
            return !(b.index instanceof iF)
        })
    }

    function HG(a, b) {
        a.i[b.info.id] = b
    }

    function IG(a, b, c, d, e, f) {
        var g = aja(a);
        if (d || e) {
            c = new BG("", null === f || void 0 === f ? void 0 : f.experiments, !0);
            a = t(a);
            for (d = a.next(); !d.done; d = a.next()) {
                var k = d.value;
                d = JG(k, b);
                f = KG(k.url, k.sp, k.s);
                g = Number(k.target_duration_sec) || 5;
                k = Number(k.max_dvr_duration_sec) || 14400;
                var l = Number(f.get("mindsq") || f.get("min_sq") || "0"),
                    m = Number(f.get("maxdsq") || f.get("max_sq") || "0") || Infinity;
                c.Xc = c.Xc || l;
                c.Ke = c.Ke || m;
                var n = !TF(d.mimeType);
                f && HG(c, new eF(f, d, {
                    Zf: g,
                    Cg: n,
                    Hh: k,
                    Xc: l,
                    Ke: m,
                    Ao: 300,
                    yd: e
                }))
            }
            c.u = !e;
            c.Rf = !0;
            c.isManifestless = !0;
            c.isLive = !e;
            c.yd = e;
            c.I = !!c.Xc && !!c.Ke && isFinite(c.Ke);
            b = c
        } else b = 3 === g ? bja(a, b, c, null === f || void 0 === f ? void 0 : f.experiments) : cja(a, b, c, f);
        return b
    }

    function cja(a, b, c, d) {
        c = void 0 === c ? 0 : c;
        var e = new BG("", null === d || void 0 === d ? void 0 : d.experiments, !1);
        e.duration = c || 0;
        nb(a, function(f) {
            var g = JG(f, b, e.duration),
                k = xE(f.init),
                l = xE(f.index);
            (f = KG(f.url, f.sp, f.s)) && HG(e, new FF(f, g, k, l, null === d || void 0 === d ? void 0 : d.ke))
        });
        return e
    }

    function bja(a, b, c, d) {
        c = void 0 === c ? 0 : c;
        var e = new BG("", d, !1);
        e.duration = c || 0;
        nb(a, function(f) {
            var g = JG(f, b, e.duration),
                k = KG(f.url, f.sp, f.s);
            if (k)
                if (3 === g.streamType) HG(e, new fF(k, g, "sq/0"));
                else {
                    var l = xE(f.init);
                    f = xE(f.index);
                    HG(e, new FF(k, g, l, f))
                }
        });
        e.isOtf = !0;
        return e
    }

    function JG(a, b, c) {
        c = void 0 === c ? 0 : c;
        var d = a.type;
        var e = a.itag;
        var f = a.xtags;
        f && (e = a.itag + ";" + f);
        if (/(vp9|vp09|vp8|avc1|av01)/.test(d)) {
            var g = (a.size || "640x360").split("x");
            g = new MF(+g[0], +g[1], +a.fps, +a.projection_type, +a.stereo_layout, void 0, a.quality_label, a.eotf, a.primaries);
            f = g;
            null === LG && (LG = window.MediaSource && MediaSource.isTypeSupported && MediaSource.isTypeSupported('video/webm; codecs="vp09.02.51.10.01.09.16.09.00"') && !MediaSource.isTypeSupported('video/webm; codecs="vp09.02.51.10.01.09.99.99.00"'));
            if (CG && window.MediaSource && MediaSource.isTypeSupported) !LG && 0 < d.indexOf("vp09.00") ? d = 'video/webm; codecs="vp9"' : !LG && 0 < d.indexOf("vp09.02") && (d = 'video/webm; codecs="vp9.2"');
            else if ((LG || MG) && ('video/webm; codecs="vp9"' === d || 'video/webm; codecs="vp9.2"' === d)) {
                var k = "00",
                    l = "08",
                    m = "01",
                    n = "01",
                    p = "01";
                'video/webm; codecs="vp9.2"' === d && (k = "02", l = "10", "bt2020" === f.primaries && (p = m = "09"), "smpte2084" === f.l && (n = "16"), "arib-std-b67" === f.l && (n = "18"));
                d = 'video/webm; codecs="' + ["vp09", k, "51", l, "01", m, n, p, "00"].join(".") +
                    '"'
            }
        }
        var q;
        if (/(opus|mp4a|dtse|ac-3|ec-3)/.test(d)) {
            var r = new HF(+a.audio_sample_rate || void 0, +a.audio_channels || 0, +a.spatial_audio_type);
            a.name && (q = new VF(a.name, a.audio_track_id, "1" === a.isDefault))
        }
        var u;
        a.caption_display_name && a.caption_vss_id && a.caption_language_code && (u = new Qia(a.caption_display_name, a.caption_vss_id, a.caption_language_code, a.caption_kind));
        f = Number(a.bitrate) / 8;
        k = Number(a.clen);
        l = Number(a.lmt);
        c = c && k ? k / c : 0;
        if (b && a.drm_families) {
            var x = {};
            m = t(a.drm_families.split(","));
            for (n =
                m.next(); !n.done; n = m.next()) n = n.value, x[n] = b[n]
        }
        return new OF(e, d, {
            audio: r,
            video: g,
            Ob: q,
            Nc: x,
            qb: f,
            Bn: c,
            contentLength: k,
            lastModified: l,
            captionTrack: u,
            streamType: +a.stream_type
        })
    }

    function aja(a) {
        return rb(a, function(b) {
            return 3 === +b.stream_type
        }) ? 3 : 0
    }
    h.UG = function(a) {
        var b, c = a.getElementsByTagName("Representation");
        if (0 < a.getElementsByTagName("SegmentList").length || 0 < a.getElementsByTagName("SegmentTemplate").length) {
            this.Rf = this.u = !0;
            this.timeline || (this.timeline = new Jia);
            Kia(this.timeline, a, this.Ha);
            this.W("refresh");
            for (a = 0; a < c.length; a++) {
                var d = NG(this, c[a]),
                    e = this.isLive && zF(d) && this.Ma;
                if (!this.i[d.id]) {
                    var f = KG(UE(c[a], "BaseURL").textContent),
                        g = UE(c[a], "Initialization"),
                        k = TE(g, "sourceURL");
                    g = xE(TE(g, "range"));
                    e && (k = "", g = void 0);
                    this.i[d.id] =
                        new RE(f, d, k, g)
                }
                d = this.i[d.id];
                f = TE(c[a], "id", "AdaptationSet");
                f = "" !== f ? f : TE(c[a], "mimetype", "AdaptationSet");
                k = this.timeline;
                k = k.u[d.info.id] || k.l[f] || k.i || null;
                f = k.i;
                !this.l && k.getStreamTimeOffset() && (this.l = k.getStreamTimeOffset());
                if (k.C)
                    for (e = [], f = t(f), g = f.next(); !g.done; g = f.next()) {
                        g = g.value;
                        var l = d.info.id,
                            m = 8 * d.info.qb,
                            n = g.oa,
                            p = g.startSecs;
                        var q = k.G.split("$$");
                        for (b = 0; b < q.length; b++) q[b] = q[b].replace("$RepresentationID$", l), q[b] = q[b].replace("$Number$", n.toString()), q[b] = q[b].replace("$Bandwidth$",
                            m.toString()), q[b] = q[b].replace("$Time$", p.toString());
                        e.push(new nD(g.oa, g.startSecs, g.durationSecs, g.i, q.join("$"), null, g.l))
                    } else {
                        k = Fb(UE(c[a], "SegmentList").getElementsByTagName("SegmentURL"), k.D);
                        g = [];
                        for (l = 0; l < k.length; l++) {
                            m = g;
                            n = m.push;
                            p = f[l];
                            q = void 0;
                            var r = k[l];
                            b = r.getAttribute("media");
                            if (!e && (r = r.getAttribute("mediaRange"))) {
                                var u = r.split("-");
                                u[1] && 0 <= Number(u[1]) ? q = xE(r) : b = b + "?range=" + r
                            }
                            n.call(m, new nD(p.oa, p.startSecs, p.durationSecs, p.i, b, q, p.l))
                        }
                        e = g
                    }
                d.update(e, this.isLive, this.ra)
            }
            Oia(this.timeline);
            return !0
        }
        this.duration = VE(TE(a, "mediaPresentationDuration"));
        a: {
            for (a = 0; a < c.length; a++) {
                f = c[a];
                d = NG(this, f);
                e = KG(UE(f, "BaseURL").textContent);
                k = UE(f, "SegmentBase");
                f = xE(k.attributes.getNamedItem("indexRange").value);
                k = xE(k.getElementsByTagName("Initialization")[0].attributes.getNamedItem("range").value);
                d = new FF(e, d, k, f);
                if (!d) {
                    c = !1;
                    break a
                }
                HG(this, d)
            }
            c = !0
        }
        return c
    };

    function OG(a, b) {
        return a.timeline ? Fb(a.timeline.B, b) : a.K.length ? Fb(a.K, b) : []
    }

    function KG(a, b, c) {
        b = void 0 === b ? "" : b;
        c = void 0 === c ? "" : c;
        a = new dD(a, !0);
        a.set("alr", "yes");
        c && (c = cD(decodeURIComponent(c)), a.set(b, encodeURIComponent(c)));
        return a
    }

    function NG(a, b) {
        var c = TE(b, "id");
        c = c.replace(":", ";");
        var d = TE(b, "mimeType"),
            e = TE(b, "codecs");
        d = e ? d + '; codecs="' + e + '"' : d;
        e = Number(TE(b, "bandwidth")) / 8;
        var f = Number(UE(b, "BaseURL").getAttribute(PG(a, "contentLength"))),
            g = a.duration && f ? f / a.duration : 0;
        if (/(vp9|vp09|vp8|avc1|av01)/.test(d)) {
            var k = Number(TE(b, "width"));
            var l = Number(TE(b, "height")),
                m = Number(TE(b, "frameRate")),
                n = dja(TE(b, PG(a, "projectionType")));
            a: switch (TE(b, PG(a, "stereoLayout"))) {
                case "layout_left_right":
                    var p = 1;
                    break a;
                case "layout_top_bottom":
                    p =
                        2;
                    break a;
                default:
                    p = 0
            }
            k = new MF(k, l, m, n, p)
        }
        if (/(opus|mp4a|dtse|ac-3|ec-3)/.test(d)) {
            var q = Number(TE(b, "audioSamplingRate"));
            var r = Number(TE(b.getElementsByTagName("AudioChannelConfiguration")[0], "value"));
            l = eja(TE(b, PG(a, "spatialAudioType")));
            q = new HF(q, r, l);
            a: {
                r = TE(b, "lang") || "und";
                if (l = UE(b, "Role"))
                    if (n = TE(l, "value") || "", Wb(QG, n)) {
                        l = r + "." + QG[n];
                        m = "main" === n;
                        a = TE(b, PG(a, "langName")) || r + " - " + n;
                        r = new VF(a, l, m);
                        break a
                    } r = void 0
            }
        }
        if (b = UE(b, "ContentProtection"))
            if ("http://youtube.com/drm/2012/10/10" ===
                b.getAttribute("schemeIdUri")) {
                var u = {};
                for (b = b.firstChild; null != b; b = b.nextSibling) b instanceof Element && /SystemURL/.test(b.nodeName) && (a = b.getAttribute("type"), l = b.textContent, a && l && (u[a] = l.trim()))
            } else u = void 0;
        return new OF(c, d, {
            audio: q,
            video: k,
            Ob: r,
            Nc: u,
            qb: e,
            Bn: g,
            contentLength: f
        })
    }

    function dja(a) {
        switch (a) {
            case "equirectangular":
                return 2;
            case "equirectangular_threed_top_bottom":
                return 3;
            case "mesh":
                return 4;
            case "rectangular":
                return 1;
            default:
                return 0
        }
    }

    function eja(a) {
        switch (a) {
            case "spatial_audio_type_ambisonics_5_1":
                return 1;
            case "spatial_audio_type_ambisonics_quad":
                return 2;
            case "spatial_audio_type_foa_with_non_diegetic":
                return 3;
            default:
                return 0
        }
    }

    function RG(a, b) {
        b = void 0 === b ? "" : b;
        a.state = 1;
        a.ea = K();
        return xh(Via(b || a.sourceUrl, {
            format: "RAW",
            method: "GET",
            withCredentials: a.withCredentials
        }).then(function(c) {
            if (!a.Ea()) {
                a.U = c.status;
                c = c.responseText;
                var d = new DOMParser;
                c = xd(d, Xl(c), "text/xml").getElementsByTagName("MPD")[0];
                a.J = 1E3 * VE(TE(c, "minimumUpdatePeriod")) || Infinity;
                if (!a.ya) {
                    b: {
                        if (c.attributes) {
                            d = t(c.attributes);
                            for (var e = d.next(); !e.done; e = d.next())
                                if (e = e.value, "http://youtube.com/yt/2012/10/10" === e.value) {
                                    d = e.name.split(":")[1];
                                    break b
                                }
                        }
                        d =
                        ""
                    }
                    a.va = d
                }
                a.isLive = Infinity > a.J && a.isLivePlayback;
                a.ra = Number(TE(c, PG(a, "earliestMediaSequence"))) || 0;
                if (d = Date.parse(WE(TE(c, PG(a, "mpdResponseTime"))))) a.T = (Date.now() - d) / 1E3;
                a.isLive && 0 >= c.getElementsByTagName("SegmentTimeline").length || sb(c.getElementsByTagName("Period"), a.UG, a);
                a.state = 2;
                a.W("loaded");
                SG(a)
            }
            return a
        }), function(c) {
            if (c instanceof YC) {
                var d = c.xhr;
                a.U = d.status
            }
            a.state = 3;
            a.W("loaderror");
            return qh(d)
        })
    }

    function fja(a, b, c) {
        return RG(new BG(a, b, c), a)
    }

    function TG(a) {
        return a.isLive && K() - a.ea >= a.J
    }
    h.refresh = function() {
        if (1 !== this.state && !this.Ea()) {
            var a = Ti(this.sourceUrl, {
                start_seq: gja(this).toString()
            });
            xh(RG(this, a), function() {})
        }
    };
    h.resume = function() {
        SG(this)
    };

    function SG(a) {
        var b = a.J;
        isFinite(b) && (TG(a) ? a.refresh() : (b = Math.max(0, a.ea + b - K()), a.B || (a.B = new dr(a.refresh, b, a), E(a, a.B)), a.B.start(b)))
    }

    function gja(a) {
        a = a.i;
        for (var b in a) {
            var c = a[b].index;
            if (c.isLoaded()) return c.getLastSegmentNumber() + 1
        }
        return 0
    }

    function UG(a) {
        if (a.isManifestless && a.I && VG(a)) return VG(a);
        a = a.i;
        var b = !1,
            c = NaN,
            d = NaN,
            e;
        for (e in a) {
            var f = a[e],
                g = f.index;
            g.isLoaded() && (f.D && (b = !0), g = g.getMaxKnownEndTime(), f.info.aj() && (isNaN(c) || g < c) ? c = g : f.info.isVideo() && (isNaN(d) || g < d) && (d = g))
        }
        return b || isNaN(d) ? c : Math.min(c, d)
    }
    h.getMinSeekableTime = function() {
        if (this.isManifestless) {
            if (WG(this)) return WG(this);
            if (this.G) {
                var a = this.getIngestionTime(UG(this));
                if (a && (a -= this.G, 0 < a)) return UG(this) - a
            }
        }
        a = this.i;
        for (var b in a) {
            var c = a[b].index;
            if (c.isLoaded()) return c.getMinSeekableTime()
        }
        return 0
    };
    h.getStreamTimeOffset = function() {
        return this.l
    };

    function VG(a) {
        return a.C && (a.l || a.Z) ? a.C - (a.l || a.timestampOffset) : 0
    }

    function WG(a) {
        return a.D && (a.l || a.Z) ? a.D - (a.l || a.timestampOffset) : 0
    }

    function XG(a) {
        if (!isNaN(a.X)) return a.X;
        var b = a.i,
            c;
        for (c in b) {
            var d = b[c].index;
            if (d.isLoaded()) {
                b = 0;
                for (c = d.getFirstSegmentNumber(); c <= d.getLastSegmentNumber(); c++) b += d.getDuration(c);
                b /= d.getNumberOfSegments();
                b = .5 * Math.round(b / .5);
                d.getNumberOfSegments() > a.Fa && (a.X = b);
                return b
            }
            if (a.isLive && (d = b[c], d.Zf)) return d.Zf
        }
        return NaN
    }
    h.getIngestionTime = function(a) {
        for (var b in this.i) {
            var c = this.i[b].index;
            if (c.isLoaded()) {
                var d = c.getSegmentNumberForTime(a),
                    e = c.getIngestionTime(d);
                if (e) return e + a - c.getStartTime(d)
            }
        }
        return NaN
    };

    function hja(a, b) {
        a = ac(a.i, function(d) {
            return d.index.isLoaded()
        });
        if (!a) return NaN;
        a = a.index;
        var c = a.getSegmentNumberForTime(b);
        return a.getStartTime(c) === b ? b : c < a.getLastSegmentNumber() ? a.getStartTime(c + 1) : NaN
    }

    function ija(a, b) {
        Nb(a.i, function(c) {
            Nb(b, function(d, e) {
                var f = c.l;
                f.i.set(e, d);
                f.B.set(e, d);
                f.u && f.u.set(e, d)
            })
        })
    }

    function jja(a, b) {
        if (!a.i["0"]) {
            var c = new OF("0", "fakesb", {
                video: new MF(0, 0, 0, void 0, void 0, "auto")
            });
            a.i["0"] = b ? new RE(new dD("http://www.youtube.com/videoplayback"), c, "fake") : new FF(new dD("http://www.youtube.com/videoplayback"), c, new wE(0, 0), new wE(0, 0))
        }
    }

    function YG(a, b, c) {
        for (var d in a.i) {
            var e = TF(a.i[d].info.mimeType) || a.i[d].info.isVideo();
            if (c === e) {
                e = a.i[d].index;
                var f = dF(e, b);
                0 <= f && e.segments.splice(f, 1)
            }
        }
    }

    function PG(a, b) {
        return a.ya ? "yt:" + b : a.va + ":" + b
    }

    function kja(a) {
        return tb(Object.values(a.i), function(b) {
            return b.info.Nc && b.info.video ? 480 < b.info.video.i && "H" === b.info.i : !1
        })
    }

    function lja(a) {
        a.D = 0;
        a.C = 0;
        a.G = 0
    }
    var LG = null,
        MG = !1,
        QG = {
            commentary: 1,
            alternate: 2,
            dub: 3,
            main: 4
        };

    function ZG() {
        this.Oa = 0;
        this.i = null
    }
    ZG.prototype.then = function(a, b, c) {
        return 1 === this.Oa && a ? (a = a.call(c, this.i), jh(a) ? a : $G(a)) : 2 === this.Oa && b ? (a = b.call(c, this.i), jh(a) ? a : aH(a)) : this
    };
    ZG.prototype.getValue = function() {
        return this.i
    };
    ZG.prototype.$goog_Thenable = !0;

    function aH(a) {
        var b = new ZG;
        a = void 0 === a ? null : a;
        b.Oa = 2;
        b.i = void 0 === a ? null : a;
        return b
    }

    function $G(a) {
        var b = new ZG;
        a = void 0 === a ? null : a;
        b.Oa = 1;
        b.i = void 0 === a ? null : a;
        return b
    };

    function bH(a) {
        Za.call(this, a.message || a.description || a.name);
        this.isMissing = a instanceof cH;
        this.isTimeout = a instanceof YC && "net.timeout" == a.errorCode;
        this.isCanceled = a instanceof yh
    }
    v(bH, Za);
    bH.prototype.name = "BiscottiError";

    function cH() {
        Za.call(this, "Biscotti ID is missing from server")
    }
    v(cH, Za);
    cH.prototype.name = "BiscottiMissingError";
    var dH = {
            format: "RAW",
            method: "GET",
            timeout: 5E3,
            withCredentials: !0
        },
        eH = null;

    function mja() {
        if (I("condition_biscotti_fetch_on_consent_cookie_html5_clients") && !hz()) return qh(Error("User has not consented - not fetching biscotti id."));
        if ("1" == ec(G("PLAYER_VARS", {}), "privembed", !1)) return qh(Error("Biscotti ID is not available in private embed mode"));
        eH || (eH = xh(XC("//googleads.g.doubleclick.net/pagead/id", dH).then(fH), function(a) {
            return gH(2, a)
        }));
        return eH
    }

    function fH(a) {
        a = a.xhr.responseText;
        if (!zc(a, ")]}'")) throw new cH;
        a = JSON.parse(a.substr(4));
        if (1 < (a.type || 1)) throw new cH;
        a = a.id;
        lt(a);
        eH = $G(a);
        hH(18E5, 2);
        return a
    }

    function gH(a, b) {
        b = new bH(b);
        lt("");
        eH = aH(b);
        0 < a && hH(12E4, a - 1);
        throw b;
    }

    function hH(a, b) {
        Ts(function() {
            xh(XC("//googleads.g.doubleclick.net/pagead/id", dH).then(fH, function(c) {
                return gH(b, c)
            }), Ka)
        }, a)
    }

    function iH() {
        try {
            var a = Ja("yt.ads.biscotti.getId_");
            return a ? a() : mja()
        } catch (b) {
            return qh(b)
        }
    };
    var jH = {
            cupcake: 1.5,
            donut: 1.6,
            eclair: 2,
            froyo: 2.2,
            gingerbread: 2.3,
            honeycomb: 3,
            "ice cream sandwich": 4,
            jellybean: 4.1,
            kitkat: 4.4,
            lollipop: 5.1,
            marshmallow: 6,
            nougat: 7.1
        },
        kH;
    a: {
        var lH = fd;lH = lH.toLowerCase();
        if (-1 != lH.indexOf("android")) {
            var mH = lH.match(/android\s*(\d+(\.\d+)?)[^;|)]*[;)]/);
            if (mH) {
                var nH = parseFloat(mH[1]);
                if (100 > nH) {
                    kH = nH;
                    break a
                }
            }
            var oH = lH.match("(" + Vb(jH).join("|") + ")");
            kH = oH ? jH[oH[0]] : 0
        } else kH = void 0
    }
    var pH = kH,
        qH = 0 <= pH;

    function nja() {
        this.i = 0
    };
    var oja = {
        RED: "red",
        UT: "white"
    };
    var pja = {
        iI: "adunit",
        gL: "detailpage",
        sL: "editpage",
        vL: "embedded",
        wL: "embedded_unbranded",
        mN: "leanback",
        fR: "previewpage",
        iR: "profilepage",
        eT: "unplugged",
        ZQ: "playlistoverview",
        pS: "sponsorshipsoffer",
        jS: "shortspage"
    };

    function qja(a, b) {
        this.experimentIds = a ? a.split(",") : [];
        this.flags = mt(b || "", "&");
        var c = {};
        nb(this.experimentIds, function(d) {
            c[d] = !0
        });
        this.experiments = c
    }

    function R(a, b) {
        return "true" === a.flags[b]
    }

    function U(a, b) {
        return Number(a.flags[b]) || 0
    }

    function rH(a, b) {
        return (a = a.flags[b]) ? a.toString() : ""
    };

    function sH(a, b, c) {
        this.experiments = a;
        this.K = b;
        this.U = void 0 === c ? !1 : c;
        this.D = !!Ja("cast.receiver.platform.canDisplayType");
        this.C = {};
        this.I = !1;
        this.i = new Map;
        this.G = !0;
        this.B = !R(this.experiments, "html5_disable_protected_hdr");
        this.l = !1;
        this.J = R(this.experiments, "html5_disable_vp9_encrypted");
        a = Ja("cast.receiver.platform.getValue");
        this.u = !this.D && a && a("max-video-resolution-vpx") || null
    }
    sH.prototype.canPlayType = function(a, b) {
        a = a.canPlayType ? a.canPlayType(b) : !1;
        uu ? a = a || rja[b] : 2.2 === pH ? a = a || sja[b] : wu() && (a = a || tja[b]);
        return !!a
    };

    function tH(a, b, c) {
        c = void 0 === c ? 1 : c;
        var d = b.Ib();
        if ("0" === d || R(a.experiments, "html5_use_media_capability") && b.isSupported) return !0;
        var e = b.mimeType;
        if ("278" === d) return "ultlow";
        if (SF(b) && a.I) return "dav1";
        b.video && b.video.isHdr();
        if ("338" === d && !(Ne ? Er(53) : Je && Er(64))) return "dopus";
        var f = c;
        f = void 0 === f ? 1 : f;
        c = {};
        b.video && (b.video.width && (c[JF.WIDTH.name] = b.video.width), b.video.height && (c[JF.HEIGHT.name] = b.video.height), b.video.fps && (c[JF.FRAMERATE.name] = b.video.fps * f), b.video.l && (c[JF.EOTF.name] = b.video.l),
            b.qb && (c[JF.BITRATE.name] = 8 * b.qb * f), "(" === b.i && (c[JF.CRYPTOBLOCKFORMAT.name] = "subsample"), 2 === b.video.projectionType || 3 === b.video.projectionType || 4 === b.video.projectionType) && (c[JF.DECODETOTEXTURE.name] = "true");
        b.audio && b.audio.i && (c[JF.CHANNELS.name] = b.audio.i);
        a.l && QF(b) && (c[JF.EXPERIMENTAL.name] = "allowed");
        f = t(Object.keys(JF));
        for (var g = f.next(); !g.done; g = f.next()) {
            g = JF[g.value];
            var k;
            if (k = c[g.name])(k = g === JF.EOTF && 0 < b.mimeType.indexOf("vp09.02")) || (k = b, k = R(a.experiments, "html5_ignore_h264_framerate_cap") &&
                g === JF.FRAMERATE && ("H" === k.i || "h" === k.i)), k = !(k || g === JF.DECODETOTEXTURE && !R(a.experiments, "html5_decode_to_texture_cap"));
            if (k)
                if (uH(a, g))
                    if (a.u) {
                        if (a.u[g.name] < c[g.name]) return g.name
                    } else e = e + "; " + g.name + "=" + c[g.name];
            else if (RF(b) && g === JF.EOTF) return "dvp92"
        }!R(a.experiments, "disable_html5_cast_hdcp_filter2") && a.D && b.video && 1080 < b.video.i && b.Nc && (e += "; hdcp=2.2");
        return "227" !== d || R(a.experiments, "html5_enable_1080p_hq_cenc") ? "585" !== d && "588" !== d && "583" !== d && "586" !== d && "584" !== d && "587" !== d && "591" !==
            d && "592" !== d || R(a.experiments, "html5_enable_new_hvc_enc") ? a.isTypeSupported(e) ? !0 : "tpus" : "newhvc" : "hqcenc"
    }

    function vH() {
        var a = wu() && !Er(29),
            b = xu("google tv") && xu("chrome") && !Er(30),
            c = Bu();
        return a || b || c ? !1 : !!(window.MediaSource || window.WebKitMediaSource || window.HTMLMediaElement && HTMLMediaElement.prototype.webkitSourceAddId)
    }

    function wH(a, b, c) {
        var d = 480;
        b = t(b);
        for (var e = b.next(); !e.done; e = b.next())
            if (e = e.value, !(1080 < e.video.i) && tH(a, e, c)) {
                d = e.video.i;
                break
            } return d
    }

    function xH(a, b) {
        b = void 0 === b ? !1 : b;
        return vH() && a.isTypeSupported('audio/mp4; codecs="mp4a.40.2"') || !b && a.canPlayType(ZF(), "application/x-mpegURL") ? !0 : !1
    }

    function uH(a, b) {
        b.name in a.C || (a.C[b.name] = uja(a, b));
        return a.C[b.name]
    }

    function uja(a, b) {
        if (a.u) return !!a.u[b.name];
        if (b === JF.BITRATE && R(a.experiments, "html5_ignore_bad_bitrates") && a.isTypeSupported('video/webm; codecs="vp9"; width=3840; height=2160; bitrate=2000000') && !a.isTypeSupported('video/webm; codecs="vp9"; width=3840; height=2160; bitrate=20000000')) return !1;
        if (b === JF.AV1_CODECS) return a.isTypeSupported("video/mp4; codecs=" + b.valid) && !a.isTypeSupported("video/mp4; codecs=" + b.invalid);
        if (b.video) {
            var c = 'video/webm; codecs="vp9"';
            a.isTypeSupported(c) || (c = 'video/mp4; codecs="avc1.4d401e"')
        } else c =
            'audio/webm; codecs="opus"', a.isTypeSupported(c) || (c = 'audio/mp4; codecs="mp4a.40.2"');
        return a.isTypeSupported(c + "; " + b.name + "=" + b.valid) && !a.isTypeSupported(c + "; " + b.name + "=" + b.invalid)
    }
    sH.prototype.isTypeSupported = function(a) {
        this.L();
        return this.D ? window.cast.receiver.platform.canDisplayType(a) : aG(a)
    };
    sH.prototype.disableAv1 = function() {
        this.I = !0
    };
    sH.prototype.L = function() {};
    var sja = {
            'video/mp4; codecs="avc1.42001E, mp4a.40.2"': "maybe"
        },
        tja = {
            "application/x-mpegURL": "maybe"
        },
        rja = {
            "application/x-mpegURL": "maybe"
        };

    function yH() {
        S.call(this);
        this.items = {}
    }
    v(yH, S);
    yH.prototype.add = function(a, b) {
        !this.items[a] && (b.Ox || b.RD || b.bw) && (this.items[a] = kc(b), this.W("vast_info_card_add", a))
    };
    yH.prototype.remove = function(a) {
        var b = this.get(a);
        delete this.items[a];
        return b
    };
    yH.prototype.get = function(a) {
        return this.items[a] || null
    };
    yH.prototype.isEmpty = function() {
        return bc(this.items)
    };
    var zH = {
        FN: 1,
        GN: 2,
        HN: 3,
        1: "LOAD_POLICY_ALWAYS",
        2: "LOAD_POLICY_BY_PREFERENCE",
        3: "LOAD_POLICY_BY_REQUEST"
    };

    function vja(a, b) {
        this.encryptedClientKey = b;
        this.i = new Uint8Array(a.buffer, 0, 16);
        this.l = new Uint8Array(a.buffer, 16)
    };

    function AH(a) {
        try {
            return Od(a)
        } catch (b) {
            return null
        }
    };

    function wja(a, b) {
        if (!b && a) try {
            b = JSON.parse(a)
        } catch (e) {}
        if (b) {
            a = b.clientKey ? AH(b.clientKey) : null;
            var c = b.encryptedClientKey ? AH(b.encryptedClientKey) : null,
                d = b.keyExpiresInSeconds ? 1E3 * Number(b.keyExpiresInSeconds) + K() : null;
            a && c && d && (this.i = new vja(a, c));
            b.onesieUstreamerConfig && (this.onesieUstreamerConfig = AH(b.onesieUstreamerConfig) || void 0);
            this.baseUrl = b.baseUrl
        }
    };

    function BH() {
        this.u = this.i = 0;
        this.l = Array.from({
            length: CH.length
        }).fill(0)
    }
    BH.prototype.fh = function(a, b) {
        var c = this;
        b = void 0 === b ? 1 : b;
        this.i += b;
        this.u += a;
        var d = a / b;
        CH.forEach(function(e, f) {
            d < e || (c.l[f] += b)
        })
    };
    BH.prototype.toString = function() {
        return ""
    };
    var CH = [20, 100, 500, 2E3];

    function DH() {}

    function EH(a) {
        this.name = a;
        this.startTimeMs = K();
        this.i = !1
    }

    function FH() {
        this.profiles = new DH
    }
    h = FH.prototype;
    h.isActive = function() {
        return !0
    };
    h.jq = function(a, b) {
        var c = this;
        if (b) {
            var d = {},
                e;
            for (e in b) b.hasOwnProperty(e) && (d.Ar = a.prototype[e], d.Cr = b[e], a.prototype[e] = function(f) {
                return function(g) {
                    for (var k = [], l = 0; l < arguments.length; ++l) k[l - 0] = arguments[l];
                    l = K();
                    k = f.Ar.apply(this, k);
                    GH(c, f.Cr, K() - l);
                    return k
                }
            }(d)), d = {
                Ar: d.Ar,
                Cr: d.Cr
            }
        }
    };
    h.pc = function(a, b) {
        var c = this;
        return function(d) {
            for (var e = [], f = 0; f < arguments.length; ++f) e[f - 0] = arguments[f];
            f = K();
            e = b.apply(null, e);
            GH(c, a, K() - f);
            return e
        }
    };
    h.So = function(a) {
        return new EH(a)
    };
    h.Nn = function(a, b) {
        b = void 0 === b ? 1 : b;
        a instanceof EH && (GH(this, a.name, K() - a.startTimeMs, b), a.i = !0)
    };
    h.qv = function(a, b) {
        var c = void 0 === c ? 1 : c;
        var d = K();
        b();
        GH(this, a, K() - d, c)
    };

    function GH(a, b, c, d) {
        d = void 0 === d ? 1 : d;
        0 <= c && (b in a.profiles || (a.profiles[b] = new BH), a.profiles[b].fh(c, d))
    }
    h.By = function() {
        var a = "",
            b;
        for (b in this.profiles)
            if (this.profiles.hasOwnProperty(b)) {
                var c = this.profiles[b];
                if (0 === c.i) c = null;
                else {
                    for (var d = c.i.toString() + "." + Math.round(c.u).toString(), e = 0; e < CH.length; ++e)
                        if (0 < c.l[e]) d += "." + CH[e].toString() + "_" + Math.round(c.l[e]).toString();
                        else break;
                    c = d
                }
                c && (a += b + "." + c + ";")
            } this.profiles = new DH;
        return a
    };
    h.toString = function() {
        return ""
    };

    function HH() {}
    h = HH.prototype;
    h.isActive = function() {
        return !1
    };
    h.jq = function() {};
    h.pc = function(a, b) {
        return b
    };
    h.So = function() {};
    h.Nn = function() {};
    h.qv = function(a, b) {
        b()
    };
    h.By = function() {
        return ""
    };
    h.toString = function() {
        return ""
    };
    var IH = new HH,
        JH = zs("html5_enable_profiler") || zs("html5_onesie_enable_profiler") ? new FH : new HH,
        KH = zs("html5_enable_profiler") ? JH : IH,
        LH = zs("html5_onesie_enable_profiler") ? JH : IH;
    var xja = KH.pc("plssv", function(a) {
            a.unstorable || (vy("yt-player-volume", a), vy("yt-player-volume", a, 2592E3))
        }),
        yja = KH.pc("plsgv", function() {
            var a = zy("yt-player-volume") || {},
                b = a.volume;
            return {
                volume: isNaN(b) ? 100 : rg(Math.floor(b), 0, 100),
                muted: !!a.muted
            }
        }),
        MH = KH.pc("plssbs", function(a) {
            vy("yt-player-bandwidth", a, 2592E3)
        }),
        zja = KH.pc("plsgbs", function() {
            return zy("yt-player-bandwidth") || {}
        }),
        Aja = KH.pc("plswm", function(a, b) {
            var c = {};
            c.values = a;
            c.halfLives = b;
            vy("yt-player-memory", c, 2592E3)
        }),
        Bja = KH.pc("plssq", function(a, b) {
            vy("yt-player-quality", {
                quality: a,
                previousQuality: b
            }, 31104E3)
        }),
        NH = KH.pc("plsgq", function(a) {
            a = void 0 === a ? 2592E3 : a;
            if (0 < a && !(Ay() > K() - 1E3 * a)) return 0;
            a = zy("yt-player-quality");
            if ("string" === typeof a) {
                if (a = OA[a], 0 < a) return a
            } else if (a instanceof Object) return a.quality;
            return 0
        });

    function Cja() {
        var a = zy("yt-player-quality");
        if (a instanceof Object && a.quality && a.previousQuality) {
            if (a.quality > a.previousQuality) return 1;
            if (a.quality < a.previousQuality) return -1
        }
        return 0
    }
    var Dja = KH.pc("plshsq", function() {
            return 0 < NH()
        }),
        OH = KH.pc("plslm", function() {
            var a = {
                values: {},
                Nh: {}
            };
            try {
                var b = JSON.parse(JSON.parse(window.localStorage["yt-player-memory"]).data);
                a.values = b.values;
                a.halfLives = b.halfLives
            } catch (c) {}
            return a
        });

    function PH(a, b) {
        var c = "";
        49 < b ? c = "p60" : 32 < b && (c = "p48");
        return a + c
    }
    var Eja = KH.pc("plsspc", function(a, b, c) {
            var d = QH();
            a = PH(a, b);
            0 < +d[a] && (c = Math.min(+d[a], c));
            d[a] !== c && (d[a] = c, vy("yt-player-performance-cap", d, 604800))
        }),
        RH = KH.pc("plsgpc", function(a, b) {
            return +QH()[PH(a, b)] || 8192
        }),
        QH = KH.pc("plsgrpd", function() {
            return zy("yt-player-performance-cap") || {}
        }),
        Fja = KH.pc("plscpc", function(a) {
            if (a) {
                a = QH();
                for (var b = t(Object.keys(a)), c = b.next(); !c.done; c = b.next()) c = c.value, 0 !== c.indexOf("1") && (a[c] = 0);
                vy("yt-player-performance-cap", a, 604800)
            } else try {
                b = yy(), c = wy(), b && b.remove("yt-player-performance-cap"), c && c.remove("yt-player-performance-cap")
            } catch (d) {}
        }),
        Gja = KH.pc("plsspr", function(a) {
            vy("yt-player-playback-rate", a)
        }),
        Hja = KH.pc("plsgpr", function() {
            return Number(zy("yt-player-playback-rate")) || 1
        }),
        bia = KH.pc("plssas", function(a) {
            vy("yt-player-autonavstate", a)
        }),
        Ija = KH.pc("plsgas", function() {
            return zy("yt-player-autonavstate")
        }),
        Jja = KH.pc("plsshr", function(a) {
            vy("yt-player-headers-readable", a, 2592E3)
        }),
        SH = KH.pc("plsghr", function() {
            return !!zy("yt-player-headers-readable")
        }),
        Kja = KH.pc("plssrbh", function(a) {
            vy("yt-player-bandaid-host", a, 432E3)
        }),
        Lja = KH.pc("plsgrbh", function() {
            return zy("yt-player-bandaid-host")
        }),
        Mja = KH.pc("plsspor", function(a) {
            vy("yt-player-playback-on-reload", a)
        }),
        Nja = KH.pc("plsgpor", function() {
            return zy("yt-player-playback-on-reload")
        }),
        TH = KH.pc("plsgaup", function() {
            try {
                return +(window.localStorage && window.localStorage["yt-player-av1-pref"]) ||
                    0
            } catch (a) {
                return 0
            }
        }),
        Oja = KH.pc("plssscp", function(a) {
            vy("yt-player-sticky-caption", a, 2592E3)
        }),
        UH = KH.pc("plssscp", function() {
            return zy("yt-player-sticky-caption")
        }),
        Pja = KH.pc("plssclp", function(a) {
            vy("yt-player-caption-language-preferences", a)
        }),
        VH = KH.pc("plsgclp", function() {
            var a = zy("yt-player-caption-language-preferences");
            return a ? a : []
        });

    function WH(a) {
        this.i = this.l = 0;
        this.alpha = Math.exp(Math.log(.5) / a)
    }
    WH.prototype.Te = function(a, b) {
        var c = Math.pow(this.alpha, a);
        this.i = b * (1 - c) + c * this.i;
        this.l += a
    };
    WH.prototype.De = function() {
        return this.i / (1 - Math.pow(this.alpha, this.l))
    };

    function XH(a, b, c, d) {
        c = void 0 === c ? .5 : c;
        d = void 0 === d ? 0 : d;
        this.resolution = b;
        this.valueIndex = 0;
        this.l = !1;
        this.B = !0;
        this.i = Math.round(a * this.resolution);
        this.values = Array(this.i);
        for (a = 0; a < this.i; a++) this.values[a] = Infinity;
        this.D = YH(this);
        this.u = c;
        this.C = d
    }

    function YH(a) {
        for (var b = Array(a.i), c = 0; c < a.i; c++) b[c] = c;
        return b
    }
    XH.prototype.Te = function(a, b) {
        a = Math.min(this.i, Math.max(1, Math.round(a * this.resolution)));
        a + this.valueIndex >= this.i && (this.l = !0);
        for (; a--;) this.values[this.valueIndex] = b, this.valueIndex = (this.valueIndex + 1) % this.i;
        this.B = !0
    };

    function ZH(a, b) {
        if (!a.l && 0 === a.valueIndex) return 0;
        a.B && (Kb(a.D, function(c, d) {
            return a.values[c] - a.values[d]
        }), a.B = !1);
        return a.values[a.D[Math.round(b * ((a.l ? a.i : a.valueIndex) - 1))]] || 0
    }
    XH.prototype.De = function() {
        return this.C ? (ZH(this, this.u - this.C) + ZH(this, this.u) + ZH(this, this.u + this.C)) / 3 : ZH(this, this.u)
    };

    function Qja(a) {
        var b = new nja;
        this.policy = a;
        this.K = b;
        this.J = this.U = 0;
        this.C = -1;
        this.I = this.B = Ss();
        this.G = new XH(4, 1, .6, .4);
        this.i = new XH(10, 1, .5, .4);
        this.u = a.i ? new WH(a.l) : new XH(a.l, 20, .5, .4);
        this.D = new XH(5, 1, .25);
        this.l = new XH(30, 1, .5);
        a = zja();
        this.u.Te(this.policy.C, 0 < a.byterate ? a.byterate : this.policy.u);
        0 < a.delay && this.G.Te(1, Math.min(a.delay, 2));
        0 < a.stall && this.i.Te(1, a.stall);
        0 < a.init && (this.I = Math.min(a.init, this.I));
        this.C = Ss()
    }

    function $H(a) {
        a = a.G.De();
        a = isNaN(a) ? .5 : a;
        return a = Math.min(a, 5)
    }

    function aI(a, b, c) {
        isNaN(c) || (a.J += c);
        isNaN(b) || (a.U += b)
    }

    function bI(a) {
        a = a.u.De();
        return 0 < a ? a : 1
    }

    function xB(a, b, c) {
        b = void 0 === b ? !1 : b;
        c = void 0 === c ? 1048576 : c;
        var d = bI(a);
        d = 1 / ((a.i.De() || 0) + 1 / d);
        var e = a.D.De();
        d = Math.max(d, 0 < e ? e : 1);
        if (!b) return d;
        b = 1E-9 + $H(a);
        c = d * Math.min(1, c / (d * b));
        a.policy.B || (a = ((ZH(a.l, .98) || 0) - 1) / 2, a = Math.max(0, Math.min(1, a)), c *= 1 - .5 * a);
        return c
    }

    function cI(a) {
        return {
            delay: $H(a),
            stall: a.i.De() || 0,
            byterate: bI(a),
            init: a.I
        }
    }

    function dI(a) {
        -1 < a.C && 3E4 < Ss() - a.C && (MH(cI(a)), a.C = Ss())
    }

    function eI(a) {
        return 4E3 <= Ss() - a.B
    };

    function Rja() {
        this.l = 17;
        this.u = 13E4;
        this.C = .5;
        this.B = this.i = !1
    }

    function Sja(a, b) {
        var c = new Rja;
        c.i = !0;
        c.C = .1;
        R(b, "html5_pctile_bandwidth_estimator") && (c.i = !1);
        a && (c.u = a / 8);
        c.B = 480 <= NH();
        return c
    };

    function fI(a, b) {
        a = void 0 === a ? {} : a;
        b = void 0 === b ? {} : b;
        C.call(this);
        var c = this;
        this.values = a;
        this.Nh = b;
        this.l = {};
        this.u = this.i = 0;
        this.B = new dr(function() {
            gI(c)
        }, 1E4);
        E(this, this.B)
    }
    v(fI, C);

    function hI(a, b) {
        iI(a, b);
        return a.values[b] && a.Nh[b] ? a.values[b] / Math.pow(2, a.i / a.Nh[b]) : 0
    }

    function iI(a, b) {
        a.values[b] || (b = OH(), a.values = b.values || {}, a.Nh = b.halfLives || {}, a.l = b.values ? Object.assign({}, b.values) : {})
    }

    function gI(a) {
        var b = OH();
        if (b.values) {
            b = b.values;
            for (var c = {}, d = t(Object.keys(a.values)), e = d.next(); !e.done; e = d.next()) e = e.value, b[e] && a.l[e] && (a.values[e] += b[e] - a.l[e]), c[e] = hI(a, e);
            a.l = c
        }
        Aja(a.l, a.Nh)
    };
    var Tja = "area120-boutique blogger books docs duo google-live google-one play shopping chat hangouts-meet photos-edu picasaweb gmail jamboard".split(" "),
        jI = {
            LI: "cbrand",
            MI: "cbr",
            NI: "cbrver",
            xM: "c",
            AM: "cver",
            zM: "ctheme",
            yM: "cplayer",
            DP: "cmodel",
            gQ: "cnetwork",
            yQ: "cos",
            zQ: "cosver",
            RQ: "cplatform"
        };

    function kI(a, b, c) {
        var d, e;
        C.call(this);
        var f = this;
        this.csiServiceName = this.csiPageType = "";
        this.userAge = NaN;
        this.fb = this.Z = this.C = this.bb = this.userDisplayName = this.userDisplayImage = "";
        this.deviceParams = {};
        this.controlsType = "0";
        this.Sa = NaN;
        this.Qa = !1;
        this.U = 0;
        this.qc = this.Fa = this.Ic = this.Ce = !1;
        this.ke = null;
        this.lh = Lx(4);
        a = a ? gc(a) : {};
        b && b.csiPageType && (this.csiPageType = b.csiPageType);
        b && b.csiServiceName && (this.csiServiceName = b.csiServiceName);
        this.experiments = new qja(b ? b.serializedExperimentIds : a.fexp,
            b ? b.serializedExperimentFlags : a.fflags);
        this.T = b ? b.serializedForcedExperimentIds : eB("", a.forced_experiments) || void 0;
        this.cspNonce = (null === b || void 0 === b ? 0 : b.cspNonce) && !this.N("fill_csp_nonce_from_wpcc_killswitch") ? b.cspNonce : eB("", a.csp_nonce);
        kB = this.N("web_player_deprecated_uvr_killswitch");
        try {
            var g = document.location.toString()
        } catch (r) {
            g = ""
        }
        this.ya = g;
        this.Ma = (g = window.location.ancestorOrigins) ? Array.from(g) : [];
        g = !this.N("web_player_context_config_embeds_fields_killswitch");
        b && b.device ? Uja(this,
            b.device) : (this.deviceParams.c = a.c || "web", this.deviceParams.cver = a.cver || "html5", this.deviceParams.cplayer = "UNIPLAYER");
        b && !this.N("wpcc_loader_url_killswitch") ? this.loaderUrl = lI(this) && b.loaderUrl ? b.loaderUrl || "" : this.ya : this.loaderUrl = lI(this) && a.loaderUrl ? eB("", a.loaderUrl) : this.ya;
        this.N("embeds_js_api_set_1p_cookie") && (this.embedsTokenValue = eB("", a.embedsTokenValue));
        this.l = mB(this.loaderUrl, Xha, Yha);
        this.ph = Zha(this.loaderUrl);
        this.kb = L(!1, a.privembed);
        this.protocol = 0 === this.ya.indexOf("http:") ?
            "http" : "https";
        this.K = nB((b ? b.customBaseYoutubeUrl : a.BASE_YT_URL) || "") || nB(this.ya) || this.protocol + "://www.youtube.com/";
        this.D = Vja(this, b ? b.eventLabel : a.el);
        gt();
        var k = null,
            l = b ? b.playerStyle : a.ps,
            m = xb(Tja, l);
        !l || m && !this.l || (k = l);
        this.playerStyle = k;
        this.Cb = L(!1, a.disableplaybackui);
        this.hh = this.N("variable_playback_rate") || this.N("enable_vsp_for_fire_tv_and_sabrina_study") && this.N("enable_vsp_for_fire_tv_and_sabrina") ? !0 : ZF().defaultPlaybackRate ? xe || ue || ye ? Je && Er("20") || Ne && Er("4") || me && Er("11") ||
            Gu() : !(me && !xu("chrome") || xe || xu("android") || xu("silk")) : !1;
        this.dh = L(!1, a.enable_faster_speeds);
        this.u = L("blazer" === this.playerStyle, a.is_html5_mobile_device || b && b.isMobileDevice);
        this.oh = Wja(this);
        this.Ka = "3" === this.controlsType || this.u || L(!1, a.use_media_volume);
        this.ra = dG();
        this.zg = Me;
        this.pfpChazalUi = L(!1, (b && g ? b.pfpChazalUi : a.pfp_chazal_ui) && !this.N("embeds_pfp_chazal_ui_killswitch"));
        this.Sc = b ? !!b.mobileIphoneSupportsInlinePlayback : L(!1, a.playsinline);
        k = this.u && qH && null != pH && 0 < pH && 2.3 >= pH;
        l =
            b ? b.useNativeControls : a.use_native_controls;
        m = this.u && !this.N("embeds_enable_mobile_custom_controls");
        l = eC(this) || !k && L(m, l) ? "3" : "1";
        m = b ? b.controlsType : a.controls;
        this.controlsType = "0" !== m && 0 !== m ? l : "0";
        this.ud = (this.N("embeds_enable_mobile_custom_controls") || "1" === this.controlsType && !this.N("embeds_use_native_controls_killswitch")) && !1;
        this.color = cB("red", b && g ? b.progressBarColor : a.color, oja);
        this.yh = this.uh = k;
        this.Wd = Ke && !Fe(601) ? !1 : !0;
        this.Ha = mI(this) ? "" : (this.loaderUrl || a.post_message_origin || "").substring(0,
            128);
        this.widgetReferrer = eB("", b && g ? b.widgetReferrer : a.widget_referrer);
        var n;
        b && g ? b.disableCastApi && (n = !1) : n = a.enablecastapi;
        n = !this.l || L(!0, n);
        k = !0;
        b && b.disableMdxCast && (k = !1);
        this.Jb = this.N("enable_mdx_module_for_music_web") && nI(this) && k || n && k && "1" === this.controlsType && !this.u && (mI(this) || oI(this) || "profilepage" === this.D) && !TB(this) && "area120-boutique" !== this.playerStyle;
        this.wh = bG() || cG();
        n = b ? !!b.supportsAutoplayOverride : L(!1, a.autoplayoverride);
        this.tf = !this.u && !xu("nintendo wiiu") && !xu("nintendo 3ds") ||
            n;
        n = b ? !!b.enableMutedAutoplay : L(!1, a.mutedautoplay);
        k = this.N("embeds_enable_muted_autoplay") && !1;
        this.vb = n && k && this.ra && !eC(this);
        n = (mI(this) || "adunit" === this.D || "gvn" === this.playerStyle) && "blazer" === this.playerStyle;
        (this.Bc = b ? !!b.disableFullscreen : !L(!0, a.fs)) || !n && ps();
        this.zb = this.N("uniplayer_block_pip") && (wu() && Er(58) && !Iu() || uu);
        this.Vd = L(!1, b && g ? b.enableContentOwnerRelatedVideos : a.co_rel);
        Iu();
        this.rb = L("blazer" === this.playerStyle, b ? b.enableCsiLogging : a.enablecsi);
        switch (this.playerStyle) {
            case "blogger":
                n =
                    "bl";
                break;
            case "gmail":
                n = "gm";
                break;
            case "books":
                n = "gb";
                break;
            case "docs":
                n = "gd";
                break;
            case "duo":
                n = "gu";
                break;
            case "google-live":
                n = "gl";
                break;
            case "google-one":
                n = "go";
                break;
            case "play":
                n = "gp";
                break;
            case "chat":
                n = "hc";
                break;
            case "hangouts-meet":
                n = "hm";
                break;
            case "photos-edu":
            case "picasaweb":
                n = "pw";
                break;
            default:
                n = "yt"
        }
        this.B = n;
        this.I = eB("", b && g ? b.authorizedUserIndex : a.authuser);
        this.loop = L(!1, a.loop);
        this.pageId = eB("", !this.N("wpcc_pageid_killswitch") && b ? b.initialDelegatedSessionId : a.pageid);
        this.Ag =
            L(!0, a.canplaylive);
        this.Fe = L(!1, a.livemonitor);
        this.disableSharing = L(!1, b ? b.disableSharing : a.ss);
        this.Xd = Jha(b && this.N("fill_video_container_size_override_from_wpcc") ? b.videoContainerOverride : a.video_container_override);
        this.mute = b ? !!b.startMuted : L(!1, a.mute);
        this.ub = !this.mute && L("0" !== this.controlsType, a.store_user_volume);
        n = b ? b.annotationsLoadPolicy : a.iv_load_policy;
        this.annotationsLoadPolicy = "3" === this.controlsType ? 3 : cB(void 0, n, zH);
        this.captionsLanguagePreference = b ? b.captionsLanguagePreference ||
            "" : eB("", a.cc_lang_pref);
        n = cB(2, b && g ? b.captionsLanguageLoadPolicy : a.cc_load_policy, zH);
        "3" === this.controlsType && 2 === n && (n = 3);
        this.J = n;
        this.Ta = b ? b.hl || "en_US" : eB("en_US", a.hl);
        this.region = b ? b.contentRegion || "US" : eB("US", a.cr);
        this.hostLanguage = b ? b.hostLanguage || "en" : eB("en", a.host_language);
        this.og = !this.kb && Math.random() < U(this.experiments, "web_player_api_logging_fraction");
        this.X = !this.kb;
        this.enabledEngageTypes = new Set;
        this.deviceHasDisplay = b ? !b.deviceIsAudioOnly : L(!0, a.deviceHasDisplay);
        this.Sa =
            dB(this.Sa, a.ismb);
        this.Zd = Xja(this, a);
        gC(this, a, !0);
        this.G = new yH;
        E(this, this.G);
        this.jb = Yja(this, a, b);
        this.Bg = null != window.WebKitPlaybackTargetAvailabilityEvent;
        this.i = new sH(this.experiments, this.N("html5_force_hfr_support") ? !0 : pI(this) || Cu() || Du() || qI(this), Ne && Fe(56) || Je && Fe(54) || qI(this));
        this.schedule = new Qja(Sja(this.Sa, this.experiments));
        this.enableSafetyMode = null !== (d = null === b || void 0 === b ? void 0 : b.initialEnableSafetyMode) && void 0 !== d ? d : L(!1, a.enable_safety_mode);
        n = !1;
        var p;
        b && g ? null != b.disableAutonav &&
            (p = !b.disableAutonav) : p = a.allow_autonav;
        this.cf = L(n, p);
        this.sendVisitorIdHeader = b ? !!b.sendVisitorIdHeader : L(!1, a.send_visitor_id_header);
        this.ea = K();
        var q;
        "docs" === this.playerStyle && (b && g ? q = b.disableNativeContextMenu : q = a.disable_native_context_menu);
        this.disableNativeContextMenu = L(!1, q);
        pI(this) && this.N("enable_skip_intro_button");
        this.embedConfig = eB("", b && g ? b.serializedEmbedConfig : a.embed_config);
        this.Ld = !rI(this) && "WEB_KIDS" !== this.deviceParams.c && !TB(this) && "area120-boutique" !== this.playerStyle &&
            !0;
        this.kh = L(!1, a.force_csi_on_gel);
        this.livingRoomAppMode = cB("LIVING_ROOM_APP_MODE_UNSPECIFIED", b ? null === (e = b.device) || void 0 === e ? void 0 : e.livingRoomAppMode : a.living_room_app_mode, Js);
        this.transparentBackground = b ? !!b.transparentBackground : L(!1, a.transparent_background);
        this.useFastSizingOnWatchDefault = L(!0, b ? b.useFastSizingOnWatchDefault : a.use_fast_sizing_on_watch_default);
        this.showMiniplayerButton = b ? !!b.showMiniplayerButton : L(!1, a.show_miniplayer_button);
        this.externalFullscreen = b ? !!b.externalFullscreen :
            L(!1, a.external_fullscreen);
        this.showMiniplayerUiWhenMinimized = b ? !!b.showMiniplayerUiWhenMinimized : L(!1, a.use_miniplayer_ui);
        this.showInlinePreviewUi = b ? !!b.showInlinePreviewUi : !1;
        this.showBackButton = L(!1, a.showbackbutton);
        this.rh = 1E-4 > Math.random();
        this.ob = a.onesie_hot_config || (null === b || void 0 === b ? 0 : b.onesieHotConfig) ? new wja(a.onesie_hot_config, null === b || void 0 === b ? void 0 : b.onesieHotConfig) : void 0;
        this.isTectonic = b && !this.N("fill_is_tectonic_from_wpcc_killswitch") ? !!b.isTectonic : !!a.isTectonic;
        this.yg = c;
        this.va = new fI;
        E(this, this.va);
        this.qc = L(!1, a.force_gvi);
        this.datasyncId = (null === b || void 0 === b ? void 0 : b.datasyncId) || G("DATASYNC_ID", void 0);
        this.qh = G("LOGGED_IN", !1);
        this.zf = (null === b || void 0 === b ? void 0 : b.allowWoffleManagement) || !1;
        this.yb = 0;
        if (this.N("html5_generate_session_po_token")) {
            a = {
                ai: "O43z0dpjhgX20SCx4KAo"
            };
            try {
                this.le = xca(a), sI(this), this.td = Us(function() {
                    sI(f)
                }, U(this.experiments, "html5_session_po_token_interval_time"))
            } catch (r) {
                r instanceof Error && ly(r)
            }
        }
    }
    v(kI, C);
    h = kI.prototype;
    h.N = function(a) {
        return R(this.experiments, a)
    };

    function gC(a, b, c) {
        c = void 0 === c ? !1 : c;
        a.Z = eB(a.Z, b.video_id);
        a.C = eB(a.C, b.eventid);
        a.C && (Kx = a.C);
        for (var d = [], e = t(Object.keys(jI)), f = e.next(); !f.done; f = e.next()) {
            f = jI[f.value];
            var g = b[f];
            null != g && (g !== a.deviceParams[f] && d.push(f), a.deviceParams[f] = g)
        }!c && 0 < d.length && a.rh && (d.sort(), ly(new lw("Player client parameters changed after startup", d)));
        a.userAge = dB(a.userAge, b.user_age);
        a.userDisplayImage = eB(a.userDisplayImage, b.user_display_image);
        pB(a.userDisplayImage) || (a.userDisplayImage = "");
        a.userDisplayName =
            eB(a.userDisplayName, b.user_display_name);
        a.bb = eB(a.bb, b.user_gender);
        a.csiPageType = eB(a.csiPageType, b.csi_page_type);
        a.csiServiceName = eB(a.csiServiceName, b.csi_service_name);
        a.rb = L(a.rb, b.enablecsi);
        a.pageId = eB(a.pageId, b.pageid);
        if (b = b.enabled_engage_types) a.enabledEngageTypes = new Set(b.split(","))
    }

    function Vja(a, b) {
        var c = "detailpage";
        "adunit" === b ? c = "detailpage" : "embedded" === b || a.l ? c = cB(c, b, pja) : b && (c = "embedded");
        return c
    }

    function Yja(a, b, c) {
        var d = c ? c.innertubeApiKey : eB("", b.innertube_api_key),
            e = c ? c.innertubeApiVersion : eB("", b.innertube_api_version);
        b = c ? c.innertubeContextClientVersion : eB("", b.innertube_context_client_version);
        return {
            innertubeApiKey: G("INNERTUBE_API_KEY", void 0) || d,
            innertubeApiVersion: G("INNERTUBE_API_VERSION", void 0) || e,
            qz: G("INNERTUBE_CONTEXT_CLIENT_CONFIG_INFO"),
            rz: a.deviceParams.c,
            innertubeContextClientVersion: G("INNERTUBE_CONTEXT_CLIENT_VERSION", void 0) || b,
            vz: a.hostLanguage,
            sz: a.region,
            wz: G("INNERTUBE_HOST_OVERRIDE",
                void 0) || "",
            yz: !!G("INNERTUBE_USE_THIRD_PARTY_AUTH", !1),
            xz: !!G("INNERTUBE_OMIT_API_KEY_WHEN_AUTH_HEADER_IS_PRESENT", !1)
        }
    }

    function tI(a, b) {
        return wu() && Er(55) && "3" === a.controlsType && !b
    }

    function uI(a) {
        a = vI(a.K);
        return "www.youtube-nocookie.com" === a ? "www.youtube.com" : a
    }
    h.getVideoUrl = function(a, b, c, d, e) {
        b = {
            list: b
        };
        c && (e ? b.time_continue = c : b.t = c);
        c = TB(this) ? "music.youtube.com" : uI(this);
        d && "www.youtube.com" === c ? d = "https://youtu.be/" + a : rI(this) ? (d = "https://" + c + "/fire", b.v = a) : (d = this.protocol + "://" + c + "/watch", b.v = a, uu && (a = kt()) && (b.ebc = a));
        return Ti(d, b)
    };

    function wI(a, b, c) {
        return a.protocol + "://i1.ytimg.com/vi/" + b + "/" + (c || "hqdefault.jpg")
    }
    h.getVideoEmbedCode = function(a, b, c) {
        a = "https://" + (TB(this) ? "music.youtube.com" : uI(this)) + "/embed/" + a;
        c && (a = Ti(a, {
            list: c
        }));
        c = b.width;
        b = b.height;
        a = Cd(a);
        return '<iframe width="' + c + '" height="' + b + '" src="' + a + '" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'
    };

    function rC(a) {
        return mI(a) && !rI(a)
    }

    function eC(a) {
        return Ke && !a.Sc || xu("nintendo wiiu") || xu("nintendo 3ds") ? !0 : !1
    }

    function TB(a) {
        return "music-embed" === a.playerStyle
    }

    function xI(a) {
        return "TVHTML5_CAST" === a.deviceParams.c || "TVHTML5" === a.deviceParams.c && (a.deviceParams.cver.startsWith("6.20130725") || a.deviceParams.cver.startsWith("6.20130726"))
    }

    function yI(a) {
        return "TVHTML5" === a.deviceParams.c && a.deviceParams.cver.startsWith("7")
    }

    function zI(a) {
        return "TVHTML5_SIMPLY" === a.deviceParams.c
    }

    function lI(a) {
        return "TVHTML5_SIMPLY_EMBEDDED_PLAYER" === a.deviceParams.c
    }

    function qI(a) {
        return "CHROMECAST ULTRA/STEAK" === a.deviceParams.cmodel || "CHROMECAST/STEAK" === a.deviceParams.cmodel
    }

    function AI() {
        return 1 < window.devicePixelRatio ? window.devicePixelRatio : 1
    }

    function pI(a) {
        return "web" === a.deviceParams.c.toLowerCase().substr(0, 3)
    }

    function BI(a) {
        return "WEB" === a.deviceParams.c.toUpperCase()
    }

    function rI(a) {
        return "WEB_UNPLUGGED" === a.deviceParams.c
    }

    function CI(a) {
        return "TV_UNPLUGGED_CAST" === a.deviceParams.c
    }

    function DI(a) {
        return "TVHTML5_UNPLUGGED" === a.deviceParams.c
    }

    function EI(a) {
        return rI(a) || CI(a) || DI(a)
    }

    function nI(a) {
        return "WEB_REMIX" === a.deviceParams.c
    }

    function tC(a) {
        return BI(a) && a.N("web_player_i_see_captions")
    }

    function FI(a) {
        return BI(a) && a.N("web_player_i_see_captions_3")
    }

    function Wja(a) {
        if (a.u) return !0;
        var b = Number(Date.now() / 1E3),
            c = xv.getInstance();
        return a.N("block_desktop_background_playback_with_mobile_cookie") && c && b > Number(c.get("dhmu", b.toString()))
    }

    function GI(a) {
        return (a.deviceHasDisplay && Ne && !uu && "3" !== a.controlsType ? ue ? !1 : !0 : !1) || (a.deviceHasDisplay && Je && !uu && "3" !== a.controlsType ? ue ? !1 : Fe(38) : !1) || (a.deviceHasDisplay && me && !uu && "3" !== a.controlsType ? ue ? !1 : Fe(27) : !1) || a.deviceHasDisplay && pe && !Hu() && Fe(11) || a.deviceHasDisplay && Oe && Fe("604.4")
    }
    h.supportsGaplessAudio = function() {
        var a;
        if (a = Ne && !uu) a = /Chrome\/(\d+)/.exec(fd), a = 74 <= (a ? parseFloat(a[1]) : NaN);
        return a || Je && Fe(68) ? !0 : !1
    };

    function HI() {
        var a = Eu(),
            b = Au();
        return a || b || zu() && !!CSS && CSS.supports && CSS.supports("filter", "map-to-mesh(url(p.msh), 102deg 60deg,matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),stereoscopic-left-right)")
    }

    function II() {
        return zu() && !!CSS && CSS.supports && CSS.supports("filter", "map-to-mesh(rectangular, none,none,stereoscopic-left-right)")
    }

    function Zja(a) {
        if (oI(a) && qH) return !1;
        if (Je) {
            if (!Fe(47) || !Fe(52) && Fe(51)) return !1
        } else if (Oe) return !1;
        return window.AudioContext || window.webkitAudioContext ? !0 : !1
    }

    function mI(a) {
        return "detailpage" === a.D
    }

    function oI(a) {
        return "embedded" === a.D
    }

    function JI(a) {
        return "leanback" === a.D
    }

    function Xja(a, b) {
        if (rH(a.experiments, "html5_qoe_intercept")) return rH(a.experiments, "html5_qoe_intercept");
        b = b.vss_host || "s.youtube.com";
        a.N("www_for_videostats") && "s.youtube.com" === b && (b = vI(a.K) || "www.youtube.com");
        return b
    }

    function Uja(a, b) {
        b.brand && (a.deviceParams.cbrand = b.brand);
        b.browser && (a.deviceParams.cbr = b.browser);
        b.browserVersion && (a.deviceParams.cbrver = b.browserVersion);
        a.deviceParams.c = b.interfaceName || "WEB";
        a.deviceParams.cver = b.interfaceVersion || "html5";
        b.interfaceTheme && (a.deviceParams.ctheme = b.interfaceTheme);
        a.deviceParams.cplayer = b.interfacePlayerType || "UNIPLAYER";
        b.model && (a.deviceParams.cmodel = b.model);
        b.network && (a.deviceParams.cnetwork = b.network);
        b.os && (a.deviceParams.cos = b.os);
        b.osVersion && (a.deviceParams.cosver =
            b.osVersion);
        b.platform && (a.deviceParams.cplatform = b.platform)
    }

    function sI(a) {
        if (a.le) {
            var b = G("VISITOR_DATA", void 0);
            a.le.Cq({
                Wx: a.qh ? a.datasyncId : b
            }).then(function(c) {
                a.Tc = db(c)
            }, void 0)
        } else ly(new lw("Failed to update session PO token", "web po not initialized"))
    }
    h.getPlayerType = function() {
        return this.deviceParams.cplayer
    };
    h.Da = function() {
        this.td && window.clearInterval(this.td);
        C.prototype.Da.call(this)
    };

    function vI(a) {
        var b = Ji(a);
        return (a = Number(Ii(4, a)) || null) ? b + ":" + a : b
    };
    var $ja = {
            wI: "ALREADY_PINNED_ON_A_DEVICE",
            AUTHENTICATION_EXPIRED: "AUTHENTICATION_EXPIRED",
            CI: "AUTHENTICATION_MALFORMED",
            DI: "AUTHENTICATION_MISSING",
            II: "BAD_REQUEST",
            SI: "CAST_SESSION_DEVICE_MISMATCHED",
            TI: "CAST_SESSION_VIDEO_MISMATCHED",
            UI: "CAST_TOKEN_EXPIRED",
            VI: "CAST_TOKEN_FAILED",
            WI: "CAST_TOKEN_MALFORMED",
            XI: "CGI_PARAMS_MALFORMED",
            YI: "CGI_PARAMS_MISSING",
            hL: "DEVICE_FALLBACK",
            DL: "GENERIC_WITH_LINK_AND_CPN",
            EL: "LICENSE",
            GL: "VIDEO_UNAVAILABLE",
            RL: "FORMAT_UNAVAILABLE",
            fM: "GEO_FAILURE",
            pM: "HTML5_AUDIO_RENDERER_ERROR",
            qM: "GENERIC_WITHOUT_LINK",
            rM: "HTML5_NO_AVAILABLE_FORMATS_FALLBACK",
            sM: "HTML5_NO_AVAILABLE_FORMATS_FALLBACK_WITH_LINK",
            tM: "HTML5_NO_AVAILABLE_FORMATS_FALLBACK_WITH_LINK_SHORT",
            EM: "INVALID_DRM_MESSAGE",
            kR: "PURCHASE_NOT_FOUND",
            lR: "PURCHASE_REFUNDED",
            tR: "RENTAL_EXPIRED",
            BR: "RETRYABLE_ERROR",
            LR: "SERVER_ERROR",
            qS: "STOPPED_BY_ANOTHER_PLAYBACK",
            tS: "STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",
            uS: "STREAMING_NOT_ALLOWED",
            vS: "STREAM_LICENSE_NOT_FOUND",
            IS: "TOO_MANY_REQUESTS",
            JS: "TOO_MANY_REQUESTS_WITH_LINK",
            KS: "TOO_MANY_STREAMS_PER_ENTITLEMENT",
            LS: "TOO_MANY_STREAMS_PER_USER",
            mT: "UNSUPPORTED_DEVICE",
            zT: "VIDEO_FORBIDDEN",
            CT: "VIDEO_NOT_FOUND"
        },
        KI = {},
        LI = (KI.ALREADY_PINNED_ON_A_DEVICE = "This video has already been downloaded on the maximum number of devices allowed by the copyright holder. Before you can play the video here, it needs to be unpinned on another device.", KI.DEVICE_FALLBACK = "Sorry, this video is not available on this device.", KI.GENERIC_WITH_LINK_AND_CPN = "An error occurred. Please try again later. (Playback ID: $CPN) $BEGIN_LINKLearn More$END_LINK",
            KI.LICENSE = "Sorry, there was an error licensing this video.", KI.VIDEO_UNAVAILABLE = "Video unavailable", KI.FORMAT_UNAVAILABLE = "This video isn't available at the selected quality. Please try again later.", KI.GEO_FAILURE = "This video isn't available in your country.", KI.HTML5_AUDIO_RENDERER_ERROR = "Audio renderer error. Please restart your computer.", KI.GENERIC_WITHOUT_LINK = "An error occurred. Please try again later.", KI.HTML5_NO_AVAILABLE_FORMATS_FALLBACK = "This video format is not supported.", KI.HTML5_NO_AVAILABLE_FORMATS_FALLBACK_WITH_LINK =
            "Your browser does not currently recognize any of the video formats available. $BEGIN_LINKClick here to visit our frequently asked questions about HTML5 video.$END_LINK", KI.HTML5_NO_AVAILABLE_FORMATS_FALLBACK_WITH_LINK_SHORT = "Your browser can't play this video. $BEGIN_LINKLearn more$END_LINK", KI.INVALID_DRM_MESSAGE = "The DRM system specific message is invalid.", KI.PURCHASE_NOT_FOUND = "This video requires payment.", KI.PURCHASE_REFUNDED = "This video's purchase has been refunded.", KI.RENTAL_EXPIRED = "This video's rental has expired.",
            KI.CAST_SESSION_DEVICE_MISMATCHED = "The device in the cast session doesn't match the requested one.", KI.CAST_SESSION_VIDEO_MISMATCHED = "The video in the cast session doesn't match the requested one.", KI.CAST_TOKEN_FAILED = "Cast session not available. Please refresh or try again later.", KI.CAST_TOKEN_EXPIRED = "Cast session was expired. Please refresh.", KI.CAST_TOKEN_MALFORMED = "Invalid cast session. Please refresh or try again later.", KI.SERVER_ERROR = "There was an internal server error. Please try again later.",
            KI.STOPPED_BY_ANOTHER_PLAYBACK = "Your account is playing this video in another location. Please reload this page to resume watching.", KI.STREAM_LICENSE_NOT_FOUND = "Video playback interrupted. Please try again.", KI.STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED = "Too many devices/IP addresses have been used over the 24 hour period.", KI.STREAMING_NOT_ALLOWED = "Playback not allowed because this video is pinned on another device.", KI.RETRYABLE_ERROR = "There was a temporary server error. Please try again later.",
            KI.TOO_MANY_REQUESTS = "Please log in to watch this video.", KI.TOO_MANY_REQUESTS_WITH_LINK = "Please $BEGIN_LINKclick here$END_LINK to watch this video on YouTube.", KI.TOO_MANY_STREAMS_PER_USER = "Playback stopped because too many videos belonging to the same account are playing.", KI.TOO_MANY_STREAMS_PER_ENTITLEMENT = "Playback stopped because this video has been played on too many devices.", KI.UNSUPPORTED_DEVICE = "Playback isn't supported on this device.", KI.VIDEO_FORBIDDEN = "Access to this video is forbidden.",
            KI.VIDEO_NOT_FOUND = "This video can not be found.", KI),
        aka = {
            300: "STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",
            301: "ALREADY_PINNED_ON_A_DEVICE",
            303: "STOPPED_BY_ANOTHER_PLAYBACK",
            304: "TOO_MANY_STREAMS_PER_USER",
            305: "TOO_MANY_STREAMS_PER_ENTITLEMENT",
            400: "VIDEO_NOT_FOUND",
            401: "GEO_FAILURE",
            402: "STREAMING_NOT_ALLOWED",
            403: "UNSUPPORTED_DEVICE",
            405: "VIDEO_FORBIDDEN",
            500: "PURCHASE_NOT_FOUND",
            501: "RENTAL_EXPIRED",
            502: "PURCHASE_REFUNDED",
            5E3: "BAD_REQUEST",
            5001: "CGI_PARAMS_MISSING",
            5002: "CGI_PARAMS_MALFORMED",
            5100: "AUTHENTICATION_MISSING",
            5101: "AUTHENTICATION_MALFORMED",
            5102: "AUTHENTICATION_EXPIRED",
            5200: "CAST_TOKEN_MALFORMED",
            5201: "CAST_TOKEN_EXPIRED",
            5202: "CAST_TOKEN_FAILED",
            5203: "CAST_SESSION_VIDEO_MISMATCHED",
            5204: "CAST_SESSION_DEVICE_MISMATCHED",
            6E3: "INVALID_DRM_MESSAGE",
            7E3: "SERVER_ERROR",
            8E3: "RETRYABLE_ERROR"
        };

    function MI(a) {
        return (a = aka[a.toString()]) ? a : "LICENSE"
    };

    function NI() {
        WF.apply(this, arguments)
    }
    v(NI, WF);
    NI.prototype.Ga = function(a, b, c, d, e) {
        return WF.prototype.Ga.call(this, a, b, c, d, e)
    };

    function OI() {
        this.l = this.i = NaN
    }
    OI.prototype.reset = function() {
        this.i = this.l = NaN
    };

    function PI(a, b) {
        this.u = a;
        this.timerName = "";
        this.l = !1;
        this.B = new OI;
        this.i = b || null;
        this.l = !1;
        a.kh && xs("FORCE_CSI_ON_GEL", !0)
    }
    PI.prototype.reset = function() {
        Vz(this.timerName)
    };
    PI.prototype.tick = function(a, b) {
        Zz(a, b, this.timerName)
    };

    function bka(a) {
        a = a.timerName;
        Yz("yt_sts", "p", a);
        Zz("_start", void 0, a)
    }
    PI.prototype.info = function(a, b) {
        Yz(a, b, this.timerName)
    };

    function QI(a, b, c) {
        var d = oI(b.B) && !0;
        if (b.B.rb && (mI(b.B) || JI(b.B) || d) && !a.l) {
            a.l = !0;
            G("TIMING_ACTION") || xs("TIMING_ACTION", a.u.csiPageType);
            a.u.csiServiceName && xs("CSI_SERVICE_NAME", a.u.csiServiceName);
            if (a.i) {
                b = a.i.Ul();
                d = t(Object.keys(b));
                for (var e = d.next(); !e.done; e = d.next()) e = e.value, Zz(e, b[e], a.timerName);
                b = a.i.Fn;
                d = t(Object.keys(b));
                for (e = d.next(); !e.done; e = d.next()) e = e.value, Yz(e, b[e], a.timerName);
                b = a.i;
                b.i = {};
                b.Fn = {}
            }
            Yz("yt_pvis", xha(), a.timerName);
            Yz("yt_pt", "html5", a.timerName);
            c && !cA("pbs",
                a.timerName) && a.tick("pbs", c);
            c = a.u;
            !JI(c) && !mI(c) && cA("_start", a.timerName) && eA(a.timerName)
        }
    };
    var RI = {},
        SI = (RI.AD_MARKER = "ytp-ad-progress", RI.CHAPTER_MARKER = "ytp-chapter-marker", RI.TIME_MARKER = "ytp-time-marker", RI);

    function TI(a, b, c) {
        this.start = a;
        this.end = b;
        this.active = !0;
        this.color = "";
        this.B = cka++;
        a = c || {};
        this.id = a.id || "";
        this.priority = a.priority || 7;
        this.visible = a.visible || !1;
        this.style = a.style || SI.AD_MARKER;
        this.namespace = a.namespace || "";
        if (b = a.color) b = b.toString(16), this.color = "#" + Array(7 - b.length).join("0") + b;
        this.tooltip = a.tooltip;
        this.icons = a.icons ? a.icons.filter(function(d) {
            return sb(d.thumbnails, function(e) {
                return pB(e.url)
            })
        }) : null;
        this.visible = this.visible;
        this.style = this.style;
        this.start = this.start
    }

    function UI(a) {
        return -0x8000000000000 === a ? "BEFORE_MEDIA_START" : 0 === a ? "MEDIA_START" : 0x7ffffffffffff === a ? "MEDIA_END" : 0x8000000000000 === a ? "AFTER_MEDIA_END" : a.toString()
    }
    TI.prototype.getId = function() {
        return this.id
    };

    function VI(a, b) {
        return a.start - b.start || a.priority - b.priority || a.B - b.B
    }
    TI.prototype.toString = function() {
        return "CueRange{" + this.namespace + ":" + this.id + "}[" + UI(this.start) + ", " + UI(this.end) + "]"
    };
    TI.prototype.contains = function(a, b) {
        return a >= this.start && (a < this.end || a === this.end && this.start === this.end) && (null == b || a < b && b <= this.end)
    };
    var cka = 1;
    TI.prototype.getId = TI.prototype.getId;
    var WI = {
            iurl: "default.jpg",
            iurlmq: "mqdefault.jpg",
            iurlhq: "hqdefault.jpg",
            iurlsd: "sddefault.jpg",
            iurlpop1: "pop1.jpg",
            iurlpop2: "pop2.jpg",
            iurlhq720: "hq720.jpg",
            iurlmaxres: "maxresdefault.jpg"
        },
        XI = {
            120: "default.jpg",
            320: "mqdefault.jpg",
            480: "hqdefault.jpg",
            560: "pop1.jpg",
            640: "sddefault.jpg",
            854: "pop2.jpg",
            1280: "hq720.jpg"
        };

    function YI(a) {
        for (var b = {}, c = t(Object.keys(WI)), d = c.next(); !d.done; d = c.next()) {
            d = d.value;
            var e = a[WI[d]];
            e && (b[d] = e)
        }
        return b
    }

    function ZI(a) {
        var b = {};
        if (!a || !a.thumbnails) return b;
        a = a.thumbnails.filter(function(k) {
            return !!k.url
        });
        a.sort(function(k, l) {
            return k.width - l.width || k.height - l.height
        });
        for (var c = t(Object.keys(XI)), d = c.next(); !d.done; d = c.next()) {
            var e = Number(d.value);
            d = XI[e];
            for (var f = t(a), g = f.next(); !g.done; g = f.next())
                if (g = g.value, g.width >= e) {
                    e = $I(g.url);
                    pB(e) && (b[d] = e);
                    break
                }
        }(a = a.pop()) && 1280 <= a.width && (a = $I(a.url), pB(a) && (b["maxresdefault.jpg"] = a));
        return b
    }

    function $I(a) {
        return a.startsWith("//") ? "https:" + a : a
    };
    var aJ;
    var bJ = fd,
        cJ = bJ.match(/\((iPad|iPhone|iPod)( Simulator)?;/);
    if (!cJ || 2 > cJ.length) aJ = void 0;
    else {
        var dJ = bJ.match(/\((iPad|iPhone|iPod)( Simulator)?; (U; )?CPU (iPhone )?OS (\d+_\d)[_ ]/);
        aJ = dJ && 6 == dJ.length ? Number(dJ[5].replace("_", ".")) : 0
    }
    var eJ = aJ,
        fJ = 0 <= eJ;
    fJ && 0 <= fd.search("Safari") && fd.search("Version");

    function mC(a) {
        if (a.simpleText) return a.simpleText;
        if (a.runs) {
            var b = [];
            a = t(a.runs);
            for (var c = a.next(); !c.done; c = a.next()) c = c.value, c.text && b.push(c.text);
            return b.join("")
        }
        return ""
    };

    function gJ(a, b, c) {
        this.videoInfos = a;
        this.audioTracks = [];
        this.i = b || null;
        this.l = c || null;
        if (this.i)
            for (a = new Set, b = t(this.i), c = b.next(); !c.done; c = b.next())
                if (c = c.value, c.Ob && !a.has(c.Ob.id)) {
                    var d = new LA(c.id, c.Ob);
                    a.add(c.Ob.id);
                    this.audioTracks.push(d)
                }
    }
    gJ.prototype.Tl = function(a) {
        a = a || UA;
        for (var b = ob(this.videoInfos, function(g) {
                return a.B(g)
            }), c = [], d = {}, e = 0; e < b.length; e++) {
            var f = b[e].gb();
            d[f.quality] || (c.push(f), d[f.quality] = !0)
        }
        return c
    };
    gJ.prototype.getAvailableAudioTracks = function() {
        return this.audioTracks
    };

    function hJ(a, b, c, d) {
        var e = [],
            f = new Set,
            g = a.U || a.Qa,
            k = {};
        if (nC(c)) {
            for (var l in c.i) c.i.hasOwnProperty(l) && (d = c.i[l], k[d.info.i] = [d.info]);
            return k
        }
        for (var m in c.i)
            if (c.i.hasOwnProperty(m)) {
                l = c.i[m];
                var n = l.info.Ib();
                if ("" === l.info.i) e.push(n), e.push("unkn");
                else if ("304" !== n && "266" !== n || !a.Ha)
                    if (a.C && l.info.video && l.info.video.i > a.C) e.push(n), e.push("max" + a.C);
                    else if (a.D && l.info.video && l.info.video.i < a.D) e.push(n), e.push("min" + a.D);
                else if (a.Ma && "h" === l.info.i && l.info.video && 1080 < l.info.video.i) e.push(n),
                    e.push("blkhigh264");
                else if (a.Ka && l.info.video && 4320 <= l.info.video.i && 32 < l.info.video.fps) e.push(n), e.push("blk8khfr");
                else {
                    var p = b.i.get(l.info.i);
                    p = p && 0 < p.xv;
                    g && p ? (f.add(l.info.i), e.push(n), e.push("byerr")) : (p = tH(b, l.info), !0 !== p ? (e.push(n), e.push(p)) : "(h" !== l.info.i || b.B ? (p = "MAC3" === l.info.i || "MEAC3" === l.info.i || "M" === l.info.i, c.isLive && p && !a.ya ? (e.push(n), e.push("blk51live")) : (k[l.info.i] = k[l.info.i] || [], k[l.info.i].push(l.info))) : (e.push(n), e.push("enchdr")))
                } else e.push(n), e.push("blk2khfr")
            } a.i &&
            (d(e.join(".")), c = "bfflt." + iJ(k), d(c));
        for (var q in k) k.hasOwnProperty(q) && (c = q, k[c] && k[c][0].isVideo() && (k[c] = dka(a, k[c]), k[c] = eka(b, k[c], a.jb)));
        if (g)
            for (f = t(f.values()), g = f.next(); !g.done; g = f.next())(g = b.i.get(g.value)) && --g.xv;
        b = Ob(k, function(r) {
            return !!r.length
        });
        a.i && (k = "aftflt." + iJ(k), d(k));
        return b
    }

    function jJ(a) {
        switch (a) {
            case "*":
                return "v8e";
            case "(":
                return "v9e";
            case "(h":
                return "v9he";
            default:
                return a
        }
    }

    function iJ(a) {
        var b = [],
            c;
        for (c in a)
            if (a.hasOwnProperty(c)) {
                var d = c;
                b.push(jJ(d));
                d = t(a[d]);
                for (var e = d.next(); !e.done; e = d.next()) b.push(e.value.Ib())
            } return b.join(".")
    }

    function fka(a, b, c) {
        var d = {};
        Nb(b, function(e, f) {
            e = e.filter(function(g) {
                if (!g.Nc) return !1;
                if ("(" === g.i || "(h" === g.i) {
                    if (a.l && c && "widevine" === c.flavor) {
                        var k = g.mimeType + "; experimental=allowed";
                        return !!g.Nc[c.flavor] && !!c.i[k]
                    }
                    if (!uH(a, JF.CRYPTOBLOCKFORMAT) && !a.U || a.J) return !1
                }
                return c && g.Nc[c.flavor] && c.i[g.mimeType] ? !0 : !1
            });
            e.length && (d[f] = e)
        });
        return d
    }

    function gka(a, b, c, d, e, f) {
        function g(D) {
            return !!k[D]
        }
        f = void 0 === f ? !1 : f;
        var k = hJ(a, b, c, e);
        DG(c) && (k = fka(b, k, d), a.i && (b = "enflt." + iJ(k), e(b)));
        if (nC(c)) return e = tb(Object.values(k), function(D) {
            return !!D.length && !!D[0].audio
        }), a = tb(Object.values(k), function(D) {
            return !!D.length && !!D[0].video
        }), e && a || aH(), $G(new gJ(a, e));
        b = kJ(a);
        b = tb(b, g);
        if (!b) return a.i && e("noaudio"), aH();
        d = k[b];
        k["9"] && k.h && c.Rf && !a.ra && (a.i && e("dltvp9"), delete k["9"]);
        var l = k["1h"] ? "1h" : "1",
            m = k["9h"] ? "9h" : "9",
            n = k[l],
            p = k[m];
        n && n.length && (a.l.highestAv1Resolution = n[n.length - 1].gb().i);
        p && p.length && (a.l.highestVp9Resolution = p[p.length - 1].gb().i);
        var q = [],
            r = [];
        if (a.T && !a.u)
            for (r = Wia(c) ? k["1h"] || k["9h"] ? ["1h", "9h"] : ["9", "h"] : ["1", "9", "h"], a.i && e("newhybpref." + r.join(".")), c = t(r), f = c.next(); !f.done; f = c.next()) q = q.concat(k[f.value]).filter(function(D) {
                return D
            });
        else if (0 < a.G && p && n) {
            if (!f) {
                var u = Math.min(a.G, lJ(n)),
                    x = lJ(p),
                    z = function(D) {
                        return D <= u || D > x
                    };
                a.i && e("lth." + u + ".uth." + x);
                n = n.filter(function(D) {
                    return z(D.gb().i)
                });
                p = p.filter(function(D) {
                    return !z(D.gb().i)
                })
            }
            r = [l,
                m
            ];
            q = n.concat(p).filter(function(D) {
                return D
            })
        }
        if (q.length && !a.u) {
            mJ(q, d, r);
            if (a.i) {
                a = [];
                l = t(q);
                for (m = l.next(); !m.done; m = l.next()) a.push(m.value.Ib());
                e("hbdfmt." + a.join("."))
            }
            return $G(new gJ(q, d, nJ(k, "", b)))
        }
        q = oJ(a);
        q = tb(q, g);
        if (!q) {
            if (k[l] && a.Ta) return e = k[l], mJ(e, d), $G(new gJ(e, d, nJ(k, l, b)));
            a.i && e("novideo");
            return aH()
        }
        a.kb && ("1" === q || "1h" === q) && k[m] && (l = lJ(k[q]), lJ(k[m]) > l && (q = m));
        "9" === q && k.h && (l = lJ(k["9"]), lJ(k.h) > 1.5 * l && (q = "h"));
        a.i && e("vfmly." + jJ(q));
        l = k[q];
        if (!l.length) return a.i && e("novfmly." + jJ(q)), aH();
        mJ(l, d);
        return $G(new gJ(l, d, nJ(k, q, b)))
    }

    function nJ(a, b, c) {
        var d = a.h;
        "f" === b && (d = a[b]);
        var e = a.a;
        b = a[b] !== d;
        a = a[c] !== e;
        return d && e && (b || a) ? (mJ(d, e), new gJ(d, e)) : null
    }

    function mJ(a, b, c) {
        c = void 0 === c ? [] : c;
        Kb(a, function(d, e) {
            var f = e.gb().height * e.gb().width - d.gb().height * d.gb().width;
            if (!f && c && 0 < c.length) {
                f = c.indexOf(d.i) + 1;
                var g = c.indexOf(e.i) + 1;
                f = 0 === f || 0 === g ? g || -1 : f - g
            }
            f || (f = e.qb - d.qb);
            return f
        });
        Kb(b, function(d, e) {
            return e.qb - d.qb
        })
    }

    function eka(a, b, c) {
        var d = qb(b, function(l, m) {
            return 32 < m.gb().fps ? Math.min(l, m.gb().width) : l
        }, Infinity);
        if (Infinity > d) {
            var e = !0;
            if (c) {
                for (var f = c = 0, g = t(b), k = g.next(); !k.done; k = g.next()) k = k.value.gb(), 32 < k.fps && k.i > f ? f = k.i : !(32 < k.fps) && k.i > c && (c = k.i);
                1080 < c && c > f && (e = !1)
            }
            b = a.G && (a.K || uH(a, JF.FRAMERATE)) && e ? ob(b, function(l) {
                return 32 < l.gb().fps || l.gb().width < d
            }) : ob(b, function(l) {
                return !(32 < l.gb().fps)
            })
        }
        Cu() && (b = ob(b, function(l) {
            return "299" !== l.Ib()
        }));
        return b
    }

    function dka(a, b) {
        return b = ob(b, function(c) {
            return c.gb().i <= a.Sa
        })
    }

    function lJ(a) {
        return qb(a, function(b, c) {
            return Math.max(b, c.gb().i)
        }, 0)
    };

    function hka() {
        this.fb = this.u = this.Z = this.K = this.J = this.X = this.ea = this.Fa = this.va = !1;
        this.D = this.C = 0;
        this.Ma = !1;
        this.Ha = !0;
        this.Ka = !1;
        this.G = 0;
        this.jb = this.bb = !1;
        this.Sa = Infinity;
        this.ob = !1;
        this.kb = !0;
        this.ra = this.ya = !1;
        this.l = {};
        this.Ta = this.i = this.T = !1;
        this.B = this.I = null;
        this.Qa = this.U = !1
    }

    function oJ(a) {
        if (a.Fa) return ["f"];
        var b = "9h 9 h 8 (h ( H *".split(" ");
        a.bb && (b.unshift("1"), b.unshift("1h"));
        a.u && b.unshift("h");
        a.I && b.unshift(a.I);
        return b
    }

    function kJ(a) {
        var b = ["o", "a", "A"];
        a.X && (b = ["m", "M"].concat(b));
        a.J && (b = ["mac3", "MAC3"].concat(b));
        a.K && (b = ["meac3", "MEAC3"].concat(b));
        a.va && (b = ["so", "sa"].concat(b));
        !a.fb || a.Z || a.B || b.unshift("a");
        a.ea && b.unshift("ah");
        a.B && b.unshift(a.B);
        return b
    }

    function pJ(a, b, c) {
        b = void 0 === b ? {} : b;
        if (uH(a.i, JF.AV1_CODECS) && uH(a.i, JF.HEIGHT) && uH(a.i, JF.BITRATE)) return b.isCapabilityUsable = 1, 8192;
        try {
            var d = TH();
            if (d) return b.localPref = d
        } catch (f) {}
        d = U(a.experiments, "html5_av1_thresh");
        var e = U(a.experiments, "html5_av1_thresh_lcc");
        e && 2 >= navigator.hardwareConcurrency && (d = e);
        (e = U(a.experiments, "html5_av1_thresh_hcc")) && 4 < navigator.hardwareConcurrency && (d = e);
        b.coreCount = navigator.hardwareConcurrency;
        (a = U(a.experiments, "html5_av1_thresh_arm")) && yu() && (b.isArm = 1,
            d = a);
        if (c) {
            if ((a = c.videoInfos.find(function(f) {
                    return SF(f)
                })) && a.l) return d = 8192, b.av1Threshold = d;
            c = c.videoInfos[0].video;
            a = Math.min(RH("1", c.fps), RH("1", 30));
            b.perfCap = a;
            d = Math.min(d, a);
            c.isHdr() && (b.hdr = 1, d *= .75)
        } else c = RH("1", 30), b.perfCap30 = c, d = Math.min(d, c), c = RH("1", 60), b.perfCap60 = c, d = Math.min(d, c);
        return b.av1Threshold = d
    };

    function qJ(a, b, c, d) {
        this.flavor = a;
        this.keySystem = b;
        this.u = c;
        this.experiments = d;
        this.i = {};
        this.l = this.keySystemAccess = null;
        this.D = this.G = -1;
        this.B = null;
        this.C = "";
        this.I = !!d && R(d, "edge_nonprefixed_eme");
        this.C = d ? rH(d, "html5_hdcp_probing_stream_url") : ""
    }
    qJ.prototype.clone = function(a) {
        return new qJ(this.flavor, a, this.u, this.experiments)
    };

    function rJ(a) {
        return a.I ? !1 : !a.keySystemAccess && !!sJ() && "com.microsoft.playready" === a.keySystem
    }

    function tJ(a) {
        return "com.microsoft.playready" === a.keySystem
    }

    function uJ(a) {
        return oe && "com.microsoft.playready" === a.keySystem && !!navigator.requestMediaKeySystemAccess
    }

    function vJ(a) {
        return !a.keySystemAccess && !!sJ() && "com.apple.fps.1_0" === a.keySystem
    }

    function wJ(a) {
        return "com.youtube.fairplay" === a.keySystem
    }

    function xJ(a) {
        return "fairplay" === a.flavor
    }
    qJ.prototype.wb = function() {
        return {
            flavor: this.flavor,
            keySystem: this.keySystem
        }
    };
    qJ.prototype.Fd = function() {
        switch (this.keySystem) {
            case "com.youtube.playready":
                return "PRY";
            case "com.microsoft.playready":
                return "PRM";
            case "com.widevine.alpha":
                return "WVA";
            case "com.youtube.widevine.l3":
                return "WVY";
            case "com.youtube.widevine.forcehdcp":
                return "WVYF";
            case "com.youtube.fairplay":
                return "FPY";
            case "com.apple.fps.1_0":
                return "FPA";
            default:
                return this.keySystem
        }
    };

    function sJ() {
        var a = window,
            b = a.MSMediaKeys;
        Fu() && !b && (b = a.WebKitMediaKeys);
        return b && b.isTypeSupported ? b : null
    }

    function yJ(a) {
        if (!navigator.requestMediaKeySystemAccess) return !1;
        if (Ne && !zu()) return Er("45");
        if (oe || ne) return R(a, "edge_nonprefixed_eme");
        if (Je) return Er("47");
        if (Oe) {
            if (R(a, "html5_enable_safari_fairplay")) return !1;
            if (a = U(a, "html5_safari_desktop_eme_min_version")) return Er(a)
        }
        return !0
    }

    function ika(a, b, c, d) {
        var e = Bu(),
            f = (c = e || c && Fu()) ? ["com.youtube.fairplay"] : ["com.widevine.alpha"];
        b && (f.unshift("com.youtube.widevine.l3"), e && d && f.unshift("com.youtube.widevine.forcehdcp"));
        return c ? f : a ? [].concat(ha(f), ha(zJ.playready)) : [].concat(ha(zJ.playready), ha(f))
    }
    var AJ = {},
        zJ = (AJ.playready = ["com.youtube.playready", "com.microsoft.playready"], AJ.widevine = ["com.youtube.widevine.forcehdcp", "com.youtube.widevine.l3", "com.widevine.alpha"], AJ),
        BJ = {},
        CJ = (BJ.widevine = "DRM_SYSTEM_WIDEVINE", BJ.fairplay = "DRM_SYSTEM_FAIRPLAY", BJ.playready = "DRM_SYSTEM_PLAYREADY", BJ);

    function DJ(a, b, c, d, e) {
        d = void 0 === d ? !1 : d;
        C.call(this);
        this.experiments = b;
        this.useCobaltWidevine = d;
        this.Aa = e;
        this.i = [];
        this.l = {};
        this.B = {};
        this.callback = null;
        this.C = !1;
        this.u = [];
        this.initialize(a, !c);
        this.L()
    }
    v(DJ, C);
    DJ.prototype.initialize = function(a, b) {
        for (var c = this, d = t(Object.keys(a)), e = d.next(); !e.done; e = d.next()) {
            e = t(a[e.value]);
            for (var f = e.next(); !f.done; f = e.next())
                if (f = f.value, f.Nc)
                    for (var g = t(Object.keys(f.Nc)), k = g.next(); !k.done; k = g.next())
                        if (k = k.value, zJ[k])
                            for (var l = t(zJ[k]), m = l.next(); !m.done; m = l.next()) m = m.value, this.l[m] = this.l[m] || new qJ(k, m, f.Nc[k], this.experiments), this.B[k] = this.B[k] || {}, this.B[k][f.mimeType] = !0
        }
        Bu() && (this.l["com.youtube.fairplay"] = new qJ("fairplay", "com.youtube.fairplay", "",
            this.experiments), this.B.fairplay = {
            'video/mp4; codecs="avc1.4d400b"': !0,
            'audio/mp4; codecs="mp4a.40.5"': !0
        });
        this.i = ika(b, this.useCobaltWidevine, R(this.experiments, "html5_enable_safari_fairplay"), rH(this.experiments, "html5_hdcp_probing_stream_url")).filter(function(n) {
            return !!c.l[n]
        })
    };

    function jka(a, b) {
        a.callback = b;
        a.u = [];
        yJ(a.experiments) ? EJ(a) : kka(a)
    }

    function EJ(a) {
        if (!a.Ea())
            if (0 === a.i.length) a.callback(a.u);
            else {
                var b = a.i[0],
                    c = a.l[b],
                    d = lka(a, c);
                a.L();
                navigator.requestMediaKeySystemAccess(b, d).then(Bs(function(e) {
                    if (!a.Ea()) {
                        a.L();
                        c.keySystemAccess = e;
                        if (tJ(c)) {
                            e = ZF();
                            for (var f = t(Object.keys(a.B[c.flavor])), g = f.next(); !g.done; g = f.next()) g = g.value, c.i[g] = !!e.canPlayType(g)
                        } else {
                            e = c.keySystemAccess.getConfiguration();
                            if (e.audioCapabilities)
                                for (f = t(e.audioCapabilities), g = f.next(); !g.done; g = f.next()) FJ(a, c, g.value);
                            if (e.videoCapabilities)
                                for (e = t(e.videoCapabilities),
                                    f = e.next(); !f.done; f = e.next()) FJ(a, c, f.value)
                        }
                        a.u.push(c);
                        a.N("html5_drm_fallback_to_playready_on_retry") || a.useCobaltWidevine ? (a.i.shift(), EJ(a)) : a.callback(a.u)
                    }
                }), Bs(function() {
                    a.L();
                    a.C = !a.C && "widevine" === a.l[a.i[0]].flavor;
                    a.C || a.i.shift();
                    EJ(a)
                }))
            }
    }

    function FJ(a, b, c) {
        a.N("log_robustness_for_drm") ? b.i[c.contentType] = c.robustness || !0 : b.i[c.contentType] = !0
    }

    function lka(a, b) {
        var c = {
            initDataTypes: ["cenc", "webm"],
            audioCapabilities: [],
            videoCapabilities: []
        };
        tJ(b) && (c.initDataTypes = ["keyids", "cenc"]);
        for (var d = t(Object.keys(a.B[b.flavor])), e = d.next(); !e.done; e = d.next()) {
            e = e.value;
            var f = 0 === e.indexOf("audio/"),
                g = f ? c.audioCapabilities : c.videoCapabilities;
            "widevine" !== b.flavor || a.C ? g.push({
                contentType: e
            }) : f ? g.push({
                contentType: e,
                robustness: "SW_SECURE_CRYPTO"
            }) : (g.push({
                    contentType: e,
                    robustness: "HW_SECURE_ALL"
                }), f = e, a.N("html5_enable_cobalt_experimental_vp9_decoder") &&
                e.includes("vp09") && (f = e + "; experimental=allowed"), g.push({
                    contentType: f,
                    robustness: "SW_SECURE_DECODE"
                }), a.N("html5_query_sw_secure_crypto_for_android") && (Iu() || wu()) && (a.Aa("swcrypto", "1"), g.push({
                    contentType: e,
                    robustness: "SW_SECURE_CRYPTO"
                })))
        }
        return [c]
    }

    function kka(a) {
        if (sJ() && Oe) a.L(), a.u.push(new qJ("fairplay", "com.apple.fps.1_0", "", a.experiments));
        else {
            var b = mka(),
                c = tb(a.i, function(d) {
                    var e = a.l[d],
                        f = !1,
                        g = !1,
                        k;
                    for (k in a.B[e.flavor]) b(k, d) && (e.i[k] = !0, f = f || 0 === k.indexOf("audio/"), g = g || 0 === k.indexOf("video/"));
                    return f && g
                });
            c ? (a.L(), a.u.push(a.l[c])) : a.L();
            a.i = []
        }
        a.callback(a.u)
    }

    function mka() {
        var a = sJ();
        if (a) {
            var b = a.isTypeSupported;
            return function(d, e) {
                return b(e, d)
            }
        }
        var c = ZF();
        return c && (c.addKey || c.webkitAddKey) ? function(d, e) {
            return !!c.canPlayType(d, e)
        } : function() {
            return !1
        }
    }
    DJ.prototype.L = function() {};
    DJ.prototype.N = function(a) {
        return R(this.experiments, a)
    };

    function GJ(a) {
        this.i = a
    }
    h = GJ.prototype;
    h.Fd = function() {
        return this.i
    };
    h.fn = function() {
        return null
    };
    h.Ny = function() {
        var a = this.fn();
        return a ? (a = rt(a.i), Number(a.expire)) : NaN
    };
    h.zv = function() {};
    h.Ib = function() {
        return this.i.Ib()
    };
    h.getHeight = function() {
        return this.i.gb().height
    };

    function HJ(a, b, c) {
        if (c) return aH();
        var d = {};
        c = ZF();
        b = t(b);
        for (var e = b.next(); !e.done; e = b.next())
            if (e = e.value, a.canPlayType(c, e.Fd().mimeType)) {
                var f = e.i.gb().quality;
                if (!d[f] || d[f].Fd().qd()) d[f] = e
            } var g = [];
        d.auto && g.push(d.auto);
        nb(LF, function(k) {
            (k = d[k]) && g.push(k)
        });
        return g.length ? $G(g) : aH()
    };

    function IJ(a, b, c) {
        this.u = a;
        this.l = b;
        this.cpn = c;
        this.B = 0;
        this.i = ""
    }
    IJ.prototype.ge = function() {
        nka(this);
        var a = ["#EXTM3U", "#EXT-X-INDEPENDENT-SEGMENTS"],
            b = {};
        a: if (this.i) var c = this.i;
            else {
                c = "";
                for (var d = t(this.u), e = d.next(); !e.done; e = d.next())
                    if (e = e.value, e.Ob) {
                        if (e.Ob.getIsDefault()) {
                            c = e.Ob.getId();
                            break a
                        }
                        c || (c = e.Ob.getId())
                    }
            } d = t(this.u);
        for (e = d.next(); !e.done; e = d.next()) e = e.value, e.Ob && e.Ob.getId() !== c || (b[e.itag] = e);
        c = t(this.l);
        for (d = c.next(); !d.done; d = c.next())
            if (d = d.value, e = b[d.i]) {
                var f = a,
                    g = f.push,
                    k = "#EXT-X-MEDIA:TYPE=AUDIO,",
                    l = "YES",
                    m = "audio";
                if (e.Ob) {
                    m = e.Ob;
                    var n = m.getId().split(".")[0];
                    n && (k += 'LANGUAGE="' + n + '",');
                    this.i || m.getIsDefault() || (l = "NO");
                    m = m.getName()
                }
                n = "";
                null !== d && (n = d.itag.toString());
                n = JJ(this, e.url, n);
                k = k + ('NAME="' + m + '",DEFAULT=' + (l + ',AUTOSELECT=YES,GROUP-ID="')) + (KJ(e, d) + '",URI="' + (n + '"'));
                g.call(f, k)
            } c = t(this.l);
        for (d = c.next(); !d.done; d = c.next())
            if (d = d.value, e = b[d.i]) e = "#EXT-X-STREAM-INF:BANDWIDTH=" + (d.bitrate + e.bitrate) + ',CODECS="' + (d.codecs + "," + e.codecs + '",RESOLUTION=') + (d.width + "x" + d.height + ',AUDIO="') + (KJ(e, d) + '",CLOSED-CAPTIONS=NONE'),
                1 < d.fps && (e += ",FRAME-RATE=" + d.fps), d.l && (e += ",VIDEO-RANGE=" + d.l), a.push(e), a.push(JJ(this, d.url, ""));
        return a.join("\n")
    };

    function JJ(a, b, c) {
        a.cpn && (b = Ti(b, {
            cpn: a.cpn
        }));
        c && (b = Ti(b, {
            RU: c
        }));
        return b
    }

    function KJ(a, b) {
        a = a.itag.toString();
        null !== b && (a += b.itag.toString());
        return a
    }

    function nka(a) {
        for (var b = [], c = [], d = t(a.l), e = d.next(); !e.done; e = d.next()) e = e.value, e.bitrate <= a.B ? b.push(e) : c.push(e);
        b.sort(function(f, g) {
            return g.bitrate - f.bitrate
        });
        c.sort(function(f, g) {
            return f.bitrate - g.bitrate
        });
        a.l = b.concat(c)
    };

    function oka(a, b, c, d, e, f, g, k, l, m, n, p) {
        this.itag = a;
        this.url = b;
        this.codecs = c;
        this.width = d;
        this.height = e;
        this.fps = f;
        this.bitrate = g;
        this.Ob = void 0 === n ? null : n;
        this.audioChannels = p;
        this.u = (null === k || void 0 === k ? void 0 : k.split(",")) || [];
        this.l = l || null;
        this.Nc = m || "";
        this.i = ""
    }

    function LJ(a, b, c, d) {
        b = void 0 === b ? !1 : b;
        c = void 0 === c ? !0 : c;
        d = void 0 === d ? [] : d;
        var e = {};
        a = t(a);
        for (var f = a.next(); !f.done; f = a.next()) {
            f = f.value;
            if (b && MediaSource && MediaSource.isTypeSupported) {
                var g = f.type;
                f.audio_channels && (g = g + "; channels=" + f.audio_channels);
                if (!MediaSource.isTypeSupported(g)) {
                    d.push(f.itag);
                    d.push("tpus");
                    continue
                }
            }
            if (c || !f.drm_families || "smpte2084" !== f.eotf && "arib-std-b67" !== f.eotf) {
                g = {
                    bt709: "SDR",
                    bt2020: "SDR",
                    smpte2084: "PQ",
                    "arib-std-b67": "HLG"
                };
                var k = f.type.match(/codecs="([^"]*)"/);
                k = k ? k[1] : "";
                var l = null;
                f.audio_track_id && (l = new VF(f.name, f.audio_track_id, !!f.is_default));
                var m = f.eotf;
                f = new oka(f.itag, f.url, k, +f.width, +f.height, +f.fps, +f.bitrate, f.audio_itag, m ? g[m] : void 0, f.drm_families, l, +f.audio_channels);
                e[f.itag] = e[f.itag] || [];
                e[f.itag].push(f)
            } else d.push(f.itag), d.push("enchdr")
        }
        return e
    };

    function YB(a, b, c) {
        this.i = a;
        this.u = b;
        this.expiration = c;
        this.l = null
    }
    v(YB, GJ);
    YB.prototype.Ny = function() {
        return this.expiration
    };

    function pka(a, b) {
        if (!(uu || Fu() || Bu())) return null;
        a = LJ(b, R(a.experiments, "html5_filter_fmp4_in_hls"));
        if (!a) return null;
        b = [];
        for (var c = {}, d = t(Object.keys(a)), e = d.next(); !e.done; e = d.next()) {
            e = t(a[e.value]);
            for (var f = e.next(); !f.done; f = e.next()) {
                var g = f.value;
                g.Ob && (f = g.Ob.getId(), c[f] || (g = new LA(f, g.Ob), c[f] = g, b.push(g)))
            }
        }
        return 0 < b.length ? b : null
    }

    function qka(a, b, c, d, e, f) {
        if (!(uu || Fu() || Bu())) return aH();
        var g = [],
            k = rka(c);
        c = LJ(c, R(a.experiments, "html5_filter_fmp4_in_hls"), a.i.B, g);
        if (!c) return f("noplst"), aH();
        ska(c);
        var l = {},
            m = (l.fairplay = "https://youtube.com/api/drm/fps?ek=uninitialized", l),
            n;
        l = [];
        for (var p = [], q = [], r = null, u = "", x = t(Object.keys(c)), z = x.next(); !z.done; z = x.next())
            if (z = z.value, !R(a.experiments, "html5_disable_drm_hfr_1080") || "383" !== z && "373" !== z) {
                z = t(c[z]);
                for (var D = z.next(); !D.done; D = z.next())
                    if (D = D.value, D.width) {
                        for (var H =
                                t(D.u), O = H.next(); !O.done; O = H.next())
                            if (O = O.value, c[O]) {
                                D.i = O;
                                break
                            } D.i || (D.i = tka(c, D));
                        if (H = c[D.i])
                            if (l.push(D), "fairplay" === D.Nc && (n = m), O = "", "PQ" === D.l ? O = "smpte2084" : "HLG" === D.l && (O = "arib-std-b67"), O && (u = O), q.push(MJ(H, [D], e, D.itag, D.width, D.height, D.fps, k, void 0, void 0, n, O)), !r || D.width * D.height * D.fps > r.width * r.height * r.fps) r = D
                    } else p.push(D)
            } else g.push(z), g.push("disdrmhfr");
        q.reduce(function(M, J) {
            return J.Fd().Mg() && M
        }, !0) && (n = m);
        c = r || {};
        q.push(MJ(p, l, e, "93", void 0 === c.width ? 0 : c.width, void 0 === c.height ? 0 : c.height, void 0 === c.fps ? 0 : c.fps, k, "auto", Math.max(d, 0), n, u));
        g.length && f(g.join("."));
        return HJ(a.i, q, tI(a, b))
    }
    YB.prototype.fn = function() {
        if (!this.l || this.l.Ea()) {
            var a = this.u.ge();
            a = "data:application/x-mpegurl;charset=utf-8," + encodeURIComponent(a);
            this.l = new rG(a)
        }
        return this.l
    };

    function MJ(a, b, c, d, e, f, g, k, l, m, n, p) {
        for (var q = 0, r = "", u = t(a), x = u.next(); !x.done; x = u.next()) x = x.value, r || (r = x.itag), x.audioChannels && x.audioChannels > q && (q = x.audioChannels, r = x.itag);
        d = new OF(d, "application/x-mpegURL", {
            audio: new HF(0, q, null, r),
            video: new MF(e, f, g, null, void 0, l, void 0, p),
            Nc: n
        });
        a = new IJ(a, b, c);
        a.B = m ? m : 1369843;
        return new YB(d, a, k)
    }

    function rka(a) {
        a = t(a);
        for (var b = a.next(); !b.done; b = a.next())
            if (b = b.value, b.url && (b = b.url.split("expire/"), !(1 >= b.length))) return +b[1].split("/")[0];
        return NaN
    }

    function tka(a, b) {
        for (var c = t(Object.keys(a)), d = c.next(); !d.done; d = c.next()) {
            d = d.value;
            var e = a[d][0];
            if (!e.width && e.Nc === b.Nc && !e.audioChannels) return d
        }
        return ""
    }

    function ska(a) {
        for (var b = new Set, c = t(Object.values(a)), d = c.next(); !d.done; d = c.next()) d = d.value, d.length && (d = d[0], d.height && d.codecs.startsWith("vp09") && b.add(d.height));
        c = [];
        if (b.size) {
            d = t(Object.keys(a));
            for (var e = d.next(); !e.done; e = d.next())
                if (e = e.value, a[e].length) {
                    var f = a[e][0];
                    f.height && b.has(f.height) && !f.codecs.startsWith("vp09") && c.push(e)
                }
        }
        b = t(c);
        for (e = b.next(); !e.done; e = b.next()) delete a[e.value]
    };

    function NJ(a, b) {
        this.i = a;
        this.l = b
    }
    v(NJ, GJ);

    function uka(a, b, c, d) {
        var e = [];
        c = t(c);
        for (var f = c.next(); !f.done; f = c.next()) {
            var g = f.value;
            if (g.url) {
                f = new dD(g.url, !0);
                if (g.s) {
                    var k = g.sp,
                        l = cD(decodeURIComponent(g.s));
                    f.set(k, encodeURIComponent(l))
                }
                k = t(Object.keys(d));
                for (l = k.next(); !l.done; l = k.next()) l = l.value, f.set(l, d[l]);
                g = UF(g.type, g.quality, g.itag, g.width, g.height);
                e.push(new NJ(g, f))
            }
        }
        return HJ(a.i, e, tI(a, b))
    }
    NJ.prototype.fn = function() {
        return new rG(fD(this.l))
    };
    NJ.prototype.zv = function() {
        this.l = jD(this.l)
    };

    function OJ(a, b) {
        this.i = a;
        this.l = b
    }
    v(OJ, GJ);

    function vka(a) {
        var b = [];
        nb(a, function(c) {
            if (c && c.url) {
                var d = UF(c.type, "medium", "0");
                b.push(new OJ(d, c.url))
            }
        });
        return b
    }

    function wka(a, b, c) {
        c = vka(c);
        return HJ(a.i, c, tI(a, b))
    }
    OJ.prototype.fn = function() {
        return new rG(this.l)
    };

    function xka(a) {
        if (a = a.commonConfig) this.url = a.url, this.urlQueryOverride = a.urlQueryOverride, a.ustreamerConfig && (this.ustreamerConfig = AH(a.ustreamerConfig))
    };
    var PJ = {
            "ad-trueview-indisplay-pv": 6,
            "ad-trueview-insearch": 7
        },
        QJ = {
            "ad-trueview-indisplay-pv": 2,
            "ad-trueview-insearch": 2
        },
        RJ = /^(\d*)_((\d*)_?(\d*))$/;

    function SJ(a, b, c) {
        a || (a = b && PJ.hasOwnProperty(b) && QJ.hasOwnProperty(b) ? QJ[b] + "_" + PJ[b] : void 0);
        b = a;
        if (!b) return null;
        a = b.match(RJ);
        if (!a || 5 !== a.length) return null;
        if (a = b.match(RJ)) {
            var d = Number(a[3]),
                e = [7, 8, 10, 5, 6];
            a = !(1 === Number(a[1]) && 8 === d) && 0 <= e.indexOf(d)
        } else a = !1;
        return c || a ? b : null
    };
    var TJ = {},
        yka = (TJ.ALWAYS = 1, TJ.BY_REQUEST = 3, TJ.UNKNOWN = void 0, TJ),
        UJ = {},
        zka = (UJ.COLOR_PRIMARIES_BT709 = "bt709", UJ.COLOR_PRIMARIES_BT2020 = "bt2020", UJ.COLOR_PRIMARIES_UNKNOWN = null, UJ.COLOR_PRIMARIES_UNSPECIFIED = null, UJ),
        VJ = {},
        Aka = (VJ.COLOR_TRANSFER_CHARACTERISTICS_BT709 = "bt709", VJ.COLOR_TRANSFER_CHARACTERISTICS_BT2020_10 = "bt2020", VJ.COLOR_TRANSFER_CHARACTERISTICS_SMPTEST2084 = "smpte2084", VJ.COLOR_TRANSFER_CHARACTERISTICS_ARIB_STD_B67 = "arib-std-b67", VJ.COLOR_TRANSFER_CHARACTERISTICS_UNKNOWN = null, VJ.COLOR_TRANSFER_CHARACTERISTICS_UNSPECIFIED =
            null, VJ),
        WJ = {},
        XJ = (WJ.FAIRPLAY = "fairplay", WJ.PLAYREADY = "playready", WJ.WIDEVINE = "widevine", WJ.CLEARKEY = null, WJ.FLASHACCESS = null, WJ.UNKNOWN = null, WJ.WIDEVINE_CLASSIC = null, WJ),
        YJ = {},
        Bka = (YJ.MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_UNKNOWN = "UNKNOWN", YJ.MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_NORMAL = "NORMAL", YJ.MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_LOW = "LOW", YJ.MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_ULTRA_LOW = "ULTRALOW", YJ),
        ZJ = {},
        Cka = (ZJ.UNKNOWN = 0, ZJ.RECTANGULAR = 1, ZJ.EQUIRECTANGULAR = 2, ZJ.EQUIRECTANGULAR_THREED_TOP_BOTTOM =
            3, ZJ.MESH = 4, ZJ),
        $J = {},
        Dka = ($J.SPATIAL_AUDIO_TYPE_NONE = 0, $J.SPATIAL_AUDIO_TYPE_AMBISONICS_5_1 = 1, $J.SPATIAL_AUDIO_TYPE_AMBISONICS_QUAD = 2, $J.SPATIAL_AUDIO_TYPE_FOA_WITH_NON_DIEGETIC = 3, $J),
        aK = {},
        Eka = (aK.STEREO_LAYOUT_UNKNOWN = 0, aK.STEREO_LAYOUT_LEFT_RIGHT = 1, aK.STEREO_LAYOUT_TOP_BOTTOM = 2, aK),
        bK = {},
        Fka = (bK.FORMAT_STREAM_TYPE_UNKNOWN = 0, bK.FORMAT_STREAM_TYPE_OTF = 3, bK);

    function cK(a) {
        if (a = a.colorInfo)
            if (a = a.transferCharacteristics) return Aka[a];
        return null
    }

    function dK(a) {
        return a && a.baseUrl || ""
    }

    function eK(a) {
        a = rt(a);
        for (var b = t(Object.keys(a)), c = b.next(); !c.done; c = b.next()) {
            c = c.value;
            var d = a[c];
            a[c] = Array.isArray(d) ? d[0] : d
        }
        return a
    }

    function fK(a, b) {
        a.botguardData = b.playerAttestationRenderer.botguardData;
        b = b.playerAttestationRenderer.challenge;
        null != b && (a.U = b)
    }

    function Gka(a, b) {
        a.captionTracks = [];
        if (b.captionTracks)
            for (var c = t(b.captionTracks), d = c.next(); !d.done; d = c.next()) {
                d = d.value;
                var e = gK(d.baseUrl);
                if (!e) return;
                d = new BC({
                    is_translateable: !!d.isTranslatable,
                    languageCode: d.languageCode,
                    languageName: d.name && mC(d.name),
                    url: e,
                    vss_id: d.vssId,
                    kind: d.kind
                });
                a.captionTracks.push(d)
            }
        a.Bl = b.audioTracks || [];
        a.Aw = b.defaultAudioTrackIndex || 0;
        a.vn = b.translationLanguages ? pb(b.translationLanguages, function(f) {
            return {
                languageCode: f.languageCode,
                languageName: mC(f.languageName)
            }
        }) : [];
        a.lC = !!b.contribute && !!b.contribute.captionsMetadataRenderer
    }

    function Hka(a, b) {
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) {
            c = c.value;
            var d = c.interstitials.map(function(g) {
                var k = g.unserializedPlayerResponse;
                if (k) return {
                    is_yto_interstitial: !0,
                    raw_player_response: k
                };
                if (g = g.playerVars) return Object.assign({
                    is_yto_interstitial: !0
                }, pt(g))
            });
            d = t(d);
            for (var e = d.next(); !e.done; e = d.next()) switch (e = e.value, c.podConfig.playbackPlacement) {
                case "INTERSTITIAL_PLAYBACK_PLACEMENT_PRE":
                    a.interstitials = a.interstitials.concat({
                        time: 0,
                        playerVars: e,
                        xg: 5
                    });
                    break;
                case "INTERSTITIAL_PLAYBACK_PLACEMENT_POST":
                    a.interstitials = a.interstitials.concat({
                        time: 0x7ffffffffffff,
                        playerVars: e,
                        xg: 6
                    });
                    break;
                case "INTERSTITIAL_PLAYBACK_PLACEMENT_INSERT_AT_VIDEO_TIME":
                    var f = Number(c.podConfig.timeToInsertAtMillis);
                    a.interstitials = a.interstitials.concat({
                        time: f,
                        playerVars: e,
                        xg: 0 === f ? 5 : 7
                    })
            }
        }
    }

    function Ika(a, b) {
        if (b = b.find(function(c) {
                return !(!c || !c.tooltipRenderer)
            })) a.tooltipRenderer = b.tooltipRenderer
    }

    function hK(a, b) {
        b.subscribeCommand && (a.subscribeCommand = b.subscribeCommand);
        b.unsubscribeCommand && (a.unsubscribeCommand = b.unsubscribeCommand);
        b.addToWatchLaterCommand && (a.addToWatchLaterCommand = b.addToWatchLaterCommand);
        b.removeFromWatchLaterCommand && (a.removeFromWatchLaterCommand = b.removeFromWatchLaterCommand);
        b.getSharePanelCommand && (a.getSharePanelCommand = b.getSharePanelCommand)
    }

    function iK(a) {
        var b = a.indexRange,
            c = a.initRange;
        b = {
            itag: a.itag,
            url: a.url,
            index: b ? b.start + "-" + b.end : "0-0",
            bitrate: a.bitrate,
            init: c ? c.start + "-" + c.end : "0-0",
            type: a.mimeType,
            clen: a.contentLength,
            lmt: a.lastModified,
            xtags: a.xtags
        };
        if (c = a.audioTrack) {
            var d = c.displayName;
            d && (b.name = d, b.audio_track_id = c.id, c.audioIsDefault && (b.isDefault = "1"))
        }
        if (c = a.captionTrack) b.caption_display_name = c.displayName, b.caption_vss_id = c.vssId, b.caption_language_code = c.languageCode, b.caption_kind = c.kind;
        (c = a.cipher || a.signatureCipher) ?
        (c = pt(c), b.sp = c.sp, b.s = c.s, b.url = c.url) : b.url = a.url;
        c = a.width;
        d = a.height;
        null != c && null != d && (b.size = c + "x" + d);
        (c = a.fps) && (b.fps = c);
        (c = a.type) && (b.stream_type = Fka[c]);
        (c = a.projectionType) && (b.projection_type = Cka[c]);
        (c = a.stereoLayout) && (b.stereo_layout = Eka[c]);
        (c = a.spatialAudioType) && (b.spatial_audio_type = Dka[c]);
        if (d = a.drmFamilies) {
            c = [];
            d = t(d);
            for (var e = d.next(); !e.done; e = d.next()) c.push(XJ[e.value]);
            b.drm_families = c.join(",")
        }(c = a.qualityLabel) && (b.quality_label = c);
        (c = a.targetDurationSec) && (b.target_duration_sec =
            c);
        (c = a.maxDvrDurationSec) && (b.max_dvr_duration_sec = c);
        (c = a.audioSampleRate) && (b.audio_sample_rate = c);
        (c = a.audioChannels) && (b.audio_channels = c);
        (c = cK(a)) && (b.eotf = c);
        (a = a.colorInfo) && (a = a.primaries) && (a = zka[a]) && (b.primaries = a);
        return Si(b)
    };

    function jK() {
        S.call(this);
        this.i = null;
        new Zr;
        this.i = null
    }
    v(jK, S);
    jK.prototype.Da = function() {
        this.i && (this.i = this.i.onload = null);
        S.prototype.Da.call(this)
    };

    function kK(a, b, c, d) {
        this.level = a;
        this.C = b;
        this.loaded = new Set;
        this.level = a;
        this.C = b;
        a = c.split("#");
        this.width = Math.floor(Number(a[0]));
        this.height = Math.floor(Number(a[1]));
        this.l = Math.floor(Number(a[2]));
        this.columns = Math.floor(Number(a[3]));
        this.rows = Math.floor(Number(a[4]));
        this.u = Math.floor(Number(a[5]));
        this.B = a[6];
        this.signature = a[7];
        this.videoLength = d
    }
    h = kK.prototype;
    h.getHeight = function() {
        return this.height
    };
    h.Ry = function() {
        return this.l
    };
    h.isDefault = function() {
        return -1 !== this.B.indexOf("default")
    };
    h.isLoaded = function(a) {
        return this.loaded.has(a)
    };
    h.Kw = function(a) {
        var b = this.Ry() - 1;
        return rg(0 === this.u ? Math.round(a * this.l / this.videoLength) : Math.round(1E3 * a / this.u), 0, b)
    };
    h.ip = function() {
        return this.l - 1
    };
    h.Hr = function() {
        return this.l ? 0 : -1
    };
    h.Lw = function() {};

    function lK(a, b, c, d, e) {
        d = void 0 === d ? !1 : d;
        e = void 0 === e ? !1 : e;
        jK.call(this, c);
        this.isLive = d;
        this.B = !!e;
        this.levels = this.l(a, b);
        1 < this.levels.length && this.levels[0].isDefault() && this.levels.splice(0, 1)
    }
    v(lK, jK);
    lK.prototype.l = function(a, b) {
        var c = [];
        a = a.split("|");
        for (var d = a[0], e = 1; e < a.length; e++) {
            var f = this.u(e - 1, d, a[e], b);
            (this.B || 180 > f.getHeight()) && c.push(f)
        }
        return c
    };
    lK.prototype.u = function(a, b, c, d) {
        return new kK(a, b, c, d)
    };

    function mK(a, b, c, d) {
        c = c.split("#");
        c = [c[1], c[2], 0, c[3], c[4], -1, c[0], ""].join("#");
        kK.call(this, a, b, c, 0);
        this.i = null;
        this.D = d ? 2 : 0
    }
    v(mK, kK);
    h = mK.prototype;
    h.Ry = function() {
        return this.i.getNumberOfSegments()
    };
    h.Kw = function(a) {
        var b = this.rows * this.columns * this.D,
            c = this.i,
            d = c.getLastSegmentNumber();
        a = c.getSegmentNumberForTime(a);
        return a > d - b ? -1 : a
    };
    h.ip = function() {
        return this.i.getLastSegmentNumber()
    };
    h.Hr = function() {
        return this.i.getFirstSegmentNumber()
    };
    h.Lw = function(a) {
        this.i = a
    };

    function nK(a, b, c, d) {
        lK.call(this, a, 0, void 0, b, !(void 0 === d || !d));
        for (a = 0; a < this.levels.length; a++) this.levels[a].Lw(c)
    }
    v(nK, lK);
    nK.prototype.l = function(a, b) {
        return lK.prototype.l.call(this, "$N|" + a, b)
    };
    nK.prototype.u = function(a, b, c) {
        return new mK(a, b, c, this.isLive)
    };

    function Jka(a, b, c) {
        b = {
            cpn: b
        }; - 1 === a.indexOf("/ibw/") && (b.ibw = c ? String(c) : "1369843");
        return {
            url: Ti(a, b),
            type: "application/x-mpegURL",
            quality: "auto",
            itag: "93"
        }
    };

    function Kka(a) {
        navigator.mediaCapabilities ? oK(a.videoInfos).then(function() {
            return a
        }, function() {
            return a
        }) : $G(a)
    }

    function oK(a) {
        var b = navigator.mediaCapabilities;
        if (!b) return $G(a);
        var c = a.map(function(d) {
            var e;
            if (e = b) d.video ? (e = d.video, d = {
                type: "media-source",
                video: {
                    contentType: d.mimeType,
                    width: e.width || 640,
                    height: e.height || 360,
                    bitrate: 8 * d.qb || 1E6,
                    framerate: e.fps || 30
                }
            }) : d.audio ? (e = d.audio, d = {
                type: "media-source",
                audio: {
                    contentType: d.mimeType,
                    channels: e.i || 2,
                    bitrate: 8 * d.qb || 128E3,
                    samplerate: e.sampleRate || 44100
                }
            }) : d = null, e = b.decodingInfo(d);
            return e
        });
        return th(c).then(function(d) {
            for (var e = 0; e < d.length; e++) a[e].u = d[e].smooth, a[e].l = d[e].powerEfficient, a[e].isSupported = d[e].supported;
            return a
        }, function() {
            return a
        })
    };

    function pK(a, b) {
        S.call(this);
        this.B = a;
        this.adModule = !1;
        this.adaptiveFormats = "";
        this.ow = this.xj = this.adQueryId = this.wj = null;
        this.wl = {
            start: NaN,
            end: NaN
        };
        this.Nc = null;
        this.Rr = this.drmParams = "";
        this.allowEmbed = !0;
        this.allowLiveDvr = this.offlineable = this.backgroundable = !1;
        this.og = "";
        this.ke = this.Ce = this.le = this.ls = this.Al = this.zl = !1;
        this.D = null;
        this.pw = this.Ic = !1;
        this.rh = NaN;
        this.uh = !1;
        this.Rm = 0;
        this.DA = !1;
        this.Hj = {};
        this.pu = this.cycToken = null;
        this.author = "";
        this.Jm = 0;
        this.rg = !1;
        this.ym = null;
        this.xu = [];
        this.dk = this.Cw = !1;
        this.clientScreenNonce = this.clientPlaybackNonce = this.videoCountText = this.channelBanner = this.zb = "";
        this.contentCheckOk = !1;
        this.endSeconds = this.bb = 0;
        this.nw = this.rb = this.u = null;
        this.Xr = "";
        this.I = !1;
        this.cf = this.wh = 0;
        this.yl = this.pipable = this.Lg = !1;
        this.paidContentOverlayDurationMs = 0;
        this.isLivePlayback = this.ub = this.isPrivate = this.isListed = this.Zr = this.LB = this.mutedAutoplay = this.Uh = !1;
        this.rs = "";
        this.isLowLatencyLiveStream = this.isLivingRoomDeeplink = this.isLiveDefaultBroadcast = this.gs =
            this.lh = this.yd = !1;
        this.latencyClass = "UNKNOWN";
        this.enableServerStitchedDai = this.Oc = this.isMdxPlayback = this.isUpcoming = this.isPremiere = !1;
        this.mdxControlMode = null;
        this.isPharma = !1;
        this.ob = 0;
        this.reloadReason = "";
        this.hs = this.ix = this.zf = !1;
        this.keywords = {};
        this.Ka = "";
        this.ph = 0;
        this.Oj = !1;
        this.liveChunkReadahead = NaN;
        this.ud = null;
        this.Lm = this.lengthSeconds = 0;
        this.playerParams = this.musicVideoType = null;
        this.paygated = !1;
        this.Sf = [];
        this.J = [];
        this.racyCheckOk = !1;
        this.mx = {};
        this.Po = 0;
        this.l = null;
        this.autonavState =
            1;
        this.shortDescription = "";
        this.ya = !1;
        this.Nj = this.jb = this.startSeconds = 0;
        this.Pj = this.zw = this.Qj = UA;
        this.suggestions = null;
        this.Sm = this.rl = void 0;
        this.Wd = null;
        this.mu = !1;
        this.expandedSubtitle = this.subtitle = this.title = "";
        this.multiMarkersPlayerBarRenderer = void 0;
        this.hlsFormats = this.Xd = "";
        this.Ej = this.Mj = this.Zd = this.Sa = this.T = this.yg = this.Dj = null;
        this.Kf = "vvt";
        this.vb = !1;
        this.NB = null;
        this.PB = "";
        this.Uv = NaN;
        this.Yk = this.fv = this.Ik = this.Bk = this.Wu = this.Bg = this.pk = this.Kk = this.Ag = this.Jk = "";
        this.Fe =
            null;
        this.Sz = !1;
        this.G = {};
        this.clipStart = 0;
        this.clipEnd = Infinity;
        this.heartbeatToken = "";
        this.bx = this.Zw = NaN;
        this.kb = this.oh = this.yb = this.ex = this.dx = !1;
        this.zg = !0;
        this.fb = {};
        this.captionTracks = [];
        this.Bl = [];
        this.Aw = 0;
        this.vn = [];
        this.lC = !1;
        this.dh = new LA("und", new VF("Default", "und", !0));
        this.qs = 0;
        this.C = null;
        this.Ld = [];
        this.Vr = !1;
        this.iC = [];
        this.Rj = this.qc = "";
        this.slotPosition = -1;
        this.breakType = 0;
        this.watchNextResponse = this.playerResponse = this.gD = this.Ij = this.hh = this.Qa = this.Sr = this.xl = this.vl = null;
        this.Bj = !1;
        this.Ma = null;
        this.isInlinePlaybackNoAd = this.Sc = this.useCobaltWidevine = this.aA = this.Fk = this.Ta = !1;
        this.iD = this.nD = NaN;
        this.defraggedFromSubfragments = this.Jg = this.hasSubfragmentedFmp4 = !1;
        this.liveExperimentalContentId = NaN;
        this.Pm = this.Eu = this.Bc = !1;
        this.interstitials = [];
        this.Ha = this.ds = !1;
        this.qh = this.qD = this.Cb = "";
        this.Fj = null;
        this.Zb = "";
        this.ea = !1;
        this.pD = this.lk = "";
        this.xs = this.ws = this.Yr = this.readAheadGrowthRateMs = this.minReadAheadMediaTimeMs = this.maxReadAheadMediaTimeMs = NaN;
        this.showShareButton = !0;
        this.errorDetail = this.userGenderAge = "";
        this.OA = this.TA = this.getSharePanelCommand = this.removeFromWatchLaterCommand = this.addToWatchLaterCommand = this.unsubscribeCommand = this.subscribeCommand = this.contextParams = this.Fg = this.errorReason = this.errorCode = null;
        this.Aj = this.yj = "";
        this.Cj = !1;
        this.mw = this.MB = this.KB = this.Ke = this.Xc = 0;
        this.fetchType = null;
        this.sD = void 0;
        this.Kj = this.Lj = !1;
        this.Jb = null;
        this.ra = "";
        this.td = !1;
        this.Lj = this.N("web_new_autonav_countdown");
        this.Kj = this.N("web_new_big_thumbnail_endscreen");
        qK(this, b)
    }
    v(pK, S);

    function fC(a, b, c, d) {
        b && b.cpn && ly(new lw("CPN provided in VideoData update", {
            NU: b.cpn,
            je: a.clientPlaybackNonce,
            BU: c
        }));
        d && (a.errorCode = null, a.errorDetail = "", a.errorReason = null, a.Fg = null);
        c ? (gB(b), qK(a, b), rK(a) && sK(a)) : (b = b || {}, tK(a, b), uK(a, b), vK(a, b), a.W("dataupdated"))
    }

    function vK(a, b) {
        a.fflags = eB(a.fflags, b.fflags);
        var c = b.iv_invideo_url;
        c && (a.og = tB(c));
        a.zl = L(a.zl, b.iv_ads_only);
        a.Al = L(a.Al, b.iv_allow_in_place_switch);
        if (c = b.cta_conversion_urls) a.jC = c;
        a.isPharma = L(a.isPharma, b.is_pharma);
        a.author = eB(a.author, b.author);
        a.zb = gK(b.ttsurl) || a.zb;
        a.rg = L(a.rg, b.cc_asr);
        a.channelBanner = eB(a.channelBanner, b.channel_banner);
        if (c = b.profile_picture) a.Xh = eB(a.Xh, c);
        a.videoCountText = eB(a.videoCountText, b.video_count_text);
        a.autonavState = cB(a.autonavState, b.autonav_state, Hha);
        a.clientPlaybackNonce = eB(a.clientPlaybackNonce, b.cpn);
        a.subscribed = L(a.subscribed, b.subscribed);
        a.rawViewCount = dB(a.rawViewCount, b.view_count);
        a.shortViewCount = eB(a.shortViewCount, b.short_view_count_text);
        a.publishedTimeText = eB(a.publishedTimeText || "", b.publishedTimeText);
        a.lengthText = eB(a.lengthText || "", b.lengthText);
        a.tu = eB(a.tu || "", b.tu);
        a.Cs = eB(a.Cs || "", b.Cs);
        a.title = eB(a.title, b.title);
        a.subtitle = eB(a.subtitle, b.subtitle);
        a.expandedSubtitle = eB(a.expandedSubtitle, b.expanded_subtitle);
        a.ypcPreview =
            eB(a.ypcPreview, b.ypc_preview);
        a.hv = eB(a.hv, b.ypc_origin);
        a.vb = L(a.vb, b.ypc_is_premiere_trailer);
        a.lk = eB(a.lk, b.ypc_clickwrap_message);
        a.paygated = L(a.paygated, b.paygated);
        a.Sz = L(a.Sz, b.requires_purchase);
        a.showShareButton = !L(!a.showShareButton, b.ss);
        if (c = b.keywords) a.keywords = wK(c.split(","));
        if (c = b.rvs) a.suggestions = qt(c);
        a.contentCheckOk = L(a.contentCheckOk, b.cco);
        a.racyCheckOk = L(a.racyCheckOk, b.rco);
        a.isLivingRoomDeeplink = L(a.isLivingRoomDeeplink, b.is_living_room_deeplink);
        a.oauthToken = eB(a.oauthToken,
            b.oauth_token);
        a.Ka = eB(a.Ka, b.kpt);
        a.visitorData = eB(a.visitorData, b.visitor_data);
        if (c = b.session_data) a.yT = mt(c, "&");
        (c = b.endscreen_autoplay_session_data) && mt(c, "&");
        a.Tr = eB(a.Tr, b.endscreen_ad_tracking_data);
        a.zB = eB(a.zB, b.tracking_list);
        a.yj = eB(a.yj, b.clip);
        a.Aj = eB(a.Aj, b.clipt);
        xK(a, b)
    }

    function qK(a, b) {
        var c, d, e, f;
        b = b || {};
        var g = b.errordetail;
        null != g && (a.errorDetail = g);
        var k = b.errorcode;
        null != k ? a.errorCode = k : "fail" == b.status && (a.errorCode = "150");
        var l = b.reason;
        null != l && (a.errorReason = l);
        var m = b.subreason;
        null != m && (a.Fg = m);
        a.clientPlaybackNonce || (a.clientPlaybackNonce = b.cpn || Mx());
        a.ub = L(a.B.Fe, b.livemonitor);
        tK(a, b);
        var n = b.raw_player_response;
        if (!n) {
            var p = b.player_response;
            p && (n = JSON.parse(p))
        }
        n && (a.playerResponse = n);
        if (a.playerResponse) {
            var q = a.playerResponse.annotations;
            if (q)
                for (var r =
                        t(q), u = r.next(); !u.done; u = r.next()) {
                    var x = u.value.playerAnnotationsUrlsRenderer;
                    if (x) {
                        x.adsOnly && (a.zl = !0);
                        x.allowInPlaceSwitch && (a.Al = !0);
                        var z = x.loadPolicy;
                        z && (a.annotationsLoadPolicy = yka[z]);
                        var D = x.invideoUrl;
                        D && (a.og = tB(D));
                        a.ls = !0;
                        break
                    }
                }
            var H = a.playerResponse.attestation;
            H && fK(a, H);
            var O = a.playerResponse.cotn;
            O && (a.cotn = O);
            var M = a.playerResponse.heartbeatParams;
            if (M) {
                var J, ka = M.heartbeatToken;
                ka && (a.drmSessionId = M.drmSessionId || "", a.heartbeatToken = ka, a.Zw = Number(M.intervalMilliseconds), a.bx =
                    Number(M.maxRetries), a.dx = !!M.softFailOnError, a.ex = !!M.useInnertubeHeartbeatsForDrm, a.le = !0);
                a.heartbeatServerData = M.heartbeatServerData;
                a.N("heartbeat_iff_heartbeat_params_filled") && (a.le = !0);
                a.uh = !(null === (J = M.heartbeatAttestationConfig) || void 0 === J || !J.requiresAttestation)
            }
            var Qa = a.playerResponse.messages;
            Qa && Ika(a, Qa);
            var za = a.playerResponse.multicamera;
            if (za) {
                var ve = za.playerLegacyMulticameraRenderer;
                if (ve) {
                    var Gf = ve.metadataList;
                    Gf && (a.pD = Gf, a.iC = qt(Gf))
                }
            }
            var Kh = a.playerResponse.overlay;
            if (Kh) {
                var Lh =
                    Kh.playerControlsOverlayRenderer;
                if (Lh) {
                    var Rd = Lh.controlBgHtml;
                    null != Rd ? (a.Cb = Rd, a.Ha = !0) : (a.Cb = "", a.Ha = !1);
                    if (Lh.mutedAutoplay) {
                        var rj = Lh.mutedAutoplay.playerMutedAutoplayOverlayRenderer;
                        if (rj && rj.endScreen) {
                            var Sd = rj.endScreen.playerMutedAutoplayEndScreenRenderer;
                            Sd && Sd.text && (a.qD = mC(Sd.text))
                        }
                    } else a.mutedAutoplay = !1
                }
            }
            var oc = a.playerResponse.playabilityStatus;
            if (oc) {
                var zd = oc.backgroundability;
                zd && zd.backgroundabilityRenderer.backgroundable && (a.backgroundable = !0);
                var sj = oc.offlineability;
                sj &&
                    sj.offlineabilityRenderer.offlineable && (a.offlineable = !0);
                var tj = oc.contextParams;
                tj && (a.contextParams = tj);
                var Vc = oc.pictureInPicture;
                Vc && Vc.pictureInPictureRenderer.playableInPip && (a.pipable = !0);
                oc.playableInEmbed && (a.allowEmbed = !0);
                var Ba = oc.ypcClickwrap;
                if (Ba) {
                    var Td = Ba.playerLegacyDesktopYpcClickwrapRenderer,
                        uj = Ba.ypcRentalActivationRenderer;
                    if (Td) a.lk = Td.durationMessage || "", a.ke = !0;
                    else if (uj) {
                        var zt = uj.durationMessage;
                        a.lk = zt ? mC(zt) : "";
                        a.ke = !0
                    }
                }
                var $e = oc.errorScreen;
                if ($e) {
                    if ($e.playerLegacyDesktopYpcTrailerRenderer) {
                        var Bc =
                            $e.playerLegacyDesktopYpcTrailerRenderer;
                        a.Yk = Bc.trailerVideoId || "";
                        var At = $e.playerLegacyDesktopYpcTrailerRenderer.ypcTrailer;
                        var vj = At && At.ypcTrailerRenderer
                    } else if ($e.playerLegacyDesktopYpcOfferRenderer) Bc = $e.playerLegacyDesktopYpcOfferRenderer;
                    else if ($e.ypcTrailerRenderer) {
                        vj = $e.ypcTrailerRenderer;
                        var Bt = vj.fullVideoMessage;
                        a.pk = Bt ? mC(Bt) : ""
                    }
                    Bc && (a.Ik = Bc.itemTitle || "", Bc.itemUrl && (a.fv = Bc.itemUrl), Bc.itemBuyUrl && (a.Wu = Bc.itemBuyUrl), a.Bk = Bc.itemThumbnail || "", a.Kk = Bc.offerHeadline || "", a.Ag = Bc.offerDescription ||
                        "", a.Bg = Bc.offerId || "", a.Jk = Bc.offerButtonText || "", a.NB = Bc.offerButtonFormattedText || null, a.Uv = Bc.overlayDurationMsec || NaN, a.pk = Bc.fullVideoMessage || "", a.Ce = !0);
                    if (vj) {
                        var Ct = vj.unserializedPlayerResponse;
                        if (Ct) a.Fe = {
                            raw_player_response: Ct
                        };
                        else {
                            var Dt = vj.playerVars;
                            a.Fe = Dt ? pt(Dt) : null
                        }
                        a.Ce = !0
                    }
                }
            }
            var Ud = a.playerResponse.playbackTracking;
            if (Ud) {
                var wj = b,
                    Et = dK(Ud.googleRemarketingUrl);
                Et && (a.googleRemarketingUrl = Et);
                var Ft = dK(Ud.youtubeRemarketingUrl);
                Ft && (a.youtubeRemarketingUrl = Ft);
                var Gt = dK(Ud.ptrackingUrl);
                if (Gt) {
                    var Vo = eK(Gt),
                        jA = Vo.oid;
                    jA && (a.kx = jA);
                    var Wo = Vo.pltype;
                    Wo && (a.lx = Wo);
                    var Ht = Vo.ptchn;
                    Ht && (a.jx = Ht);
                    var It = Vo.ptk;
                    It && (a.Gj = encodeURIComponent(It))
                }
                var Xo = dK(Ud.ppvRemarketingUrl);
                Xo && (a.ppvRemarketingUrl = Xo);
                var Pl = dK(Ud.qoeUrl);
                if (Pl) {
                    for (var vg = rt(Pl), Zb = t(Object.keys(vg)), we = Zb.next(); !we.done; we = Zb.next()) {
                        var Yo = we.value,
                            Zo = vg[Yo];
                        vg[Yo] = Array.isArray(Zo) ? Zo.join(",") : Zo
                    }
                    var Jt = vg.cat;
                    Jt && (a.qh = Jt);
                    var Kt = vg.live;
                    Kt && (a.rs = Kt);
                    var Lt = vg.drm_product;
                    Lt && (a.Rr = Lt)
                }
                var Mh = dK(Ud.remarketingUrl);
                if (Mh) {
                    a.remarketingUrl = Mh;
                    var $o = eK(Mh);
                    $o.foc_id && (a.G.focEnabled = !0);
                    var Mt = $o.data;
                    Mt && (a.G.rmktEnabled = !0, Mt.engaged && (a.G.engaged = "1"));
                    a.G.baseUrl = Ki(Mh) + Hi(Ii(5, Mh))
                }
                var Nt = dK(Ud.videostatsPlaybackUrl);
                if (Nt) {
                    var $b = eK(Nt),
                        Ql = $b.adformat;
                    if (Ql && (wj.adformat = Ql, !a.N("process_video_data_ad_format_in_player_tracking_killswitch"))) {
                        var ap = SJ(Ql, a.Rj, a.Y().l);
                        ap && (a.adFormat = ap)
                    }
                    var kA = $b.aqi;
                    kA && (wj.ad_query_id = kA);
                    var xj = $b.autoplay;
                    xj && (a.Uh = "1" == xj);
                    var Nh = $b.autonav;
                    Nh && (a.Lg = "1" == Nh);
                    var bp =
                        $b.delay;
                    bp && (a.bb = Gd(bp));
                    var Ot = $b.ei;
                    Ot && (a.eventId = Ot);
                    "adunit" === $b.el && (a.Uh = !0);
                    var Pt = $b.feature;
                    Pt && (a.lw = Pt);
                    var Qt = $b.list;
                    Qt && (a.playlistId = Qt);
                    var Rt = $b.of;
                    Rt && (a.dC = Rt);
                    var lA = $b.osid;
                    lA && (a.osid = lA);
                    var Ad = $b.referrer;
                    Ad && (a.referrer = Ad);
                    var cp = $b.sdetail;
                    cp && (a.OB = cp);
                    var mA = $b.sourceid;
                    mA && (a.VS = mA);
                    var dp = $b.ssrt;
                    dp && (a.Qm = "1" == dp);
                    var Rl = $b.subscribed;
                    Rl && (a.subscribed = "1" == Rl, a.G.subscribed = Rl);
                    var Cc = $b.uga;
                    Cc && (a.userGenderAge = Cc);
                    var St = $b.upt;
                    St && (a.hC = St);
                    var ep = $b.vm;
                    ep &&
                        (a.videoMetadata = ep)
                }
                var Tt = dK(Ud.videostatsWatchtimeUrl);
                if (Tt) {
                    var fp = eK(Tt).ald;
                    fp && (a.RB = fp)
                }
                if (Ud.promotedPlaybackTracking) {
                    var kd = Ud.promotedPlaybackTracking;
                    kd.startUrls && (a.Jj = kd.startUrls);
                    kd.firstQuartileUrls && (a.Rs = kd.firstQuartileUrls);
                    kd.secondQuartileUrls && (a.kt = kd.secondQuartileUrls);
                    kd.thirdQuartileUrls && (a.Rt = kd.thirdQuartileUrls);
                    kd.completeUrls && (a.Js = kd.completeUrls);
                    kd.engagedViewUrls && (1 < kd.engagedViewUrls.length && ly(new lw("There are more than one engaged_view_urls.")), a.Vd =
                        kd.engagedViewUrls[0])
                }
            }
            var Ut = a.playerResponse.playerAds;
            if (Ut)
                for (var nA = b, Vt = t(Ut), gp = Vt.next(); !gp.done; gp = Vt.next()) {
                    var hp = gp.value;
                    if (hp) {
                        var wg = hp.playerLegacyDesktopWatchAdsRenderer;
                        if (wg) {
                            var Oh = wg.playerAdParams;
                            if (Oh) {
                                "1" == Oh.autoplay && (a.Uh = !0);
                                a.xj = Oh.encodedAdSafetyReason || null;
                                void 0 !== Oh.showContentThumbnail && (a.zg = !!Oh.showContentThumbnail);
                                nA.enabled_engage_types = Oh.enabledEngageTypes;
                                break
                            }
                        }
                    }
                }
            var Dc = a.playerResponse.playerConfig;
            if (Dc) {
                var yj = Dc.manifestlessWindowedLiveConfig;
                if (yj) {
                    var zj = Number(yj.minDvrSequence),
                        Wt = Number(yj.maxDvrSequence),
                        Xt = Number(yj.minDvrMediaTimeMs),
                        Yt = Number(yj.maxDvrMediaTimeMs),
                        Zt = Number(yj.startWalltimeMs);
                    zj && (a.Xc = zj);
                    Xt && (a.MB = Xt / 1E3);
                    Wt && (a.Ke = Wt);
                    Yt && (a.KB = Yt / 1E3);
                    Zt && (a.mw = Zt / 1E3)
                }
                var ip = Dc.daiConfig;
                if (ip && ip.enableDai) {
                    a.Oc = !0;
                    var $t = ip.enableServerStitchedDai;
                    $t && (a.enableServerStitchedDai = $t)
                }
                var Sl = Dc.audioConfig;
                if (Sl) {
                    var jp = Sl.loudnessDb;
                    null != jp && (a.rh = jp);
                    Sl.audioMuted && (a.Ic = !0);
                    Sl.muteOnStart && (a.pw = !0)
                }
                var Tl = Dc.playbackEndConfig;
                if (Tl) {
                    var x1 = Tl.endSeconds;
                    x1 && a.mutedAutoplay && (a.endSeconds = x1)
                }
                var oA = Dc.fairPlayConfig;
                if (oA) {
                    var y1 = oA.certificate;
                    y1 && (a.rb = AH(y1));
                    var z1 = Number(oA.keyRotationPeriodMs);
                    0 < z1 && (a.YB = z1);
                    var A1 = Number(oA.keyPrefetchMarginMs);
                    0 < A1 && (a.UB = A1)
                }
                var pA = Dc.playbackStartConfig;
                if (pA) {
                    a.xs = Number(pA.startSeconds);
                    var B1 = pA.liveUtcStartSeconds,
                        CK = !1;
                    a.N("html5_start_seconds_priority") && (CK = !!a.liveUtcStartSeconds && 0 < a.liveUtcStartSeconds);
                    B1 && !CK && (a.liveUtcStartSeconds = Number(B1));
                    var DK = pA.startPosition;
                    if (DK) {
                        var C1 = DK.utcTimeMillis;
                        C1 && !CK && (a.liveUtcStartSeconds = .001 * Number(C1));
                        var D1 = DK.streamTimeMillis;
                        D1 && (a.Nj = .001 * Number(D1))
                    }
                } else {
                    var EK = Dc.skippableSegmentsConfig;
                    if (EK) {
                        var E1 = EK.introSkipDurationMs;
                        E1 && (a.Yr = Number(E1) / 1E3);
                        var F1 = EK.outroSkipDurationMs;
                        F1 && (a.ws = Number(F1) / 1E3)
                    }
                }
                var FK = Dc.skippableIntroConfig;
                if (FK) {
                    var G1 = Number(FK.startMs),
                        H1 = Number(FK.endMs);
                    isNaN(G1) || isNaN(H1) || (a.nD = G1, a.iD = H1)
                }
                var I1 = Dc.streamSelectionConfig;
                I1 && (a.cf = Number(I1.maxBitrate));
                var J1 = Dc.vrConfig;
                J1 && (a.Fk = "1" == J1.partialSpherical);
                var au = Dc.webDrmConfig;
                if (au) {
                    au.skipWidevine && (a.aA = !0);
                    var K1 = au.widevineServiceCert;
                    K1 && (a.nw = AH(K1));
                    au.useCobaltWidevine && (a.useCobaltWidevine = !0);
                    au.startWithNoQualityConstraint && (a.Sc = !0)
                }
                var L1 = Dc.mediaCommonConfig;
                if (L1) {
                    var qA = L1.dynamicReadaheadConfig;
                    qA && (a.maxReadAheadMediaTimeMs = qA.maxReadAheadMediaTimeMs || NaN, a.minReadAheadMediaTimeMs = qA.minReadAheadMediaTimeMs || NaN, a.readAheadGrowthRateMs = qA.readAheadGrowthRateMs || NaN)
                }
            }
            var Ph = a.playerResponse.streamingData;
            if (Ph) {
                var M1 = Ph.adaptiveFormats;
                if (M1) {
                    for (var N1 = [], O1 = t(M1), Hf = O1.next(); !Hf.done; Hf = O1.next()) {
                        var rA = Hf.value;
                        N1.push(iK(rA));
                        var P1 = rA.loudnessDb;
                        rA.itag && null != P1 && (a.Hj[rA.itag.toString()] = P1)
                    }
                    a.adaptiveFormats = N1.join(",")
                }
                var GK = Ph.formats;
                if (GK) {
                    var bu = [],
                        Q1 = t(GK);
                    for (Hf = Q1.next(); !Hf.done; Hf = Q1.next()) {
                        var HK = Hf.value;
                        bu.push(HK.itag + "/" + HK.width + "x" + HK.height)
                    }
                    a.Xr = bu.join(",");
                    bu = [];
                    var R1 = t(GK);
                    for (Hf = R1.next(); !Hf.done; Hf = R1.next()) {
                        var kp = Hf.value,
                            cu = {
                                itag: kp.itag,
                                type: kp.mimeType,
                                quality: kp.quality
                            },
                            S1 = kp.url;
                        S1 && (cu.url = S1);
                        var T1 = kp.cipher || kp.signatureCipher;
                        if (T1) {
                            var IK = pt(T1);
                            cu.sp = IK.sp;
                            cu.s = IK.s;
                            cu.url = IK.url
                        }
                        bu.push(Si(cu))
                    }
                    a.Xd = bu.join(",")
                }
                var JK = Ph.hlsFormats;
                if (JK) {
                    var U1 = Dc || null,
                        sA = {};
                    if (U1) {
                        var KK = U1.audioPairingConfig;
                        if (KK && KK.pairs)
                            for (var V1 = t(KK.pairs), LK = V1.next(); !LK.done; LK = V1.next()) {
                                var W1 = LK.value,
                                    MK = W1.videoItag;
                                sA[MK] || (sA[MK] = []);
                                sA[MK].push(W1.audioItag)
                            }
                    }
                    for (var X1 = {}, Y1 = t(JK), Ul = Y1.next(); !Ul.done; Ul = Y1.next()) {
                        var Z1 = Ul.value;
                        X1[Z1.itag] =
                            Z1.bitrate
                    }
                    var $1 = [],
                        a2 = t(JK);
                    for (Ul = a2.next(); !Ul.done; Ul = a2.next()) {
                        var Vd = Ul.value,
                            xg = {
                                itag: Vd.itag,
                                type: Vd.mimeType,
                                url: Vd.url,
                                bitrate: Vd.bitrate,
                                width: Vd.width,
                                height: Vd.height,
                                fps: Vd.fps
                            },
                            tA = Vd.audioTrack;
                        if (tA) {
                            var b2 = tA.displayName;
                            b2 && (xg.name = b2, xg.audio_track_id = tA.id, tA.audioIsDefault && (xg.is_default = "1"))
                        }
                        if (Vd.drmFamilies) {
                            for (var c2 = [], d2 = t(Vd.drmFamilies), NK = d2.next(); !NK.done; NK = d2.next()) c2.push(XJ[NK.value]);
                            xg.drm_families = c2.join(",")
                        }
                        var uA = sA[Vd.itag];
                        if (uA && uA.length) {
                            xg.audio_itag =
                                uA.join(",");
                            var e2 = X1[uA[0]];
                            e2 && (xg.bitrate += e2)
                        }
                        var f2 = cK(Vd);
                        f2 && (xg.eotf = f2);
                        Vd.audioChannels && (xg.audio_channels = Vd.audioChannels);
                        $1.push(Si(xg))
                    }
                    a.hlsFormats = $1.join(",")
                }
                var OK = Ph.licenseInfos;
                if (OK && 0 < OK.length) {
                    for (var g2 = {}, h2 = t(OK), PK = h2.next(); !PK.done; PK = h2.next()) {
                        var i2 = PK.value,
                            j2 = i2.drmFamily,
                            k2 = i2.url;
                        j2 && k2 && (g2[XJ[j2]] = k2)
                    }
                    a.Nc = g2
                }
                var l2 = Ph.drmParams;
                l2 && (a.drmParams = l2);
                var m2 = Ph.dashManifestUrl;
                m2 && (a.va = Ti(m2, {
                    cpn: a.clientPlaybackNonce
                }));
                var n2 = Ph.hlsManifestUrl;
                n2 && (a.hlsvp =
                    n2);
                var o2 = Ph.probeUrl;
                o2 && (a.probeUrl = tB(Ti(o2, {
                    cpn: a.clientPlaybackNonce
                })))
            }
            var p2 = a.playerResponse.trackingParams;
            p2 && (a.Fa = p2);
            var ub = a.playerResponse.videoDetails;
            if (ub) {
                var yg = b,
                    QK = ub.videoId;
                QK && (a.videoId = QK, yg.video_id || (yg.video_id = QK));
                var q2 = ub.channelId;
                q2 && (a.G.uid = q2.substr(2));
                var RK = ub.title;
                RK && (a.title = RK, yg.title || (yg.title = RK));
                var SK = ub.lengthSeconds;
                SK && (a.lengthSeconds = Number(SK), yg.length_seconds || (yg.length_seconds = SK));
                var r2 = ub.keywords;
                r2 && (a.keywords = wK(r2));
                var TK =
                    ub.channelId;
                TK && (a.oi = TK, yg.ucid || (yg.ucid = TK));
                var s2 = ub.viewCount;
                s2 && (a.rawViewCount = Number(s2));
                var UK = ub.author;
                UK && (a.author = UK, yg.author || (yg.author = UK));
                var t2 = ub.shortDescription;
                t2 && (a.shortDescription = t2);
                var u2 = ub.isCrawlable;
                u2 && (a.isListed = u2);
                var v2 = ub.musicVideoType;
                v2 && (a.musicVideoType = v2);
                var VK = ub.isLive;
                null != VK && (a.isLivePlayback = VK);
                if (VK || ub.isUpcoming) a.isPremiere = !ub.isLiveContent;
                var w2 = ub.thumbnail;
                w2 && (a.fb = ZI(w2));
                var x2 = Dc || null,
                    WK = b;
                ub.isLiveDefaultBroadcast && (a.isLiveDefaultBroadcast = !0);
                ub.isUpcoming && (a.isUpcoming = !0);
                if (ub.isPostLiveDvr) a.yd = !0;
                else {
                    var XK = !1;
                    if (a.ub) a.allowLiveDvr = yK(!0), a.isLivePlayback = !0;
                    else if (ub.isLive) {
                        WK.livestream = "1";
                        a.allowLiveDvr = yK(!!ub.isLiveDvrEnabled);
                        a.X = 27;
                        ub.isLowLatencyLiveStream && (a.isLowLatencyLiveStream = !0);
                        var y2 = ub.latencyClass;
                        y2 && (a.latencyClass = Bka[y2] || "UNKNOWN");
                        var z2 = ub.liveChunkReadahead;
                        z2 && (a.liveChunkReadahead = z2);
                        var du = x2 && x2.livePlayerConfig;
                        if (du) {
                            du.hasSubfragmentedFmp4 && (a.hasSubfragmentedFmp4 = !0);
                            du.hasSubfragmentedWebm &&
                                (a.Jg = !0);
                            du.defraggedFromSubfragments && (a.defraggedFromSubfragments = !0);
                            var A2 = du.liveExperimentalContentId;
                            A2 && (a.liveExperimentalContentId = Number(A2))
                        }
                        XK = !0
                    } else ub.isUpcoming && (XK = !0);
                    XK && (a.isLivePlayback = !0, WK.adformat && "8" !== WK.adformat.split("_")[1] || a.J.push("heartbeat"), a.N("heartbeat_iff_heartbeat_params_filled") || (a.le = !0))
                }
                var B2 = ub.isPrivate;
                B2 && (a.isPrivate = L(a.isPrivate, B2))
            }
            if (oc) {
                var C2 = ub || null,
                    D2 = !1,
                    lp = oc.errorScreen;
                D2 = lp && (lp.playerLegacyDesktopYpcOfferRenderer || lp.playerLegacyDesktopYpcTrailerRenderer ||
                    lp.ypcTrailerRenderer) ? !0 : C2 && C2.isUpcoming ? !0 : ["OK", "LIVE_STREAM_OFFLINE", "FULLSCREEN_ONLY"].includes(oc.status);
                if (!D2) {
                    a.errorCode = "150";
                    var vA = lp && lp.playerErrorMessageRenderer;
                    if (vA) {
                        a.playerErrorMessageRenderer = vA;
                        var E2 = vA.reason;
                        E2 && (a.errorReason = mC(E2));
                        var ZK = vA.subreason;
                        ZK && (a.Fg = mC(ZK), a.BS = ZK)
                    } else a.errorReason = oc.reason || null;
                    var $K = oc.status;
                    if ("LOGIN_REQUIRED" === $K) a.errorDetail = "1";
                    else if ("CONTENT_CHECK_REQUIRED" === $K) a.errorDetail = "2";
                    else if ("AGE_CHECK_REQUIRED" === $K) {
                        var F2 =
                            oc.errorScreen,
                            G2 = F2 && F2.playerKavRenderer;
                        a.errorDetail = G2 && G2.kavUrl ? "4" : "3"
                    } else a.errorDetail = oc.isBlockedInRestrictedMode ? "5" : "0"
                }
            }
            var H2 = a.playerResponse.interstitialPods;
            H2 && Hka(a, H2);
            a.og && a.eventId && (a.og = vt(a.og, {
                ei: a.eventId
            }));
            if (a.N("web_player_force_premiere_to_use_live_caption") && oI(a.B) && uu && a.isPremiere && !L(!1, b.mdx)) a.Aa("cc", "ignoreVodTrack");
            else {
                a.Aa("cc", "useVodTrack");
                var aL = a.playerResponse.captions;
                aL && aL.playerCaptionsTracklistRenderer && Gka(a, aL.playerCaptionsTracklistRenderer)
            }
            a.clipConfig =
                a.playerResponse.clipConfig;
            a.clipConfig && null != a.clipConfig.startTimeMs && (a.xs = .001 * Number(a.clipConfig.startTimeMs));
            a.accountLinkingConfig = a.playerResponse.accountLinkingConfig;
            a.accountLinkingConfig && a.accountLinkingConfig.alsParam && (a.yB = a.accountLinkingConfig.alsParam);
            a.N("web_player_include_innertube_commands") && a.playerResponse && a.playerResponse.playerConfig && a.playerResponse.playerConfig.webPlayerConfig && a.playerResponse.playerConfig.webPlayerConfig.webPlayerActionsPorting && hK(a, a.playerResponse.playerConfig.webPlayerConfig.webPlayerActionsPorting)
        }
        uK(a,
            b);
        b.queue_info && (a.queueInfo = b.queue_info);
        var I2 = b.hlsdvr;
        null != I2 && (a.allowLiveDvr = yK("1" == I2));
        a.adQueryId = b.ad_query_id || null;
        a.xj || (a.xj = b.encoded_ad_safety_reason || null);
        a.ow = b.agcid || null;
        a.vl = b.ad_id || null;
        a.xl = b.ad_sys || null;
        a.Sr = b.encoded_ad_playback_context || null;
        a.Ic = L(a.Ic, b.infringe || b.muted);
        a.authKey = b.authkey;
        a.JB = b.authuser;
        a.mutedAutoplay = L(a.mutedAutoplay, b && b.playmuted) && a.N("embeds_enable_muted_autoplay");
        a.endSeconds = dB(a.endSeconds, a.ws || b.end || b.endSeconds);
        a.Fa = eB(a.Fa,
            b.itct);
        a.Zr = L(a.Zr, b.noiba);
        a.gs = L(a.gs, b.is_live_destination);
        a.isLivePlayback = L(a.isLivePlayback, b.live_playback);
        a.enableServerStitchedDai = a.enableServerStitchedDai && a.isLivePlayback;
        b.isUpcoming && (a.isUpcoming = L(a.isUpcoming, b.isUpcoming));
        a.yd = L(a.yd, b.post_live_playback);
        a.isMdxPlayback = L(a.isMdxPlayback, b.mdx);
        var wA = b.mdx_control_mode;
        wA && (a.mdxControlMode = "number" === typeof wA ? wA : Gd(wA));
        a.isInlinePlaybackNoAd = L(a.isInlinePlaybackNoAd, b.is_inline_playback_no_ad);
        a.ob = dB(a.ob, b.reload_count);
        a.reloadReason = eB(a.reloadReason, b.reload_reason);
        a.zg = L(a.zg, b.show_content_thumbnail);
        a.hs = L(a.hs, b.utpsa);
        a.mu = L(a.mu, b.third_party_remapped_ad);
        a.cycToken = b.cyc || null;
        a.pu = b.tkn || null;
        for (var J2 = b, bL = {}, K2 = t(Object.keys(WI)), cL = K2.next(); !cL.done; cL = K2.next()) {
            var L2 = cL.value,
                M2 = L2,
                N2 = J2[M2 + "_webp"] || J2[M2];
            pB(N2) && (bL[WI[L2]] = N2)
        }
        0 < Object.keys(bL).length && (a.fb = bL);
        a.K = eB(a.K, b.vvt);
        a.mdxEnvironment = eB(a.mdxEnvironment, b.mdx_environment);
        a.rD = b.osig;
        a.eventId || (a.eventId = b.eventid);
        a.osid || (a.osid =
            b.osid);
        a.playlistId = eB(a.playlistId, b.list);
        b.index && (a.playlistIndex = void 0 === a.playlistIndex ? dB(0, b.index) : dB(a.playlistIndex, b.index));
        a.wx = b.pyv_view_beacon_url;
        a.zx = b.pyv_quartile25_beacon_url;
        a.Dy = b.pyv_quartile50_beacon_url;
        a.Fz = b.pyv_quartile75_beacon_url;
        a.yx = b.pyv_quartile100_beacon_url;
        var O2 = b.remarketing_url;
        O2 && (a.remarketingUrl = O2);
        var P2 = b.ppv_remarketing_url;
        P2 && (a.ppvRemarketingUrl = P2);
        var Q2 = b.session_data;
        !a.Gz && Q2 && (a.Gz = mt(Q2, "&").feature);
        a.isFling = 1 == dB(a.isFling ? 1 : 0, b.is_fling);
        a.vnd = dB(a.vnd, b.vnd);
        a.Tc = eB(a.Tc, b.force_ads_url);
        a.Qe = eB(a.Qe, b.ctrl);
        a.Qd = eB(a.Qd, b.ytr);
        a.Eh = b.ytrcc;
        a.Lz = b.ytrexp;
        a.ju = b.ytrext;
        a.qc = eB(a.qc, b.adformat);
        a.Rj = eB(a.Rj, b.attrib);
        a.slotPosition = dB(a.slotPosition, b.slot_pos);
        a.breakType = b.break_type;
        a.Qm = L(a.Qm, b.ssrt);
        a.videoId = gB(b) || a.videoId;
        a.Z = eB(a.Z, b.vss_credentials_token);
        a.Kf = eB(a.Kf, b.vss_credentials_token_type);
        a.Bc = L(a.Bc, b.audio_only);
        a.Eu = L(a.Eu, b.aac_high);
        a.Pm = L(a.Pm, b.prefer_low_quality_audio);
        a.qh = eB(a.qh, b.qoe_cat);
        a.Cj = L(a.Cj,
            b.download_media);
        a.ea = L(a.ea, b.prefer_gapless);
        a: {
            var dL = a.playerResponse;
            if (dL && dL.adPlacements)
                for (var R2 = t(dL.adPlacements), eL = R2.next(); !eL.done; eL = R2.next()) {
                    var xA = eL.value.adPlacementRenderer;
                    if (null != xA && "AD_PLACEMENT_KIND_START" == (xA.config && xA.config.adPlacementConfig && xA.config.adPlacementConfig.kind)) {
                        var S2 = !0;
                        break a
                    }
                }
            S2 = !1
        }
        S2 && (a.adModule = !0, a.J.push("ad"));
        var T2 = b.adaptive_fmts;
        T2 && (a.adaptiveFormats = T2);
        var U2 = b.allow_embed;
        U2 && (a.allowEmbed = "1" == U2);
        var V2 = b.backgroundable;
        V2 &&
            (a.backgroundable = "1" == V2);
        var W2 = b.autonav;
        W2 && (a.Lg = "1" == W2);
        var X2 = b.autoplay;
        X2 && (a.Uh = "1" == X2);
        var Y2 = b.iv_load_policy;
        Y2 && (a.annotationsLoadPolicy = cB(a.annotationsLoadPolicy, Y2, zH));
        var Z2 = b.cc_lang_pref;
        Z2 && (a.captionsLanguagePreference = eB(Z2, a.captionsLanguagePreference));
        var $2 = b.cc_load_policy;
        $2 && (a.ym = cB(a.ym, $2, zH));
        a.deviceCaptionsOn = null !== (c = b.device_captions_on) && void 0 !== c ? c : void 0;
        a.Bw = null !== (d = b.device_captions_lang_pref) && void 0 !== d ? d : "";
        a.xu = null !== (e = b.viewer_selected_caption_langs) &&
            void 0 !== e ? e : [];
        var a3 = b.cached_load;
        a3 && (a.dk = L(a.dk, a3));
        "0" == b.dash && (a.Cw = !0);
        var b3 = b.dashmpd;
        b3 && (a.va = Ti(b3, {
            cpn: a.clientPlaybackNonce
        }));
        var c3 = b.delay;
        c3 && (a.bb = Gd(c3));
        var d3 = a.ws || b.end;
        void 0 != d3 && (a.clipEnd = dB(a.clipEnd, d3));
        var e3 = b.fmt_list;
        e3 && (a.Xr = e3);
        b.heartbeat_preroll && a.J.push("heartbeat");
        a.wh = -Math.floor(10 * Math.random());
        a.Lm = -Math.floor(40 * Math.random());
        var f3 = b.is_listed;
        f3 && (a.isListed = L(a.isListed, f3));
        var g3 = b.is_private;
        g3 && (a.isPrivate = L(a.isPrivate, g3));
        var h3 = b.is_dni;
        h3 && (a.Ha = L(a.Ha, h3));
        var i3 = b.dni_color;
        i3 && (a.Cb = eB(a.Cb, i3));
        var j3 = b.pipable;
        j3 && (a.pipable = L(a.pipable, j3));
        a.yl = a.pipable && a.B.wh;
        !a.yl || a.B.showMiniplayerButton && a.N("web_player_pip");
        var k3 = b.paid_content_overlay_duration_ms;
        k3 && (a.paidContentOverlayDurationMs = Gd(k3));
        var l3 = b.paid_content_overlay_text;
        l3 && (a.paidContentOverlayText = l3);
        var m3 = b.url_encoded_fmt_stream_map;
        m3 && (a.Xd = m3);
        var n3 = b.hls_formats;
        n3 && (a.hlsFormats = n3);
        var o3 = b.hlsvp;
        o3 && (a.hlsvp = o3);
        var yA = b.length_seconds;
        yA && (a.lengthSeconds =
            "string" === typeof yA ? Gd(yA) : yA);
        var zA = b.live_start_walltime;
        zA && (a.us = "number" === typeof zA ? zA : Gd(zA));
        var AA = b.live_manifest_duration;
        AA && (a.ud = "number" === typeof AA ? AA : Gd(AA));
        var p3 = b.player_params;
        p3 && (a.playerParams = p3);
        var q3 = b.partnerid;
        q3 && (a.X = dB(a.X, q3));
        var r3 = b.probe_url;
        r3 && (a.probeUrl = tB(Ti(r3, {
            cpn: a.clientPlaybackNonce
        })));
        var fL = b.pyv_billable_url;
        fL && qB(fL) && (a.Vd = fL);
        var gL = b.pyv_conv_url;
        gL && qB(gL) && (a.xx = gL);
        xK(a, b);
        0 < a.startSeconds || (a.startSeconds = dB(a.startSeconds, a.xs || a.Yr ||
            b.start || b.startSeconds), a.jb = a.startSeconds);
        if (a.N("html5_start_seconds_priority")) {
            if (!(a.liveUtcStartSeconds && 0 < a.liveUtcStartSeconds)) {
                var s3 = b.live_utc_start;
                if (null != s3) a.liveUtcStartSeconds = Number(s3);
                else {
                    var hL = a.startSeconds;
                    hL && isFinite(hL) && 1E9 < hL && (a.liveUtcStartSeconds = a.startSeconds)
                }
            }
            if (!(a.liveUtcStartSeconds && 0 < a.liveUtcStartSeconds)) {
                var t3 = b.utc_start_millis;
                t3 && (a.liveUtcStartSeconds = .001 * Number(t3))
            }
        } else {
            var u3 = b.live_utc_start;
            null != u3 && (a.liveUtcStartSeconds = Number(u3));
            var v3 = b.utc_start_millis;
            v3 && (a.liveUtcStartSeconds = .001 * Number(v3))
        }
        var w3 = b.stream_time_start_millis;
        w3 && (a.Nj = .001 * Number(w3));
        var x3 = a.Yr || b.start;
        void 0 == x3 || "1" == b.resume || a.isLivePlayback || (a.clipStart = dB(a.clipStart, x3));
        var y3 = b.url_encoded_third_party_media;
        y3 && (a.Wd = qt(y3));
        var iL = b.ypc_offer_button_formatted_text;
        if (iL) {
            var z3 = JSON.parse(iL);
            a.NB = null != z3 ? z3 : null;
            a.PB = iL
        }
        var A3 = b.ypc_offer_button_text;
        A3 && (a.Jk = A3);
        var B3 = b.ypc_offer_description;
        B3 && (a.Ag = B3);
        var C3 = b.ypc_offer_headline;
        C3 && (a.Kk = C3);
        var D3 = b.ypc_full_video_message;
        D3 && (a.pk = D3);
        var E3 = b.ypc_offer_id;
        E3 && (a.Bg = E3);
        var F3 = b.ypc_buy_url;
        F3 && (a.Wu = F3);
        var G3 = b.ypc_item_thumbnail;
        G3 && (a.Bk = G3);
        var H3 = b.ypc_item_title;
        H3 && (a.Ik = H3);
        var I3 = b.ypc_item_url;
        I3 && (a.fv = I3);
        var J3 = b.ypc_vid;
        J3 && (a.Yk = J3);
        b.ypc_overlay_timeout && (a.Uv = Number(b.ypc_overlay_timeout));
        var K3 = b.ypc_trailer_player_vars;
        K3 && (a.Fe = pt(K3));
        var L3 = b.ypc_original_itct;
        L3 && (a.uD = L3);
        a.oi = eB(a.oi, b.ucid);
        b.baseUrl && (a.G.baseUrl = b.baseUrl);
        b.uid && (a.G.uid =
            b.uid);
        b.oeid && (a.G.oeid = b.oeid);
        b.ieid && (a.G.ieid = b.ieid);
        b.ppe && (a.G.ppe = b.ppe);
        b.engaged && (a.G.engaged = b.engaged);
        b.subscribed && (a.G.subscribed = b.subscribed);
        a.G.focEnabled = L(a.G.focEnabled, b.focEnabled);
        a.G.rmktEnabled = L(a.G.rmktEnabled, b.rmktEnabled);
        a.Mj = b.storyboard_spec || null;
        a.Ej = b.live_storyboard_spec || null;
        a.ls = L(a.ls, b.iv3_module);
        a.le = L(a.le, b.ypc_license_checker_module);
        a.Ce = L(a.Ce, b.ypc_module);
        a.ke = L(a.ke, b.ypc_clickwrap_module);
        a.Ce && a.J.push("ypc");
        a.ke && a.J.push("ypc_clickwrap");
        a.mx = {
            video_id: b.video_id,
            eventid: b.eventid,
            cbrand: b.cbrand,
            cbr: b.cbr,
            cbrver: b.cbrver,
            c: b.c,
            cver: b.cver,
            ctheme: b.ctheme,
            cplayer: b.cplayer,
            cmodel: b.cmodel,
            cnetwork: b.cnetwork,
            cos: b.cos,
            cosver: b.cosver,
            cplatform: b.cplatform,
            user_age: b.user_age,
            user_display_image: b.user_display_image,
            user_display_name: b.user_display_name,
            user_gender: b.user_gender,
            csi_page_type: b.csi_page_type,
            csi_service_name: b.csi_service_name,
            enablecsi: b.enablecsi,
            enabled_engage_types: b.enabled_engage_types
        };
        vK(a, b);
        var M3 = b.cotn;
        M3 && (a.cotn = M3);
        zK(a) ? AK(a) && (a.isLivePlayback && a.va ? a.yb = !0 : a.rb && (a.oh = !0)) : BK(a) ? a.yb = !0 : !YK(a, a.adaptiveFormats) && a.va && (a.yb = !0);
        var kL = b.adpings;
        kL && (a.wj = kL ? pt(kL) : null);
        var Q3 = b.feature;
        Q3 && (a.lw = Q3);
        var R3 = b.referrer;
        R3 && (a.referrer = R3);
        a.clientScreenNonce = eB(a.clientScreenNonce, b.csn);
        a.Po = dB(a.Po, b.root_ve_type);
        a.ph = dB(a.ph, b.kids_age_up_mode);
        void 0 != b.kids_app_info && (a.kidsAppInfo = b.kids_app_info);
        a.Oj = L(a.Oj, b.upg_content_filter_mode);
        var S3 = b.unplugged_location_info;
        S3 && (a.Ma = S3);
        var T3 = b.unplugged_partner_opt_out;
        T3 && (a.ul = eB("", T3));
        a.Bj = L(a.Bj, b.disable_watch_next);
        a.kh = eB(a.kh, b.internal_ip_override);
        a.ds = !!b.is_yto_interstitial;
        (a.interstitials.length || a.ds) && a.J.push("yto");
        var U3 = b.Sf;
        U3 && (a.Sf = U3);
        b.Iv && (a.Iv = b.Iv);
        a.ra = null !== (f = b.csi_timer) && void 0 !== f ? f : "";
        a.td = !!b.force_gvi
    }

    function uK(a, b) {
        var c, d, e, f, g, k, l, m, n, p, q, r, u, x = b.raw_watch_next_response;
        if (!x) {
            var z = b.watch_next_response;
            z && (x = JSON.parse(z))
        }
        if (x) {
            a.watchNextResponse = x;
            var D = a.watchNextResponse.contents;
            if (D) {
                var H = D.singleColumnWatchNextResults;
                if (H) {
                    var O = dB(0, b.autoplay_count);
                    if (H.autoplay && H.autoplay.autoplay && !H.playlist) {
                        var M = H.autoplay.autoplay.sets,
                            J = {},
                            ka = {},
                            Qa = null;
                        if (M) {
                            for (var za = t(M), ve = za.next(); !ve.done; ve = za.next()) {
                                var Gf = ve.value.autoplayVideoRenderer;
                                if (Gf && Gf.compactVideoRenderer) {
                                    Qa =
                                        Gf.compactVideoRenderer;
                                    break
                                }
                            }
                            var Kh = M[0].autoplayVideo;
                            if (Kh) {
                                var Lh = Kh.clickTrackingParams;
                                Lh && (J.itct = Lh);
                                J.autonav = "1";
                                J.playnext = String(O)
                            }
                        } else J.feature = "related-auto";
                        if (Qa) {
                            ka.autonav = "1";
                            ka.video_id = Qa.videoId;
                            var Rd = Qa.shortBylineText;
                            Rd && (ka.author = mC(Rd));
                            var rj = Qa.title;
                            rj && (ka.title = mC(rj))
                        }
                        ka.endscreen_autoplay_session_data = Si(J);
                        a.suggestions = [ka]
                    }
                }
                var Sd = D.twoColumnWatchNextResults
            }
            var oc = a.watchNextResponse.playerOverlays;
            if (oc) {
                var zd = oc.playerOverlayRenderer;
                if (zd) {
                    var sj = zd.endScreen;
                    if (sj) {
                        var tj = sj.watchNextEndScreenRenderer;
                        if (tj) var Vc = tj.results
                    }
                    var Ba = zd.videoDetails;
                    if (Ba) var Td = Ba.embeddedPlayerOverlayVideoDetailsRenderer;
                    var uj = zd.actions;
                    if (uj)
                        for (var zt = t(uj), $e = zt.next(); !$e.done; $e = zt.next()) {
                            var Bc = $e.value;
                            Bc.likeButtonRenderer && (a.likeButtonRenderer = Bc.likeButtonRenderer)
                        }
                    var At = null === (d = null === (c = zd.suggestedActionsRenderer) || void 0 === c ? void 0 : c.suggestedActionsRenderer) || void 0 === d ? void 0 : d.suggestedActions;
                    if (At)
                        for (var vj = t(At), Bt = vj.next(); !Bt.done; Bt = vj.next());
                    var Ct = null === (e = zd.decoratedPlayerBarRenderer) || void 0 === e ? void 0 : e.decoratedPlayerBarRenderer;
                    Ct && (a.multiMarkersPlayerBarRenderer = null === (f = Ct.playerBar) || void 0 === f ? void 0 : f.multiMarkersPlayerBarRenderer);
                    a.showShareButton = !!zd.shareButton;
                    var Dt = zd.productsInVideoOverlayRenderer;
                    Dt && (a.shoppingOverlayRenderer = Dt.shoppingOverlayRenderer);
                    var Ud = zd.autoplay;
                    if (Ud) var wj = Ud.playerOverlayAutoplayRenderer
                }
            }
            if (!Vc && Sd) {
                var Et = Sd.endScreen && Sd.endScreen.endScreen;
                Et && (Vc = Et.results)
            }
            if (Sd) {
                var Ft = Sd.desktopOverlay &&
                    Sd.desktopOverlay.desktopOverlayConfigRenderer;
                Ft && Ft.suppressShareButton && (a.showShareButton = !1)
            }
            Td && jL(a, b, Td);
            var Gt = dB(0, b.autoplay_count);
            if (Vc) {
                for (var Vo = Sd || null, jA = wj || null, Wo = [], Ht = !0, It = t(Vc), Xo = It.next(); !Xo.done; Xo = It.next()) {
                    var Pl = Xo.value,
                        vg = void 0,
                        Zb = null;
                    if (Pl.endScreenVideoRenderer) {
                        var we = Pl.endScreenVideoRenderer,
                            Yo = we.title;
                        Zb = {
                            id: we.videoId,
                            length_seconds: we.lengthInSeconds
                        };
                        var Zo = we.publishedTimeText;
                        Zo && (Zb.publishedTimeText = mC(Zo));
                        var Jt = we.shortBylineText;
                        Jt && (Zb.author =
                            mC(Jt));
                        var Kt = we.shortViewCountText;
                        Kt && (Zb.short_view_count_text = mC(Kt));
                        if (Yo) {
                            Zb.title = mC(Yo);
                            var Lt = Yo.accessibility;
                            if (Lt) {
                                var Mh = Lt.accessibilityData;
                                Mh && Mh.label && (Zb.aria_label = Mh.label)
                            }
                        }
                        var $o = we.navigationEndpoint;
                        if ($o) {
                            vg = $o.clickTrackingParams;
                            var Mt = $o.watchEndpoint;
                            Mt && (Zb.lE = Mt)
                        }
                        var Nt = we.thumbnailOverlays;
                        if (Nt)
                            for (var $b = t(Nt), Ql = $b.next(); !Ql.done; Ql = $b.next()) {
                                var ap = Ql.value.thumbnailOverlayTimeStatusRenderer;
                                if (ap)
                                    if ("LIVE" === ap.style) {
                                        Zb.live_playback = "1";
                                        break
                                    } else if ("UPCOMING" ===
                                    ap.style) {
                                    Zb.isUpcoming = !0;
                                    break
                                }
                            }
                        var kA = ZI(we.thumbnail),
                            xj = YI(kA);
                        xj.iurlmq && (xj = {
                            iurlmq: xj.iurlmq,
                            iurlhq: xj.iurlmq
                        });
                        Object.assign(Zb, xj)
                    } else if (Pl.endScreenPlaylistRenderer) {
                        var Nh = Pl.endScreenPlaylistRenderer,
                            bp = Nh.navigationEndpoint;
                        if (!bp) continue;
                        var Ot = bp.watchEndpoint;
                        if (!Ot) continue;
                        var Pt = Ot.videoId;
                        Zb = {
                            list: Nh.playlistId,
                            video_id: Pt,
                            playlist_length: Nh.videoCount,
                            thumbnail_ids: Pt
                        };
                        var Qt = Nh.title;
                        Qt && (Zb.playlist_title = mC(Qt));
                        var Rt = Nh.shortBylineText;
                        Rt && (Zb.playlist_author = mC(Rt));
                        vg = bp.clickTrackingParams;
                        var lA = ZI(Nh.thumbnail);
                        Object.assign(Zb, YI(lA))
                    }
                    Zb && (Zb.session_data = Si({
                        itct: vg
                    }), Ht ? (lL(Zb, Vo, jA, Gt), Wo.splice(0, 0, Zb), Ht = !1) : Wo.push(Zb))
                }
                a.suggestions = Wo
            }
            if (wj && (a.Lj = a.Lj || !!wj.webShowNewAutonavCountdown, a.Kj = a.Kj || !!wj.webShowBigThumbnailEndscreen, a.Lj || a.Kj)) {
                var Ad = wj,
                    cp = Vc || null,
                    mA = Sd || null,
                    dp, Rl, Cc = {
                        id: Ad.videoId
                    },
                    St = null === (Rl = null === (dp = null === cp || void 0 === cp ? void 0 : cp[0]) || void 0 === dp ? void 0 : dp.endScreenVideoRenderer) || void 0 === Rl ? void 0 : Rl.navigationEndpoint;
                St && (Cc.session_data = Si({
                    itct: St.clickTrackingParams
                }));
                var ep = Ad.videoTitle;
                if (ep) {
                    Cc.title = mC(ep);
                    var Tt = ep.accessibility;
                    if (Tt) {
                        var fp = Tt.accessibilityData;
                        fp && fp.label && (Cc.aria_label = fp.label)
                    }
                }
                var kd = Ad.byline;
                kd && (Cc.author = mC(kd));
                var Ut = Ad.publishedTimeText;
                Ut && (Cc.publishedTimeText = mC(Ut));
                var nA = Ad.shortViewCountText;
                nA && (Cc.short_view_count_text = mC(nA));
                var Vt = Ad.thumbnailOverlays;
                if (Vt)
                    for (var gp = t(Vt), hp = gp.next(); !hp.done; hp = gp.next()) {
                        var wg = hp.value.thumbnailOverlayTimeStatusRenderer;
                        if (wg)
                            if ("LIVE" === wg.style) {
                                Cc.live_playback = "1";
                                break
                            } else if ("UPCOMING" === wg.style) {
                            Cc.isUpcoming = !0;
                            break
                        } else if ("DEFAULT" === wg.style && wg.text) {
                            Cc.lengthText = mC(wg.text);
                            var Oh = wg.text.accessibility;
                            if (Oh) {
                                var Dc = Oh.accessibilityData;
                                Dc && Dc.label && (Cc.tu = Dc.label)
                            }
                            break
                        }
                    }
                var yj = ZI(Ad.background),
                    zj = YI(yj);
                zj.iurlmq && (zj = {
                    iurlmq: zj.iurlmq,
                    iurlhq: zj.iurlmq
                });
                Object.assign(Cc, zj);
                var Wt = Ad.nextButton;
                if (Wt) {
                    var Xt = Wt.buttonRenderer;
                    if (Xt) {
                        var Yt = Xt.navigationEndpoint;
                        if (Yt) {
                            var Zt = Yt.watchEndpoint;
                            Zt && (Cc.lE = Zt)
                        }
                    }
                }
                if (Ad.topBadges) {
                    var ip = Ad.topBadges[0];
                    if (ip) {
                        var $t = ip.metadataBadgeRenderer;
                        $t && "BADGE_STYLE_TYPE_PREMIUM" == $t.style && (Cc.Iv = !0)
                    }
                }
                var Sl = Ad.alternativeTitle;
                Sl && (Cc.Cs = mC(Sl));
                lL(Cc, mA, Ad, Gt);
                a.suggestions || (a.suggestions = []);
                a.suggestions[0] = Cc
            }
            a.watchNextResponse.currentVideoThumbnail && (a.fb = ZI(a.watchNextResponse.currentVideoThumbnail));
            if (!a.N("player_parse_profile_picture_from_watch_next_killswitch")) {
                var jp = null === (n = null === (m = null === (l = null === (k = null === (g = a.watchNextResponse) ||
                    void 0 === g ? void 0 : g.contents) || void 0 === k ? void 0 : k.twoColumnWatchNextResults) || void 0 === l ? void 0 : l.results) || void 0 === m ? void 0 : m.results) || void 0 === n ? void 0 : n.contents;
                if (jp && jp[1]) {
                    var Tl = null === (u = null === (r = null === (q = null === (p = jp[1].videoSecondaryInfoRenderer) || void 0 === p ? void 0 : p.owner) || void 0 === q ? void 0 : q.videoOwnerRenderer) || void 0 === r ? void 0 : r.thumbnail) || void 0 === u ? void 0 : u.thumbnails;
                    Tl && Tl.length && (a.Xh = Tl[Tl.length - 1].url)
                }
            }
        }
    }
    h = pK.prototype;
    h.Y = function() {
        return this.B
    };
    h.N = function(a) {
        return R(this.B.experiments, a)
    };
    h.lq = function() {
        return !this.isLivePlayback || this.allowLiveDvr
    };

    function mL(a) {
        return !!(a.l && a.l.videoInfos && a.l.videoInfos.length)
    }

    function nL(a) {
        if (a.N("html5_single_format_policy") && a.Jb) return a.Jb;
        var b = a.ea,
            c = !!a.i && (EG(a.i) || FG(a.i) || GG(a.i)),
            d = a.B,
            e = !!a.i && a.i.Rf,
            f = oL(a),
            g = a.Eu;
        a.isAd();
        var k = a.isOtf(),
            l = pL(a, "html5_samsung_vp9_live"),
            m = new hka;
        if (R(d.experiments, "html5_high_res_logging") || R(d.experiments, "html5_logging_format_selection")) m.i = !0;
        m.Fa = f;
        m.ea = g && d.l;
        xu("windows nt 5.1") && !Je && (m.u = !0);
        if (f = c) f = d.N("disable_html5_ambisonic_audio") || !(GI(d) || d.N("html5_enable_spherical") || d.N("html5_enable_spherical3d")) ?
            !1 : Zja(d);
        f && (m.va = !0);
        b && (m.u = !0, m.fb = !0);
        k && !R(d.experiments, "html5_otf_prefer_vp9") && (m.u = !0);
        uH(d.i, JF.CHANNELS) && (R(d.experiments, "html5_enable_aac51") && (m.X = !0), R(d.experiments, "html5_enable_ac3") && (m.J = !0), R(d.experiments, "html5_enable_eac3") && (m.K = !0), R(d.experiments, "html5_enable_ac3_gapless") && (m.Z = !0));
        R(d.experiments, "html5_block_8k_hfr") && (m.Ka = !0);
        R(d.experiments, "html5_prefer_uhd_sfr") && (m.jb = !0);
        m.C = U(d.experiments, "html5_max_selectable_quality_ordinal");
        m.D = U(d.experiments, "html5_min_selectable_quality_ordinal");
        !R(d.experiments, "html5_kaios_hd_killswitch") && ye && (m.Sa = 480);
        if (e || c) m.Ha = !1;
        m.Ma = Au();
        b = pJ(d, m.l);
        0 < b && 2160 > b && (qG() || R(d.experiments, "html5_format_hybridization")) && (m.l.supportsChangeType = +qG(), m.G = b);
        2160 <= b && (m.bb = !0);
        TH() && (m.l.serveVp9OverAv1IfHigherRes = 0, m.kb = !1);
        m.ob = l;
        l = oe || Ju() && !l ? !1 : !0;
        m.ra = l;
        m.T = R(d.experiments, "html5_format_hybridization");
        m.Ta = R(d.experiments, "html5_offline_av1_fallback");
        m.U = R(d.experiments, "html5_disable_codec_on_errors_with_exp_backoff");
        m.Qa = R(d.experiments, "html5_disable_codec_on_platform_errors");
        Bu() && a.playerResponse && a.playerResponse.playerConfig && a.playerResponse.playerConfig.webPlayerConfig && a.playerResponse.playerConfig.webPlayerConfig.useCobaltTvosDogfoodFeatures && (m.J = !0, m.K = !0);
        a.rl && (m.I = a.rl);
        a.Sm && (m.B = a.Sm);
        m.ya = a.isLivePlayback && qL(a) && a.B.N("html5_drm_live_audio_51");
        return a.Jb = m
    }

    function Lka(a) {
        a.rb || a.i && DG(a.i);
        var b = {};
        a.i && (b = hJ(nL(a), a.B.i, a.i, function(c) {
            return a.W("ctmp", "fmtflt", c)
        }));
        b = new DJ(b, a.B.experiments, a.aA, Mka(a), function(c, d) {
            a.Aa(c, d)
        });
        E(a, b);
        a.oh = !1;
        a.I = !0;
        jka(b, function(c) {
            for (var d = t(c), e = d.next(); !e.done; e = d.next()) switch (e = e.value, e.flavor) {
                case "fairplay":
                    e.l = a.rb;
                    e.G = a.YB;
                    e.D = a.UB;
                    break;
                case "widevine":
                    e.B = a.nw
            }
            a.Ld = c;
            if (0 < a.Ld.length && (a.C = a.Ld[0], rL(a))) {
                c = [];
                d = t(Object.entries(a.C.i));
                for (e = d.next(); !e.done; e = d.next()) {
                    var f = t(e.value);
                    e = f.next().value;
                    f = f.next().value;
                    var g = "unk";
                    (e = e.match(/(.*)codecs="(.*)"/)) && (g = e[2]);
                    c.push(g + "_" + f)
                }
                a.Aa("drmProbe", c.join("."))
            }
            sK(a)
        })
    }

    function sL(a, b) {
        var c;
        (c = !b) || (c = !(!AK(a) && a.adaptiveFormats));
        if (c) return null;
        pL(a, "html5_enable_cobalt_experimental_vp9_decoder") && (MG = !0);
        c = tL(b);
        var d = Date.now();
        b = IG(c, a.Nc, a.lengthSeconds, a.isLivePlayback, a.yd, a.B);
        d = Date.now() - d;
        if (a.N("html5_log_manifest_performance")) {
            var e = $ia(b) ? 1 : 0;
            a.Aa("mfsp", "wasm." + e + ";t." + d)
        }
        0 < c.length && (c = c[0], c.url && c.sp && c.s && (c = KG(c.url, c.sp, c.s), c = Number(c.get("max_sq")) || Infinity, isFinite(c) && (a.lh = !0)));
        if (c = b.isManifestless) c = !(a.N("html5_manifestless_vp9") ||
            a.N("html5_manifestless_vp9_normal_latency") && (!a.isLowLatencyLiveStream || "NORMAL" == a.latencyClass) || !Nka(b));
        return c ? (b.dispose(), null) : b
    }

    function YK(a, b) {
        b = sL(a, b);
        if (!b) return !1;
        uL(a, b);
        return !0
    }

    function AK(a) {
        return Bu() ? !vL(a) : Fu() ? !(!a.rb || !a.N("html5_enable_safari_fairplay")) : !1
    }

    function vL(a) {
        return pL(a, "html5_enable_tvos_dash_dogfood") || a.N("html5_enable_tvos_dash") && (a.N("html5_tvos_skip_dash_audio_check") || MediaSource.isTypeSupported('audio/webm; codecs="opus"'))
    }

    function Mka(a) {
        return a.useCobaltWidevine ? Bu() ? vL(a) : !1 : !1
    }

    function Nka(a) {
        return a.isManifestless && aG('video/webm; codecs="vp9"') && Qb(a.i, function(b) {
            return QF(b.info)
        })
    }

    function lC(a) {
        return !(!a.i || !a.i.isManifestless)
    }

    function wL(a) {
        return YE() ? a.N("html5_streaming_debug") || lC(a) && ("ULTRALOW" == a.latencyClass || 21530001 == xL(a)) ? !0 : window.AbortController ? a.N("html5_streaming_xhr") || a.N("html5_streaming_xhr_manifestless") && lC(a) ? !0 : !1 : !1 : !1
    }

    function yL(a) {
        return $E({
            hasSubfragmentedFmp4: a.hasSubfragmentedFmp4,
            Jg: a.Jg,
            defraggedFromSubfragments: a.defraggedFromSubfragments,
            isManifestless: lC(a),
            Qv: wL(a)
        })
    }

    function xL(a) {
        return a.isLowLatencyLiveStream && void 0 != a.i && 5 <= XG(a.i) ? 21530001 : a.liveExperimentalContentId
    }

    function zK(a) {
        return Bu() && vL(a) ? !1 : !vH() || a.Cw ? !0 : !1
    }

    function Oka(a) {
        a.I = !0;
        a.yb = !1;
        if (BK(a)) lia(a.videoId).then(function(d) {
            Pka(a, d)
        }).then(function() {
            sK(a)
        });
        else {
            oB(a.va) || ly(new lw("DASH MPD Origin invalid: ", a.va));
            var b = a.va,
                c = U(a.B.experiments, "dash_manifest_version") || 4;
            b = Ti(b, {
                mpd_version: c
            });
            a.isLowLatencyLiveStream && "NORMAL" != a.latencyClass || (b = Ti(b, {
                pacing: 0
            }));
            fja(b, a.B.experiments, a.isLivePlayback).then(function(d) {
                a.Ea() || (uL(a, d, !0), Zz("mrc", void 0, a.ra), sK(a))
            }, function(d) {
                a.Ea() || (a.I = !1, a.W("dataloaderror", new IA("manifest.net.retryexhausted", !0, {
                    backend: "manifest",
                    rc: d.status
                })))
            });
            Zz("mrs", void 0, a.ra)
        }
    }

    function Pka(a, b) {
        var c = b.map(function(e) {
                return e.itag
            }),
            d = a.playerResponse.streamingData.adaptiveFormats.filter(function(e) {
                return c.includes(e.itag)
            }).map(function(e) {
                e = Object.assign({}, e);
                e.url = b.find(function(f) {
                    return f.itag === e.itag
                }).url;
                e.signatureCipher = "";
                return iK(e)
            }).join(",");
        d = sL(a, d);
        uL(a, d);
        a.Aa("dlr", "")
    }
    h.jA = function() {
        this.Ea() || (this.i.u || this.i.unsubscribe("refresh", this.jA, this), this.Ux(-1))
    };
    h.Ux = function(a) {
        if (!this.isLivePlayback || !this.C || "fairplay" != this.C.flavor) {
            var b = OG(this.i, this.qs);
            if (0 < b.length && (this.W("cuepointupdated", b, a), this.qs += b.length, lC(this) && rL(this))) {
                b = t(b);
                for (var c = b.next(); !c.done; c = b.next()) c = c.value, this.Aa("cuepoint", "segNum." + a + ";event." + c.event + ";startSecs." + c.startSecs), "start" === c.event && (c = c.startSecs, this.wl.start = this.Jm, this.wl.end = c + 3)
            }
        }
    };

    function sK(a) {
        a.Ea() || (a.I = !1, a.W("dataloaded"))
    }

    function uL(a, b, c) {
        c = void 0 === c ? !1 : c;
        a.i = b;
        E(a, b);
        b.Xc = a.Xc;
        b.Ke = a.Ke;
        b.D = a.MB;
        b.C = a.KB;
        R(a.B.experiments, "html5_start_walltime_min_seekable_killswitch") || (b.G = a.mw);
        zL(a) && a.J.push("webgl");
        a.i.isLive || (a.isLivePlayback = !1);
        var d = b.sourceUrl.split("/"); - 1 != d.indexOf("manifest_duration") && (a.ud = Number(d[d.indexOf("manifest_duration") + 1]));
        b.u && (b.subscribe("clienttemp", a.Aa, a), c ? b.subscribe("refresh", a.jA, a) : b.subscribe("cuepointsadded", a.Ux, a));
        DG(b) && (a.oh = !0)
    }

    function qL(a) {
        return a.Nc ? !0 : !!a.i && DG(a.i)
    }

    function Qka(a, b) {
        if (a.Ea()) return aH();
        a.l = null;
        a.T = null;
        a.Sa = null;
        var c = a.B.deviceParams.c;
        if (!a.N("disable_rqs")) {
            c = /UNPLUGGED/.test(c) ? 256 : 16;
            var d = a.B.lh;
            a.Ta = rL(a) || 1 == d[0] && d[1] < c
        }
        return Rka(a, b).then(void 0, function() {
            return Ska(a, b)
        }).then(void 0, function() {
            return Tka(a)
        }).then(void 0, function() {
            return Uka(a)
        })
    }

    function Rka(a, b) {
        b = b || zK(a);
        return a.i && !b ? (oL(a) && jja(a.i, a.isLivePlayback), pL(a, "html5_enable_cobalt_experimental_vp9_decoder") && (a.B.i.l = !0), Vka(a).then(function() {
            return gka(nL(a), a.B.i, a.i, a.C, function(c) {
                return a.W("ctmp", "fmtflt", c)
            }, a.N("html5_dynamic_av1_hybrid_threshold")).then(function(c) {
                AL(a, c);
                /^av/.test(a.clientPlaybackNonce) && a.Jb && a.Aa("av1", JA(a.Jb.l))
            })
        })) : aH()
    }

    function Vka(a) {
        if (!a.i || !a.i.i || !a.N("html5_use_media_capability")) return $G();
        for (var b = [], c = t(Object.keys(a.i.i)), d = c.next(); !d.done; d = c.next())(d = a.i.i[d.value]) && d.info && b.push(d.info);
        return oK(b)
    }

    function Ska(a, b) {
        var c;
        if (b && a.hlsvp) return aH();
        if (a.hlsFormats) {
            b = tL(a.hlsFormats);
            if ((null === (c = a.Jb) || void 0 === c ? 0 : c.i) && b) {
                for (var d = [], e = t(b), f = e.next(); !f.done; f = e.next()) d.push(f.value.itag);
                a.Aa("hlsfmt", d.join("."))
            }
            a.Dj = pka(a.B, b);
            d = a.clientPlaybackNonce;
            return qka(a.B, a.isAd(), b, a.cf, d, function(g) {
                return a.W("ctmp", "hlsflt", g)
            }).then(function(g) {
                for (var k, l, m, n, p = 0, q = [], r = t(g), u = r.next(); !u.done; u = r.next()) u = u.value, q.push(null === (k = u.Fd()) || void 0 === k ? void 0 : k.Ib()), (null === (m = null ===
                    (l = u.Fd()) || void 0 === l ? void 0 : l.audio) || void 0 === m ? void 0 : m.i) > p && (p = u.Fd().audio.i);
                2 < p && a.Aa("hlschl", "" + p);
                (null === (n = a.Jb) || void 0 === n ? 0 : n.i) && a.Aa("hlsfmtaf", q.join("."));
                BL(a, g)
            })
        }
        return aH()
    }

    function Tka(a) {
        return a.Wd && a.ix ? wka(a.B, a.isAd(), a.Wd).then(function(b) {
            BL(a, b)
        }) : aH()
    }

    function Uka(a) {
        var b = tL(a.Xd, a.Xr);
        if (a.hlsvp) {
            var c = Jka(a.hlsvp, a.clientPlaybackNonce, a.cf);
            b.push(c)
        }
        return uka(a.B, a.isAd(), b, Wka(a)).then(function(d) {
            BL(a, d)
        })
    }

    function AL(a, b) {
        a.l = b;
        b = a.getAvailableAudioTracks();
        b = b.concat(a.dh);
        for (var c = 0; c < a.Bl.length; c++)
            for (var d = a.Bl[c], e = 0; e < b.length; e++) {
                var f = b[e],
                    g = f.Ob.id == d.audioTrackId;
                if (f.Ob.isDefault && c == a.Aw || g) {
                    if (d.captionTrackIndices)
                        for (g = 0; g < d.captionTrackIndices.length; g++) f.captionTracks[g] = a.captionTracks[d.captionTrackIndices[g]];
                    void 0 !== d.defaultCaptionTrackIndex && (f.u = a.captionTracks[d.defaultCaptionTrackIndex]);
                    void 0 !== d.forcedCaptionTrackIndex && (f.i = a.captionTracks[d.forcedCaptionTrackIndex]);
                    f.l = d.visibility || "UNKNOWN";
                    f.captionsInitialState = d.captionsInitialState || "CAPTIONS_INITIAL_STATE_UNKNOWN"
                }
            }
        if (a.C && a.l && a.l.videoInfos && !(0 >= a.l.videoInfos.length) && (b = XB(a.l.videoInfos[0]), b != ("fairplay" == a.C.flavor)))
            for (c = t(a.Ld), d = c.next(); !d.done; d = c.next())
                if (d = d.value, b == ("fairplay" == d.flavor)) {
                    a.C = d;
                    break
                }
    }

    function BL(a, b) {
        a.Sa = b;
        AL(a, new gJ(pb(a.Sa, function(c) {
            return c.Fd()
        })))
    }

    function Wka(a) {
        var b = {
            cpn: a.clientPlaybackNonce,
            c: a.B.deviceParams.c,
            cver: a.B.deviceParams.cver
        };
        a.Gj && (b.ptk = a.Gj, b.oid = a.kx, b.ptchn = a.jx, b.pltype = a.lx);
        return b
    }

    function CL(a) {
        return AK(a) && a.rb ? (a = {}, a.fairplay = "https://youtube.com/api/drm/fps?ek=uninitialized", a) : a.u && a.u.Nc || null
    }
    h.xd = function() {
        var a = {};
        this.u && (a.fmt = this.u.Ib(), this.D && this.D.Ib() != this.u.Ib() && (a.afmt = this.D.Ib()));
        a.ei = this.eventId;
        a.list = this.playlistId;
        a.cpn = this.clientPlaybackNonce;
        this.videoId && (a.v = this.videoId);
        this.Ic && (a.infringe = 1);
        this.zf && (a.splay = 1);
        var b = DL(this);
        b && (a.live = b);
        this.Uh && (a.autoplay = 1);
        this.OB && (a.sdetail = this.OB);
        this.X && (a.partnerid = this.X);
        this.osid && (a.osid = this.osid);
        return a
    };

    function DL(a) {
        var b = "";
        if (a.rs) return a.rs;
        a.isLivePlayback && (b = a.allowLiveDvr ? "dvr" : "live");
        return b
    }

    function EL(a, b) {
        return "string" !== typeof a.keywords[b] ? null : a.keywords[b]
    }
    h.Qi = function() {
        if (this.cotn) return null;
        var a = EI(this.B) || this.N("web_l3_storyboard");
        if (!this.Zd)
            if (this.playerResponse && this.playerResponse.storyboards) {
                var b = this.playerResponse.storyboards,
                    c = b.playerStoryboardSpecRenderer;
                c && c.spec ? this.Zd = new lK(c.spec, this.lengthSeconds, void 0, !1, a) : (b = b.playerLiveStoryboardSpecRenderer) && b.spec && this.i && (c = Tb(this.i.i).index) && (this.Zd = new nK(b.spec, this.i.isLive, c, a))
            } else this.Mj ? this.Zd = new lK(this.Mj, this.lengthSeconds, void 0, !1, a) : this.Ej && this.i && (b =
                Tb(this.i.i).index) && (this.Zd = new nK(this.Ej, this.i.isLive, b, a));
        return this.Zd
    };
    h.getStoryboardFormat = function() {
        if (this.cotn) return null;
        if (this.playerResponse && this.playerResponse.storyboards) {
            var a = this.playerResponse.storyboards;
            return (a = a.playerStoryboardSpecRenderer || a.playerLiveStoryboardSpecRenderer) && a.spec || null
        }
        return this.Mj || this.Ej
    };

    function FL(a) {
        return a.i && !isNaN(UG(a.i)) ? UG(a.i) : lC(a) ? 0 : a.lengthSeconds
    }
    h.getMinSeekableTime = function() {
        return this.i && !isNaN(this.i.getMinSeekableTime()) ? this.i.getMinSeekableTime() : 0
    };
    h.getPlaylistSequenceForTime = function(a) {
        if (this.i && this.u) {
            var b = this.i.i[this.u.id];
            if (!b) return null;
            var c = b.index.getSegmentNumberForTime(a);
            b = b.index.getStartTime(c);
            return {
                sequence: c,
                elapsed: Math.floor(1E3 * (a - b))
            }
        }
        return null
    };
    h.isValid = function() {
        return !this.Ea() && !(!this.videoId && !this.Wd)
    };

    function GL(a) {
        return !!(a.va || a.adaptiveFormats || a.Xd || a.Wd || a.hlsvp)
    }

    function rK(a) {
        var b = xb(a.J, "ypc");
        a.ypcPreview && (b = !1);
        return a.isValid() && !a.I && (GL(a) || xb(a.J, "heartbeat") || b)
    }
    h.isLoaded = function() {
        return rK(this) && !this.yb && !this.oh
    };
    h.Yy = function(a) {
        if (30 == this.X) return (a = this.fb["default.jpg"]) ? a : this.videoId ? Ti("//docs.google.com/vt", {
            id: this.videoId,
            authuser: this.JB,
            authkey: this.authKey
        }) : "//docs.google.com/images/doclist/cleardot.gif";
        a || (a = "hqdefault.jpg");
        var b = this.fb[a];
        return b || "pop1.jpg" == a || "pop2.jpg" == a || "sddefault.jpg" == a || "hq720.jpg" == a || "maxresdefault.jpg" == a ? b : wI(this.B, this.videoId, a)
    };

    function tL(a, b) {
        a = qt(a);
        var c = {};
        if (b) {
            b = t(b.split(","));
            for (var d = b.next(); !d.done; d = b.next())(d = d.value.match(/^([0-9]+)\/([0-9]+)x([0-9]+)(\/|$)/)) && (c[d[1]] = {
                width: d[2],
                height: d[3]
            })
        }
        b = t(a);
        for (d = b.next(); !d.done; d = b.next()) {
            d = d.value;
            var e = c[d.itag];
            e && (d.width = e.width, d.height = e.height)
        }
        return a
    }

    function tK(a, b) {
        var c, d, e, f, g, k, l = b.raw_embedded_player_response;
        if (!l) {
            var m = b.embedded_player_response;
            m && (l = JSON.parse(m))
        }
        l && (a.Qa = l);
        if (a.Qa) {
            if (l = a.Qa.videoFlags) l.playableInEmbed && (a.allowEmbed = !0), l.isPrivate && (a.isPrivate = !0), l.userDisplayName && (b.user_display_name = l.userDisplayName), l.userDisplayImage && (b.user_display_image = l.userDisplayImage);
            if (l = a.Qa.embedPreview) {
                l = l.thumbnailPreviewRenderer;
                m = l.controlBgHtml;
                null != m ? (a.Cb = m, a.Ha = !0) : (a.Cb = "", a.Ha = !1);
                if (m = l.defaultThumbnail) a.fb = ZI(m),
                    a.sampledThumbnailColor = m.sampledThumbnailColor;
                (m = null === (c = null === l || void 0 === l ? void 0 : l.videoDetails) || void 0 === c ? void 0 : c.embeddedPlayerOverlayVideoDetailsRenderer) && jL(a, b, m);
                (m = null === (d = null === l || void 0 === l ? void 0 : l.videoDetails) || void 0 === d ? void 0 : d.musicEmbeddedPlayerOverlayVideoDetailsRenderer) && m.musicVideoType && (a.musicVideoType = m.musicVideoType);
                a.showShareButton = !!l.shareButton;
                if (m = null === (g = null === (f = null === (e = null === l || void 0 === l ? void 0 : l.playButton) || void 0 === e ? void 0 : e.buttonRenderer) ||
                        void 0 === f ? void 0 : f.navigationEndpoint) || void 0 === g ? void 0 : g.watchEndpoint) {
                    var n, p = null === (n = null === m || void 0 === m ? void 0 : m.watchEndpointSupportedOnesieConfig) || void 0 === n ? void 0 : n.html5PlaybackOnesieConfig;
                    p && (a.Fj = new xka(p));
                    a.videoId = m.videoId || a.videoId
                }
                l.videoDurationSeconds && (a.lengthSeconds = Gd(l.videoDurationSeconds));
                a.N("web_player_include_innertube_commands") && l.webPlayerActionsPorting && hK(a, l.webPlayerActionsPorting);
                if (n = null === (k = null === l || void 0 === l ? void 0 : l.playlist) || void 0 === k ? void 0 :
                    k.playlistPanelRenderer) {
                    l = [];
                    m = Number(n.currentIndex);
                    if (n.contents) {
                        p = 0;
                        for (var q = n.contents.length; p < q; p++) {
                            var r = n.contents[p].playlistPanelVideoRenderer;
                            if (r) {
                                var u = r.shortBylineText ? mC(r.shortBylineText) : "",
                                    x = r.title ? mC(r.title) : "";
                                l.push({
                                    author: u,
                                    encrypted_id: r.videoId,
                                    title: x,
                                    channel_path: p === m ? b.channel_path : "",
                                    profile_picture: p === m ? b.profile_picture : "",
                                    is_private: p === m ? a.isPrivate : !1,
                                    is_dni: p === m ? a.Ha : !1,
                                    dni_color: p === m ? a.Cb : ""
                                })
                            }
                        }
                    }
                    b = {
                        index: n.currentIndex,
                        list: n.playlistId,
                        playlist_length: n.totalVideos,
                        video: l
                    };
                    n.titleText && (b.title = mC(n.titleText));
                    n.shortBylineText && (b.author = mC(n.shortBylineText));
                    a.gD = b
                }
            }
            if (a.N("embeds_enable_playability_on_web_preview") && a.Qa.previewPlayabilityStatus) {
                a.Ij = a.Qa.previewPlayabilityStatus;
                b = a.Ij;
                var z;
                if (!["OK", "LIVE_STREAM_OFFLINE"].includes(b.status)) {
                    n = b.errorScreen;
                    if (l = null === n || void 0 === n ? void 0 : n.playerErrorMessageRenderer) {
                        a.fD = l;
                        if (m = l.reason) a.errorReason = mC(m);
                        if (l = l.subreason) a.Fg = mC(l)
                    } else a.errorReason = b.reason || null;
                    switch (b.status) {
                        case "LOGIN_REQUIRED":
                            a.errorDetail =
                                "1";
                            break;
                        case "CONTENT_CHECK_REQUIRED":
                            a.errorDetail = "2";
                            break;
                        case "AGE_CHECK_REQUIRED":
                            (null === (z = null === n || void 0 === n ? void 0 : n.playerKavRenderer) || void 0 === z ? 0 : z.kavUrl) ? a.errorDetail = "4": a.errorDetail = "3";
                            break;
                        default:
                            a.errorDetail = b.isBlockedInRestrictedMode ? "5" : "0"
                    }
                }
            } else a.Qa.playabilityStatus && (a.hh = a.Qa.playabilityStatus, HL(a) && (a.errorDetail = "0", a.hh && (z = a.hh.embeddedPlayerErrorMessageRenderer))) && (a.fD = z.embeddedPlayerErrorMessageRenderer);
            (z = a.Qa.attestation) && fK(a, z)
        }
    }

    function lL(a, b, c, d) {
        d = {
            autonav: 1,
            playnext: d
        };
        a.list && (d.autoplay = "1");
        if (b) {
            if (b = b.autoplay)
                if (b = b.autoplay)
                    if (b = b.sets)
                        if (b = b[0])
                            if (b = b.autoplayVideo)
                                if ((c = b.clickTrackingParams) && (d.itct = c), b = b.watchEndpoint) a.autonav_watch_endpoint = b
        } else c && (b = c.nextButton) && (b = b.buttonRenderer) && (b = b.navigationEndpoint) && b.clickTrackingParams && (d.itct = b.clickTrackingParams);
        d.itct || (d.feature = "related-auto");
        a.endscreen_autoplay_session_data = Si(d)
    }

    function jL(a, b, c) {
        var d, e, f, g = c.channelThumbnail;
        g && (g = g.thumbnails) && (g = g[0]) && (b.profile_picture = g.url);
        if (g = null === (f = null === (e = null === (d = null === c || void 0 === c ? void 0 : c.channelThumbnailEndpoint) || void 0 === d ? void 0 : d.channelThumbnailEndpoint) || void 0 === e ? void 0 : e.urlEndpoint) || void 0 === f ? void 0 : f.urlEndpoint) b.channel_path = g.url;
        if (g = c.collapsedRenderer)
            if (g = g.embeddedPlayerOverlayVideoDetailsCollapsedRenderer) {
                var k = g.title;
                k && (b.title = mC(k));
                if (g = g.subtitle) b.subtitle = mC(g)
            } if (c = c.expandedRenderer)
            if (c =
                c.embeddedPlayerOverlayVideoDetailsExpandedRenderer) {
                if (g = c.title) b.expanded_title = mC(g);
                if (g = c.subtitle) b.expanded_subtitle = mC(g);
                if (c = c.subscribeButton)
                    if (c = c.subscribeButtonRenderer) b.ucid = c.channelId, b.subscribed = c.subscribed, c.notificationPreferenceToggleButton && c.notificationPreferenceToggleButton.toggleButtonRenderer && (b = c.notificationPreferenceToggleButton.toggleButtonRenderer, b.isToggled ? (a.TA = b.toggledServiceEndpoint || null, a.OA = b.defaultServiceEndpoint || null) : (a.TA = b.defaultServiceEndpoint ||
                        null, a.OA = b.toggledServiceEndpoint || null))
            }
    }

    function VC(a) {
        return a.isLivePlayback && !a.allowLiveDvr
    }

    function IL(a) {
        return a.isLivePlayback && a.allowLiveDvr
    }
    h.Rf = function() {
        return this.isLivePlayback || this.yd || this.lh || !(!this.liveUtcStartSeconds || !this.ud)
    };
    h.isOtf = function() {
        return !!this.i && (this.i.isOtf || !this.yd && !this.isLivePlayback && this.i.u)
    };
    h.getAvailableAudioTracks = function() {
        return this.l ? 0 < this.l.getAvailableAudioTracks().length ? this.l.getAvailableAudioTracks() : this.Dj || [] : []
    };
    h.getAudioTrack = function() {
        var a = this;
        if (this.D && !XB(this.D)) return tb(this.getAvailableAudioTracks(), function(d) {
            return d.id == a.D.id
        }) || this.dh;
        if (this.Dj) {
            if (!this.yg)
                for (var b = t(this.Dj), c = b.next(); !c.done; c = b.next())
                    if (c = c.value, c.Ob.getIsDefault()) {
                        this.yg = c;
                        break
                    } return this.yg || this.dh
        }
        return this.dh
    };
    h.getPlayerResponse = function() {
        return this.playerResponse
    };
    h.getPlaylistId = function() {
        return null
    };
    h.gb = function() {
        return this
    };

    function JL(a) {
        return !!a.i && EG(a.i)
    }

    function KL(a) {
        return !!a.i && FG(a.i)
    }

    function zL(a) {
        return KL(a) || JL(a) || LL(a) || ML(a)
    }

    function NL(a) {
        if (!a.i) return null;
        var b = a.i.i[a.u.id];
        if (b.u) return b.u;
        var c = b.info.gb().width;
        b = b.info.i;
        for (var d = Infinity, e = null, f = t(Object.keys(a.i.i)), g = f.next(); !g.done; g = f.next()) g = a.i.i[g.value], g.info.i == b && g.u && Math.abs(g.info.video.width - c) < d && (e = g.u, d = Math.abs(g.info.video.width - c));
        return e
    }

    function ML(a) {
        return !!a.i && GG(a.i)
    }

    function LL(a) {
        return !!a.i && Yia(a.i)
    }

    function Xka(a) {
        a.l = a.l.l
    }

    function OL(a) {
        return a.adFormat && "1_5" != a.adFormat ? "adunit" : a.B.D
    }
    h.isAd = function() {
        return !!this.adFormat
    };

    function PL(a) {
        if (a.isAd() && a.videoId != a.B.Z) return a.B.Z
    }

    function QL(a) {
        return a.Uh || "detailpage" == OL(a) || "shortspage" == OL(a) || a.mutedAutoplay
    }

    function RL(a) {
        if (QL(a)) {
            if ("detailpage" == OL(a)) return a.Lg || 0 < a.ob;
            if (!("17_8" === a.adFormat && !a.Lg || R(a.B.experiments, "embeds_enable_autoplayblocked_ping_fix") && a.LB || "adunit" == OL(a) && a.Vd)) return !0
        }
        return !1
    }
    h.Gd = function() {
        return this.oauthToken || this.B.fb
    };

    function SL(a) {
        var b = 1,
            c = U(a.B.experiments, "html5_default_ad_gain");
        c && a.isAd() && (b = c);
        c = a.rh;
        a.l && a.l.i && a.l.i[0] && a.Hj[a.l.i[0].id] && (c = a.Hj[a.l.i[0].id]);
        if (a.N("html5_stateful_audio_normalization") && null != c) {
            if (a.DA) return Math.min(1, Math.pow(10, -a.Rm / 20)) || b;
            var d = 0;
            R(a.B.experiments, "html5_diff_bias_over_ad_content") && (d = a.isAd() ? 0 : 3);
            c -= Math.min(0, d + Math.max(a.B.yb, U(a.B.experiments, "html5_stateful_audio_min_adjustment_value")));
            a.Rm = c
        }
        return Math.min(1, Math.pow(10, -c / 20)) || b
    }

    function oL(a) {
        var b = ["MUSIC_VIDEO_TYPE_ATV", "MUSIC_VIDEO_TYPE_PRIVATELY_OWNED_TRACK"],
            c = zI(a.B) && "MUSIC" === a.B.deviceParams.ctheme;
        !a.Bc && (nI(a.B) || c) && b.includes(a.musicVideoType) && (a.Bc = !0);
        if (b = zu()) b = /Starboard\/([0-9]+)/.exec(fd), b = 10 > (b ? parseInt(b[1], 10) : NaN);
        c = xI(a.B) && "MUSIC" === a.B.deviceParams.ctheme;
        !a.Bc && (c || yI(a.B)) && !b && (b = "MUSIC_VIDEO_TYPE_PRIVATELY_OWNED_TRACK" === a.musicVideoType, c = (a.N("cast_prefer_audio_only_for_atv_and_uploads") || a.N("kabuki_pangea_prefer_audio_only_for_atv_and_uploads")) &&
            "MUSIC_VIDEO_TYPE_ATV" === a.musicVideoType, b || c) && (a.Bc = !0);
        return !a.B.deviceHasDisplay || a.Bc && a.B.l
    }

    function TL(a) {
        return !!(a.playerResponse && a.playerResponse.playerConfig && a.playerResponse.playerConfig.daiConfig && a.playerResponse.playerConfig.daiConfig.enableDai)
    }
    h.Gv = function() {
        return this.le || this.vb
    };
    h.dr = function() {
        return this.Ce || this.vb
    };

    function UL(a) {
        return VL(a) && !!a.adaptiveFormats
    }

    function VL(a) {
        return !!(a.N("woffle_orchestration") && a.Cj && a.B.l)
    }

    function BK(a) {
        if (a.N("woffle_orchestration")) {
            var b;
            if (b = !!a.cotn) b = a.videoId, b = !!b && 1 === LC(b);
            a = b && !a.Cj
        } else a = !1;
        return a
    }

    function WL(a) {
        if (!a.i || !a.u || !a.D) return !1;
        var b = a.i.i;
        return !!b[a.u.id] && hD(b[a.u.id].l.i) && !!b[a.D.id] && hD(b[a.D.id].l.i)
    }

    function HL(a) {
        return (a = a.hh) && a.showError ? a.showError : !1
    }

    function rL(a) {
        return a.N("disable_rqs") ? !1 : pL(a, "html5_high_res_logging")
    }

    function pL(a, b) {
        return a.N(b) ? !0 : (a.fflags || "").includes(b + "=true")
    }

    function Yka(a) {
        return (a = /html5_log_experiment_id_from_player_response_to_ctmp=([0-9]+)/.exec(a.fflags)) ? a[1] : null
    }
    h.useInnertubeDrmService = function() {
        if (!(this.C && this.playerResponse && this.playerResponse.playerConfig && this.playerResponse.playerConfig.webDrmConfig)) return !1;
        var a = "playready" === this.C.flavor && this.playerResponse.playerConfig.webDrmConfig.useItdrmForPlayready,
            b = "fairplay" === this.C.flavor && this.playerResponse.playerConfig.webDrmConfig.useItdrmForFairplay;
        return !!("widevine" === this.C.flavor && this.playerResponse.playerConfig.webDrmConfig.useItdrmForWidevine || a || b)
    };

    function xK(a, b) {
        if (b = b.video_masthead_ad_quartile_urls) a.Ds = b.quartile_0_url, a.tx = b.quartile_25_url, a.ux = b.quartile_50_url, a.vx = b.quartile_75_url, a.nx = b.quartile_100_url, a.Jj = b.quartile_0_urls, a.Rs = b.quartile_25_urls, a.kt = b.quartile_50_urls, a.Rt = b.quartile_75_urls, a.Js = b.quartile_100_urls
    }

    function yK(a) {
        return a ? vH() ? !0 : Le && 5 > eJ ? !1 : !0 : !1
    }

    function wK(a) {
        var b = {};
        a = t(a);
        for (var c = a.next(); !c.done; c = a.next()) {
            c = c.value;
            var d = c.split("=");
            2 == d.length ? b[d[0]] = d[1] : b[c] = !0
        }
        return b
    }

    function gK(a) {
        if (a) {
            if (rB(a)) return a;
            a = sB(a);
            if (rB(a, !0)) return a
        }
        return ""
    }

    function XL(a) {
        return a.captionsLanguagePreference || a.B.captionsLanguagePreference || EL(a, "yt:cc_default_lang") || a.B.Ta
    }
    h.Aa = function(a, b, c) {
        this.W("ctmp", a, b, c)
    };
    h.Da = function() {
        S.prototype.Da.call(this);
        this.B.N("html5_clear_video_data_on_dispose") && (delete this.yh, this.wj = null, delete this.jC, delete this.accountLinkingConfig, delete this.i, this.l = this.playerResponse = this.watchNextResponse = null, this.Xd = this.adaptiveFormats = "", delete this.botguardData, this.Hj = {}, this.suggestions = null)
    };
    var Zka = {
            phone: "SMALL_FORM_FACTOR",
            tablet: "LARGE_FORM_FACTOR"
        },
        $ka = {
            android: "ANDROID",
            "android.k": "ANDROID_KIDS",
            "android.m": "ANDROID_MUSIC",
            "android.up": "ANDROID_UNPLUGGED",
            youtube: "WEB",
            ytios: "IOS",
            "ytios.k": "IOS_KIDS",
            "ytios.m": "IOS_MUSIC",
            "ytios.up": "IOS_UNPLUGGED"
        },
        ala = {
            desktop: "DESKTOP",
            phone: "MOBILE",
            tablet: "TABLET"
        },
        bla = {
            preroll: "BREAK_PREROLL",
            midroll: "BREAK_MIDROLL",
            postroll: "BREAK_POSTROLL"
        };

    function YL(a) {
        var b = a.Y(),
            c = ZL(b),
            d = a.Fa;
        d && (c.clickTracking = {
            clickTrackingParams: d
        });
        d = c.client || {};
        var e = "EMBED",
            f = OL(a);
        "leanback" === f ? e = "WATCH" : b.N("gvi_channel_client_screen") && "profilepage" === f ? e = "CHANNEL" : a.ub ? e = "LIVE_MONITOR" : "detailpage" === f ? e = "WATCH_FULL_SCREEN" : "adunit" === f ? e = "ADUNIT" : "sponsorshipsoffer" === f && (e = "UNKNOWN");
        d.clientScreen = e;
        if (b = a.kidsAppInfo) d.kidsAppInfo = JSON.parse(b);
        (e = a.ph) && !b && (d.kidsAppInfo = {
            contentSettings: {
                ageUpMode: dla[e]
            }
        });
        a.Oj && (d.unpluggedAppInfo = {
            enableFilterMode: !0
        });
        if (b = a.Ma) d.unpluggedLocationInfo = b;
        c.client = d;
        d = c.request || {};
        a.kb && (d.isPrefetch = !0);
        if (b = a.mdxEnvironment) d.mdxEnvironment = b;
        if (b = a.mdxControlMode) d.mdxControlMode = ela[b];
        c.request = d;
        d = c.user || {};
        if (b = a.K) d.credentialTransferTokens = [{
            token: b,
            scope: "VIDEO"
        }];
        if (b = a.Ka) d.delegatePurchases = {
            oauthToken: b
        }, d.kidsParent = {
            oauthToken: b
        };
        c.user = d;
        if (d = a.contextParams) c.activePlayers = [{
            playerContextParams: d
        }];
        if (a = a.clientScreenNonce) c.clientScreenNonce = a;
        return c
    }

    function ZL(a) {
        var b = Gy(),
            c = b.client || {};
        if (a.T) {
            var d = a.T.split(","),
                e = [];
            d = t(d);
            for (var f = d.next(); !f.done; f = d.next()) e.push(Number(f.value));
            c.experimentIds = e
        }
        if (e = a.homeGroupInfo) c.homeGroupInfo = JSON.parse(e);
        if (e = a.getPlayerType()) c.playerType = e;
        if (e = a.deviceParams.ctheme) c.theme = e;
        if (e = a.livingRoomAppMode) c.tvAppInfo = {
            livingRoomAppMode: e
        };
        b.client = c;
        c = b.user || {};
        a.enableSafetyMode && (c.enableSafetyMode = !0);
        b.user = c;
        if (a = a.Ha) b.thirdParty = {
            embedUrl: a
        };
        return b
    }

    function $L(a, b, c) {
        var d = a.videoId,
            e = YL(a),
            f = a.Y(),
            g = {
                html5Preference: "HTML5_PREF_WANTS",
                lactMilliseconds: String(jt()),
                referer: document.location.toString(),
                signatureTimestamp: 18795
            };
        xv.getInstance();
        a.Lg && (g.autonav = !0);
        Av(0, 141) && (g.autonavState = Av(0, 140) ? "STATE_OFF" : "STATE_ON");
        g.autoCaptionsDefaultOn = Av(0, 66);
        RL(a) && (g.autoplay = !0);
        f.l && a.cycToken && (g.cycToken = a.cycToken);
        f.enablePrivacyFilter && (g.enablePrivacyFilter = !0);
        a.isFling && (g.fling = !0);
        var k = a.Tc;
        if (k) {
            var l = {},
                m = k.split("|");
            3 === m.length ?
                (l.breakType = bla[m[0]], l.offset = {
                    kind: "OFFSET_MILLISECONDS",
                    value: String(Number(m[1]) || 0)
                }, l.url = m[2]) : l.url = k;
            g.forceAdParameters = {
                videoAds: [l]
            }
        }
        a.isLivingRoomDeeplink && (g.isLivingRoomDeeplink = !0);
        k = a.us;
        if (null != k) {
            k = {
                startWalltime: String(k)
            };
            if (l = a.ud) k.manifestDuration = String(l || 14400);
            g.liveContext = k
        }
        a.mutedAutoplay && (g.mutedAutoplay = !0);
        a.zf && (g.splay = !0);
        k = a.vnd;
        5 === k && (g.vnd = k);
        k = {};
        if ((l = a.isMdxPlayback) || R(f.experiments, "send_mdx_remote_data_if_present")) k.triggeredByMdx = l;
        if (l = a.Eh) k.skippableAdsSupported =
            l.split(",").includes("ska");
        var n = a.Qd;
        if (n) {
            l = a.ju;
            m = [];
            n = t(n.split(","));
            for (var p = n.next(); !p.done; p = n.next()) {
                var q = p.value;
                if (q && ((p = q.startsWith("!")) && (q = q.substr(1)), q = q.split("-"), !(3 > q.length))) {
                    p = {
                        applicationState: p ? "INACTIVE" : "ACTIVE",
                        clientFormFactor: Zka[q[1]] || "UNKNOWN_FORM_FACTOR",
                        clientName: $ka[q[0]] || "UNKNOWN_INTERFACE",
                        clientVersion: q[2] || "",
                        platform: ala[q[1]] || "UNKNOWN_PLATFORM"
                    };
                    q = void 0;
                    if (l) {
                        var r = void 0;
                        try {
                            r = JSON.parse(l)
                        } catch (u) {
                            ly(u)
                        }
                        r && (q = {
                                params: [{
                                    key: "ms",
                                    value: r.ms
                                }]
                            },
                            p.osName = r.os_name, p.userAgent = r.user_agent, p.windowHeightPoints = r.window_height_points, p.windowWidthPoints = r.window_width_points)
                    }
                    m.push({
                        adSignalsInfo: q,
                        remoteClient: p
                    })
                }
            }
            k.remoteContexts = m
        }
        g.mdxContext = k;
        k = b.width;
        0 < k && (g.playerWidthPixels = Math.round(k));
        if (b = b.height) g.playerHeightPixels = Math.round(b);
        0 !== c && (g.vis = c);
        if (c = f.widgetReferrer) g.widgetReferrer = c.substring(0, 128);
        d = {
            videoId: d,
            context: e,
            playbackContext: {
                contentPlaybackContext: g
            }
        };
        a.contentCheckOk && (d.contentCheckOk = !0);
        if (e = a.clientPlaybackNonce) d.cpn =
            e;
        if (e = a.playerParams) d.params = e;
        if (e = a.playlistId) d.playlistId = e;
        a.racyCheckOk && (d.racyCheckOk = !0);
        e = a.Y();
        if (g = e.embedConfig) d.serializedThirdPartyEmbedConfig = g;
        d.captionParams = {};
        g = Av(xv.getInstance(), 65);
        null != a.deviceCaptionsOn ? d.captionParams.deviceCaptionsOn = a.deviceCaptionsOn : tC(e) && (d.captionParams.deviceCaptionsOn = null != g ? !g : !1);
        a.Bw && (d.captionParams.deviceCaptionsLangPref = a.Bw);
        a.xu.length ? d.captionParams.viewerSelectedCaptionLangs = a.xu : BI(e) && e.N("web_player_i_see_captions_2") && (e = VH(),
            null === e || void 0 === e ? 0 : e.length) && (d.captionParams.viewerSelectedCaptionLangs = e);
        e = "onesie" === a.fetchType && a.N("html5_onesie_attach_po_token");
        g = "onesie" !== a.fetchType && a.N("html5_non_onesie_attach_po_token");
        if (e || g) a = a.Y(), a.Tc && (d.serviceIntegrityDimensions = {}, d.serviceIntegrityDimensions.poToken = a.Tc), sI(a);
        return d
    }

    function aM(a) {
        var b = a.Y();
        xv.getInstance();
        var c = {
            context: YL(a),
            videoId: a.videoId,
            racyCheckOk: a.racyCheckOk,
            contentCheckOk: a.contentCheckOk,
            autonavState: "STATE_NONE"
        };
        "adunit" === OL(a) && (c.isAdPlayback = !0);
        b.embedConfig && (c.serializedThirdPartyEmbedConfig = b.embedConfig);
        b.Vd && (c.showContentOwnerOnly = !0);
        Av(0, 141) && (c.autonavState = Av(0, 140) ? "STATE_OFF" : "STATE_ON");
        tC(b) && (a = Av(0, 65), a = null != a ? !a : !1, b = !!UH(), c.captionsRequested = a && b);
        return c
    }
    var dla = {
            0: "YT_KIDS_AGE_UP_MODE_UNKNOWN",
            1: "YT_KIDS_AGE_UP_MODE_OFF",
            2: "YT_KIDS_AGE_UP_MODE_TWEEN",
            3: "YT_KIDS_AGE_UP_MODE_PRESCHOOL"
        },
        ela = {
            0: "MDX_CONTROL_MODE_UNKNOWN",
            1: "MDX_CONTROL_MODE_REMOTE",
            2: "MDX_CONTROL_MODE_VOICE"
        };

    function bM(a) {
        S.call(this);
        this.loaded = !1;
        this.player = a
    }
    v(bM, S);
    h = bM.prototype;
    h.create = function() {};
    h.load = function() {
        this.loaded = !0
    };
    h.unload = function() {
        this.loaded = !1
    };
    h.Ch = function() {};
    h.Gm = function() {
        return !0
    };
    h.Da = function() {
        this.loaded && this.unload();
        S.prototype.Da.call(this)
    };
    h.wb = function() {
        return {}
    };
    h.getOptions = function() {
        return []
    };

    function fla() {
        this.l = [];
        this.i = []
    }

    function cM(a, b) {
        return b ? a.i.concat(a.l) : a.i
    }

    function dM(a, b) {
        switch (b.kind) {
            case "asr":
                eM(b, a.l);
                break;
            default:
                eM(b, a.i)
        }
    }

    function eM(a, b) {
        tb(b, function(c) {
            return c ? a.toString() === c.toString() : !1
        }) || b.push(a)
    };

    function fM() {
        C.call(this);
        this.l = new fla;
        this.B = []
    }
    v(fM, C);
    h = fM.prototype;
    h.uo = function() {};
    h.mm = function() {};
    h.ni = function() {};
    h.zk = function() {
        return ""
    };
    h.FA = function() {
        return !1
    };
    h.Da = function() {
        this.ni();
        C.prototype.Da.call(this)
    };

    function gM(a, b, c) {
        fM.call(this, a);
        this.audioTrack = c;
        this.i = null;
        this.B = b.vn
    }
    v(gM, fM);
    gM.prototype.uo = function(a, b, c) {
        var d = this;
        this.Ea();
        b = this.zk(a, b);
        this.ni();
        this.i = pu(b, {
            format: "RAW",
            onSuccess: function(e) {
                d.i = null;
                c(e.responseText, a)
            },
            withCredentials: !0
        })
    };
    gM.prototype.mm = function(a) {
        if (this.audioTrack)
            for (var b = t(this.audioTrack.captionTracks), c = b.next(); !c.done; c = b.next()) dM(this.l, c.value);
        a()
    };
    gM.prototype.zk = function(a, b) {
        var c = a.url,
            d = {
                fmt: b
            };
        if ("srv3" === b || "3" === b || "json3" === b) zu() ? Object.assign(d, {
            xorb: 2,
            xobt: 1,
            xovt: 1
        }) : Object.assign(d, {
            xorb: 2,
            xobt: 3,
            xovt: 3
        });
        a.translationLanguage && (d.tlang = EC(a));
        return tt(c, d)
    };
    gM.prototype.ni = function() {
        this.i && this.i.abort()
    };

    function hM() {
        this.i = .125;
        this.l = !1;
        this.u = 0;
        this.Ud = !1
    }

    function iM(a, b) {
        var c = void 0 === b ? {} : b;
        b = void 0 === c.hasSubfragmentedFmp4 ? !1 : c.hasSubfragmentedFmp4;
        c = void 0 === c.Jg ? !1 : c.Jg;
        var d = new hM;
        d.l = a.N("html5_streaming_xhr_no_mp4_holdback_chunk");
        d.u = U(a.experiments, "html5_time_based_consolidation_ms");
        a.N("html5_resume_streaming_requests") && (d.i = 0);
        d.Ud = b || c;
        return d
    };

    function jM() {
        this.u = new hM;
        this.lk = this.Rj = !1;
        this.Lj = 2;
        this.D = 20971520;
        this.G = 8388608;
        this.C = 120;
        this.Sa = 3145728;
        this.U = 62914560;
        this.Ta = 10485760;
        this.Mj = this.Nj = this.Vd = 0;
        this.zl = !1;
        this.qb = NaN;
        this.rg = 0;
        this.ph = this.Al = 2;
        this.Ce = 3;
        this.Yk = 2;
        this.T = 2097152;
        this.Kk = 1048576;
        this.Ka = !1;
        this.Jb = 1800;
        this.Jj = 5;
        this.J = 15;
        this.qc = 1;
        this.l = 1.15;
        this.B = 1.05;
        this.Pj = !0;
        this.ya = !1;
        this.ym = .8;
        this.Ej = this.ob = !1;
        this.bb = 6;
        this.K = this.Qa = !1;
        this.rb = 0;
        this.ub = !1;
        this.Oj = 0;
        this.lh = !1;
        this.Zd = this.ud = 0;
        this.fb =
            5E3;
        this.Cj = 6;
        this.Ld = 1;
        this.cf = 1.6;
        this.Ma = !1;
        this.I = .5;
        this.yb = 2;
        this.vb = this.wl = 0;
        this.xl = 1.5;
        this.yl = this.og = .5;
        this.Lf = 15;
        this.Ij = 1;
        this.Lm = this.Xd = !1;
        this.Kj = 0;
        this.yj = this.Gh = this.ul = this.Ik = this.Gj = this.Bk = this.Qj = !1;
        this.jb = 2;
        this.Pm = this.rl = this.zg = !1;
        this.Tc = 0;
        this.zb = this.tf = this.Bl = this.le = this.Ha = this.vl = this.Wd = this.Qm = !1;
        this.Fa = !0;
        this.Cb = this.ea = this.pk = this.va = !1;
        this.xj = !0;
        this.Fe = !1;
        this.i = "";
        this.vn = 1048576;
        this.Fj = this.hh = this.sf = !1;
        this.td = 46800;
        this.wj = this.Ag = this.Jk = this.Jm =
            this.yg = this.qh = this.kb = this.yh = this.oh = this.Bc = this.Ic = !1;
        this.ra = 0;
        this.Aj = "";
        this.kh = this.dh = this.Dj = this.ke = this.X = this.wh = this.uh = !1;
        this.Sc = 0;
        this.Sm = this.Z = this.rh = this.Rm = this.Hj = this.zf = !1;
        this.Bg = !0;
        this.Bj = !1
    }

    function gla(a, b) {
        1080 < b.gb().i && !a.Rj && (a.D = 36700160, a.G = 5242880, a.Sa = 10485760, a.T = 4194304, a.Rj = !0);
        2160 < b.gb().i && !a.lk && (a.D = 104857600, a.qb = 13107200, a.lk = !0);
        b.qb && (a.Kk = Math.max(65536, Math.min(a.T, 5 * b.qb)))
    };

    function kM() {
        this.segments = []
    }

    function hla(a, b) {
        var c = Gb(a.segments, b);
        0 <= c || 0 > c && 1 === (-c - 1) % 2 || (c = -c - 1, 0 < c && 1 === b - a.segments[c - 1] && c < a.segments.length && 1 === a.segments[c] - b ? (Ab(a.segments, c), Ab(a.segments, c - 1)) : 0 < c && 1 === b - a.segments[c - 1] ? a.segments[c - 1] = b : c < a.segments.length && 1 === a.segments[c] - b ? a.segments[c] = b : (Eb(a.segments, c, 0, b), Eb(a.segments, c + 1, 0, b)))
    }
    kM.prototype.contains = function(a) {
        a = Gb(this.segments, a);
        return 0 <= a || 0 > a && 1 === (-a - 1) % 2
    };
    kM.prototype.length = function() {
        return this.segments.length / 2
    };

    function lM(a, b, c, d, e, f) {
        C.call(this);
        this.policy = a;
        this.player = b;
        this.K = c;
        this.G = d;
        this.C = e;
        this.J = f;
        this.I = this.player.Y();
        this.B = new kM;
        this.l = this.u = this.i = null;
        this.D = new dr(this.Mz, 1E3, this);
        this.events = new NI(this);
        E(this, this.D);
        E(this, this.events);
        this.events.Ga(b, "SEEK_COMPLETE", this.Mw);
        this.Mw();
        this.Mz()
    }
    v(lM, C);
    h = lM.prototype;
    h.Da = function() {
        C.prototype.Da.call(this);
        this.l && this.l.cancel()
    };
    h.Mw = function() {
        this.seekTo(this.player.getCurrentTime())
    };
    h.seekTo = function(a) {
        a -= this.player.Ub();
        var b = this.i;
        this.i = kb(this.K.Pi(a).i);
        b !== this.i && this.J && this.J()
    };
    h.reset = function() {
        this.B = new kM;
        this.l && (this.l.cancel(), this.l = null)
    };
    h.Mz = function() {
        var a;
        this.Ea();
        var b;
        if (b = null != this.i) b = this.i, b = b.i.ri(b);
        if (b && !this.l && !(this.i && 30 < this.i.startTime - this.player.getCurrentTime())) {
            b = this.i;
            b = b.i.Zm(b);
            if (this.I.N("enable_h5_ssdai_caption") && (null === (a = this.player.getVideoData()) || void 0 === a ? 0 : a.enableServerStitchedDai)) {
                var c = this.player.xt();
                if (c) {
                    var d = b.i[0].oa,
                        e = c.Vl(b.i[0].C, d, b.i[0].i.info.id, 3);
                    if (e)
                        if (c = c.vt(d), 0 === c) e && (b.u = new dD(e));
                        else if (2 === c) {
                        this.D.start();
                        return
                    }
                }
            }
            b.i[0].duration ? (this.B.contains(b.i[0].oa) ||
                mM(this, b), this.i = kb(b.i)) : !R(this.I.experiments, "force_caption_seek_for_live_killswitch") && this.i && this.i.B && this.i.B + this.player.Ub() < this.player.getCurrentTime() && this.seekTo(this.player.getCurrentTime())
        }
        this.D.start()
    };

    function mM(a, b) {
        var c = mE(OE(b, a.policy, {})),
            d = {
                format: "RAW",
                withCredentials: !0
            };
        a.C && (d.responseType = "arraybuffer");
        a.l = xh(ZC(c, d, 3, 100).then(function(e) {
            a: {
                e = e.xhr;a.Ea();
                if (a.u) {
                    var f = !(a.C ? e.response : e.responseText) || 400 <= e.status,
                        g = AG(e);
                    if (g) {
                        e = OE(a.u, a.policy, {});
                        a.u.Vi(e, g);
                        mM(a, a.u);
                        break a
                    }
                    f || null == a.G || (g = a.u.i[0], a.C ? a.G(e.response, 1E3 * (g.startTime + a.player.Ub())) : a.G(e.responseText, 1E3 * (g.startTime + a.player.Ub())))
                }
                a.u = null;a.l = null
            }
        }), function() {
            a.L()
        });
        a.u = b;
        hla(a.B, a.u.i[0].oa)
    }
    h.L = function() {};
    var nM = new Map;

    function oM(a, b) {
        return TF(a.info.mimeType) ? b ? a.info.Ib() === b : !0 : !1
    }

    function pM(a, b) {
        fM.call(this, b.Y());
        this.i = a;
        this.S = b;
        this.u = null;
        this.C = !1;
        this.D = EI(this.S.Y()) && !this.i.isManifestless
    }
    v(pM, fM);
    h = pM.prototype;
    h.uo = function(a, b, c) {
        var d = this;
        this.ni();
        b = ila(this, a.getId());
        b || (b = a.languageCode, b = this.i.isManifestless ? qM(this, b, "386") : qM(this, b));
        if (b) {
            var e = 1E3 * (b.index.getStartTimeInPeriod(b.index.getFirstSegmentNumber()) - b.index.getStartTime(b.index.getFirstSegmentNumber()));
            this.u = new lM(new jM, this.S, b, function(f, g) {
                c(f, a, g, e)
            }, this.D || zF(b.info), function() {
                d.u && d.u.reset();
                d.C = !0
            })
        }
    };
    h.FA = function() {
        var a = this.C;
        this.C = !1;
        return a
    };
    h.mm = function(a) {
        var b = this.D ? [new BC({
            id: "rawcc",
            languageCode: "rawcc",
            languageName: "CC1",
            is_servable: !0,
            is_default: !0,
            is_translateable: !1,
            vss_id: ".en"
        }), new BC({
            id: "rawcc",
            languageCode: "rawcc",
            languageName: "CC3",
            is_servable: !0,
            is_default: !0,
            is_translateable: !1,
            vss_id: ".en"
        })] : this.i.isManifestless ? rM(this, "386") : rM(this);
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) dM(this.l, c.value);
        a()
    };

    function rM(a, b) {
        var c = [],
            d;
        for (d in a.i.i)
            if (a.i.i.hasOwnProperty(d)) {
                var e = a.i.i[d];
                if (oM(e, b || null)) {
                    var f = e.info.id,
                        g = f,
                        k = "." + f,
                        l = "";
                    if (e = e.info.captionTrack) f = e.languageCode, g = e.displayName, k = e.vssId, l = e.kind;
                    else {
                        e = f;
                        var m = nM.get(e);
                        null == m && (m = Ar[e] || Ar[e.replace(/-/g, "_")], nM.set(e, m));
                        g = m || g
                    }
                    c.push(new BC({
                        id: d,
                        languageCode: f,
                        languageName: g,
                        is_servable: !0,
                        is_default: !0,
                        is_translateable: !1,
                        vss_id: k,
                        kind: l
                    }))
                }
            } return c
    }
    h.ni = function() {
        this.u && (this.u.dispose(), this.u = null)
    };
    h.zk = function() {
        return ""
    };

    function ila(a, b) {
        return null != b && b in a.i.i ? a.i.i[b] : null
    }

    function qM(a, b, c) {
        var d = [],
            e;
        for (e in a.i.i)
            if (a.i.i.hasOwnProperty(e)) {
                var f = a.i.i[e];
                if (oM(f, c || null)) {
                    var g = f.info.captionTrack;
                    g && g.languageCode === b && d.push(f)
                }
            } return d.length ? d[0] : null
    }

    function sM(a, b) {
        if (null != a.i && EI(b.Y()) && !a.i.isManifestless && null != a.i.i.rawcc) return !0;
        if (!a.Rf()) return !1;
        b = !!a.i && a.i.isManifestless && Object.values(a.i.i).some(function(c) {
            return oM(c, "386")
        });
        a = !!a.i && !a.i.isManifestless && Xia(a.i);
        return b || a
    };

    function tM(a, b, c, d, e) {
        fM.call(this, e || null);
        this.videoId = b;
        this.C = d;
        this.D = {};
        this.i = null;
        b = c || rt(a).hl || "";
        b = b.split("_").join("-");
        this.u = tt(a, {
            hl: b
        })
    }
    v(tM, fM);
    tM.prototype.uo = function(a, b, c) {
        var d = this;
        this.Ea();
        b = this.zk(a, b);
        this.ni();
        this.i = pu(b, {
            format: "RAW",
            onSuccess: function(e) {
                d.i = null;
                c(e.responseText, a)
            },
            withCredentials: !0
        })
    };
    tM.prototype.mm = function(a) {
        var b = this,
            c = this.u,
            d = {
                type: "list",
                tlangs: 1,
                v: this.videoId,
                vssids: 1
            };
        this.C && (d.asrs = 1);
        c = tt(c, d);
        this.ni();
        this.i = pu(c, {
            format: "RAW",
            onSuccess: function(e) {
                b.i = null;
                if ((e = e.responseXML) && e.firstChild) {
                    for (var f = e.getElementsByTagName("track"), g = 0; g < f.length; g++) {
                        var k = f[g],
                            l = k.getAttribute("lang_code"),
                            m = k.getAttribute("lang_translated"),
                            n = k.getAttribute("name"),
                            p = k.getAttribute("kind"),
                            q = k.getAttribute("id"),
                            r = "true" === k.getAttribute("lang_default"),
                            u = "true" === k.getAttribute("cantran");
                        k = k.getAttribute("vss_id");
                        dM(b.l, new BC({
                            languageCode: l,
                            languageName: m,
                            name: n,
                            kind: p,
                            id: q,
                            is_servable: !0,
                            is_translateable: u,
                            vss_id: k,
                            is_default: r
                        }))
                    }
                    e = e.getElementsByTagName("target");
                    f = e.length;
                    for (g = 0; g < f; g++) l = {
                        languageCode: e[g].getAttribute("lang_code"),
                        languageName: e[g].getAttribute("lang_translated"),
                        languageOriginal: e[g].getAttribute("lang_original"),
                        id: e[g].getAttribute("id"),
                        isDefault: "true" === e[g].getAttribute("lang_default")
                    }, b.D[l.languageCode] = l.languageName, b.B.push(l)
                }
                a()
            },
            withCredentials: !0
        })
    };
    tM.prototype.zk = function(a, b) {
        var c = this.u;
        b = {
            v: this.videoId,
            type: "track",
            lang: a.languageCode,
            name: a.getName(),
            kind: a.kind,
            fmt: b
        };
        a.translationLanguage && (b.tlang = EC(a));
        return c = tt(c, b)
    };
    tM.prototype.ni = function() {
        this.i && this.i.abort()
    };
    var uM = {};

    function vM(a, b) {
        C.call(this);
        this.S = a;
        this.u = b;
        this.Fn = {};
        this.i = {};
        this.l = null;
        this.cd = new Map
    }
    v(vM, C);

    function MB(a) {
        return a.cd.get("captions")
    }

    function jla(a, b) {
        switch (b) {
            case "ad":
                return wM(a);
            case "annotations_module":
                return !1;
            case "attribution":
                return a = a.S.Y(), R(a.experiments, "web_player_show_music_in_this_video") && "desktop-polymer" === a.playerStyle;
            case "creatorendscreen":
                return !1;
            case "embed":
                return !1;
            case "endscreen":
                return !1;
            case "heartbeat":
                return a.Gv();
            case "inline_preview":
                return a.S.Y().showInlinePreviewUi;
            case "kids":
                return !1;
            case "remote":
                return a.S.Y().Jb;
            case "miniplayer":
                return a.S.Y().showMiniplayerUiWhenMinimized;
            case "music":
                return TB(a.S.Y());
            case "captions":
                return b = a.S.getVideoData(), !!b.zb || !!b.captionTracks.length || sM(b, a.S);
            case "unplugged":
                return rI(a.S.Y());
            case "ux":
                return a.S.Y().Ld;
            case "webgl":
                return kla(a);
            case "ypc":
                return a.dr();
            case "ypc_clickwrap":
                return a = a.S.getVideoData(), a.ke && !a.ds;
            case "yto":
                return !!a.S.getVideoData().J.includes("yto");
            default:
                return ky(Error("Module descriptor " + b + " does not match")), !1
        }
    }

    function xM(a, b, c, d, e) {
        d = void 0 === d ? !1 : d;
        e = void 0 === e ? !1 : e;
        var f = a.cd.get(b);
        if (!f || e)
            if (c || (c = function() {
                    xM(a, b, void 0, d, e)
                }), f = f || lla(a, b, jla(a, b))) a.cd.set(b, f), f.create(), d && a.S.Ja("onApiChange")
    }

    function QB(a) {
        return a.cd.get("webgl")
    }

    function kla(a) {
        var b = a.S.getVideoData(),
            c = a.S.Y().experiments,
            d = Eu(),
            e = R(c, "enable_spherical_kabuki"),
            f = HI();
        if (!d && !e && !f) return !1;
        a = GI(a.S.Y());
        if (ML(b)) return d || f || e || a || R(c, "html5_enable_spherical");
        if (JL(b)) return a || d || f || e || R(c, "html5_enable_spherical");
        if (KL(b)) return a || d || f || R(c, "html5_enable_spherical3d");
        if (LL(b)) return a || II();
        d = b.u && b.u.video && b.u.video.isHdr();
        return a && !CL(b) && !d && (R(c, "enable_webgl_noop") || R(c, "html5_enable_bicubicsharp") || R(c, "html5_enable_smartsharp"))
    }
    h = vM.prototype;
    h.dr = function() {
        return this.S.getVideoData().dr()
    };
    h.Gv = function() {
        return this.S.getVideoData().Gv()
    };
    h.by = function() {
        var a = this.cd.get("heartbeat");
        xM(this, "heartbeat", this.by, !1, !0);
        !a && this.cd.has("heartbeat") && this.S.W("offlineslatestatechange")
    };
    h.Zx = function() {
        xM(this, "annotations_module", this.Zx, !0);
        var a = this.cd.get("annotations_module");
        if (a)
            for (var b in this.l)
                if (this.l.hasOwnProperty(b)) {
                    var c = b;
                    a.subscribe(c, this.l[c])
                }
    };

    function wM(a) {
        if (a = a.S.getVideoData(1).getPlayerResponse())
            if (a = a.adPlacements)
                for (var b = 0; b < a.length; b++)
                    if (a[b].adPlacementRenderer) return !0;
        return !1
    }
    h.Yx = function() {
        if (!this.cd.get("ad")) try {
            wM(this) ? xM(this, "ad", this.Yx, !1, !0) : this.S.Bd("ad")
        } catch (a) {
            this.S.Bd("ad"), ky(a)
        }
    };

    function lla(a, b, c) {
        try {
            if (c) {
                var d = uM[b];
                if (d) return new d(a.S)
            } else a.S.Bd(b)
        } catch (e) {
            a.S.Bd(b), ky(e)
        }
        return null
    }

    function yM(a, b, c) {
        for (var d = t(a.cd), e = d.next(); !e.done; e = d.next()) {
            var f = t(e.value);
            e = f.next().value;
            (f = f.next().value) && (c || f.Gm(b)) && (Of(f), a.cd.delete(e))
        }
    }
    h.Ul = function() {
        return this.i
    };
    h.It = function() {
        var a = {},
            b = MB(this);
        b && Ua(a, b.It());
        return a
    };
    h.nm = function(a, b) {
        Ua(this.i, a || null);
        Ua(this.Fn, b || null)
    };

    function HB(a) {
        return a.cd.get("ad")
    }

    function KB(a) {
        if (a.S.Y().Jb) return a.cd.get("remote")
    }

    function zC(a) {
        if (rI(a.S.Y())) return a.cd.get("unplugged")
    }

    function SB(a) {
        if (a.S.Y().Ld) return a.cd.get("ux")
    }

    function hC(a) {
        return a.cd.get("annotations_module")
    }

    function AC(a) {
        return a.cd.get("creatorendscreen")
    }

    function mla(a) {
        var b = a.u.split("/").slice(0, 4).join("/") + "/wasm/lib.js";
        return new Promise(function(c, d) {
            nla(a, b, function() {
                return B(a, function f() {
                    var g, k;
                    return y(f, function(l) {
                        if (1 == l.i) return g = A.loadWasm, "function" !== typeof g ? (d("noloadwasm"), l.Ya(0)) : w(l, g(), 3);
                        k = l.l;
                        c(k);
                        sa(l)
                    })
                })
            })
        })
    }

    function nla(a, b, c) {
        function d() {
            a.Ea()
        }

        function e() {
            a.Ea() || c.call(a)
        }
        for (var f = document.getElementsByTagName("SCRIPT"), g = !1, k, l = 0; l < f.length; l++) {
            var m = f[l];
            if (m.src === b || m.getAttribute("data-original-src") === b) k = m
        }
        k || (k = Og("SCRIPT"), k.setAttribute("data-original-src", b), g = !0);
        var n = k.onload;
        k.onload = function(u) {
            Zg(e);
            n && n.apply(window, [u])
        };
        var p = k.onerror;
        k.onerror = function(u) {
            if (.01 > Math.random()) {
                var x = new lw("Unable to load player module", "lib.js from " + b + " on " + (document.location && document.location.origin) + ".");
                ky(x)
            }
            Zg(d);
            p && p(u)
        };
        var q = k,
            r = q.onreadystatechange;
        q.onreadystatechange = function(u) {
            switch (q.readyState) {
                case "loaded":
                case "complete":
                    Zg(e)
            }
            r && r(u)
        };
        g && ((f = a.S.Y().cspNonce) && k.setAttribute("nonce", f), ek(k, Zl(b)), f = document.getElementsByTagName("HEAD")[0] || document.body, f.insertBefore(k, f.firstChild), Qf(a, function() {
            k.parentNode && k.parentNode.removeChild(k)
        }))
    }
    h.Da = function() {
        C.prototype.Da.call(this);
        yM(this, 1, !0)
    };

    function zM() {
        C.call(this);
        this.l = null;
        this.D = this.C = !1;
        this.u = new ng;
        E(this, this.u)
    }
    v(zM, C);

    function AM(a) {
        a = a.Un();
        return 1 > a.length ? NaN : a.end(a.length - 1)
    }
    h = zM.prototype;
    h.lp = function() {
        return this.l
    };
    h.Jl = function(a) {
        var b = "";
        a && (BM(this, a), b = a.i);
        if (!this.oe() || b) b && this.oe() !== b && this.pp(b), CM || a && a.l || this.load(), this.D || (this.addEventListener("volumechange", this.Vx), this.D = !0)
    };
    h.kp = function() {
        var a = this.Cd();
        a = window.MediaSource ? new sG(new window.MediaSource, void 0, !1) : window.WebKitMediaSource ? new sG(new window.WebKitMediaSource, void 0, !1) : new sG(void 0, a, !1);
        this.Jl(a.Bo);
        return a
    };
    h.playVideo = function() {
        var a = this;
        this.Ng() && this.seekTo(0);
        !this.oe() && this.l && (Cs(Error("playVideo without src")), this.pp(this.l.i), this.l.l || this.load());
        var b = this.play();
        !b && DM && fJ && 7 <= (eJ || 0) && Hfa(this, function() {
            Ts(function() {
                EM(a, a.getCurrentTime(), 0)
            }, 500)
        });
        return b
    };

    function EM(a, b, c) {
        a.xi() || a.getCurrentTime() > b || 10 < c || (a.play(), Ts(function() {
            EM(a, a.getCurrentTime(), c + 1)
        }, 500))
    }

    function BM(a, b) {
        a.l && null !== b && b.i === a.l.i || (a.l && a.l.dispose(), a.l = b)
    }

    function FM(a) {
        return kG(a.me(), a.getCurrentTime())
    }
    h.seekTo = function(a) {
        0 < this.nf() && (GM && fJ && 4 > eJ && (a = Math.max(.1, a)), this.Yq(a))
    };

    function ola(a, b) {
        if (0 === a.nf() || 0 < a.dg()) return !1;
        var c = 0 < a.getCurrentTime();
        return 0 <= b && (a = a.Un(), a.length || !c) ? hG(a, b) : c
    }
    h.stopVideo = function() {
        this.oe() && (HM && uu && 0 < this.getCurrentTime() && this.seekTo(0), this.Sq(), this.load(), BM(this, null))
    };
    h.cm = function() {
        var a = this.me();
        return 0 < jG(a) && this.getDuration() ? iG(a, this.getCurrentTime()) : 0
    };

    function IM(a) {
        var b = a.me();
        return 0 < jG(b) && a.getDuration() ? b.end(b.length - 1) : 0
    }

    function JM(a) {
        var b = a.getDuration();
        return Infinity === b ? 1 : b ? a.cm() / b : 0
    }
    h.wb = function() {
        try {
            var a = this.hn();
            return {
                vct: this.getCurrentTime().toFixed(3),
                vd: this.getDuration().toFixed(3),
                vpl: fG(this.yk(), ",", 3),
                vbu: fG(this.me()),
                vpa: "" + +this.xi(),
                vsk: "" + +this.pn(),
                ven: "" + +this.Ng(),
                vpr: "" + this.getPlaybackRate(),
                vrs: "" + this.nf(),
                vns: "" + this.Tp(),
                vec: "" + this.dg(),
                vemsg: this.Yc(),
                vvol: "" + this.getVolume(),
                vdom: "" + +this.Yt(),
                vsrc: "" + +!!this.oe(),
                vw: "" + a.width,
                vh: "" + a.height
            }
        } catch (b) {
            return {}
        }
    };

    function KM(a) {
        switch (a.dg()) {
            case 2:
                return "progressive.net.retryexhausted";
            case 3:
                return "fmt.decode";
            case 4:
                return "fmt.unplayable";
            case 5:
                return "drm.unavailable";
            case 1E3:
                return "capability.changed";
            default:
                return null
        }
    }
    h.addEventListener = function(a, b) {
        this.u.jd(a, b, !1, this);
        this.Ws(a)
    };
    h.removeEventListener = function(a, b) {
        this.u.xe(a, b, !1, this)
    };
    h.dispatchEvent = function(a) {
        return this.u.dispatchEvent(a)
    };
    h.Vs = function() {
        this.C = !1
    };
    h.Us = function() {
        this.C = !0;
        this.Bm(!0)
    };
    h.Vx = function() {
        this.C && !this.Sp() && this.Bm(!0)
    };
    h.Da = function() {
        this.D && this.removeEventListener("volumechange", this.Vx);
        C.prototype.Da.call(this)
    };
    var CM = !1,
        HM = !0,
        DM = !0,
        GM = !0;

    function LM(a, b, c) {
        Rf.call(this, b, a);
        this.i = c
    }
    v(LM, Rf);
    LM.prototype.preventDefault = function() {
        Rf.prototype.preventDefault.call(this);
        this.i && this.i.preventDefault()
    };
    LM.prototype.stopPropagation = function() {
        Rf.prototype.stopPropagation.call(this);
        this.i && this.i.stopPropagation()
    };

    function MM(a) {
        zM.call(this);
        var b = this;
        this.i = a;
        this.B = {};
        this.listener = function(c) {
            b.dispatchEvent(new LM(b, c.type, c))
        }
    }
    v(MM, zM);
    h = MM.prototype;
    h.jn = function() {
        return !0
    };
    h.isView = function() {
        return !1
    };
    h.wv = function() {
        return !1
    };
    h.Cd = function() {
        return this.i
    };
    h.oe = function() {
        return this.i.src
    };
    h.pp = function(a) {
        this.L();
        var b = this.getPlaybackRate();
        this.i.src = a;
        this.setPlaybackRate(b)
    };
    h.Sq = function() {
        this.L();
        this.i.removeAttribute("src")
    };
    h.getPlaybackRate = function() {
        try {
            return 0 <= this.i.playbackRate ? this.i.playbackRate : 1
        } catch (a) {
            return 1
        }
    };
    h.setPlaybackRate = function(a) {
        this.L();
        this.getPlaybackRate() !== a && (this.i.playbackRate = a);
        return a
    };
    h.jp = function() {
        return this.i.loop
    };
    h.setLoop = function(a) {
        this.L();
        this.i.loop = a
    };
    h.canPlayType = function(a, b) {
        return this.i.canPlayType(a, b)
    };
    h.xi = function() {
        return this.i.paused
    };
    h.pn = function() {
        return this.i.seeking
    };
    h.Ng = function() {
        return this.i.ended
    };
    h.Sp = function() {
        return this.i.muted
    };
    h.Bm = function(a) {
        dG();
        this.L();
        this.i.muted = a
    };
    h.yk = function() {
        return this.i.played || eG([], [])
    };
    h.me = function() {
        try {
            var a = this.i.buffered
        } catch (b) {}
        return a || eG([], [])
    };
    h.Un = function() {
        return this.i.seekable || eG([], [])
    };
    h.mp = function() {
        var a = this.i;
        return a.getStartDate ? a.getStartDate() : null
    };
    h.getCurrentTime = function() {
        return this.i.currentTime
    };
    h.Yq = function(a) {
        this.L();
        this.i.currentTime = a
    };
    h.getDuration = function() {
        return this.i.duration
    };
    h.load = function() {
        this.L();
        var a = this.i.playbackRate;
        try {
            this.i.load()
        } catch (b) {}
        this.i.playbackRate = a
    };
    h.pause = function() {
        this.L();
        this.i.pause()
    };
    h.play = function() {
        this.L();
        var a = this.i.play();
        if (!a || !a.then) return null;
        a.then(void 0, function() {});
        return a
    };
    h.nf = function() {
        return this.i.readyState
    };
    h.Tp = function() {
        return this.i.networkState
    };
    h.dg = function() {
        return this.i.error ? this.i.error.code : null
    };
    h.Yc = function() {
        return this.i.error ? this.i.error.message : ""
    };
    h.np = function() {
        if (window.HTMLVideoElement && this.i instanceof window.HTMLVideoElement && this.i.getVideoPlaybackQuality) return this.i.getVideoPlaybackQuality();
        if (this.i) {
            var a = this.i,
                b = a.webkitDroppedFrameCount;
            if (a = a.webkitDecodedFrameCount) return {
                droppedVideoFrames: b || 0,
                totalVideoFrames: a
            }
        }
        return {}
    };
    h.pe = function() {
        return !!this.i.webkitCurrentPlaybackTargetIsWireless
    };
    h.togglePictureInPicture = function() {
        var a = this.i,
            b = window.document;
        bG() ? this.i !== b.pictureInPictureElement ? a.requestPictureInPicture() : b.exitPictureInPicture() : cG() && a.webkitSetPresentationMode("picture-in-picture" === a.webkitPresentationMode ? "inline" : "picture-in-picture")
    };
    h.Oi = function() {
        var a = this.i;
        return new ug(a.offsetLeft, a.offsetTop)
    };
    h.hn = function() {
        return km(this.i)
    };
    h.setSize = function(a) {
        im(this.i, a)
    };
    h.getVolume = function() {
        return this.i.volume
    };
    h.setVolume = function(a) {
        dG();
        this.L();
        this.i.volume = a
    };
    h.Ws = function(a) {
        this.B[a] || (this.i.addEventListener(a, this.listener), this.B[a] = this.listener)
    };
    h.setAttribute = function(a, b) {
        this.i.setAttribute(a, b)
    };
    h.removeAttribute = function(a) {
        this.i.removeAttribute(a)
    };
    h.hasAttribute = function(a) {
        return this.i.hasAttribute(a)
    };
    h.Bs = function(a) {
        this.L();
        for (var b = 0; b < a.length; b++) this.i.appendChild(a[b])
    };
    h.Sv = function() {
        return !!this.i.textTracks
    };
    h.Tv = function() {
        return !(!this.i.textTracks || !this.i.textTracks.addEventListener)
    };
    h.Ns = function() {
        this.L();
        var a = Gg(document, "track", void 0, this.i);
        for (var b = 0; b < a.length; b++) Sg(a[b])
    };
    h.Jn = function() {
        return os(this.i)
    };
    h.Vj = function(a) {
        rr(this.i, a)
    };
    h.Yp = function(a) {
        return cm(this.i, a)
    };
    h.Yt = function() {
        return Tg(document.body, this.i)
    };
    h.Da = function() {
        for (var a = t(Object.keys(this.B)), b = a.next(); !b.done; b = a.next()) b = b.value, this.i.removeEventListener(b, this.B[b]);
        zM.prototype.Da.call(this)
    };
    h.L = function() {};

    function NM(a) {
        var b = Math.abs(Math.floor(a)),
            c = Math.floor(b / 86400),
            d = Math.floor(b % 86400 / 3600),
            e = Math.floor(b % 3600 / 60);
        b = Math.floor(b % 60);
        var f = "";
        0 < c && (f += c + ":", 10 > d && (f += "0"));
        if (0 < c || 0 < d) f += d + ":", 10 > e && (f += "0");
        f += e + ":";
        10 > b && (f += "0");
        c = f + b;
        return 0 <= a ? c : "-" + c
    };
    (function(a, b) {
        function c(f) {
            var g = t(f);
            f = g.next().value;
            g = fa(g);
            return a.apply(f, g)
        }

        function d(f) {
            f = t(f);
            f.next();
            f = fa(f);
            return b(e, f)
        }
        b = void 0 === b ? ofa : b;
        var e = Pa(a);
        return function(f) {
            for (var g = [], k = 0; k < arguments.length; ++k) g[k - 0] = arguments[k];
            k = this || A;
            var l = Cr.get(k);
            l || (l = {}, Cr.set(k, l));
            return le(l, [this].concat(ha(g)), c, d)
        }
    })(function(a) {
        var b = Og("DIV");
        a && (b.className = a);
        b.style.cssText = "overflow:auto;position:absolute;top:0;width:100px;height:100px";
        a = Og("DIV");
        im(a, "200px", "200px");
        b.appendChild(a);
        document.body.appendChild(b);
        a = b.offsetWidth - b.clientWidth;
        Sg(b);
        return a
    });

    function OM(a, b, c, d, e, f) {
        C.call(this);
        this.element = a;
        this.state = null;
        c || a.hide();
        this.u = b;
        this.B = void 0 === d ? b : d;
        this.i = f;
        this.l = e;
        this.delay = new dr(this.qr, 0, this);
        E(this, this.delay)
    }
    v(OM, C);
    h = OM.prototype;
    h.show = function(a) {
        1 !== this.state && 2 !== this.state && (4 === this.state && this.qr(), 5 === this.state ? (this.element.show(), this.state = null, this.delay.stop(), this.i && this.i()) : this.element.u || (PM(this, !0), this.state = 1, a ? this.delay.start(a) : this.qr()))
    };
    h.hide = function() {
        4 !== this.state && (1 === this.state || 2 === this.state ? (this.element.hide(), this.state = null, this.delay.stop()) : this.element.u && (PM(this, !0), this.state = 4, this.delay.start(this.B)))
    };
    h.qr = function() {
        switch (this.state) {
            case 1:
                this.element.show();
                this.state = 2;
                this.delay.start(10);
                break;
            case 2:
                PM(this, !1);
                this.state = 3;
                this.delay.start(this.u);
                break;
            case 3:
                this.state = null;
                this.i && this.i();
                break;
            case 4:
                this.element.hide();
                PM(this, !1);
                this.state = 5;
                this.delay.start(0);
                break;
            case 5:
                this.state = null, this.l && this.l()
        }
    };

    function PM(a, b) {
        a = a.element.element;
        b ? a.setAttribute("aria-hidden", "true") : a.removeAttribute("aria-hidden")
    }
    h.stop = function() {
        for (; null !== this.state && 5 !== this.state;) this.delay.stop(), this.qr()
    };
    h.Da = function() {
        this.element.Ea() || this.element.element.removeAttribute("aria-hidden");
        C.prototype.Da.call(this)
    };

    function QM() {
        return {
            V: "svg",
            Va: {
                height: "100%",
                viewBox: "0 0 24 24",
                width: "100%"
            },
            Na: [{
                V: "path",
                Va: {
                    d: "M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",
                    fill: "#fff"
                }
            }]
        }
    }

    function RM() {
        return {
            V: "svg",
            Va: {
                fill: "#fff",
                height: "24px",
                viewBox: "0 0 24 24",
                width: "24px"
            },
            Na: [{
                V: "path",
                Va: {
                    d: "M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"
                }
            }]
        }
    }

    function SM() {
        return {
            V: "svg",
            Va: {
                fill: "#fff",
                height: "24px",
                viewBox: "0 0 24 24",
                width: "24px"
            },
            Na: [{
                V: "path",
                Va: {
                    d: "M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"
                }
            }]
        }
    }

    function TM() {
        return {
            V: "svg",
            Va: {
                fill: "#fff",
                height: "24px",
                viewBox: "0 0 24 24",
                width: "24px"
            },
            Na: [{
                V: "path",
                Va: {
                    d: "M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"
                }
            }]
        }
    };
    var UM = 1;

    function VM(a) {
        C.call(this);
        this.ya = {};
        this.Ka = {};
        this.element = this.createElement(a)
    }
    v(VM, C);
    h = VM.prototype;
    h.createElement = function(a, b) {
        b = b || "svg" === a.V;
        var c = a.Ca,
            d = a.fd;
        if (b) {
            var e = document.createElementNS("http://www.w3.org/2000/svg", a.V);
            pe && (a.Va || (a.Va = {}), a.Va.focusable = "false")
        } else e = Og(a.V);
        if (c) {
            if (c = WM(this, e, "class", c)) XM(this, e, "class", c), this.ya[c] = e
        } else if (d) {
            c = t(d);
            for (var f = c.next(); !f.done; f = c.next()) this.ya[f.value] = e;
            XM(this, e, "class", d.join(" "))
        }
        d = a.eb;
        c = a.Na;
        if (d) b = WM(this, e, "child", d), void 0 !== b && e.appendChild(Pg(b));
        else if (c)
            for (d = 0, c = t(c), f = c.next(); !f.done; f = c.next())
                if (f =
                    f.value)
                    if ("string" === typeof f) f = WM(this, e, "child", f), null != f && e.appendChild(Pg(f));
                    else if (f.element) e.appendChild(f.element);
        else {
            var g = f;
            f = this.createElement(g, b);
            e.appendChild(f);
            g.wH && (g = "ytp-id-" + UM.toString(), UM++, f.id = g, f = document.createElementNS("http://www.w3.org/2000/svg", "use"), f.setAttribute("class", "ytp-svg-shadow"), f.setAttributeNS("http://www.w3.org/1999/xlink", "href", "#" + g), Rg(e, f, d++))
        }
        if (a = a.Va)
            for (b = e, d = t(Object.keys(a)), c = d.next(); !c.done; c = d.next()) c = c.value, f = a[c], XM(this, b,
                c, "string" === typeof f ? WM(this, b, c, f) : f);
        return e
    };
    h.Wa = function(a) {
        return this.ya[a]
    };
    h.Ua = function(a, b) {
        "number" === typeof b ? Rg(a, this.element, b) : a.appendChild(this.element)
    };
    h.detach = function() {
        Sg(this.element)
    };

    function WM(a, b, c, d) {
        if ("{{" === d.substr(0, 2)) a.Ka[d] = [b, c];
        else return d
    }
    h.update = function(a) {
        for (var b = t(Object.keys(a)), c = b.next(); !c.done; c = b.next()) c = c.value, this.zc(c, a[c])
    };
    h.zc = function(a, b) {
        (a = this.Ka["{{" + a + "}}"]) && XM(this, a[0], a[1], b)
    };

    function pla(a, b) {
        var c = [];
        if (!b) return c;
        b = t(b);
        for (var d = b.next(); !d.done; d = b.next())
            if (d = d.value, null != d) {
                var e = d.nodeType;
                1 === e || 3 === e ? c.push(d) : d && "string" === typeof d.V ? c.push(a.createElement(d)) : d.element ? c.push(d.element) : "string" === typeof d && -1 !== d.indexOf("\n") ? d.split("\n").forEach(function(f, g) {
                    0 < g && c.push(Og("BR"));
                    c.push(Pg(f))
                }) : c.push(Pg(d))
            } return c
    }

    function XM(a, b, c, d) {
        if ("child" === c) {
            Qg(b);
            var e;
            void 0 === d ? e = void 0 : e = !Array.isArray(d) || d && "string" === typeof d.V ? [d] : d;
            c = pla(a, e);
            c = t(c);
            for (a = c.next(); !a.done; a = c.next()) b.appendChild(a.value)
        } else "style" === c ? $l(b, "cssText", d ? d : "") : null === d || void 0 === d ? b.removeAttribute(c) : (a = d.toString(), "href" === c && (a = Sc(Uc(a) || Xc)), b.setAttribute(c, a))
    }
    h.Da = function() {
        this.ya = {};
        this.Ka = {};
        this.detach();
        C.prototype.Da.call(this)
    };

    function YM(a) {
        VM.call(this, a);
        this.u = !0;
        this.listeners = []
    }
    v(YM, VM);
    h = YM.prototype;
    h.eB = function(a) {
        this.zc("content", a)
    };
    h.show = function() {
        this.u || ($l(this.element, "display", ""), this.u = !0)
    };
    h.hide = function() {
        this.u && ($l(this.element, "display", "none"), this.u = !1)
    };
    h.jd = function(a, b, c) {
        return this.Ga(this.element, a, b, c)
    };
    h.Ga = function(a, b, c, d) {
        c = Sa(c, d || this);
        d = {
            target: a,
            type: b,
            listener: c
        };
        this.listeners.push(d);
        a.addEventListener(b, c);
        return d
    };
    h.xe = function(a) {
        var b = this;
        this.listeners.forEach(function(c, d) {
            c === a && (c = b.listeners.splice(d, 1)[0], c.target.removeEventListener(c.type, c.listener))
        })
    };
    h.focus = function() {
        var a = this.element;
        Vg(a);
        a.focus()
    };
    h.Da = function() {
        for (; this.listeners.length;) {
            var a = this.listeners.pop();
            a && a.target.removeEventListener(a.type, a.listener)
        }
        VM.prototype.Da.call(this)
    };

    function ZM(a, b) {
        for (var c = {}, d = t(Object.keys(b)), e = d.next(); !e.done; c = {
                Br: c.Br
            }, e = d.next()) e = e.value, c.Br = b[e], a = a.replace(new RegExp("\\$" + e, "gi"), function(f) {
            return function() {
                return f.Br
            }
        }(c));
        return a
    };

    function $M(a, b) {
        var c = void 0 === c ? !0 : c;
        var d = G("VALID_SESSION_TEMPDATA_DOMAINS", []),
            e = Ji(window.location.href);
        e && d.push(e);
        e = Ji(a);
        if (xb(d, e) || !e && zc(a, "/"))
            if (I("autoescape_tempdata_url") && (d = document.createElement("a"), vd(d, a), a = d.href), a && (a = Li(a), d = a.indexOf("#"), a = 0 > d ? a : a.substr(0, d)))
                if (c && !b.csn && (b.itct || b.ved) && (b = Object.assign({
                        csn: Xx()
                    }, b)), f) {
                    var f = parseInt(f, 10);
                    isFinite(f) && 0 < f && aN(a, b, f)
                } else aN(a, b)
    }

    function aN(a, b, c) {
        a = "ST-" + Fd(a).toString(36);
        b = b ? Si(b) : "";
        c = c || 5;
        I("drop_st_cookie_before_cb") && !hz() || uv(a, b, c)
    };

    function qla(a, b, c) {
        b = void 0 === b ? {} : b;
        c = void 0 === c ? !1 : c;
        var d = G("EVENT_ID");
        d && (b.ei || (b.ei = d));
        b && $M(a, b);
        if (c) return !1;
        if ((window.ytspf || {}).enabled) spf.navigate(a);
        else {
            var e = void 0 === e ? {} : e;
            var f = void 0 === f ? "" : f;
            var g = void 0 === g ? window : g;
            b = g.location;
            a = Ti(a, e) + f;
            var k = void 0 === k ? Wl : k;
            a: {
                k = void 0 === k ? Wl : k;
                for (e = 0; e < k.length; ++e)
                    if (f = k[e], f instanceof Ol && f.isValid(a)) {
                        k = new ak(a, Rj);
                        break a
                    } k = void 0
            }
            b.href = aca(k || $ba)
        }
        return !0
    }

    function bN(a, b, c, d) {
        c && $M(a, c);
        c = Uc(a) || Xc;
        c = Sc(c);
        a != c && Ds(Error("Unsafe window.open URL: " + a));
        a = c;
        b = b || Fd(a).toString(36);
        var e, f;
        if (d && "function" === typeof(null == (e = document.featurePolicy) ? void 0 : e.features) && (null == (f = document.featurePolicy) ? 0 : f.features().includes("conversion-measurement"))) try {
            window.open(a, b, void 0, d);
            return
        } catch (g) {}
        window.open(a, b)
    };

    function cN(a) {
        YM.call(this, a);
        this.I = new S;
        E(this, this.I)
    }
    v(cN, YM);
    cN.prototype.subscribe = function(a, b, c) {
        return this.I.subscribe(a, b, c)
    };
    cN.prototype.unsubscribe = function(a, b, c) {
        return this.I.unsubscribe(a, b, c)
    };
    cN.prototype.cg = function(a) {
        return this.I.cg(a)
    };
    cN.prototype.W = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        return this.I.W.apply(this.I, [a].concat(ha(c)))
    };

    function dN(a, b, c, d) {
        d = void 0 === d ? !1 : d;
        cN.call(this, b);
        var e = this;
        this.S = a;
        this.K = d;
        this.G = new NI(this);
        this.l = new OM(this, c, !0, void 0, void 0, function() {
            e.i && e.element && (e.i.getAttribute("aria-haspopup"), e.i.setAttribute("aria-expanded", "true"), e.focus())
        });
        E(this, this.G);
        E(this, this.l)
    }
    v(dN, cN);
    dN.prototype.show = function() {
        var a = this.u && 4 !== this.l.state;
        cN.prototype.show.call(this);
        this.K && (this.G.Ga(window, "blur", this.C), this.G.Ga(document, "click", this.U));
        a || this.W("show", !0)
    };

    function eN(a) {
        a.i && (document.activeElement && Tg(a.element, document.activeElement) && (Vg(a.i), a.i.focus()), a.i.removeAttribute("aria-expanded"), a.i = void 0);
        YF(a.G);
        a.J = void 0
    }
    dN.prototype.hide = function() {
        var a = this.u && 4 !== this.l.state;
        cN.prototype.hide.call(this);
        eN(this);
        a && this.W("show", !1)
    };

    function rla(a, b) {
        a.i = b;
        a.l.show();
        a.J && (a.G.xe(a.J), a.J = void 0)
    }
    dN.prototype.C = function() {
        var a = this.u && 4 !== this.l.state;
        eN(this);
        this.l.hide();
        a && this.W("show", !1)
    };
    dN.prototype.U = function(a) {
        var b = a || window.event;
        var c;
        b.composedPath && "function" === typeof b.composedPath ? c = b.composedPath() : c = b.path;
        c && c.length ? b = c[0] : (b = b || window.event, b = b.target || b.srcElement, 3 == b.nodeType && (b = b.parentNode));
        b && (Tg(this.element, b) || this.i && Tg(this.i, b) || "button" in a && "number" === typeof a.button && 0 !== a.button || "shiftKey" in a && a.shiftKey || "altKey" in a && a.altKey || "metaKey" in a && a.metaKey || "ctrlKey" in a && a.ctrlKey) || this.C()
    };

    function sla(a, b) {
        this.i = a;
        this.l = b
    };
    var fN = {
        seekableStart: 0,
        seekableEnd: 1,
        current: 0
    };

    function gN(a, b) {
        cN.call(this, {
            V: "div",
            Ca: "ytp-ad-persistent-progress-bar-container",
            Na: [{
                V: "div",
                Ca: "ytp-ad-persistent-progress-bar"
            }]
        });
        this.api = a;
        this.l = b;
        E(this, this.l);
        this.C = this.Wa("ytp-ad-persistent-progress-bar");
        this.i = -1;
        this.Ga(a, "presentingplayerstatechange", this.B);
        this.hide();
        this.B()
    }
    v(gN, cN);
    gN.prototype.md = function() {
        var a = this.l.getProgressState(),
            b = new sla(a.seekableStart, a.seekableEnd);
        this.C.style.width = 100 * (b.l - b.i ? rg((a.current - b.i) / (b.l - b.i), 0, 1) : 0) + "%"
    };
    gN.prototype.B = function() {
        rI(this.api.Y()) || (2 === this.api.getPresentingPlayerType() ? -1 === this.i && (this.show(), this.i = this.l.subscribe("b", this.md, this), this.md()) : -1 !== this.i && (this.hide(), this.l.cg(this.i), this.i = -1))
    };

    function hN(a, b) {
        b = void 0 === b ? 2 : b;
        S.call(this);
        this.api = a;
        this.i = null;
        this.Zc = new WF(this);
        E(this, this.Zc);
        this.l = fN;
        this.Zc.Ga(this.api, "presentingplayerstatechange", this.pC);
        this.i = this.Zc.Ga(this.api, "progresssync", this.md);
        this.xg = b;
        1 === this.xg && this.md()
    }
    v(hN, S);
    h = hN.prototype;
    h.Pn = function() {
        return 1E3 * this.api.getDuration(this.xg, !1)
    };
    h.stop = function() {
        this.i && this.Zc.xe(this.i)
    };
    h.md = function() {
        var a = this.api.getProgressState(this.xg);
        this.l = {
            seekableStart: a.seekableStart,
            seekableEnd: a.seekableEnd,
            current: R(this.api.Y().experiments, "halftime_ux_killswitch") ? a.current : this.api.getCurrentTime(this.xg, !1)
        };
        this.W("b")
    };
    h.getProgressState = function() {
        return this.l
    };
    h.pC = function(a) {
        iN(a, 2) && this.W("a")
    };
    Ia("yt.pubsub.publish", Uu, void 0);
    var tla = new Set("embed_config endscreen_ad_tracking home_group_info ic_track player_request watch_next_request".split(" "));

    function ula(a, b, c, d) {
        var e = window.location.search;
        if (38 === b.X && "books" === a.playerStyle) return e = b.videoId.indexOf(":"), Ti("//play.google.com/books/volumes/" + b.videoId.slice(0, e) + "/content/media", {
            aid: b.videoId.slice(e + 1),
            sig: b.rD
        });
        if (30 === b.X && "docs" === a.playerStyle) return Ti("https://docs.google.com/get_video_info", {
            docid: b.videoId,
            authuser: b.JB,
            authkey: b.authKey,
            eurl: a.Ha
        });
        if (33 === b.X && "google-live" === a.playerStyle) return Ti("//google-liveplayer.appspot.com/get_video_info", {
            key: b.videoId
        });
        "yt" !==
        a.B && ky(Error("getVideoInfoUrl for invalid namespace: " + a.B));
        var f = {
            html5: "1",
            video_id: b.videoId,
            cpn: b.clientPlaybackNonce,
            eurl: a.Ha,
            ps: a.playerStyle,
            el: OL(b),
            hl: a.Ta,
            list: b.playlistId,
            agcid: b.ow,
            aqi: b.adQueryId,
            sts: 18795,
            lact: jt()
        };
        Ua(f, a.deviceParams);
        a.T && (f.forced_experiments = a.T);
        b.K ? (f.vvt = b.K, b.mdxEnvironment && (f.mdx_environment = b.mdxEnvironment)) : b.Gd() && (f.access_token = b.Gd());
        b.adFormat && (f.adformat = b.adFormat);
        0 <= b.slotPosition && (f.slot_pos = b.slotPosition);
        b.breakType && (f.break_type = b.breakType);
        null !== b.vl && (f.ad_id = b.vl);
        null !== b.xl && (f.ad_sys = b.xl);
        null !== b.Sr && (f.encoded_ad_playback_context = b.Sr);
        b.mu && (f.tpra = "1");
        a.captionsLanguagePreference && (f.cc_lang_pref = a.captionsLanguagePreference);
        a.J && 2 !== a.J && (f.cc_load_policy = a.J);
        var g = Av(xv.getInstance(), 65);
        tC(a) && null != g && !g && (f.device_captions_on = "1");
        a.mute && (f.mute = a.mute);
        b.annotationsLoadPolicy && 2 !== a.annotationsLoadPolicy && (f.iv_load_policy = b.annotationsLoadPolicy);
        b.Tr && (f.endscreen_ad_tracking = b.Tr);
        (g = a.G.get(b.videoId)) && g.bw &&
            (f.ic_track = g.bw);
        b.Fa && (f.itct = b.Fa);
        RL(b) && (f.autoplay = "1");
        b.mutedAutoplay && (f.mutedautoplay = b.mutedAutoplay);
        b.Lg && (f.autonav = "1");
        b.Zr && (f.noiba = "1");
        R(a.experiments, "send_mdx_remote_data_if_present") ? (b.isMdxPlayback && (f.mdx = "1"), b.Qd && (f.ytr = b.Qd)) : b.isMdxPlayback && (f.mdx = "1", f.ytr = b.Qd);
        b.mdxControlMode && (f.mdx_control_mode = b.mdxControlMode);
        b.Eh && (f.ytrcc = b.Eh);
        b.hs && (f.utpsa = "1");
        b.isFling && (f.is_fling = "1");
        b.isInlinePlaybackNoAd && (f.mute = "1");
        b.vnd && (f.vnd = b.vnd);
        b.Tc && (g = 3 === b.Tc.split("|").length,
            f.force_ad_params = g ? b.Tc : "||" + b.Tc);
        b.kb && (f.preload = b.kb);
        c.width && (f.width = c.width);
        c.height && (f.height = c.height);
        b.zf && (f.splay = "1");
        b.ypcPreview && (f.ypc_preview = "1");
        PL(b) && (f.content_v = PL(b));
        b.ub && (f.livemonitor = 1);
        a.I && (f.authuser = a.I);
        a.pageId && (f.pageid = a.pageId);
        a.C && (f.ei = a.C);
        b.contentCheckOk && (f.cco = "1");
        b.racyCheckOk && (f.rco = "1");
        a.l && b.us && (f.live_start_walltime = b.us);
        a.l && b.ud && (f.live_manifest_duration = b.ud);
        a.l && b.playerParams && (f.player_params = b.playerParams);
        a.l && b.cycToken && (f.cyc =
            b.cycToken);
        a.l && b.pu && (f.tkn = b.pu);
        0 !== d && (f.vis = d);
        a.enableSafetyMode && (f.enable_safety_mode = "1");
        b.Ka && (f.kpt = b.Ka);
        b.ph && (f.kids_age_up_mode = b.ph);
        b.kidsAppInfo && (f.kids_app_info = b.kidsAppInfo);
        b.Oj && (f.upg_content_filter_mode = "1");
        a.widgetReferrer && (f.widget_referrer = a.widgetReferrer.substring(0, 128));
        b.Ma ? (g = null != b.Ma.latitudeE7 && null != b.Ma.longitudeE7 ? b.Ma.latitudeE7 + "," + b.Ma.longitudeE7 : ",", g += "," + (b.Ma.clientPermissionState || 0) + "," + (b.Ma.locationRadiusMeters || "") + "," + (b.Ma.locationOverrideToken ||
            "")) : g = null;
        g && (f.uloc = g);
        b.kh && (f.internalipoverride = b.kh);
        a.embedConfig && (f.embed_config = a.embedConfig);
        a.Vd && (f.co_rel = "1");
        0 < a.Ma.length && (f.ancestor_origins = Array.from(a.Ma).join(","));
        void 0 !== a.homeGroupInfo && (f.home_group_info = a.homeGroupInfo);
        void 0 !== a.livingRoomAppMode && (f.living_room_app_mode = a.livingRoomAppMode);
        a.enablePrivacyFilter && (f.enable_privacy_filter = "1");
        b.isLivingRoomDeeplink && (f.is_living_room_deeplink = "1");
        b.yj && b.Aj && (f.clip = b.yj, f.clipt = b.Aj);
        b.Bj && (f.disable_watch_next =
            "1");
        a.N("web_player_gvi_wexit_diff") && (f.player_request = JSON.stringify($L(b, c, d)));
        a.N("html5_onesie_watch_next_diff") && (f.watch_next_request = JSON.stringify(aM(b)));
        b.td && (f.forced_by_var = "1");
        for (var k in f) !tla.has(k) && f[k] && 512 < String(f[k]).length && (ly(Error("GVI param too long: " + k)), f[k] = "");
        b = a.K;
        rI(a) && (b = nB(b.replace(/\b(?:www|web)([.-])/, "tv$1")) || a.K);
        a = Ti(b + "get_video_info", f);
        e && (a = ou(a, e));
        return a
    }

    function vla(a) {
        var b = {};
        a.ju && (b.ytrext = a.ju);
        return bc(b) ? void 0 : b
    };
    var jN = /^#(?:[0-9a-f]{3}){1,2}$/i,
        kN = {
            "default": 0,
            monoSerif: 1,
            propSerif: 2,
            monoSans: 3,
            propSans: 4,
            casual: 5,
            cursive: 6,
            smallCaps: 7
        };
    Object.keys(kN).reduce(function(a, b) {
        a[kN[b]] = b;
        return a
    }, {});
    var lN = {
        none: 0,
        raised: 1,
        depressed: 2,
        uniform: 3,
        dropShadow: 4
    };
    Object.keys(lN).reduce(function(a, b) {
        a[lN[b]] = b;
        return a
    }, {});
    var mN = {
        normal: 0,
        bold: 1,
        italic: 2,
        bold_italic: 3
    };
    Object.keys(mN).reduce(function(a, b) {
        a[mN[b]] = b;
        return a
    }, {});
    new Kv("yt.autonav");

    function nN() {
        var a = wla;
        var b = void 0 === b ? [] : b;
        var c = void 0 === c ? [] : c;
        b = ds.apply(null, [tfa.apply(null, ha(b))].concat(ha(c)));
        this.store = hs(a, void 0, b)
    }
    nN.prototype.getState = function() {
        return this.store.getState()
    };
    nN.prototype.dispatch = function(a) {
        return this.store.dispatch(a)
    };
    nN.prototype.subscribe = function(a) {
        return this.store.subscribe(a)
    };
    nN.prototype.replaceReducer = function(a) {
        return this.store.replaceReducer(a)
    };
    nN.prototype[Symbol.observable] = function() {
        return this.store[Symbol.observable]()
    };

    function oN(a) {
        this.l = a;
        this.B = this.i = 0;
        this.u = -1
    }

    function pN(a) {
        var b = sF(a.l, a.i);
        ++a.i;
        if (128 > b) return b;
        for (var c = b & 127, d = 1; 128 <= b;) b = sF(a.l, a.i), ++a.i, d *= 128, c += (b & 127) * d;
        return c
    }

    function qN(a, b) {
        a.B = b;
        var c = a.u;
        for (a.u = -1; a.i + 1 <= a.l.totalLength;) {
            0 > c && (c = pN(a));
            var d = c >> 3,
                e = c & 7;
            if (d === b) return !0;
            if (d > b) {
                a.u = c;
                break
            }
            c = -1;
            switch (e) {
                case 0:
                    pN(a);
                    break;
                case 1:
                    a.i += 8;
                    break;
                case 2:
                    d = pN(a);
                    a.i += d;
                    break;
                case 5:
                    a.i += 4
            }
        }
        return !1
    }

    function rN(a, b, c) {
        c = void 0 === c ? 0 : c;
        return qN(a, b) ? pN(a) : c
    }
    oN.prototype.Ad = function(a) {
        var b = void 0 === b ? "" : b;
        if (!qN(this, a)) return b;
        a = pN(this);
        if (!a) return "";
        b = rF(this.l, this.i, a);
        this.i += a;
        return A.TextDecoder ? (new TextDecoder).decode(b) : eb(b)
    };

    function sN(a, b) {
        var c = void 0 === c ? null : c;
        if (!qN(a, b)) return c;
        b = pN(a);
        c = rF(a.l, a.i, b);
        a.i += b;
        return c
    };

    function tN() {
        this.i = 0;
        this.u = void 0;
        this.B = [];
        this.l = new Uint8Array(4096);
        this.view = new DataView(this.l.buffer);
        A.TextEncoder && (this.u = new TextEncoder)
    }

    function uN(a, b) {
        b = a.i + b;
        if (!(a.l.length >= b)) {
            for (var c = 2 * a.l.length; c < b;) c *= 2;
            b = new Uint8Array(c);
            b.set(a.l);
            a.l = b;
            a.view = new DataView(a.l.buffer)
        }
    }

    function vN(a, b) {
        if (268435455 < b) {
            uN(a, 4);
            for (var c = b & 1073741823, d = 0; 4 > d; d++) a.view.setUint8(a.i, c & 127 | 128), c >>= 7, a.i += 1;
            b = Math.floor(b / 268435456)
        }
        for (uN(a, 4); 127 < b;) a.view.setUint8(a.i, b & 127 | 128), b >>= 7, a.i += 1;
        a.view.setUint8(a.i, b);
        a.i += 1
    }

    function wN(a, b, c) {
        vN(a, b << 3 | 0);
        vN(a, c)
    }

    function xN(a, b, c) {
        vN(a, b << 3 | 2);
        b = c.length;
        vN(a, b);
        uN(a, b);
        a.l.set(c, a.i);
        a.i += b
    }

    function yN(a, b, c) {
        if (a.u) c = a.u.encode(c);
        else {
            for (var d = [], e = 0, f = 0; f < c.length; f++) {
                var g = c.charCodeAt(f);
                128 > g ? d[e++] = g : (2048 > g ? d[e++] = g >> 6 | 192 : (55296 == (g & 64512) && f + 1 < c.length && 56320 == (c.charCodeAt(f + 1) & 64512) ? (g = 65536 + ((g & 1023) << 10) + (c.charCodeAt(++f) & 1023), d[e++] = g >> 18 | 240, d[e++] = g >> 12 & 63 | 128) : d[e++] = g >> 12 | 224, d[e++] = g >> 6 & 63 | 128), d[e++] = g & 63 | 128)
            }
            c = new Uint8Array(qD(d).buffer)
        }
        xN(a, b, c)
    }

    function zN(a) {
        vN(a, 18);
        a.B.push(a.i);
        a.i += 2
    }

    function AN(a) {
        var b = a.B.pop() || 0,
            c = a.i - b - 2;
        a.view.setUint8(b, c & 127 | 128);
        a.view.setUint8(b + 1, c >> 7)
    };

    function BN(a) {
        var b = new oN(new kF([Od(decodeURIComponent(a))]));
        a = b.Ad(2);
        b = rN(b, 4);
        return {
            mE: b,
            entityType: CN[b],
            entityId: a
        }
    }

    function DN(a, b) {
        var c = new tN;
        yN(c, 2, a);
        wN(c, 4, EN[b]);
        wN(c, 5, 1);
        a = new Uint8Array(c.l.buffer, 0, c.i);
        return encodeURIComponent(Re(a))
    }
    for (var EN = {
            playbackData: 119,
            transfer: 120,
            offlineVideoPolicy: 130,
            ytMainVideoEntity: 151,
            ytMainChannelEntity: 152,
            ytMainDownloadedVideoEntity: 155,
            offlineOrchestrationActionWrapperEntity: 169,
            offlineVideoStreams: 198,
            captionTrack: 225,
            orchestrationWebSamplingEntity: 242,
            offlineabilityEntity: 246,
            logoEntity: 245
        }, CN = {}, FN = t(Object.entries(EN)), GN = FN.next(); !GN.done; GN = FN.next()) {
        var HN = t(GN.value),
            xla = HN.next().value,
            IN = HN.next().value;
        IN && (CN[IN] = xla)
    }

    function yla(a) {
        a = a.key || a.id;
        if (!a) throw Error("Entity key is missing");
        return a
    };

    function JN(a, b, c, d) {
        if (void 0 === d) {
            d = a[b] || {};
            var e = ["symbol" === typeof c ? c : c + ""];
            c = {};
            for (var f in d) Object.prototype.hasOwnProperty.call(d, f) && 0 > e.indexOf(f) && (c[f] = d[f]);
            if (null != d && "function" === typeof Object.getOwnPropertySymbols) {
                var g = 0;
                for (f = Object.getOwnPropertySymbols(d); g < f.length; g++) 0 > e.indexOf(f[g]) && (c[f[g]] = d[f[g]])
            }
            f = {};
            return Object.assign(Object.assign({}, a), (f[b] = c, f))
        }
        f = {};
        e = {};
        return Object.assign(Object.assign({}, a), (e[b] = Object.assign(Object.assign({}, a[b]), (f[c] = d, f)), e))
    };
    var KN = {},
        zla = fx("PersistentEntityStoreDb", {
            Eo: (KN.EntityStore = !0, KN),
            Zq: !1,
            upgrade: function(a, b, c) {
                1 > b && 1 <= c && Jw(a, "EntityStore", {
                    keyPath: "key"
                }).i.createIndex("entityType", "entityType", {
                    unique: !1
                })
            },
            version: 1
        });

    function Ala(a) {
        this.i = a;
        this.l = {}
    }

    function LN(a, b, c) {
        return Iw(a.i, "EntityStore").get(b).then(function(d) {
            if (d) {
                if (c && d.entityType !== c) throw Error("Incorrect entity type");
                return d.data
            }
        })
    }

    function MN(a, b, c) {
        return c ? (c = c.map(function(d) {
            return LN(a, d, b)
        }), dx.all(c)) : Iw(a.i, "EntityStore").index("entityType").getAll(IDBKeyRange.only(b)).then(function(d) {
            return d.map(function(e) {
                return e.data
            })
        })
    }

    function NN(a, b, c) {
        function d() {
            return Lw(Iw(a.i, "EntityStore"), f).then(function(g) {
                ON(a, g, c);
                return g
            })
        }
        var e = yla(b),
            f = {
                key: e,
                entityType: c,
                data: b
            };
        return c ? Iw(a.i, "EntityStore").get(e).then(function(g) {
            if (g && c && g.entityType !== c) throw Error("Incorrect entity type");
        }).then(d) : d()
    }

    function PN(a, b, c) {
        b = b.map(function(d) {
            return NN(a, d, c)
        });
        return dx.all(b)
    }

    function QN(a, b) {
        var c = BN(b).entityType;
        return Iw(a.i, "EntityStore").delete(b).then(function() {
            ON(a, b, c)
        })
    }

    function RN(a, b) {
        return Sw(Iw(a.i, "EntityStore").index("entityType"), {
            query: IDBKeyRange.only(b)
        }, function(c) {
            return c.delete().then(function() {
                ON(a, c.Xy(), b);
                return c.continue()
            })
        })
    }

    function ON(a, b, c) {
        var d = a.l[c];
        d || (d = new Set, a.l[c] = d);
        d.add(b)
    };

    function SN() {
        C.apply(this, arguments);
        this.i = [];
        if (!mw()) throw Error("Datasync ID is missing");
        if ("undefined" === typeof BroadcastChannel) var a = null;
        else a = new BroadcastChannel("PERSISTENT_ENTITY_STORE_SYNC:" + nw()), a.onmessage = this.l.bind(this);
        this.channel = a
    }
    v(SN, C);

    function TN(a, b, c) {
        return B(a, function e() {
            var f, g, k, l, m = this;
            return y(e, function(n) {
                if (1 == n.i) return w(n, zla().open(), 2);
                if (3 != n.i) return f = n.l, w(n, Hw(f, ["EntityStore"], b, function(p) {
                    g = new Ala(p);
                    return c(g)
                }), 3);
                k = n.l;
                g && (l = g.l, 0 < Object.keys(l).length && (m.channel && m.channel.postMessage(l), UN(m, l)));
                return n.return(k)
            })
        })
    }

    function VN(a, b) {
        a.i.push(b);
        return function() {
            var c = a.i.indexOf(b);
            0 <= c && a.i.splice(c, 1)
        }
    }

    function WN(a, b, c) {
        return TN(a, "readwrite", function(d) {
            return NN(d, b, c)
        })
    }

    function XN(a, b) {
        return TN(a, "readwrite", function(c) {
            return PN(c, b, "offlineOrchestrationActionWrapperEntity")
        })
    }

    function Bla(a, b) {
        return TN(a, "readwrite", function(c) {
            return QN(c, b)
        })
    }

    function YN(a, b, c) {
        return TN(a, "readonly", function(d) {
            return LN(d, b, c)
        })
    }

    function ZN(a, b, c) {
        return TN(a, "readonly", function(d) {
            return MN(d, b, c)
        })
    }
    SN.prototype.l = function(a) {
        UN(this, a.data)
    };

    function UN(a, b) {
        a = t(a.i);
        for (var c = a.next(); !c.done; c = a.next()) c = c.value, c = c(b), $N && c && $N.push(c)
    }
    SN.prototype.Da = function() {
        this.channel && this.channel.close()
    };
    var aO;

    function bO() {
        return B(this, function b() {
            return y(b, function(c) {
                if (1 == c.i) return w(c, ax(), 2);
                if (!c.l || !mw()) return c.return();
                if (aO) return c.return(aO);
                aO = new SN;
                return c.return(aO)
            })
        })
    }
    var $N = void 0;

    function Cla(a) {
        var b = Dla;
        return B(this, function d() {
            var e;
            return y(d, function(f) {
                if (1 == f.i) {
                    e = a.mutations;
                    if (!e || 0 >= e.length) return f.return();
                    if (b) {
                        var g = e,
                            k = {
                                type: "ENTITY_LOADED"
                            };
                        void 0 !== g && (k.payload = g);
                        b.dispatch(k)
                    }
                    return w(f, Ela(e), 2)
                }
                e.length = 0;
                sa(f)
            })
        })
    }

    function Ela(a) {
        return B(this, function c() {
            var d;
            return y(c, function(e) {
                return 1 == e.i ? w(e, bO(), 2) : (d = e.l) ? w(e, TN(d, "readwrite", function(f) {
                    for (var g = [], k = t(a), l = k.next(); !l.done; l = k.next()) {
                        l = l.value;
                        var m;
                        if (m = l.entityKey) {
                            m = void 0;
                            var n = null === (m = l.options) || void 0 === m ? void 0 : m.persistenceOption;
                            m = "ENTITY_PERSISTENCE_OPTION_PERSIST" === n || "ENTITY_PERSISTENCE_OPTION_INMEMORY_AND_PERSIST" === n
                        }
                        m && (m = Sb(l.payload), "ENTITY_MUTATION_TYPE_REPLACE" === l.type && g.push(NN(f, l.payload[m], m)), "ENTITY_MUTATION_TYPE_DELETE" ===
                            l.type && g.push(QN(f, l.entityKey)))
                    }
                    return dx.all(g)
                }), 0) : e.return()
            })
        })
    };

    function cO(a) {
        return void 0 !== a
    };
    var dO = A.caches,
        eO, fO;

    function gO() {}
    gO.prototype.open = function(a) {
        return dO.open(hO(a))
    };
    gO.prototype.has = function(a) {
        return dO.has(hO(a))
    };
    gO.prototype.delete = function(a) {
        return dO.delete(hO(a))
    };
    gO.prototype.match = function(a, b) {
        return B(this, function d() {
            var e = this,
                f, g, k, l, m, n;
            return y(d, function(p) {
                switch (p.i) {
                    case 1:
                        return w(p, e.keys(), 2);
                    case 2:
                        f = p.l, g = t(f), k = g.next();
                    case 3:
                        if (k.done) {
                            p.Ya(5);
                            break
                        }
                        l = k.value;
                        return w(p, e.open(l), 6);
                    case 6:
                        return m = p.l, w(p, m.match(a, b), 7);
                    case 7:
                        if (n = p.l) return p.return(n);
                        k = g.next();
                        p.Ya(3);
                        break;
                    case 5:
                        return p.return()
                }
            })
        })
    };

    function iO() {}
    v(iO, gO);

    function hO(a) {
        if (a.includes(":")) throw Error("Invalid user cache name: " + a);
        return a + ":" + nw("CacheStorage get")
    }
    iO.prototype.keys = function() {
        return B(this, function b() {
            var c, d, e, f, g, k, l, m, n;
            return y(b, function(p) {
                if (1 == p.i) return c = [], d = nw("CacheStorage keys"), w(p, dO.keys(), 2);
                e = p.l;
                f = t(e);
                for (g = f.next(); !g.done; g = f.next()) {
                    k = g.value;
                    var q = k.indexOf(":");
                    l = -1 === q ? {
                        Su: k
                    } : {
                        Su: k.substring(0, q),
                        datasyncId: k.substring(q + 1)
                    };
                    m = l.Su;
                    n = l.datasyncId;
                    n === d && c.push(m)
                }
                return p.return(c)
            })
        })
    };

    function Fla() {
        return B(this, function b() {
            var c = this,
                d;
            return y(b, function(e) {
                d = c;
                if (void 0 !== eO) return e.return(eO);
                eO = new Promise(function(f) {
                    return B(d, function k() {
                        var l;
                        return y(k, function(m) {
                            switch (m.i) {
                                case 1:
                                    return ta(m, 2), w(m, dO.open("test-only"), 4);
                                case 4:
                                    return w(m, dO.delete("test-only"), 5);
                                case 5:
                                    ua(m, 3);
                                    break;
                                case 2:
                                    if (l = va(m), l instanceof Error && "SecurityError" === l.name) return f(!1), m.return();
                                case 3:
                                    f("caches" in window), sa(m)
                            }
                        })
                    })
                });
                return e.return(eO)
            })
        })
    }

    function jO() {
        return B(this, function b() {
            return y(b, function(c) {
                if (1 == c.i) return w(c, Fla(), 2);
                if (!c.l) return c.return(void 0);
                fO || (fO = new iO);
                return c.return(fO)
            })
        })
    };

    function kO() {
        return B(this, function b() {
            var c;
            return y(b, function(d) {
                return 1 == d.i ? w(d, jO(), 2) : (c = d.l) ? d.return(c.delete("yt-player-local-img")) : d.return(!0)
            })
        })
    }

    function Gla(a) {
        return B(this, function c() {
            var d, e;
            return y(c, function(f) {
                if (1 == f.i) return w(f, jO(), 2);
                if (3 != f.i) {
                    d = f.l;
                    if (!d) throw Error("Cache API not supported");
                    return a.length ? w(f, d.open("yt-player-local-img"), 3) : f.return()
                }
                e = f.l;
                return w(f, Promise.all(a.map(function(g) {
                    return e.delete(g)
                })), 0)
            })
        })
    }

    function Hla(a) {
        return B(this, function c() {
            var d, e;
            return y(c, function(f) {
                if (1 == f.i) return w(f, jO(), 2);
                if (3 != f.i) {
                    d = f.l;
                    if (!d) throw Error("Cache API not supported");
                    return a.length ? w(f, d.open("yt-player-local-img"), 3) : f.return()
                }
                e = f.l;
                return w(f, e.addAll(a), 0)
            })
        })
    };

    function lO(a) {
        iw("offlineTransferStatusChanged", a)
    }

    function Ila(a) {
        switch (a) {
            case "TRANSFER_FAILURE_REASON_FILESYSTEM_WRITE":
            case "TRANSFER_FAILURE_REASON_EXTERNAL_FILESYSTEM_WRITE":
                return "OFFLINE_DATABASE_ERROR";
            case "TRANSFER_FAILURE_REASON_PLAYABILITY":
                return "NOT_PLAYABLE";
            case "TRANSFER_FAILURE_REASON_TOO_MANY_RETRIES":
                return "TOO_MANY_RETRIES";
            case "TRANSFER_FAILURE_REASON_INTERNAL":
                return "OFFLINE_DOWNLOAD_CONTROLLER_ERROR";
            case "TRANSFER_FAILURE_REASON_STREAM_MISSING":
                return "STREAM_VERIFICATION_FAILED";
            case "TRANSFER_FAILURE_REASON_SERVER":
            case "TRANSFER_FAILURE_REASON_SERVER_PROPERTY_MISSING":
                return "OFFLINE_REQUEST_FAILURE";
            case "TRANSFER_FAILURE_REASON_NETWORK":
                return "OFFLINE_NETWORK_ERROR";
            default:
                return "UNKNOWN_FAILURE_REASON"
        }
    };

    function mO(a) {
        var b, c, d;
        return 0 < (null !== (d = null === (c = null === (b = a.actionMetadata) || void 0 === b ? void 0 : b.retryScheduleIntervalsInSeconds) || void 0 === c ? void 0 : c.length) && void 0 !== d ? d : 0)
    }

    function nO(a) {
        return "OFFLINE_ORCHESTRATION_ACTION_TYPE_ADD" === a.actionType && !!a.entityKey
    }

    function oO(a) {
        return "OFFLINE_ORCHESTRATION_ACTION_TYPE_REFRESH" === a.actionType && !!a.entityKey
    }
    var pO = {
            RI: "captionTrack",
            LN: "ytMainChannelEntity",
            MN: "ytMainDownloadedVideoEntity",
            NN: "ytMainVideoEntity",
            mQ: "offlineOrchestrationActionWrapperEntity",
            uQ: "offlineVideoPolicy",
            vQ: "offlineVideoStreams",
            SQ: "playbackData",
            PS: "transfer"
        },
        Jla = Object.keys(pO).map(function(a) {
            return pO[a]
        }),
        Kla = "captionTrack ytMainChannelEntity ytMainDownloadedVideoEntity ytMainVideoEntity offlineVideoPolicy offlineVideoStreams playbackData transfer".split(" ");

    function qO(a, b, c) {
        return B(this, function e() {
            var f, g, k, l, m, n, p, q, r, u, x, z, D, H, O, M, J, ka;
            return y(e, function(Qa) {
                switch (Qa.i) {
                    case 1:
                        return f = DN(a, "ytMainVideoEntity"), g = DN(a, "ytMainChannelEntity"), k = DN(a, "transfer"), w(Qa, TN(b, "readonly", function(za) {
                            return dx.all([LN(za, f, "ytMainVideoEntity"), LN(za, g, "ytMainChannelEntity"), LN(za, k, "transfer"), MN(za, "ytMainChannelEntity"), MN(za, "offlineOrchestrationActionWrapperEntity")])
                        }), 2);
                    case 2:
                        l = Qa.l;
                        m = t(l);
                        n = m.next().value;
                        p = m.next().value;
                        q = m.next().value;
                        r = m.next().value;
                        u = m.next().value;
                        if (!n && !p) {
                            Qa.Ya(3);
                            break
                        }
                        x = n ? rO(n.thumbnail) : [];
                        if (!p) {
                            z = [];
                            Qa.Ya(4);
                            break
                        }
                        return w(Qa, Lla(p, r), 5);
                    case 5:
                        z = Qa.l;
                    case 4:
                        return D = z, w(Qa, Gla(x.concat(D)), 3);
                    case 3:
                        H = [DN(a, "ytMainDownloadedVideoEntity"), f, g, DN(a, "playbackData"), k, DN(a, "offlineVideoPolicy"), DN(a, "offlineVideoStreams")];
                        O = t(u);
                        for (M = O.next(); !M.done; M = O.next()) J = M.value, ka = BN(J.key).entityId, ka !== a || sO(c, J.actionProto) || H.push(J.key);
                        return w(Qa, TN(b, "readwrite", function(za) {
                            return dx.all(H.map(function(ve) {
                                return QN(za, ve)
                            })).then(function() {
                                return l
                            })
                        }), 7);
                    case 7:
                        tO(q), sa(Qa)
                }
            })
        })
    }

    function Mla(a, b) {
        return B(this, function d() {
            var e, f, g, k;
            return y(d, function(l) {
                if (1 == l.i) return w(l, TN(a, "readwrite", function(m) {
                    var n = MN(m, "transfer"),
                        p = MN(m, "offlineOrchestrationActionWrapperEntity");
                    return dx.all([n, p]).then(function(q) {
                        q = t(q);
                        var r = q.next().value,
                            u = q.next().value;
                        q = Kla.map(function(H) {
                            return RN(m, H)
                        });
                        u = t(u);
                        for (var x = u.next(); !x.done; x = u.next()) {
                            x = x.value;
                            var z = "ytMainDownloadedVideoEntity" === BN(x.actionProto.entityKey).entityType,
                                D = "OFFLINE_ORCHESTRATION_ACTION_TYPE_ADD" === x.actionProto.actionType;
                            sO(b, x.actionProto) || z && (!z || D) || q.push(QN(m, x.key))
                        }
                        return dx.all(q).then(function() {
                            return r
                        })
                    })
                }), 2);
                e = l.l;
                f = t(e);
                for (g = f.next(); !g.done; g = f.next()) k = g.value, tO(k);
                return w(l, kO(), 0)
            })
        })
    }

    function sO(a, b) {
        return a.actionType === b.actionType && a.entityKey === b.entityKey
    }

    function tO(a) {
        if (a && "TRANSFER_STATE_COMPLETE" !== a.transferState && "TRANSFER_STATE_FAILED" !== a.transferState) {
            var b = BN(a.key).entityId;
            lO({
                encryptedVideoId: b,
                cotn: a.cotn,
                transferStatusType: "TRANSFER_STATUS_TYPE_TERMINATED_BY_USER",
                statusType: "CANCELLED"
            })
        }
    }

    function rO(a) {
        if (!a || !a.thumbnails) return [];
        var b = [];
        a = t(a.thumbnails);
        for (var c = a.next(); !c.done; c = a.next()) c = c.value, c.url && b.push(c.url);
        return b
    }

    function Lla(a, b) {
        return B(this, function d() {
            var e, f, g, k, l, m, n, p;
            return y(d, function(q) {
                e = rO(a.avatar);
                f = t(b);
                for (g = f.next(); !g.done; g = f.next())
                    if (k = g.value, k.id !== a.id)
                        for (l = t(rO(k.avatar)), m = l.next(); !m.done; m = l.next()) n = m.value, p = e.indexOf(n), -1 !== p && e.splice(p, 1);
                return q.return(e)
            })
        })
    };

    function Nla() {
        try {
            Wz("entity_key_serialization_perf", ["ekspe"], 0);
            Wz("entity_key_deserialization_perf", ["ekdpe"], 0);
            var a = "";
            Zz("eksps", void 0, "entity_key_serialization_perf");
            for (var b = 0; 100 > b; b++) a = DN("entity_id", "playbackData");
            Zz("ekspe", void 0, "entity_key_serialization_perf");
            Zz("ekdps", void 0, "entity_key_deserialization_perf");
            for (b = 0; 100 > b; b++) BN(a);
            Zz("ekdpe", void 0, "entity_key_deserialization_perf")
        } catch (c) {
            ly(Error("Entity key serialization/deserialization failed: " + c))
        }
    };

    function Ola(a, b) {
        var c = {};
        c = void 0 === c ? {} : c;
        B(this, function e() {
            return y(e, function(f) {
                if ("locks" in navigator) return f.return(navigator.locks.request(a, c, function(g) {
                    return b(g)
                }));
                throw Error("Web lock is not supported.");
            })
        })
    };

    function uO(a, b) {
        ly(Error("Woffle: " + a));
        b instanceof Error && ly(b)
    };
    var wla = function(a) {
            for (var b = Object.keys(a), c = {}, d = 0; d < b.length; d++) {
                var e = b[d];
                "function" === typeof a[e] && (c[e] = a[e])
            }
            var f = Object.keys(c);
            try {
                vfa(c)
            } catch (k) {
                var g = k
            }
            return function(k, l) {
                k = void 0 === k ? {} : k;
                if (g) throw g;
                for (var m = !1, n = {}, p = 0; p < f.length; p++) {
                    var q = f[p],
                        r = k[q],
                        u = (0, c[q])(r, l);
                    if ("undefined" === typeof u) throw k = l && l.type, Error("Given " + (k && 'action "' + String(k) + '"' || "an action") + ', reducer "' + q + '" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.');
                    n[q] = u;
                    m = m || u !== r
                }
                return (m = m || f.length !== Object.keys(k).length) ? n : k
            }
        }({
            entities: function(a, b) {
                a = void 0 === a ? {} : a;
                switch (b.type) {
                    case "ENTITY_LOADED":
                        return b.payload.reduce(function(d, e) {
                            var f, g = null === (f = e.options) || void 0 === f ? void 0 : f.persistenceOption;
                            if (g && "ENTITY_PERSISTENCE_OPTION_UNKNOWN" !== g && "ENTITY_PERSISTENCE_OPTION_INMEMORY_AND_PERSIST" !== g) return d;
                            if (!e.entityKey) return ky(Error("Missing entity key")), d;
                            if ("ENTITY_MUTATION_TYPE_REPLACE" === e.type) {
                                if (!e.payload) return ky(new lw("Entity missing EntityMutationPayload", e.entityKey)), d;
                                f = Sb(e.payload);
                                return JN(d, f, e.entityKey, e.payload[f])
                            }
                            return "ENTITY_MUTATION_TYPE_DELETE" ===
                                e.type ? (f = BN(e.entityKey).entityType, JN(d, f, e.entityKey, void 0)) : d
                        }, a);
                    case "REPLACE_ENTITY":
                        var c = b.payload;
                        return JN(a, c.entityType, c.key, c.zU);
                    case "REPLACE_ENTITIES":
                        return Object.keys(b.payload).reduce(function(d, e) {
                            var f = b.payload[e];
                            return Object.keys(f).reduce(function(g, k) {
                                return JN(g, e, k, f[k])
                            }, d)
                        }, a);
                    default:
                        return a
                }
            }
        }),
        Dla = new nN;

    function vO(a) {
        this.i = a
    }

    function wO(a, b, c) {
        this.status = a;
        this.i = b;
        this.l = c
    };

    function xO(a, b) {
        this.i = a;
        this.u = b
    }
    v(xO, vO);
    xO.prototype.l = function(a) {
        return nO(a) ? Pla(this, a) : oO(a) ? Qla(this, a) : Promise.reject(Error("Unsupported action type: " + a.actionType))
    };

    function Pla(a, b) {
        var c, d;
        return B(a, function f() {
            var g, k, l = this,
                m;
            return y(f, function(n) {
                switch (n.i) {
                    case 1:
                        return g = b.entityKey, k = null === (d = null === (c = b.actionMetadata) || void 0 === c ? void 0 : c.playbackDataActionMetadata) || void 0 === d ? void 0 : d.isEnqueuedForExpiredStreamUrlRefetch, ta(n, 2), w(n, yO(l, g, {
                            isEnqueuedForExpiredStreamUrlRefetch: k
                        }), 4);
                    case 4:
                        return (m = n.l) ? w(n, zO(l, m, b), 5) : n.return(AO(b, !1));
                    case 5:
                        return n.return(AO(b, !0, m.orchestrationActions));
                    case 2:
                        return va(n), uO("PDE handleAdd error"), n.return(AO(b,
                            !1))
                }
            })
        })
    }

    function Qla(a, b) {
        return B(a, function d() {
            var e, f = this,
                g, k, l, m, n, p;
            return y(d, function(q) {
                switch (q.i) {
                    case 1:
                        return e = b.entityKey, w(q, TN(f.i, "readonly", function(r) {
                            var u = LN(r, e, "playbackData");
                            r = LN(r, DN(BN(b.entityKey).entityId, "offlineVideoPolicy"), "offlineVideoPolicy");
                            return dx.all([u, r])
                        }), 2);
                    case 2:
                        g = q.l;
                        k = t(g);
                        l = k.next().value;
                        m = k.next().value;
                        if (!l || !m) return q.return(AO(b, !0));
                        n = {
                            lastPlayerResponseTimestampSeconds: l.playerResponseTimestamp,
                            offlineToken: m.offlineToken
                        };
                        ta(q, 3);
                        return w(q, yO(f, e, {
                            refreshData: n
                        }), 5);
                    case 5:
                        return (p = q.l) ? w(q, zO(f, p, b), 6) : q.return(AO(b, !1));
                    case 6:
                        return q.return(AO(b, !0, p.orchestrationActions));
                    case 3:
                        return va(q), q.return(AO(b, !1))
                }
            })
        })
    }

    function yO(a, b, c) {
        return B(a, function e() {
            var f, g = this,
                k, l;
            return y(e, function(m) {
                f = Zy();
                var n = g.u,
                    p = c.refreshData,
                    q = c.isEnqueuedForExpiredStreamUrlRefetch,
                    r = {
                        entityKey: b
                    };
                p && (r.refreshData = p);
                q && (r.isExpiredStreamUrlRefetch = q);
                k = {
                    context: ZL(n),
                    signatureTimestamp: 18795,
                    videos: [r]
                };
                l = Jy(kha);
                return m.return(Py(f, k, l))
            })
        })
    }

    function zO(a, b, c) {
        return B(a, function e() {
            var f, g = this;
            return y(e, function(k) {
                if (1 == k.i) {
                    if (!b.frameworkUpdates || !b.frameworkUpdates.entityBatchUpdate) return k.return();
                    if (!(b.frameworkUpdates.entityBatchUpdate.mutations && 0 < b.frameworkUpdates.entityBatchUpdate.mutations.length && "ENTITY_MUTATION_TYPE_DELETE" === b.frameworkUpdates.entityBatchUpdate.mutations[0].type)) return k.Ya(2);
                    f = BN(b.frameworkUpdates.entityBatchUpdate.mutations[0].entityKey).entityId;
                    return w(k, qO(f, g.i, c), 2)
                }
                return w(k, Cla(b.frameworkUpdates.entityBatchUpdate),
                    0)
            })
        })
    }

    function AO(a, b, c) {
        return new wO(b ? "OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS" : "OFFLINE_ORCHESTRATION_ACTION_RESULT_FAILURE", mO(a), c)
    };

    function BO() {
        vO.apply(this, arguments)
    }
    v(BO, vO);
    BO.prototype.l = function(a) {
        return nO(a) ? Rla(this, a) : oO(a) ? Sla(this, a) : "OFFLINE_ORCHESTRATION_ACTION_TYPE_UPDATE" === a.actionType && a.entityKey ? this.handleUpdate(a) : Promise.reject(Error("Unsupported action type: " + a.actionType))
    };

    function Rla(a, b) {
        return B(a, function d() {
            var e, f = this,
                g;
            return y(d, function(k) {
                switch (k.i) {
                    case 1:
                        return e = mO(b), w(k, YN(f.i, b.entityKey, "transfer"), 2);
                    case 2:
                        if (g = k.l) return k.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS", e));
                        ta(k, 3);
                        return w(k, CO(f, b), 5);
                    case 5:
                        ua(k, 4);
                        break;
                    case 3:
                        return va(k), k.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_FAILURE", e));
                    case 4:
                        return k.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS", e))
                }
            })
        })
    }

    function Sla(a, b) {
        return B(a, function d() {
            var e, f = this,
                g;
            return y(d, function(k) {
                switch (k.i) {
                    case 1:
                        return e = mO(b), w(k, YN(f.i, b.entityKey, "transfer"), 2);
                    case 2:
                        g = k.l;
                        if (!g || "TRANSFER_STATE_COMPLETE" !== g.transferState) return k.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS", e));
                        ta(k, 3);
                        return w(k, CO(f, b), 5);
                    case 5:
                        ua(k, 4);
                        break;
                    case 3:
                        return va(k), k.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_FAILURE", e));
                    case 4:
                        return k.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS",
                            e))
                }
            })
        })
    }
    BO.prototype.handleUpdate = function(a) {
        return B(this, function c() {
            var d, e = this,
                f;
            return y(c, function(g) {
                switch (g.i) {
                    case 1:
                        return d = mO(a), w(g, YN(e.i, a.entityKey, "transfer"), 2);
                    case 2:
                        f = g.l;
                        if (!f || "TRANSFER_STATE_WAITING_FOR_PLAYER_RESPONSE_REFRESH" !== f.transferState) return g.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS", d));
                        ta(g, 3);
                        f.transferState = "TRANSFER_STATE_TRANSFER_IN_QUEUE";
                        return w(g, WN(e.i, f, "transfer"), 5);
                    case 5:
                        ua(g, 4);
                        break;
                    case 3:
                        return va(g), g.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_FAILURE",
                            d));
                    case 4:
                        return g.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS", d))
                }
            })
        })
    };

    function CO(a, b) {
        var c;
        return B(a, function e() {
            var f, g, k = this,
                l;
            return y(e, function(m) {
                if (1 == m.i) return f = null === (c = b.actionMetadata) || void 0 === c ? void 0 : c.transferEntityActionMetadata, g = {
                    key: b.entityKey,
                    transferState: "TRANSFER_STATE_TRANSFER_IN_QUEUE",
                    cotn: Mx(),
                    enqueuedTimestampMs: Date.now().toString(),
                    maximumDownloadQuality: null === f || void 0 === f ? void 0 : f.maximumDownloadQuality,
                    preferredAudioTrack: null === f || void 0 === f ? void 0 : f.preferredAudioTrack,
                    transferRetryCount: 0
                }, w(m, WN(k.i, g, "transfer"), 2);
                l =
                    BN(g.key).entityId;
                lO({
                    encryptedVideoId: l,
                    cotn: g.cotn,
                    transferStatusType: "TRANSFER_STATUS_TYPE_ENQUEUED",
                    statusType: "ADDED_TO_QUEUE"
                });
                sa(m)
            })
        })
    };

    function Tla(a) {
        var b, c;
        return B(this, function e() {
            var f, g, k, l, m;
            return y(e, function(n) {
                if (1 == n.i) return f = Zy(), g = {
                    context: Gy(),
                    videoIds: [a]
                }, k = Jy(jha), w(n, Py(f, g, k), 2);
                l = n.l;
                if (!l) throw Error("Network request failed");
                if (!l.videos || 1 !== l.videos.length) throw Error("Failed request: " + (null !== (c = null === (b = l.error) || void 0 === b ? void 0 : b.code) && void 0 !== c ? c : "?"));
                m = l.videos[0].offlineVideoData;
                if (!m) throw Error("No data");
                return n.return(m)
            })
        })
    };

    function DO() {
        vO.apply(this, arguments)
    }
    v(DO, vO);
    DO.prototype.l = function(a) {
        return nO(a) ? Ula(this, a) : oO(a) ? Vla(this, a) : "OFFLINE_ORCHESTRATION_ACTION_TYPE_DELETE" === a.actionType && a.entityKey ? Wla(this, a) : Promise.reject(Error("Unsupported action type: " + a.actionType))
    };

    function Ula(a, b) {
        return B(a, function d() {
            var e, f, g, k = this,
                l;
            return y(d, function(m) {
                switch (m.i) {
                    case 1:
                        return e = mO(b), f = BN(b.entityKey), g = f.entityId, ta(m, 2), w(m, EO(k, g), 4);
                    case 4:
                        ua(m, 3);
                        break;
                    case 2:
                        return va(m), m.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_FAILURE", e));
                    case 3:
                        return l = FO("OFFLINE_ORCHESTRATION_ACTION_TYPE_ADD", g), m.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS", e, [l]))
                }
            })
        })
    }

    function Vla(a, b) {
        return B(a, function d() {
            var e, f, g, k = this,
                l, m;
            return y(d, function(n) {
                switch (n.i) {
                    case 1:
                        return e = mO(b), f = BN(b.entityKey), g = f.entityId, w(n, YN(k.i, b.entityKey, "ytMainDownloadedVideoEntity"), 2);
                    case 2:
                        l = n.l;
                        if (!l) return n.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS", e));
                        ta(n, 3);
                        return w(n, EO(k, g, l.addedTimestampMillis), 5);
                    case 5:
                        ua(n, 4);
                        break;
                    case 3:
                        return va(n), n.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_FAILURE", e));
                    case 4:
                        return m = FO("OFFLINE_ORCHESTRATION_ACTION_TYPE_REFRESH",
                            g), n.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS", e, [m]))
                }
            })
        })
    }

    function Wla(a, b) {
        return B(a, function d() {
            var e, f, g = this;
            return y(d, function(k) {
                switch (k.i) {
                    case 1:
                        return e = mO(b), ta(k, 2), f = BN(b.entityKey).entityId, "!*$_ALL_VIDEOS_!*$" === f ? w(k, Mla(g.i, b), 5) : w(k, qO(f, g.i, b), 5);
                    case 5:
                        ua(k, 3);
                        break;
                    case 2:
                        return va(k), k.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_FAILURE", e));
                    case 3:
                        return k.return(new wO("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS", e))
                }
            })
        })
    }

    function EO(a, b, c) {
        return B(a, function e() {
            var f = this,
                g, k, l, m;
            return y(e, function(n) {
                if (1 == n.i) return w(n, Tla(b), 2);
                if (3 != n.i) return g = n.l, w(n, Xla(f, g, c), 3);
                k = n.l;
                l = k.videoEntity;
                m = k.channelEntity;
                var p = rO(l.thumbnail),
                    q = rO(m.avatar);
                return w(n, Hla(p.concat(q)), 0)
            })
        })
    }

    function Xla(a, b, c) {
        var d;
        return B(a, function f() {
            var g, k, l, m, n = this;
            return y(f, function(p) {
                if (1 == p.i) {
                    if (!(b && b.channel && b.channel.offlineChannelData && b.videoId)) throw Error("Invalid OfflineVideoData");
                    c || (c = Date.now().toString());
                    g = null === (d = b.channel) || void 0 === d ? void 0 : d.offlineChannelData;
                    k = {
                        id: DN(b.videoId, "ytMainChannelEntity"),
                        channelId: g.channelId,
                        title: g.title,
                        avatar: g.thumbnail
                    };
                    l = {
                        id: DN(b.videoId, "ytMainVideoEntity"),
                        videoId: b.videoId,
                        title: b.title,
                        thumbnail: b.thumbnail,
                        localizedStrings: {
                            viewCount: b.shortViewCountText
                        },
                        lengthSeconds: b.lengthSeconds ? Number(b.lengthSeconds) : void 0,
                        publishedTimestampMillis: b.publishedTimestamp ? (1E3 * Number(b.publishedTimestamp)).toString() : void 0,
                        formattedDescription: b.description,
                        channelOwner: k.id
                    };
                    m = {
                        id: DN(b.videoId, "ytMainDownloadedVideoEntity"),
                        video: l.id,
                        playbackData: DN(b.videoId, "playbackData"),
                        offlineVideoPolicy: DN(b.videoId, "offlineVideoPolicy"),
                        addedTimestampMillis: c
                    };
                    return w(p, TN(n.i, "readwrite", function(q) {
                        var r = NN(q, k, "ytMainChannelEntity"),
                            u = NN(q, l, "ytMainVideoEntity");
                        q = NN(q, m, "ytMainDownloadedVideoEntity");
                        return dx.all([r, u, q])
                    }), 2)
                }
                return p.return({
                    videoEntity: l,
                    channelEntity: k,
                    yU: m
                })
            })
        })
    }

    function FO(a, b) {
        b = DN(b, "playbackData");
        return {
            actionType: a,
            entityKey: b,
            actionMetadata: {
                priority: 0,
                retryScheduleIntervalsInSeconds: Yla
            }
        }
    }
    var Yla = [10];
    var Zla = GO(),
        HO = [1, 2, 4];

    function GO() {
        return {
            priority: 0,
            retryScheduleIntervalsInSeconds: HO
        }
    };

    function IO(a, b, c, d, e, f, g, k, l, m, n) {
        this.entityType = a;
        this.actionId = b;
        this.action = c;
        this.parentActionId = d;
        this.rootActionId = void 0 === e ? b : e;
        this.childActionIds = f;
        this.prereqActionId = g;
        this.postreqActionIds = k;
        this.hasChildActionFailed = m;
        this.retryScheduleIndex = 0;
        this.i = n || Date.now();
        this.retryScheduleIndex = l || 0
    }

    function JO(a) {
        return {
            key: DN(a.actionId, "offlineOrchestrationActionWrapperEntity"),
            actionProto: a.action,
            parentActionId: a.parentActionId,
            rootActionId: a.rootActionId,
            childActionIds: a.childActionIds,
            prereqActionId: a.prereqActionId,
            postreqActionIds: a.postreqActionIds,
            retryScheduleIndex: a.retryScheduleIndex,
            hasChildActionFailed: a.hasChildActionFailed,
            enqueueTimeSec: (a.i / 1E3).toFixed()
        }
    };

    function $la() {
        this.i = new Map
    }
    var KO;

    function LO() {
        KO || (KO = new $la);
        return KO
    }

    function MO(a, b) {
        return {
            eventType: {
                flowEventNamespace: "FLOW_EVENT_NAMESPACE_OFFLINE_ORCHESTRATION",
                flowEventType: a
            },
            metadata: b,
            statusCode: void 0
        }
    }

    function NO(a, b, c) {
        if (!c) {
            var d = void 0 === d ? !1 : d;
            c = a.i.get("FLOW_TYPE_OFFLINE_ORCHESTRATION");
            if (!c || d) c = Mx(), a.i.set("FLOW_TYPE_OFFLINE_ORCHESTRATION", c)
        }
        a = {
            flowNonce: c,
            flowType: "FLOW_TYPE_OFFLINE_ORCHESTRATION",
            flowEventType: b.eventType
        };
        b.metadata && (a.flowMetadata = b.metadata);
        void 0 !== b.statusCode && (a.flowEventStatus = b.statusCode);
        iw("flowEvent", a, void 0)
    };

    function OO(a, b, c) {
        if (!a.action.entityKey) throw Error("entityKey is missing.");
        var d = BN(a.action.entityKey);
        a = {
            entityType: d.mE,
            entityId: d.entityId,
            offlineOrchestrationActionType: a.action.actionType,
            orchestrationAction: {
                orchestrationActionId: a.actionId
            }
        };
        b && (a.offlineOrchestrationActionResult = b.status, a.isRetryable = b.i);
        c && (a.additionalOrchestrationActions = c.map(function(e) {
            return {
                orchestrationActionId: e.actionId
            }
        }));
        return a
    }

    function PO(a, b) {
        var c = {
            offlineOrchestrationContext: OO(a)
        };
        b = MO(b, c);
        NO(LO(), b, a.rootActionId)
    }

    function QO(a, b, c) {
        c = void 0 === c ? [] : c;
        b = {
            offlineOrchestrationContext: OO(a, b, c)
        };
        b = MO(3, b);
        NO(LO(), b, a.rootActionId)
    };

    function RO() {
        this.actions = []
    }

    function SO(a, b) {
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) c = c.value, PO(c, 1), a.actions.push(c);
        a.actions.sort(a.i)
    }

    function TO(a, b) {
        a = t(a.actions);
        for (var c = a.next(); !c.done; c = a.next())
            if (c.value.actionId === b) return !0;
        return !1
    }
    RO.prototype.i = function(a, b) {
        var c = a.action.actionMetadata.priority - b.action.actionMetadata.priority;
        0 === c && (a.i < b.i ? c = -1 : a.i > b.i && (c = 1));
        return c
    };

    function UO(a, b) {
        C.call(this);
        var c = this;
        this.i = a;
        this.I = b;
        this.u = new RO;
        this.B = new dr(function() {
            ama(c)
        });
        this.C = NaN;
        E(this, this.B);
        this.D = VN(this.i, this.G.bind(this))
    }
    v(UO, C);

    function bma(a, b) {
        return B(this, function d() {
            var e;
            return y(d, function(f) {
                if (1 == f.i) return e = new UO(a, b), w(f, cma(e), 2);
                e.l ? Promise.resolve() : VO(e);
                return f.return(e)
            })
        })
    }
    UO.prototype.Da = function() {
        this.D && this.D();
        C.prototype.Da.call(this)
    };

    function VO(a) {
        return B(a, function c() {
            var d = this,
                e, f, g, k, l;
            return y(c, function(m) {
                switch (m.i) {
                    case 1:
                        if (d.l) throw Error("Already processing an action");
                        if (d.Ea()) return m.return();
                        e = d.u.actions.shift();
                        if (void 0 === e) return m.return();
                        d.l = e;
                        if (f = d.I[e.entityType]) {
                            m.Ya(2);
                            break
                        }
                        d.l = void 0;
                        return w(m, VO(d), 3);
                    case 3:
                        return m.return();
                    case 2:
                        return ta(m, 4, 5), PO(e, 2), w(m, f.l(e.action), 7);
                    case 7:
                        return g = m.l, w(m, dma(d, e, g), 5);
                    case 5:
                        wa(m);
                        d.l = void 0;
                        xa(m, 6);
                        break;
                    case 4:
                        return k = va(m), uO("Orchestration error",
                            k), ta(m, 9), w(m, WO(d, e), 11);
                    case 11:
                        ua(m, 5);
                        break;
                    case 9:
                        l = va(m);
                        uO("Orchestration retry error", l);
                        3 > e.retryScheduleIndex && SO(d.u, [e]);
                        m.Ya(5);
                        break;
                    case 6:
                        return w(m, VO(d), 0)
                }
            })
        })
    }

    function dma(a, b, c) {
        var d;
        return B(a, function f() {
            var g = this,
                k, l;
            return y(f, function(m) {
                if (1 == m.i) {
                    k = g;
                    if ("OFFLINE_ORCHESTRATION_ACTION_RESULT_SUCCESS" === c.status) return l = null === (d = c.l) || void 0 === d ? void 0 : d.map(function(n) {
                        return k.createAction(n, b)
                    }), QO(b, c, l), w(m, TN(g.i, "readwrite", function(n) {
                        var p = [];
                        if (l) {
                            var q = l.map(function(r) {
                                return JO(r)
                            });
                            p.push(PN(n, q, "offlineOrchestrationActionWrapperEntity"))
                        }
                        q = JO(b);
                        p.push(QN(n, q.key));
                        return dx.all(p)
                    }), 9);
                    if ("OFFLINE_ORCHESTRATION_ACTION_RESULT_FAILURE" !== c.status) return m.Ya(0);
                    QO(b, c);
                    if (c.i && 3 > b.retryScheduleIndex + 1) return w(m, WO(g, b), 0);
                    uO("Orchestration result is not retryable, deleting action");
                    return w(m, Bla(g.i, JO(b).key), 0)
                }
                PO(b, 4);
                sa(m)
            })
        })
    }
    UO.prototype.createAction = function(a, b) {
        var c = BN(a.entityKey).entityType,
            d = Mx();
        return new IO(c, d, a, b.actionId, b.rootActionId)
    };
    UO.prototype.G = function(a) {
        var b;
        return B(this, function d() {
            var e = this,
                f, g, k, l, m, n, p, q;
            return y(d, function(r) {
                if (1 == r.i) {
                    if (e.Ea()) return r.return();
                    f = null !== (b = a.offlineOrchestrationActionWrapperEntity) && void 0 !== b ? b : new Set;
                    g = [];
                    k = t(f);
                    for (l = k.next(); !l.done; l = k.next()) m = l.value, n = BN(m), p = n.entityId, TO(e.u, p) || g.push(m);
                    return w(r, XO(e, g), 2)
                }
                q = r.l;
                return w(r, YO(e, q), 0)
            })
        })
    };

    function YO(a, b) {
        return B(a, function d() {
            var e, f, g, k, l, m, n, p = this,
                q, r, u;
            return y(d, function(x) {
                e = [];
                f = Infinity;
                g = 4E3;
                k = t(b);
                for (l = k.next(); !l.done; l = k.next()) {
                    m = l.value;
                    n = Number(m.enqueueTimeSec);
                    var z = 1E3 * n - Date.now();
                    q = 4E3 < z ? 4E3 : z;
                    r = m.retryScheduleIndex;
                    u = null != r && 0 < r;
                    0 < q && u ? (f = Math.min(f, n), g = Math.min(q, g)) : e.push(m)
                }
                isFinite(f) && (!p.B.isActive() || f < p.C) && (p.C = f, p.B.start(g));
                ema(p, e);
                z = p.l ? Promise.resolve() : VO(p);
                return w(x, z, 0)
            })
        })
    }

    function ama(a) {
        B(a, function c() {
            var d = this,
                e, f, g, k, l, m, n;
            return y(c, function(p) {
                if (1 == p.i) return w(p, XO(d), 2);
                e = p.l;
                f = [];
                g = t(e);
                for (k = g.next(); !k.done; k = g.next()) l = k.value, m = BN(l.key), n = m.entityId, TO(d.u, n) || f.push(l);
                return w(p, YO(d, f), 0)
            })
        })
    }

    function WO(a, b) {
        return B(a, function d() {
            var e = this;
            return y(d, function(f) {
                var g, k, l = (null === (k = null === (g = b.action) || void 0 === g ? void 0 : g.actionMetadata) || void 0 === k ? void 0 : k.retryScheduleIntervalsInSeconds) || HO;
                g = 1;
                b.retryScheduleIndex < l.length && (g = l[b.retryScheduleIndex]);
                b.i = 1E3 * g + Date.now();
                b.retryScheduleIndex++;
                return w(f, fma(e, [b]), 0)
            })
        })
    }

    function cma(a) {
        return B(a, function c() {
            var d = this,
                e;
            return y(c, function(f) {
                if (1 == f.i) return w(f, ZN(d.i, "offlineOrchestrationActionWrapperEntity"), 2);
                e = f.l;
                return w(f, YO(d, e), 0)
            })
        })
    }

    function ema(a, b) {
        0 !== b.length && b.forEach(function(c) {
            if (!c.key) throw Error("Entity key is required.");
            if (!c.actionProto) throw Error("OfflineOrchestrationAction is required.");
            var d = BN(c.key),
                e = BN(c.actionProto.entityKey);
            c = new IO(e.entityType, d.entityId, c.actionProto, c.parentActionId, c.rootActionId, c.childActionIds, c.prereqActionId, c.postreqActionIds, c.retryScheduleIndex, c.hasChildActionFailed, 1E3 * Number(c.enqueueTimeSec));
            3 > c.retryScheduleIndex && SO(a.u, [c])
        })
    }

    function XO(a, b) {
        return B(a, function d() {
            var e = this,
                f;
            return y(d, function(g) {
                if (1 == g.i) return w(g, ZN(e.i, "offlineOrchestrationActionWrapperEntity", b), 2);
                f = g.l;
                return g.return(f.filter(cO))
            })
        })
    }

    function fma(a, b) {
        if (0 === b.length) return Promise.resolve([]);
        b = b.map(function(c) {
            return JO(c)
        });
        return XN(a.i, b)
    };

    function gma(a) {
        this.api = a;
        this.i = void 0
    }

    function hma(a, b) {
        return B(a, function d() {
            var e = this,
                f, g, k, l, m;
            return y(d, function(n) {
                f = e;
                g = b.videoId;
                k = e.api.Y();
                l = !0;
                if (b.captionTracks.length) e.i = new gM(e.api.Y(), b, e.api.getAudioTrack());
                else if (b.zb) m = XL(b), e.i = new tM(b.zb, g, m, b.rg, k), l = b.rg;
                else return n.return();
                return n.return(new Promise(function(p) {
                    var q;
                    null === (q = f.i) || void 0 === q ? void 0 : q.mm(function() {
                        return B(f, function u() {
                            var x = this;
                            return y(u, function(z) {
                                if (1 == z.i) return w(z, ima(x, g, l), 2);
                                p();
                                sa(z)
                            })
                        })
                    })
                }))
            })
        })
    }

    function ima(a, b, c) {
        c = void 0 === c ? !0 : c;
        return B(a, function e() {
            var f = this,
                g, k, l, m, n, p, q, r, u, x;
            return y(e, function(z) {
                switch (z.i) {
                    case 1:
                        if (!f.i) return z.return();
                        g = [];
                        k = cM(f.i.l, c);
                        l = t(k);
                        for (m = l.next(); !m.done; m = l.next()) n = m.value, p = f.i.zk(n, "json3"), q = ZC(p, {
                            withCredentials: !0
                        }, 3, 500), g.push(q);
                        return w(z, th(g), 2);
                    case 2:
                        return r = z.l, u = r.map(function(D, H) {
                            return {
                                metadata: CC(k[H]),
                                trackData: D.xhr.responseText
                            }
                        }), ta(z, 3), w(z, iia(b, u), 5);
                    case 5:
                        ua(z, 0);
                        break;
                    case 3:
                        x = va(z), uO("Caption DB transaction error", x), sa(z)
                }
            })
        })
    };

    function ZO() {
        this.tag = "woffle"
    }
    ZO.prototype.info = function() {};

    function $O(a, b, c, d) {
        this.api = a;
        this.player = b;
        this.u = c;
        this.i = d;
        this.logger = new ZO;
        this.player.subscribe("localmediachange", this.B, this);
        this.player.subscribe("signatureexpired", function() {
            return jma(d)
        })
    }

    function aP(a) {
        return B(this, function c() {
            return y(c, function(d) {
                return d.return(nia(a))
            })
        })
    }

    function bP(a, b) {
        b = b.videoDetails.videoId;
        var c = LC(b);
        if (1 === c || 0 === c) return Promise.resolve();
        (c = a.player.getVideoData().videoId === b ? a.player : null) && c.l && (c = c.l, c.audioTrack.B.u = null, c.videoTrack.B.u = null, c.policy.i = "");
        a.l = 0;
        return aP(b)
    }
    $O.prototype.B = function(a) {
        if (2 === a.status) a.status !== this.l && (cP(this.i), MC(a.videoId, 2)), a.Io && kma(this.i, a.videoId, a.Io);
        else if (4 === a.status) {
            var b = a.videoId;
            MC(b, 4);
            OC(b);
            dP(this.i)
        } else 1 === a.status && lma(this.i);
        this.l = a.status;
        this.api.Ja("localmediachange", {
            videoId: a.videoId,
            status: a.status
        })
    };

    function mma() {
        switch (xv.getInstance().get("lmqf")) {
            case "HD_1080":
                return "hd1080";
            case "HD":
                return "hd720";
            case "SD":
                return "large";
            case "LD":
                return "tiny";
            default:
                return "hd720"
        }
    };

    function eP(a) {
        C.call(this);
        this.i = a;
        this.l = VN(this.i, this.u.bind(this))
    }
    v(eP, C);
    eP.prototype.Da = function() {
        this.l && this.l();
        C.prototype.Da.call(this)
    };

    function fP(a, b) {
        return B(a, function d() {
            var e, f = this,
                g, k, l, m, n, p;
            return y(d, function(q) {
                switch (q.i) {
                    case 1:
                        if (0 === b.length) return q.return([]);
                        e = b.map(function(r) {
                            return DN(r, "transfer")
                        });
                        return w(q, ZN(f.i, "transfer", e), 2);
                    case 2:
                        g = q.l;
                        k = g.filter(cO).map(function(r) {
                            return BN(r.key).entityId
                        });
                        l = b.filter(function(r) {
                            return -1 === k.indexOf(r)
                        });
                        if (0 === l.length) return q.return([]);
                        m = t(l);
                        n = m.next();
                    case 3:
                        if (n.done) {
                            q.Ya(5);
                            break
                        }
                        p = n.value;
                        return w(q, aP(p), 4);
                    case 4:
                        n = m.next();
                        q.Ya(3);
                        break;
                    case 5:
                        return q.return(l)
                }
            })
        })
    }
    eP.prototype.u = function(a) {
        var b;
        return B(this, function d() {
            var e, f, g, k, l, m, n, p = this;
            return y(d, function(q) {
                e = null !== (b = a.transfer) && void 0 !== b ? b : new Set;
                f = [];
                g = t(e);
                for (k = g.next(); !k.done; k = g.next()) l = k.value, m = BN(l), n = m.entityId, f.push(n);
                return 0 === f.length ? q.return() : w(q, fP(p, f), 0)
            })
        })
    };

    function nma(a, b, c, d, e, f) {
        return B(this, function k() {
            var l, m, n;
            return y(k, function(p) {
                l = "STREAM_TYPE_UNKNOWN";
                c.video && c.audio ? (l = "STREAM_TYPE_AUDIO_AND_VIDEO", uO("unexpected stream type")) : c.video && !c.audio ? l = "STREAM_TYPE_VIDEO" : !c.video && c.audio && (l = "STREAM_TYPE_AUDIO");
                m = DN(b, "offlineVideoStreams");
                n = {
                    numBytesDownloaded: e.toFixed(),
                    numTotalBytes: f.toFixed(),
                    streamType: l,
                    streamState: "DOWNLOAD_STREAM_STATE_IN_PROGRESS",
                    formatStreamBytes: JSON.stringify(d),
                    itag: "STREAM_TYPE_AUDIO_AND_VIDEO" === l ? Number(c.Ib()) : void 0
                };
                return w(p, TN(a, "readwrite", function(q) {
                    return LN(q, m, "offlineVideoStreams").then(function(r) {
                        if (r && r.streamsProgress) {
                            var u = r;
                            a: {
                                var x = d.itag + ";" + d.xtags;
                                for (var z = r.streamsProgress, D = 0; D < z.length; D++) {
                                    var H = JSON.parse(z[D].formatStreamBytes);
                                    if (H.itag + ";" + H.xtags === x) {
                                        z[D] = n;
                                        x = z;
                                        break a
                                    }
                                }
                                z.push(n);x = z
                            }
                            u.streamsProgress = x
                        } else r = {
                            key: m,
                            streamsProgress: [n]
                        };
                        return r
                    }).then(function(r) {
                        r = NN(q, r, "offlineVideoStreams");
                        var u = LN(q, DN(b, "transfer"), "transfer");
                        return dx.all([r, u]).then(function(x) {
                            x = t(x);
                            x.next();
                            x = x.next().value;
                            if (!x) return QN(q, m).then(function() {});
                            x.offlineVideoStreams || (x.offlineVideoStreams = []);
                            return -1 === x.offlineVideoStreams.indexOf(m) ? (x.offlineVideoStreams.push(m), NN(q, x, "transfer")) : dx.resolve(void 0)
                        })
                    })
                }), 0)
            })
        })
    }

    function oma(a, b) {
        return B(this, function d() {
            var e, f, g, k, l;
            return y(d, function(m) {
                if (1 == m.i) return e = DN(b, "offlineVideoStreams"), w(m, YN(a, e, "offlineVideoStreams"), 2);
                f = m.l;
                if (!f || !f.streamsProgress) return m.return();
                g = t(f.streamsProgress);
                for (k = g.next(); !k.done; k = g.next()) l = k.value, l.streamState = "DOWNLOAD_STREAM_STATE_COMPLETE", l.numTotalBytes !== l.numBytesDownloaded && (l.numBytesDownloaded = l.numTotalBytes);
                return w(m, WN(a, f, "offlineVideoStreams"), 0)
            })
        })
    };

    function gP(a, b, c, d) {
        C.call(this);
        this.l = a;
        this.player = c;
        this.C = VN(this.l, this.G.bind(this));
        this.B = new $O(b, c, d, this);
        this.I = new gma(b);
        this.D = new eP(this.l)
    }
    v(gP, C);
    gP.prototype.Da = function() {
        this.C && this.C();
        this.D.dispose();
        C.prototype.Da.call(this)
    };

    function pma(a) {
        B(a, function c() {
            var d = this;
            return y(c, function(e) {
                if (1 == e.i) return w(e, gia(), 2);
                var f = d.D;
                var g = JC();
                g = Object.keys(g);
                f = fP(f, g);
                return w(e, f, 0)
            })
        })
    }

    function hP(a) {
        return B(a, function c() {
            var d = this,
                e;
            return y(c, function(f) {
                if (1 == f.i) {
                    if (d.i) throw Error("Already downloading a video");
                    return w(f, qma(d), 2)
                }
                return (e = f.l) ? w(f, rma(d, e), 0) : f.Ya(0)
            })
        })
    }

    function sma(a) {
        return B(a, function c() {
            var d = this;
            return y(c, function(e) {
                if (1 == e.i) return d.u ? w(e, bP(d.B, d.u), 3) : e.Ya(0);
                iP(d);
                sa(e)
            })
        })
    }
    gP.prototype.G = function(a) {
        return B(this, function c() {
            var d = this;
            return y(c, function(e) {
                switch (e.i) {
                    case 1:
                        if (!d.i) {
                            e.Ya(2);
                            break
                        }
                        if ("TRANSFER_STATE_COMPLETE" === d.i.transferState || "TRANSFER_STATE_FAILED" === d.i.transferState || !a.transfer || !a.transfer.has(d.i.key)) {
                            e.Ya(3);
                            break
                        }
                        return w(e, YN(d.l, d.i.key, "transfer"), 4);
                    case 4:
                        d.i = e.l;
                        if (d.i) {
                            e.Ya(3);
                            break
                        }
                        return w(e, sma(d), 3);
                    case 3:
                        if (d.i) return e.return();
                    case 2:
                        return w(e, hP(d), 0)
                }
            })
        })
    };

    function rma(a, b) {
        return B(a, function d() {
            var e = this,
                f, g, k;
            return y(d, function(l) {
                switch (l.i) {
                    case 1:
                        return e.i = b, w(l, cP(e), 2);
                    case 2:
                        return f = null, ta(l, 3), w(l, tma(e, b), 5);
                    case 5:
                        f = l.l;
                        e.u = f;
                        ua(l, 4);
                        break;
                    case 3:
                        return g = va(l), uO("error getting player response", g), w(l, dP(e), 6);
                    case 6:
                        return l.return();
                    case 4:
                        return k = new pK(e.player.Y(), {
                            cotn: b.cotn,
                            raw_player_response: f,
                            download_media: !0,
                            start: Infinity,
                            disable_watch_next: !0
                        }), w(l, hma(e.I, k), 7);
                    case 7:
                        var m = e.B;
                        k.getPlayerResponse() && VL(k);
                        MC(k.videoId,
                            2);
                        m.l = 2;
                        jP(m.player, k, m.u);
                        var n = mma();
                        R(m.player.Y().experiments, "hoffle_lmqf_killswitch") || (n = SA(n, n, !0, "m"), iC(m.player, n, !1));
                        kP(m.player, !1);
                        sa(l)
                }
            })
        })
    }

    function qma(a) {
        return B(a, function c() {
            var d = this,
                e, f;
            return y(c, function(g) {
                if (1 == g.i) return w(g, ZN(d.l, "transfer"), 2);
                e = g.l;
                f = e.filter(uma).sort(vma);
                return 0 === f.length ? g.return() : g.return(f[0])
            })
        })
    }

    function cP(a) {
        return B(a, function c() {
            var d = this;
            return y(c, function(e) {
                return w(e, lP(d, "TRANSFER_STATE_TRANSFERRING"), 0)
            })
        })
    }

    function lma(a) {
        B(a, function c() {
            var d = this,
                e, f;
            return y(c, function(g) {
                if (1 == g.i) return w(g, lP(d, "TRANSFER_STATE_COMPLETE", "DOWNLOAD_STREAM_STATE_COMPLETE"), 2);
                if (3 != g.i) return e = BN(d.i.key), f = e.entityId, w(g, oma(d.l, f), 3);
                lO({
                    encryptedVideoId: f,
                    cotn: d.i.cotn,
                    transferStatusType: "TRANSFER_STATUS_TYPE_COMPLETED",
                    statusType: "SUCCESS"
                });
                iP(d);
                hP(d);
                sa(g)
            })
        })
    }

    function dP(a) {
        return B(a, function c() {
            var d = this;
            return y(c, function(e) {
                if (1 == e.i) return mP(d) ? w(e, lP(d, "TRANSFER_STATE_TRANSFER_IN_QUEUE"), 3) : w(e, nP(d), 3);
                iP(d);
                hP(d);
                sa(e)
            })
        })
    }

    function kma(a, b, c) {
        B(a, function e() {
            var f = this;
            return y(e, function(g) {
                if (1 == g.i) return "TRANSFER_STATE_TRANSFERRING" === f.i.transferState ? g.Ya(2) : w(g, cP(f), 2);
                if (4 != g.i) return w(g, nma(f.l, c.videoId, c.i, c.formatStream, c.bytesDownloaded, c.l), 4);
                lO({
                    encryptedVideoId: b,
                    cotn: f.i.cotn,
                    transferStatusType: "TRANSFER_STATUS_TYPE_PROCESSING",
                    statusType: "OFFLINING_STARTED"
                });
                sa(g)
            })
        })
    }

    function jma(a) {
        return B(a, function c() {
            var d = this,
                e, f, g, k, l;
            return y(c, function(m) {
                switch (m.i) {
                    case 1:
                        return w(m, bP(d.B, d.u), 2);
                    case 2:
                        return mP(d) ? w(m, lP(d, "TRANSFER_STATE_WAITING_FOR_PLAYER_RESPONSE_REFRESH"), 6) : w(m, nP(d), 4);
                    case 6:
                        return e = BN(d.i.key).entityId, lO({
                                encryptedVideoId: e,
                                cotn: d.i.cotn,
                                transferStatusType: "TRANSFER_STATUS_TYPE_DEQUEUED_BY_PLAYER_RESPONSE_EXPIRATION",
                                statusType: "ADDED_TO_QUEUE"
                            }), f = GO(), f.playbackDataActionMetadata = {
                                isEnqueuedForExpiredStreamUrlRefetch: !0
                            }, g = DN(e, "playbackData"),
                            k = {
                                actionType: "OFFLINE_ORCHESTRATION_ACTION_TYPE_ADD",
                                entityKey: g,
                                actionMetadata: f
                            }, l = JO(new IO("playbackData", e, k)), w(m, WN(d.l, l, "offlineOrchestrationActionWrapperEntity"), 4);
                    case 4:
                        iP(d), hP(d), sa(m)
                }
            })
        })
    }

    function mP(a) {
        a = a.i;
        var b = 3 > (a.transferRetryCount || 0);
        b && (a.transferRetryCount = (a.transferRetryCount || 0) + 1);
        return b
    }

    function nP(a) {
        var b = "TRANSFER_FAILURE_REASON_TOO_MANY_RETRIES";
        b = void 0 === b ? "TRANSFER_FAILURE_REASON_UNKNOWN" : b;
        return B(a, function d() {
            var e = this,
                f;
            return y(d, function(g) {
                if (1 == g.i) return w(g, lP(e, "TRANSFER_STATE_FAILED", "DOWNLOAD_STREAM_STATE_ERROR_STREAMS_MISSING", b), 2);
                f = BN(e.i.key).entityId;
                var k = b,
                    l = {
                        encryptedVideoId: f,
                        cotn: e.i.cotn,
                        transferStatusType: "TRANSFER_STATUS_TYPE_TERMINATED_WITH_FAILURE",
                        statusType: "FAILED"
                    };
                k && (l.transferFailureReason = k, l.failureReason = Ila(k));
                lO(l);
                sa(g)
            })
        })
    }

    function lP(a, b, c, d) {
        return B(a, function f() {
            var g = this,
                k;
            return y(f, function(l) {
                k = g;
                g.i.transferState = b;
                g.i.failureReason = d;
                return w(l, wma(g, function(m) {
                    return c ? MN(m, "offlineVideoStreams", k.i.offlineVideoStreams).then(function(n) {
                        for (var p = t(n), q = p.next(); !q.done; q = p.next())
                            if ((q = q.value) && q.streamsProgress) {
                                q = t(q.streamsProgress);
                                for (var r = q.next(); !r.done; r = q.next()) r.value.streamState = c
                            } return PN(m, n.filter(function(u) {
                            return !!u
                        }), "offlineVideoStreams")
                    }) : dx.resolve(void 0)
                }), 0)
            })
        })
    }

    function wma(a, b) {
        return B(a, function d() {
            var e = this,
                f;
            return y(d, function(g) {
                if (!e.i) return g.return();
                f = e.i;
                return w(g, TN(e.l, "readwrite", function(k) {
                    var l = [NN(k, f, "transfer")];
                    b && l.push(b(k));
                    return dx.all(l)
                }), 0)
            })
        })
    }

    function iP(a) {
        a.i = void 0;
        a.u = void 0
    }

    function tma(a, b) {
        return B(a, function d() {
            var e, f, g, k = this,
                l;
            return y(d, function(m) {
                if (1 == m.i) return e = BN(b.key), f = e.entityId, g = DN(f, "playbackData"), w(m, YN(k.l, g, "playbackData"), 2);
                l = m.l;
                if (null === l || void 0 === l ? 0 : l.playerResponseJson) return m.return(JSON.parse(l.playerResponseJson));
                throw Error("No PlayerResponse found");
            })
        })
    }
    var oP = {},
        pP = (oP.TRANSFER_STATE_TRANSFERRING = 1, oP.TRANSFER_STATE_TRANSFER_IN_QUEUE = 2, oP);

    function uma(a) {
        return void 0 !== pP[a.transferState]
    }

    function vma(a, b) {
        var c = pP[a.transferState],
            d = pP[b.transferState];
        return c !== d ? c - d : Number(a.enqueuedTimestampMs) - Number(b.enqueuedTimestampMs)
    };

    function qP(a, b, c, d) {
        this.C = a;
        this.api = b;
        this.player = c;
        this.D = d;
        this.B = new tx;
        this.u = !1;
        this.l = new Fr;
        xma(this)
    }

    function xma(a) {
        var b = nw("OfflineManager");
        Ola("woffle_orchestration_leader:" + b, function() {
            return yma(a)
        })
    }

    function yma(a) {
        return B(a, function c() {
            var d = this;
            return y(c, function(e) {
                if (1 == e.i) {
                    d.G = new Fr;
                    d.u = !0;
                    d.api.Ja("onOrchestrationBecameLeader");
                    d.i && d.I || zma(d).then(d.l.resolve).catch(d.l.reject);
                    var f = d.l.promise;
                    return w(e, f, 2)
                }
                return w(e, d.G.promise, 0)
            })
        })
    }

    function zma(a) {
        return B(a, function c() {
            var d, e = this,
                f, g;
            return y(c, function(k) {
                if (1 == k.i) return w(k, bO(), 2);
                if (3 != k.i) {
                    d = k.l;
                    if (!d) return uO("PES is undefined"), k.return();
                    e.i = new gP(d, e.api, e.player, e.D);
                    f = {};
                    g = (f.ytMainDownloadedVideoEntity = new DO(d), f.playbackData = new xO(d, e.C), f.transfer = new BO(d), f);
                    return w(k, bma(d, g), 3)
                }
                e.I = k.l;
                return w(k, Ama(e), 0)
            })
        })
    }

    function Ama(a) {
        return B(a, function c() {
            var d = this,
                e;
            return y(c, function(f) {
                if (1 == f.i) return e = d, d.i ? w(f, hP(d.i), 2) : (uO("transferManager is undefined"), f.return());
                if (3 != f.i) return w(f, rP(d), 3);
                d.J = Us(function() {
                    rP(e)
                }, 9E5);
                Ys(bt(), function() {
                    e.i && pma(e.i)
                });
                sa(f)
            })
        })
    }
    h = qP.prototype;
    h.isOrchestrationLeader = function() {
        return this.u
    };

    function Bma(a, b) {
        return B(a, function d() {
            var e = this;
            return y(d, function(f) {
                return f.return(e.Jo(b, "OFFLINE_ORCHESTRATION_ACTION_TYPE_ADD"))
            })
        })
    }

    function Cma(a, b) {
        return B(a, function d() {
            var e = this;
            return y(d, function(f) {
                return f.return(e.Jo(b, "OFFLINE_ORCHESTRATION_ACTION_TYPE_REFRESH"))
            })
        })
    }
    h.refreshAllVideos = function() {
        return B(this, function b() {
            var c = this,
                d;
            return y(b, function(e) {
                switch (e.i) {
                    case 1:
                        if (c.B.Pg()) {
                            e.Ya(2);
                            break
                        }
                        return w(e, sP(c), 3);
                    case 3:
                        return e.return([]);
                    case 2:
                        return d = c.Jo, w(e, Dma(c), 4);
                    case 4:
                        return e.return(d.call(c, e.l, "OFFLINE_ORCHESTRATION_ACTION_TYPE_REFRESH"))
                }
            })
        })
    };
    h.deleteVideos = function(a) {
        return B(this, function c() {
            var d = this;
            return y(c, function(e) {
                return e.return(d.Jo(a, "OFFLINE_ORCHESTRATION_ACTION_TYPE_DELETE"))
            })
        })
    };
    h.deleteAllVideos = function() {
        return B(this, function b() {
            var c = this;
            return y(b, function(d) {
                return d.return(c.Jo(["!*$_ALL_VIDEOS_!*$"], "OFFLINE_ORCHESTRATION_ACTION_TYPE_DELETE"))
            })
        })
    };

    function Dma(a) {
        return B(a, function c() {
            var d, e, f;
            return y(c, function(g) {
                if (1 == g.i) return w(g, bO(), 2);
                if (3 != g.i) return (d = g.l) ? w(g, ZN(d, "transfer"), 3) : g.return([]);
                e = g.l;
                f = e.map(function(k) {
                    return BN(k.key).entityId
                });
                return g.return(f)
            })
        })
    }

    function rP(a) {
        return B(a, function c() {
            var d = this,
                e, f, g, k, l, m, n, p;
            return y(c, function(q) {
                if (1 == q.i) return d.B.Pg() ? w(q, bO(), 2) : q.return(sP(d));
                if (3 != q.i) {
                    e = q.l;
                    if (!e) return q.return();
                    f = Date.now() / 1E3;
                    return w(q, ZN(e, "offlineVideoPolicy"), 3)
                }
                g = q.l;
                k = [];
                l = t(g);
                for (m = l.next(); !m.done; m = l.next()) n = m.value, Number(n.lastUpdatedTimestampSeconds) + 43200 <= f && (p = BN(n.key).entityId, k.push(p));
                return k.length ? w(q, Cma(d, k), 0) : q.Ya(0)
            })
        })
    }

    function sP(a) {
        return B(a, function c() {
            var d, e, f, g, k, l;
            return y(c, function(m) {
                switch (m.i) {
                    case 1:
                        return w(m, bO(), 2);
                    case 2:
                        d = m.l;
                        if (!d) return m.return();
                        e = Date.now() / 1E3;
                        return w(m, ZN(d, "offlineVideoPolicy"), 3);
                    case 3:
                        f = m.l, g = t(f), k = g.next();
                    case 4:
                        if (k.done) {
                            m.Ya(0);
                            break
                        }
                        l = k.value;
                        if (!(l.expirationTimestamp && Number(l.expirationTimestamp) < e)) {
                            m.Ya(5);
                            break
                        }
                        l.action = "OFFLINE_VIDEO_POLICY_ACTION_DISABLE";
                        return w(m, WN(d, l, "offlineVideoPolicy"), 5);
                    case 5:
                        k = g.next(), m.Ya(4)
                }
            })
        })
    }
    h.Jo = function(a, b) {
        return B(this, function d() {
            var e, f;
            return y(d, function(g) {
                if (1 == g.i) return w(g, bO(), 2);
                e = g.l;
                if (!e) return g.return([]);
                f = a.map(function(k) {
                    var l = DN(k, "ytMainDownloadedVideoEntity");
                    k = new IO("ytMainDownloadedVideoEntity", k, {
                        actionType: b,
                        entityKey: l,
                        actionMetadata: Zla
                    });
                    return JO(k)
                });
                return g.return(XN(e, f))
            })
        })
    };

    function Ema() {
        B(this, function b() {
            var c, d;
            return y(b, function(e) {
                if (1 == e.i) return c = [], w(e, bO(), 2);
                (d = e.l) && c.push(TN(d, "readwrite", function(f) {
                    var g = Jla.map(function(k) {
                        return RN(f, k)
                    });
                    return dx.all(g)
                }));
                c.push(kO(), fia().then(function(f) {
                    return f ? oia() : Promise.resolve()
                }));
                return w(e, Promise.all(c), 0)
            })
        })
    };
    var tP = [],
        uP = !1;

    function Fma() {
        for (var a = tP.length; 4 > a; a++) {
            var b = Og("VIDEO");
            b.load();
            tP.push(new MM(b))
        }
    };
    var yB = ib(function() {
        var a = "";
        try {
            var b = Og("CANVAS").getContext("webgl");
            b && (b.getExtension("WEBGL_debug_renderer_info"), a = b.getParameter(37446), a = a.replace(/[ :]/g, "_"))
        } catch (c) {}
        return a
    });

    function vP(a, b) {
        this.state = a;
        this.Nk = b
    }

    function wP(a, b) {
        return Q(a.state, b) && !Q(a.Nk, b) ? 1 : !Q(a.state, b) && Q(a.Nk, b) ? -1 : 0
    }

    function iN(a, b) {
        return 0 < wP(a, b)
    };

    function Gma() {
        this.l = 200;
        this.i = 12
    }

    function Hma(a) {
        var b = new Gma;
        b.l = U(a.experiments, "html5_gapless_ended_transition_buffer_ms");
        b.i = U(a.experiments, "html5_gapless_max_played_ranges");
        return b
    };

    function xP(a, b, c, d) {
        d = void 0 === d ? !1 : d;
        zM.call(this);
        this.i = a;
        this.start = b;
        this.end = c;
        this.B = d
    }
    v(xP, zM);
    h = xP.prototype;
    h.isView = function() {
        return !0
    };
    h.wv = function() {
        var a = this.i.getCurrentTime();
        if (a < this.start) try {
            var b = this.i.me(),
                c = iG(b, a);
            return !(this.start < c)
        } catch (d) {}
        return !1
    };
    h.yk = function() {
        return lG(this.i.yk(), this.start, this.end)
    };
    h.me = function() {
        return lG(this.i.me(), this.start, this.end)
    };
    h.Un = function() {
        return lG(this.i.Un(), this.start, this.end)
    };
    h.getCurrentTime = function() {
        return this.i.getCurrentTime() - this.start
    };
    h.Yq = function(a) {
        this.i.Yq(a + this.start)
    };
    h.getDuration = function() {
        return isFinite(this.end) && !this.B ? this.end - this.start : this.i.getDuration() - this.start
    };
    h.play = function() {
        if (this.wv()) {
            this.i.getCurrentTime();
            try {
                this.i.Yq(this.start)
            } catch (a) {}
        }
        return this.i.play()
    };
    h.wb = function() {
        var a = zM.prototype.wb.call(this);
        a.view = this.start + "-" + this.end;
        return a
    };
    h.addEventListener = function(a, b) {
        this.i.addEventListener(a, b)
    };
    h.removeEventListener = function(a, b) {
        this.i.removeEventListener(a, b)
    };
    h.lp = function() {
        return this.i.lp()
    };
    h.Jl = function(a) {
        this.i.Jl(a)
    };
    h.kp = function() {
        return this.i.kp()
    };
    h.playVideo = function() {
        return this.i.playVideo()
    };
    h.Vs = function() {
        this.i.Vs()
    };
    h.Us = function() {
        this.i.Us()
    };
    h.jn = function() {
        return this.i.jn()
    };
    h.Cd = function() {
        return this.i.Cd()
    };
    h.oe = function() {
        return this.i.oe()
    };
    h.pp = function(a) {
        this.i.pp(a)
    };
    h.Sq = function() {
        this.i.Sq()
    };
    h.getPlaybackRate = function() {
        return this.i.getPlaybackRate()
    };
    h.setPlaybackRate = function(a) {
        return this.i.setPlaybackRate(a)
    };
    h.jp = function() {
        return this.i.jp()
    };
    h.setLoop = function(a) {
        this.i.setLoop(a)
    };
    h.canPlayType = function(a, b) {
        return this.i.canPlayType(a, b)
    };
    h.xi = function() {
        return this.i.xi()
    };
    h.pn = function() {
        return this.i.pn()
    };
    h.Ng = function() {
        return this.i.Ng()
    };
    h.Sp = function() {
        return this.i.Sp()
    };
    h.Bm = function(a) {
        this.i.Bm(a)
    };
    h.mp = function() {
        return this.i.mp()
    };
    h.load = function() {
        this.i.load()
    };
    h.pause = function() {
        this.i.pause()
    };
    h.nf = function() {
        return this.i.nf()
    };
    h.Tp = function() {
        return this.i.Tp()
    };
    h.dg = function() {
        return this.i.dg()
    };
    h.Yc = function() {
        return this.i.Yc()
    };
    h.np = function() {
        return this.i.np()
    };
    h.pe = function() {
        return this.i.pe()
    };
    h.togglePictureInPicture = function() {
        this.i.togglePictureInPicture()
    };
    h.Oi = function() {
        return this.i.Oi()
    };
    h.hn = function() {
        return this.i.hn()
    };
    h.setSize = function(a) {
        this.i.setSize(a)
    };
    h.getVolume = function() {
        return this.i.getVolume()
    };
    h.setVolume = function(a) {
        this.i.setVolume(a)
    };
    h.setAttribute = function(a, b) {
        this.i.setAttribute(a, b)
    };
    h.removeAttribute = function(a) {
        this.i.removeAttribute(a)
    };
    h.hasAttribute = function(a) {
        return this.i.hasAttribute(a)
    };
    h.Bs = function(a) {
        this.i.Bs(a)
    };
    h.Sv = function() {
        return this.i.Sv()
    };
    h.Tv = function() {
        return this.i.Tv()
    };
    h.Ns = function() {
        this.i.Ns()
    };
    h.Jn = function() {
        return this.i.Jn()
    };
    h.Vj = function(a) {
        this.i.Vj(a)
    };
    h.Yp = function(a) {
        return this.i.Yp(a)
    };
    h.Yt = function() {
        return this.i.Yt()
    };
    h.stopVideo = function() {
        this.i.stopVideo()
    };
    h.Ws = function(a) {
        this.i.Ws(a)
    };

    function Ima(a, b, c, d) {
        var e = c.getVideoData(),
            f = b.getVideoData();
        if (c.getPlayerState().isError()) return "player-error";
        c = f.l;
        if (b.Lh() > d / 1E3 + 1) return "in-the-past";
        if (f.isLivePlayback && !isFinite(d)) return "live-infinite";
        if (a.i && ((b = b.Dc()) && b.isView() && (b = b.i), b && b.yk().length > a.i && CL(e))) return "played-ranges";
        if (!e.l) return null;
        if (!e.l.i || !c.i) return "non-dash";
        if (e.l.videoInfos[0].containerType !== c.videoInfos[0].containerType) return "container";
        if (CL(f) && CL(e)) return "content-protection";
        a = c.i[0].audio;
        e = e.l.i[0].audio;
        return a.sampleRate === e.sampleRate || Ne ? (a.i || 2) !== (e.i || 2) ? "channel-count" : null : "sample-rate"
    };

    function yP() {
        var a = this;
        this.i = this.l = bb;
        this.promise = new kh(function(b, c) {
            a.l = b;
            a.i = c
        })
    }
    yP.prototype.then = function(a, b) {
        return this.promise.then(a, b)
    };
    yP.prototype.resolve = function(a) {
        this.l(a)
    };
    yP.prototype.reject = function(a) {
        this.i(a)
    };

    function zP(a, b, c, d) {
        C.call(this);
        var e = this;
        this.policy = a;
        this.i = b;
        this.l = c;
        this.B = this.u = null;
        this.D = -1;
        this.G = !1;
        this.C = new yP;
        this.wg = d - 1E3 * b.Ub();
        this.C.then(void 0, function() {});
        this.timeout = new dr(function() {
            e.ld("timeout")
        }, 1E4);
        E(this, this.timeout);
        this.I = isFinite(d);
        this.status = {
            status: 0,
            error: null
        };
        this.L()
    }
    v(zP, C);

    function Jma(a) {
        return B(a, function c() {
            var d = this,
                e, f, g, k, l, m, n, p, q, r;
            return y(c, function(u) {
                if (1 == u.i) {
                    e = d;
                    if (d.Ea()) return u.return(Promise.reject(Error(d.status.error || "disposed")));
                    d.L();
                    d.timeout.start();
                    f = KH.So("gtfta");
                    return w(u, d.C, 2)
                }
                KH.Nn(f);
                g = d.i.Dc();
                if (g.Ng()) return d.ld("ended_in_finishTransition"), u.return(Promise.reject(Error(d.status.error || "")));
                if (!d.B || !tG(d.B)) return d.ld("next_mse_closed"), u.return(Promise.reject(Error(d.status.error || "")));
                if (d.l.mediaSource !== d.B) return d.ld("next_mse_mismatch"), u.return(Promise.reject(Error(d.status.error ||
                    "")));
                k = AP(d);
                l = k.Yz;
                m = k.jy;
                n = k.Xz;
                d.i.kf(!1, !0);
                p = BP(g, l, n, !d.l.getVideoData().isAd());
                CP(d.l, p);
                d.I && (d.l.seekTo(d.l.getCurrentTime() + .001, {
                    Xn: !0,
                    Zv: 3,
                    dd: "gapless_pseudo"
                }), p.play() || $G());
                q = g.wb();
                q.cpn = d.i.getVideoData().clientPlaybackNonce;
                q.st = "" + l;
                q.et = "" + n;
                d.l.Aa("gapless", JA(q));
                d.i.Aa("gaplessTo", d.l.getVideoData().clientPlaybackNonce);
                r = d.i.getPlayerType() === d.l.getPlayerType();
                DP(d.i, m, !1, r, d.l.getVideoData().clientPlaybackNonce);
                DP(d.l, d.l.getCurrentTime(), !0, r, d.i.getVideoData().clientPlaybackNonce);
                eh(function() {
                    !e.l.getVideoData().ya && EP(e.l.getPlayerState()) && FP(e.l)
                });
                GP(d, 6);
                d.dispose();
                return u.return(Promise.resolve())
            })
        })
    }
    h = zP.prototype;
    h.isFinished = function() {
        return 6 === this.status.status
    };
    h.getStatus = function() {
        return this.status
    };
    h.Yj = function() {
        var a = this.i.getVideoData(),
            b = this.l.getVideoData();
        if (a.l) {
            var c;
            if (c = a.i) {
                c = a.i;
                for (var d = !1, e = !1, f = t(Object.values(c.i)), g = f.next(); !g.done; g = f.next()) g = g.value, g.info.audio && g.index.isLoaded() && (d = !0), g.info.video && g.index.isLoaded() && (e = !0);
                c.i["0"] && (e = !0);
                c = !(d && e)
            }
            if (c) this.L();
            else if (this.i.Dc()) {
                g = Ima(this.policy, this.i, this.l, this.wg);
                f = AP(this);
                c = f.bE;
                e = f.Yz;
                d = f.jy;
                f = f.Xz;
                if (!this.G) {
                    var k = 1E3 * this.l.Lh(),
                        l = this.i.Lh();
                    l = 1E3 * (d - c - l);
                    g && "in-the-past" === g && (l = 0);
                    a = a.isAd();
                    var m = this.l.C;
                    m.qoe && (m = m.qoe, m.I = {
                        iH: Number(m.Aa("glrem", "nst." + k.toFixed() + ";rem." + l.toFixed() + ";ca." + +a)),
                        Zz: k,
                        bH: l,
                        isAd: a
                    });
                    this.G = !0
                }
                g ? this.ld("cannot_apply" + g + ";transitionTimeMs." + this.wg) : 2 === this.status.status ? HP(this) : (a = this.i.mediaSource) ? vG(a) ? !tG(a) && zu() ? this.ld("mse_closed") : b.i && DG(b.i) && a.l && !a.l.Pp() ? this.ld("encr_upgrade") : (b = this.i.Dc(), b.Ng() ? this.ld("elem_ended") : 0 > e ? this.ld("next_player_future") : (this.D = d, this.u = yG(a, c, d, !0), this.B = yG(a, e, f, !1), a = this.l.getVideoData().clientPlaybackNonce,
                    this.i.Aa("gaplessPrep", "cpn." + a), IP(this.i, this.u), CP(this.i, BP(b, c, d, !this.i.getVideoData().isAd())), GP(this, 2), HP(this))) : this.L() : this.L()
            } else this.ld("no-elem")
        } else this.L()
    };

    function HP(a) {
        if (a.l.getVideoData().l) {
            IP(a.l, a.B);
            GP(a, 3);
            JP(a);
            var b = KP(a),
                c = b.hB;
            b = b.nH;
            c.subscribe("updateend", a.Dl, a);
            b.subscribe("updateend", a.Dl, a);
            a.Dl(c);
            a.Dl(b)
        }
    }
    h.Dl = function(a) {
        var b = KP(this).hB,
            c = a === b;
        b = c ? this.u.i : this.u.l;
        c = c ? this.B.i : this.B.l;
        if (b.isActive && !c.isActive) {
            var d = this.D;
            hG(a.Ed(), d - .01) && (GP(this, 4), b.isActive = !1, b.gp = b.gp || b.isActive, this.l.Aa("sbh", "1"), c.isActive = !0, c.gp = c.gp || c.isActive);
            a = this.B.l;
            this.B.i.isActive && a.isActive && GP(this, 5)
        }
    };
    h.sA = function() {
        4 <= this.status.status && 6 > this.status.status && this.ld("player-reload-after-handoff")
    };

    function JP(a) {
        a.i.unsubscribe("internalvideodatachange", a.Yj, a);
        a.l.unsubscribe("internalvideodatachange", a.Yj, a);
        a.i.unsubscribe("mediasourceattached", a.Yj, a);
        a.l.unsubscribe("statechange", a.Nw, a)
    }

    function BP(a, b, c, d) {
        a = a.isView() ? a.i : a;
        return new xP(a, b, c, d)
    }

    function GP(a, b) {
        a.L();
        b <= a.status.status || (a.status = {
            status: b,
            error: null
        }, 5 === b && a.C.resolve(void 0))
    }
    h.ld = function(a) {
        if (!this.Ea() && !this.isFinished()) {
            this.L();
            var b = 4 <= this.status.status && "player-reload-after-handoff" !== a;
            this.status = {
                status: Infinity,
                error: a
            };
            if (this.i && this.l) {
                var c = this.l.getVideoData().clientPlaybackNonce;
                this.i.Aa("gaplessError", "cpn." + c + ";msg." + a);
                a = this.i;
                a.videoData.ea = !1;
                b && LP(a);
                a.l && (b = a.l, b.policy.ea = !1, b.mediaSource && MP(b))
            }
            this.C.reject(void 0);
            this.dispose()
        }
    };
    h.Da = function() {
        JP(this);
        this.i.unsubscribe("newelementrequired", this.sA, this);
        if (this.u) {
            var a = this.u.l;
            this.u.i.kc.unsubscribe("updateend", this.Dl, this);
            a.kc.unsubscribe("updateend", this.Dl, this)
        }
        C.prototype.Da.call(this)
    };

    function AP(a) {
        var b = a.i.Dc();
        b = b.isView() ? b.start : 0;
        var c = a.i.getVideoData().isLivePlayback ? Infinity : qC(a.i, !0);
        c = Math.min(a.wg / 1E3, c) + b;
        var d = a.I ? 100 : 0;
        a = c - a.l.Lh() + d;
        return {
            bE: b,
            Yz: a,
            jy: c,
            Xz: Infinity
        }
    }

    function KP(a) {
        return {
            hB: a.u.i.kc,
            nH: a.u.l.kc
        }
    }
    h.Nw = function(a) {
        iN(a, 128) && this.ld("player-error-event")
    };
    h.L = function() {};

    function NP(a) {
        C.call(this);
        var b = this;
        this.api = a;
        this.C = this.i = this.l = null;
        this.G = !1;
        this.B = null;
        this.I = Hma(this.api.Y());
        this.u = null;
        this.D = function() {
            eh(function() {
                Kma(b)
            })
        }
    }
    v(NP, C);

    function Lma(a, b, c, d) {
        d = void 0 === d ? 0 : d;
        a.L();
        a.jm() || OP(a);
        a.B = new yP;
        a.l = b;
        var e = c,
            f = a.api.hc(),
            g = f.getVideoData().isLivePlayback ? Infinity : 1E3 * qC(f, !0);
        e > g && (e = g - a.I.l, a.G = !0);
        f.getCurrentTime() >= e / 1E3 ? a.D() : (a.i = f, f = e, e = a.i, a.api.addEventListener("crn_vqueued", a.D), f = isFinite(f) || f / 1E3 > e.getDuration() ? f : 0x8000000000000, a.C = new TI(f, 0x8000000000000, {
            namespace: "vqueued"
        }), e.addCueRange(a.C));
        f = d /= 1E3;
        e = b.getVideoData().i;
        if (d && e && a.i) {
            g = d;
            var k = 0;
            b.getVideoData().isLivePlayback && (f = Math.min(c / 1E3,
                qC(a.i, !0)), k = Math.max(0, f - a.i.getCurrentTime()), g = Math.min(d, qC(b) + k));
            f = hja(e, g) || d;
            f !== d && a.l.Aa("qvaln", "st." + d + ";at." + f + ";rm." + (k + ";ct." + g))
        }
        b = f;
        d = a.l;
        if (e = a.api.hc()) d.vb = e;
        d.getVideoData().kb = !0;
        d.getVideoData().ea = !0;
        kP(d, !0);
        e = "";
        a.i && (e = PP(a.i.C.l), f = a.i.getVideoData().clientPlaybackNonce, e = "crt." + (1E3 * e).toFixed() + ";cpn." + f);
        d.Aa("queued", e);
        0 !== b && d.seekTo(b + .01, {
            Xn: !0,
            Zv: 3,
            dd: "videoqueuer_queued"
        });
        a.u = new zP(a.I, a.api.hc(), a.l, c);
        c = a.u;
        c.L();
        Infinity !== c.status.status && (GP(c, 1), c.i.subscribe("internalvideodatachange",
            c.Yj, c), c.l.subscribe("internalvideodatachange", c.Yj, c), c.i.subscribe("mediasourceattached", c.Yj, c), c.l.subscribe("statechange", c.Nw, c), c.i.subscribe("newelementrequired", c.sA, c), c.Yj());
        return a.B
    }
    NP.prototype.clearQueue = function() {
        this.L();
        this.B && this.B.reject("Queue cleared");
        OP(this)
    };
    NP.prototype.jm = function() {
        return !this.l
    };

    function Kma(a) {
        B(a, function c() {
            var d = this,
                e, f, g, k;
            return y(c, function(l) {
                switch (l.i) {
                    case 1:
                        e = d;
                        if (d.Ea()) return l.return();
                        d.L();
                        if (!d.B || !d.l) return d.L(), l.return();
                        d.G && QP(d.api.hc(), !0, !1);
                        f = null;
                        if (!d.u) {
                            l.Ya(2);
                            break
                        }
                        ta(l, 3);
                        return w(l, Jma(d.u), 5);
                    case 5:
                        ua(l, 2);
                        break;
                    case 3:
                        f = g = va(l);
                    case 2:
                        return d.api.zp(d.l), KH.qv("vqsp", function() {
                            e.api.gi(e.l.getPlayerType())
                        }), KH.qv("vqpv", function() {
                            e.api.playVideo()
                        }), f && Mma(d.l, f.message), k = d.B, OP(d), l.return(k.resolve(void 0))
                }
            })
        })
    }

    function OP(a) {
        if (a.i) {
            var b = a.i;
            a.api.removeEventListener("crn_vqueued", a.D);
            b.removeCueRange(a.C);
            a.i = null;
            a.C = null
        }
        a.u && (a.u.isFinished() || (b = a.u, Infinity !== b.status.status && b.ld("Canceled")), a.u = null);
        a.B = null;
        a.l = null;
        a.G = !1
    }
    NP.prototype.Da = function() {
        OP(this);
        C.prototype.Da.call(this)
    };
    NP.prototype.L = function() {};

    function RP() {
        var a = ls();
        return !(!a || "visible" === a)
    }

    function SP(a) {
        var b = TP();
        b && document.addEventListener(b, a, !1)
    }

    function UP(a) {
        var b = TP();
        b && document.removeEventListener(b, a, !1)
    }

    function TP() {
        if (document.visibilityState) var a = "visibilitychange";
        else {
            if (!document[ks + "VisibilityState"]) return "";
            a = ks + "visibilitychange"
        }
        return a
    };

    function VP() {
        S.call(this);
        var a = this;
        this.fullscreen = 0;
        this.l = this.pictureInPicture = this.i = this.u = this.inline = !1;
        this.B = function() {
            WP(a)
        };
        SP(this.B);
        this.C = this.getVisibilityState(this.pe(), this.isFullscreen(), this.bf(), this.isInline(), this.im(), this.gm())
    }
    v(VP, S);
    h = VP.prototype;
    h.getVisibilityState = function(a, b, c, d, e, f) {
        return a ? 4 : RP() ? 3 : b ? 2 : c ? 1 : d ? 5 : e ? 7 : f ? 8 : 0
    };
    h.di = function(a) {
        this.fullscreen !== a && (this.fullscreen = a, WP(this))
    };
    h.setMinimized = function(a) {
        this.u !== a && (this.u = a, WP(this))
    };
    h.setInline = function(a) {
        this.inline !== a && (this.inline = a, WP(this))
    };
    h.Cm = function(a) {
        this.pictureInPicture !== a && (this.pictureInPicture = a, WP(this))
    };
    h.setImmersivePreview = function(a) {
        this.l !== a && (this.l = a, WP(this))
    };
    h.pe = function() {
        return this.i
    };
    h.isFullscreen = function() {
        return 0 !== this.fullscreen
    };
    h.bf = function() {
        return this.u
    };
    h.isInline = function() {
        return this.inline
    };
    h.isBackground = function() {
        return RP()
    };
    h.im = function() {
        return this.pictureInPicture
    };
    h.gm = function() {
        return this.l
    };

    function WP(a) {
        a.W("visibilitychange");
        var b = a.getVisibilityState(a.pe(), a.isFullscreen(), a.bf(), a.isInline(), a.im(), a.gm());
        b !== a.C && a.W("visibilitystatechange");
        a.C = b
    }
    h.Da = function() {
        UP(this.B);
        S.prototype.Da.call(this)
    };

    function Nma(a) {
        this.end = this.start = a
    }

    function XP(a, b, c) {
        C.call(this);
        var d = this;
        this.api = a;
        this.l = b;
        this.i = c;
        this.ya = new Map;
        this.Ha = new Map;
        this.C = new Map;
        this.D = [];
        this.B = [];
        this.Ma = NaN;
        this.Z = this.T = null;
        this.Ka = new dr(function() {
            YP(d, d.Ma)
        });
        this.events = new NI(this);
        this.isLiveNow = !0;
        this.Sa = U(this.l.experiments, "web_player_ss_dai_ad_fetching_timeout_ms") || 1E4;
        this.G = new dr(function() {
            d.I = !0;
            d.i.Aa("sdai", "aftimeout." + d.Sa.toString());
            ZP(d, !1);
            d.ea = !1
        }, this.Sa);
        this.I = !1;
        this.X = new Map;
        this.Fa = [];
        this.K = null;
        this.U = [];
        this.Ta = [];
        this.u = void 0;
        this.Qa = 0;
        this.va = !0;
        this.ea = this.J = !1;
        this.ra = [];
        this.i.getPlayerType();
        Oma(this.i, this);
        E(this, this.Ka);
        E(this, this.events);
        E(this, this.G);
        this.events.Ga(this.api, "crn_serverstitchedcuerange", this.Hd);
        this.events.Ga(this.api, "crx_serverstitchedcuerange", this.Uf)
    }
    v(XP, C);

    function $P(a, b, c, d, e, f, g) {
        var k = Pma(a, e, e + d);
        a.I && a.i.Aa("sdai", "adaftto");
        var l = R(a.l.experiments, "web_player_ssdai_reject_invalid_ads_killswitch"),
            m = a.i;
        f = void 0 === f ? e + d : f;
        e === f && !d && a.l.N("html5_allow_zero_duration_ads_on_timeline") && a.i.Aa("sdai", "attl0d");
        if (e > f && (a.Fc("Invalid playback enterTimeMs=" + e + " is greater than parentReturnTimeMs=" + f), l)) return "";
        var n = 1E3 * m.getMinSeekableTime();
        if (e < n && (a.Fc("Invalid playback enterTimeMs=" + e + " is less than parentMinSeekableTimeMs=" + n), l)) return "";
        m =
            1E3 * m.getDuration();
        if (f > m && (a.Fc("Invalid playback parentReturnTimeMs=" + f + " is greater than parentDurationMs=" + m), l)) return "";
        m = null;
        n = t(a.B);
        for (var p = n.next(); !p.done; p = n.next()) {
            p = p.value;
            if (e >= p.Nb && e < p.xc && (a.Fc("Overlapping child playbacks not allowed. New playback {video_id=" + (b.video_id + " enterTimeMs=" + e + " parentReturnTimeMs=" + f + "} overlaps existing ChildPlayback " + aQ(p))), l) || f <= p.xc && f > p.Nb && (a.Fc("Overlapping child playbacks not allowed. New playback {video_id=" + (b.video_id + " enterTimeMs=" +
                    e + " parentReturnTimeMs=" + f + "} overlaps existing ChildPlayback " + aQ(p))), l) || f === p.Nb && (a.Fc("Neighboring child playbacks must be added sequentially. New playback {video_id=" + (b.video_id + " enterTimeMs=" + e + " parentReturnTimeMs=" + f + "} added after existing ChildPlayback " + aQ(p))), l)) return "";
            e === p.xc && (m = p)
        }
        if (k && m)
            for (l = t(a.U.entries()), n = l.next(); !n.done; n = l.next()) {
                if (n = t(n.value), p = n.next().value, n.next().value.identifier === k.identifier) {
                    a.U.splice(p, 1);
                    break
                }
            } else if (k && R(a.l.experiments, "web_player_ss_timeout_skip_ads")) return "";
        k = "childplayback_" + Qma++;
        l = b.raw_player_response;
        l || R(a.l.experiments, "web_player_parse_ad_response_killswitch") || (n = b.player_response) && (l = JSON.parse(n));
        b.cpn || (b.cpn = Mx());
        n = b.cpn;
        b = new pK(a.l, b);
        b.Zb = k;
        c = {
            Zb: k,
            playerType: c,
            durationMs: d,
            Nb: e,
            xc: f,
            playerResponse: l,
            cpn: n,
            videoData: b
        };
        a.B = a.B.concat(c).sort(function(q, r) {
            return q.Nb - r.Nb
        });
        g ? c.zi = g : m ? c.zi = m.zi : c.zi = c.cpn;
        a.G.isActive() && (a.I = !1, a.G.stop(), ZP(a, !0));
        a.L();
        return k
    }

    function bQ(a, b) {
        return new TI(a, b, {
            namespace: "serverstitchedcuerange",
            priority: 7
        })
    }
    h = XP.prototype;
    h.Hd = function(a) {
        this.ra.push(a);
        var b = this.C.get(a),
            c = null == b;
        if (this.va) this.va = !1, c || (a = this.B.find(function(d) {
            return d.cpn === b
        })) && this.api.W("serverstitchedvideochange", a.Zb), this.J = !1;
        else if (this.u) {
            if (this.u.jo) this.i.Aa("sdai", "a_pair_of_same_transition_occurs_enter");
            else {
                if (this.u.Vc === a) {
                    this.u = void 0;
                    return
                }
                if (this.u.adCpn === b) {
                    this.i.Aa("sdai", "dchtsc");
                    this.u = void 0;
                    return
                }
                a = {
                    Vc: a,
                    isAd: !c,
                    jo: !0,
                    ji: this.i.getCurrentTime(),
                    adCpn: b
                };
                cQ(this, a, this.u)
            }
            this.u = void 0;
            this.J = !1
        } else this.u = {
            Vc: a,
            isAd: !c,
            jo: !0,
            ji: this.i.getCurrentTime(),
            adCpn: b
        }
    };
    h.Uf = function(a) {
        this.ra = this.ra.filter(function(d) {
            return d !== a
        });
        this.va && (this.J = this.va = !1, this.i.Aa("sdai", "cref"));
        var b = this.C.get(a),
            c = null == b;
        if (this.u) {
            if (this.u.jo) {
                if (this.u.Vc === a) {
                    this.u = void 0;
                    return
                }
                if (this.u.adCpn === b) {
                    this.i.Aa("sdai", "dchtsc");
                    this.u = void 0;
                    return
                }
                c = {
                    Vc: a,
                    isAd: !c,
                    jo: !1,
                    ji: this.i.getCurrentTime(),
                    adCpn: b
                };
                cQ(this, this.u, c)
            } else this.i.Aa("sdai", "a_pair_of_same_transition_occurs_exit");
            this.u = void 0;
            this.J = !1
        } else this.u = {
            Vc: a,
            isAd: !c,
            jo: !1,
            ji: this.i.getCurrentTime(),
            adCpn: b
        };
        R(this.l.experiments, "web_player_halftime_dai") && (c = this.B.find(function(d) {
            return d.cpn ===
                b
        }), this.isLiveNow && c && this.i.getCurrentTime() < dQ(this.i) && YP(this, Infinity))
    };

    function cQ(a, b, c) {
        var d = a.J,
            e = {
                cpn: a.i.getVideoData().clientPlaybackNonce,
                durationMs: 0,
                Nb: 0,
                playerType: 1,
                xc: 0,
                videoData: a.i.getVideoData()
            };
        if (b.isAd && c.isAd) {
            e = a.B.find(function(g) {
                return g.cpn === b.adCpn
            });
            var f = a.B.find(function(g) {
                return g.cpn === c.adCpn
            });
            f && e && (a.api.W("serverstitchedvideochange", e.Zb), eQ(a.i, f, e, c.ji, b.ji, d))
        } else !b.isAd && c.isAd ? (a.api.W("serverstitchedvideochange"), f = c.Vc, a.Qa = f.end - f.start, (f = a.B.find(function(g) {
            return g.cpn === c.adCpn
        })) && eQ(a.i, f, e, c.ji, b.ji, d)) : b.isAd && !c.isAd && (f = a.B.find(function(g) {
            return g.cpn === b.adCpn
        })) && (a.api.W("serverstitchedvideochange", f.Zb), a.Qa = 0, eQ(a.i, e, f, c.ji, b.ji, d))
    }
    h.isAdPlaying = function(a) {
        return !!TC(this, 1E3 * a)
    };

    function fQ(a, b, c) {
        c = void 0 === c ? 0 : c;
        var d = 0;
        a = t(a.B);
        for (var e = a.next(); !e.done; e = a.next()) {
            e = e.value;
            var f = e.Nb / 1E3 + d,
                g = f + e.durationMs / 1E3;
            if (f > b + c) break;
            if (g > b) return {
                Dh: e,
                Mk: b - d
            };
            d = g - e.xc / 1E3
        }
        return {
            Dh: void 0,
            Mk: b - d
        }
    }

    function TC(a, b) {
        var c = gQ(a, b);
        if (c) return a.B.find(function(d) {
            return d.cpn === a.C.get(c)
        })
    }

    function gQ(a, b) {
        a = t(a.C.keys());
        for (var c = a.next(); !c.done; c = a.next())
            if (c = c.value, c.start <= b && c.end >= b) return c
    }
    h.seekTo = function(a, b, c) {
        a = void 0 === a ? 0 : a;
        c = void 0 === c ? null : c;
        this.J = !0;
        if (void 0 === b ? 0 : b) YP(this, a);
        else {
            b = this.api.hc();
            var d = b === this.T ? this.Z : null;
            hQ(this, !1);
            this.Ma = a;
            null != c && this.Ka.start(c);
            b && (this.Z = d || b.getPlayerState(), iQ(b), this.T = b)
        }
    };

    function YP(a, b) {
        var c = a.Z || a.api.hc().getPlayerState();
        hQ(a, !0);
        var d = b;
        R(a.l.experiments, "web_player_ssdai_seek_without_offset_killswitch") && (d = fQ(a, b).Mk);
        a.i.seekTo(d);
        a = a.api.hc();
        b = a.getPlayerState();
        EP(c) && !EP(b) ? a.playVideo() : Q(c, 4) && !Q(b, 4) && a.pauseVideo()
    }

    function hQ(a, b) {
        a.Ma = NaN;
        a.Ka.stop();
        a.T && b && jQ(a.T);
        a.Z = null;
        a.T = null
    }

    function kQ(a, b, c) {
        b = void 0 === b ? -1 : b;
        c = void 0 === c ? Infinity : c;
        a.L();
        for (var d = b, e = c, f = [], g = t(a.B), k = g.next(); !k.done; k = g.next()) k = k.value, (k.Nb < d || k.xc > e) && f.push(k);
        a.B = f;
        d = b;
        e = c;
        f = t(a.C.keys());
        for (g = f.next(); !g.done; g = f.next()) g = g.value, g.start >= d && g.end <= e && (a.i.removeCueRange(g), a.C.delete(g));
        d = fQ(a, b / 1E3);
        b = d.Dh;
        d = d.Mk;
        b && (d = 1E3 * d - b.Nb, e = b.Nb + d, a.L(), b.durationMs = d, b.xc = e, lQ(a, b));
        (b = fQ(a, c / 1E3).Dh) && a.Fc("Invalid clearEndTimeMs=" + c + " that falls during " + aQ(b) + ".Child playbacks can only have duration updated not their start.")
    }

    function lQ(a, b) {
        for (var c = null, d = t(a.C), e = d.next(); !e.done; e = d.next()) {
            e = t(e.value);
            var f = e.next().value;
            e.next().value === b.cpn && (c = f)
        }
        if (c) {
            a = t(a.D);
            for (d = a.next(); !d.done; d = a.next()) d = d.value, d.start === c.end ? d.start = b.Nb + b.durationMs : d.end === c.start && (d.end = b.Nb);
            c.start = b.Nb;
            c.end = b.Nb + b.durationMs
        }
    }
    h.Da = function() {
        hQ(this, !1);
        kQ(this);
        C.prototype.Da.call(this)
    };
    h.L = function() {};

    function aQ(a) {
        var b;
        return "playback={timelinePlaybackId=" + a.Zb + " video_id=" + (null === (b = a.videoData) || void 0 === b ? void 0 : b.videoId) + " durationMs=" + a.durationMs + " enterTimeMs=" + a.Nb + " parentReturnTimeMs=" + a.xc + "}"
    }

    function mQ(a, b, c) {
        c = a.X.get(c);
        c || (c = 0, a.l.N("web_player_ss_media_time_offset") && (c = 0 === a.i.getStreamTimeOffset() ? a.i.Ub() : a.i.getStreamTimeOffset()), c = fQ(a, b + c, 1).Dh);
        return c
    }
    h.Vi = function(a, b, c) {
        if (c && b) {
            var d = this.X.get(a);
            if (d) {
                d.locations || (d.locations = new Map);
                var e = Number(b.split(";")[0]);
                c = new dD(c);
                this.l.N("html5_high_res_logging") && this.i.Aa("sdai", "hdlredir." + b + "." + a + "." + gD(c));
                d.locations.set(e, c)
            }
        }
    };
    h.Vl = function(a, b, c, d) {
        var e, f, g, k = Number(c.split(";")[0]),
            l = 3 === d;
        if (nQ(this, b)) return this.l.N("html5_high_res_logging") && this.i.Aa("sdai", "gdu.undec.seg." + b + ".itag." + k), null;
        a = mQ(this, a, b);
        this.l.N("html5_high_res_logging") && this.i.Aa("sdai", "gdu.seg." + b + ".itag." + k + ".pb." + !!a);
        if (!a) return oQ(this, b, l), null;
        a.locations || (a.locations = new Map);
        if (!a.locations.has(k)) {
            var m = null === (f = null === (e = a.playerResponse) || void 0 === e ? void 0 : e.streamingData) || void 0 === f ? void 0 : f.adaptiveFormats;
            if (!m) return this.i.Aa("sdai",
                "gdu.noadpfmts.seg." + b + ".itag." + k), oQ(this, b, l), null;
            m = m.find(function(n) {
                return n.itag === k
            });
            if (!m || !m.url) return this.i.Aa("sdai", "gdu.nofmt.seg." + b + ".itag." + k), oQ(this, b, l), null;
            a.locations.set(k, new dD(m.url))
        }
        m = a.locations.get(k);
        if (!m) return this.i.Aa("sdai", "gdu.nourl.seg." + b + ".itag." + k), oQ(this, b, l), null;
        m = new kE(m);
        (c = Rma(this, b - 1, c, d)) && m.set("daistate", c);
        a.Nv && b >= a.Nv && m.set("skipsq", "" + a.Nv);
        (c = this.i.getVideoData().clientPlaybackNonce) && m.set("cpn", c);
        c = [];
        a.zi && (c = Sma(this, a.zi), 0 < c.length && m.set("acpns", c.join(",")));
        R(this.l.experiments, "html5_high_res_logging") && this.i.Aa("sdai",
            "ast." + a.Nb.toFixed(3) + ".alen." + a.durationMs.toFixed(3) + ".acpn." + a.cpn);
        l || this.X.set(b, a);
        this.ea && !R(this.l.experiments, "web_player_ssdai_acpns_aids_logging_killswitch") && (b = m.get("aids"), b = (null === (g = null === b || void 0 === b ? void 0 : b.split(",")) || void 0 === g ? void 0 : g.length) || 0, this.i.Aa("sdai", "acpns." + c.length + ".aids." + b), this.ea = !1);
        return mE(m)
    };
    h.Mv = function(a, b) {
        if (a = mQ(this, a, b)) {
            a = a.zi;
            this.i.Aa("sdai", "skip_adbreakid_" + a);
            for (var c = t(this.B), d = c.next(); !d.done; d = c.next()) d = d.value, d.zi === a && (d.Nv = b)
        }
    };

    function Rma(a, b, c, d) {
        var e, f;
        if (3 === d) return "";
        if (!R(a.l.experiments, "html5_ssdai_use_cached_daistate_killswitch")) {
            if (1 === d && a.ya.has(b)) return a.ya.get(b);
            if (2 === d && a.Ha.has(b)) return a.Ha.get(b)
        }
        d = null === (f = null === (e = a.i.getVideoData().i.i[c]) || void 0 === e ? void 0 : e.index) || void 0 === f ? void 0 : f.getStitchedVideoInfo(b);
        return d ? d.i : (a.i.Aa("sdai", "gdu.nodaist.seg." + b + ".itag." + c), "")
    }
    h.Qu = function(a, b, c, d, e, f, g) {
        g && (f ? this.Ha.set(a, g) : this.ya.set(a, g));
        if (f)
            if (d.length && e.length)
                for (a = 1E3 * b, d = t(d.entries()), b = d.next(); !b.done; b = d.next())
                    if (b = t(b.value), c = b.next().value, b = b.next().value, c = 1E3 * e[c], b === this.i.getVideoData().clientPlaybackNonce) pQ(this, a, a + c, !1), a += c;
                    else {
                        f = void 0;
                        g = t(this.C);
                        for (var k = g.next(); !k.done; k = g.next()) {
                            k = t(k.value);
                            var l = k.next().value;
                            k.next().value === b && (f = l)
                        }
                        f && f.start <= a && f.end >= a + c || (g = !1, f ? a < f.start ? f.start = a : f.end < a + c && (f.end = a + c) : (f = bQ(a, a + c),
                            this.C.set(f, b), g = !0), a = f.end, pQ(this, f.start, f.end, !0), g && this.i.addCueRange(f))
                    }
        else 5 !== c && 4 !== c || pQ(this, 1E3 * b, 1E3 * b + 5E3, !1)
    };

    function pQ(a, b, c, d) {
        if (d)
            for (d = 0; d < a.D.length;) {
                var e = a.D[d];
                if (e.start < b && e.end > c) {
                    var f = e.end;
                    e.end = b;
                    qQ(a, c, f)
                } else if (e.start >= b && e.start < c && e.end > c) e.start = c;
                else if (e.end > b && e.end <= c && e.start < b) e.end = b;
                else if (e.start >= b && e.end <= c) {
                    a.i.removeCueRange(e);
                    a.ra.includes(e) && a.Uf(e);
                    a.D.splice(d, 1);
                    continue
                }
                d++
            } else qQ(a, b, c)
    }

    function qQ(a, b, c) {
        b = bQ(b, c);
        c = !0;
        Mb(a.D, b, function(g, k) {
            return g.start - k.start
        });
        for (var d = 0; d < a.D.length;) {
            if (0 < d) {
                var e = a.D[d],
                    f = a.D[d - 1];
                if (Math.round(f.end / 1E3) >= Math.round(e.start / 1E3)) {
                    f.end = e.end;
                    e !== b ? a.i.removeCueRange(e) : c = !1;
                    a.D.splice(d, 1);
                    continue
                }
            }
            d++
        }
        c && a.i.addCueRange(b)
    }

    function oQ(a, b, c) {
        if (void 0 === c || !c) {
            c = t(a.Fa);
            for (var d = c.next(); !d.done; d = c.next()) {
                d = d.value;
                if (b >= d.start && b <= d.end) return;
                if (b === d.end + 1) {
                    d.end += 1;
                    return
                }
            }
            a.Fa.push(new Nma(b))
        }
    }

    function nQ(a, b) {
        a = t(a.Fa);
        for (var c = a.next(); !c.done; c = a.next())
            if (c = c.value, b >= c.start && b <= c.end) return !0;
        return !1
    }
    h.vt = function(a) {
        var b = 2;
        this.X.has(a) ? b = 0 : nQ(this, a) && (b = 1);
        return b
    };
    h.Fc = function(a) {
        this.i.Aa("timelineerror", a)
    };

    function Sma(a, b) {
        var c = [];
        a = t(a.B);
        for (var d = a.next(); !d.done; d = a.next()) d = d.value, d.zi === b && d.cpn && c.push(d.cpn);
        return c
    }

    function Pma(a, b, c) {
        if (a.U.length)
            for (var d = {}, e = t(a.U), f = e.next(); !f.done; d = {
                    uj: d.uj
                }, f = e.next()) {
                d.uj = f.value;
                f = 1E3 * d.uj.startSecs;
                var g = 1E3 * d.uj.durationSecs + f;
                if (b > f && b < g || c > f && c < g) return rb(a.Ta, function(k) {
                    return function(l) {
                        return l.identifier === k.uj.identifier
                    }
                }(d)) || (a.i.Aa("sdai", "adskip_" + b), a.Ta.push(d.uj)), d.uj
            }
    }

    function ZP(a, b) {
        R(a.l.experiments, "html5_high_res_logging") && a.i.Aa("sdai", "adf.0");
        a.I && a.K && a.U.push(a.K);
        a.K = null;
        a = a.i;
        if (a.l) {
            a = a.l;
            var c = a.u,
                d = a.currentTime;
            rQ(c, "sdai", "adfetchdone_" + b);
            b && !isNaN(c.C) && sQ(c, d, c.C, c.B);
            c.l = 4;
            er(a.K)
        }
    }
    h.Lt = function(a) {
        var b;
        rb(this.U, function(c) {
            return c.identifier === a.identifier
        }) ? (this.i.Aa("sdai", "timedoutcp.1"), this.G.start(0)) : this.G.isActive() ? this.i.Aa("sdai", "racingcp_" + (null === (b = this.K) || void 0 === b ? void 0 : b.identifier) + "_" + a.identifier) : (R(this.l.experiments, "html5_high_res_logging") && this.i.Aa("sdai", "adf.1"), this.I = !1, this.G.start(), this.ea = !0, this.K = a, this.ya.clear(), this.Ha.clear(), this.X.clear(), this.Fa = [])
    };
    h.Sk = function(a) {
        var b;
        (null === (b = this.K) || void 0 === b ? void 0 : b.identifier) === a && this.G.isActive() && (this.I = !1, this.G.stop(), this.ea = !1, ZP(this, !1))
    };
    var Qma = 0;

    function tQ(a, b) {
        this.stateData = void 0 === b ? null : b;
        this.state = a || 64
    }

    function uQ(a, b, c) {
        return b === a.state && c === a.stateData || void 0 !== b && (b & 128 && !c || b & 2 && b & 16) ? a : new tQ(b, c)
    }

    function vQ(a, b) {
        return uQ(a, a.state | b)
    }

    function wQ(a, b) {
        return uQ(a, a.state & ~b)
    }

    function xQ(a, b, c) {
        return uQ(a, (a.state | b) & ~c)
    }

    function Q(a, b) {
        return !!(a.state & b)
    }
    h = tQ.prototype;
    h.getData = function() {
        return this.stateData
    };

    function yQ(a, b) {
        return b.state === a.state && b.stateData === a.stateData
    }
    h.Kc = function() {
        return Q(this, 8) && !Q(this, 512) && !Q(this, 64) && !Q(this, 2)
    };

    function EP(a) {
        return Q(a, 8) && !Q(a, 2) && !Q(a, 1024)
    }

    function zQ(a) {
        return a.Kc() && !Q(a, 16) && !Q(a, 32)
    }

    function Tma(a) {
        return Q(a, 8) && Q(a, 16)
    }
    h.isCued = function() {
        return Q(this, 64) && !Q(this, 8) && !Q(this, 4)
    };

    function AQ(a) {
        return Q(a, 1) && !Q(a, 2)
    }
    h.isError = function() {
        return Q(this, 128)
    };
    h.isSuspended = function() {
        return Q(this, 512)
    };

    function BQ(a) {
        return Q(a, 128) ? -1 : Q(a, 2) ? 0 : Q(a, 64) ? -1 : Q(a, 1) && !Q(a, 32) ? 3 : Q(a, 8) ? 1 : Q(a, 4) ? 2 : -1
    }
    h.toString = function() {
        return "PSt." + this.state.toString(16)
    };

    function CQ(a, b, c) {
        C.call(this);
        var d = this;
        this.api = a;
        this.C = b;
        this.l = c;
        this.G = new Map;
        this.i = [];
        this.u = this.I = null;
        this.K = NaN;
        this.D = this.B = null;
        this.J = new dr(function() {
            DQ(d, d.K)
        });
        this.U = [];
        this.T = new dr(function() {
            var e = d.U.pop();
            if (e) {
                var f = e.Zb,
                    g = e.playerVars;
                e = e.playerType;
                g && (g.prefer_gapless = !0, d.api.preloadVideoByPlayerVars(g, e, NaN, "", f), d.U.length && er(d.T, 4500))
            }
        });
        this.events = new NI(this);
        c.getPlayerType();
        E(this, this.J);
        E(this, this.T);
        E(this, this.events);
        this.events.Ga(this.api, "crn_childplayback", this.Hd);
        this.events.Ga(this.api, "onQueuedVideoLoaded", this.pG);
        this.events.Ga(this.api, "presentingplayerstatechange", this.qC)
    }
    v(CQ, C);

    function Uma(a, b, c, d, e, f) {
        var g = a.l;
        f = void 0 === f ? e + d : f;
        if (e > f) return a.Fc("e.enterAfterReturn enterTimeMs=" + e + " is greater than parentReturnTimeMs=" + f.toFixed(3)), "";
        var k = 1E3 * g.getMinSeekableTime();
        if (e < k) return a.Fc("e.enterBeforeMinSeekable enterTimeMs=" + e + " is less than parentMinSeekableTimeMs=" + k), "";
        k = 1E3 * g.getDuration();
        if (f > k) return g = "e.returnAfterDuration parentReturnTimeMs=" + f.toFixed(3) + " is greater than parentDurationMs=" + k + ". And timestampOffset in seconds is " + g.Ub(), a.Fc(g), "";
        k = null;
        for (var l = t(a.i), m = l.next(); !m.done; m = l.next()) {
            m = m.value;
            if (e >= m.Nb && e < m.xc) return a.Fc("e.overlappingEnter"), a.L(), "";
            if (f <= m.xc && f > m.Nb) return a.Fc("e.overlappingReturn"), a.L(), "";
            if (f === m.Nb) return a.Fc("e.outOfOrder"), a.L(), "";
            e === m.xc && (k = m)
        }
        l = "childplayback_" + Vma++;
        m = {
            Vc: EQ(d, !0),
            wg: Infinity,
            target: null
        };
        var n = {
            Zb: l,
            playerVars: b,
            playerType: c,
            durationMs: d,
            Nb: e,
            xc: f,
            Ki: m
        };
        a.i = a.i.concat(n).sort(function(r, u) {
            return r.Nb - u.Nb
        });
        k ? FQ(a, k, {
            Vc: EQ(k.durationMs, !0),
            wg: a.C.N("timeline_manager_transition_killswitch") ? Infinity : k.Ki.wg,
            target: n
        }) : (b = {
            Vc: EQ(e, !1),
            wg: e,
            target: n
        }, a.G.set(b.Vc, b), a.L(), g.addCueRange(b.Vc));
        b = R(a.C.experiments, "html5_gapless_preloading");
        if (a.l === a.api.hc() && (g = 1E3 * g.getCurrentTime(), g >= n.Nb && g < n.xc)) {
            var p = a.api.hc().getPlayerState(),
                q = g - n.Nb;
            Zg(function() {
                GQ(a, n, q / 1E3, p)
            });
            b = !1
        }
        b && (a.U.unshift(n), er(a.T, 0));
        a.L();
        return l
    }

    function EQ(a, b) {
        return new TI(Math.max(0, a - 5E3), b ? 0x8000000000000 : a - 1, {
            namespace: "childplayback",
            priority: 7
        })
    }
    h = CQ.prototype;
    h.Hd = function(a) {
        if (this.l === this.api.hc()) {
            var b = this.G.get(a);
            if (b) {
                var c = b.target;
                this.L();
                HQ(this, c, b.wg, a)
            } else this.Fc("e.unexpectedCueRangeTriggered")
        } else if (b = this.i.find(function(e) {
                return e.Ki.Vc === a
            })) {
            var d = b.Ki;
            this.L();
            c = d.target;
            d = d.wg;
            c ? HQ(this, c, d, a) : Wma(this, b.xc, d, a)
        }
    };

    function Wma(a, b, c, d) {
        a.L();
        a.u = d;
        a.api.Hp(a.l, c, b)
    }

    function HQ(a, b, c, d) {
        a.L();
        a.u = d;
        d = b.Zb;
        var e = b.playerVars,
            f = b.playerType;
        a.I = b;
        e && a.api.enqueueVideoByPlayerVars(e, f, c, d)
    }
    h.pG = function() {
        var a = this.I;
        IQ(this);
        if (a) {
            JQ(this, a) || this.Fc("e.unexpectedPresentingPlayer");
            var b = this.api.hc();
            a = a.Ki;
            this.L();
            b.addCueRange(a.Vc)
        }
    };

    function FQ(a, b, c) {
        var d = b.Ki;
        b.Ki = c;
        JQ(a, b) && (c = a.api.hc(), d.Vc === a.u && IQ(a), a.L(), c.removeCueRange(d.Vc), b = b.Ki, a.L(), c.addCueRange(b.Vc))
    }

    function IQ(a) {
        a.I = null;
        a.u = null;
        a.api.jm() || a.api.clearQueue()
    }

    function KQ(a, b) {
        JQ(a, b) || a.Fc("e.childPlaybackIsNotPresenting");
        return b.xc === b.Nb + b.durationMs ? (a = a.api.hc(), b.Nb + 1E3 * a.getCurrentTime()) : b.xc
    }

    function LQ(a, b) {
        var c = 0;
        a = t(a.i);
        for (var d = a.next(); !d.done; d = a.next()) {
            d = d.value;
            var e = d.Nb / 1E3 + c,
                f = e + d.durationMs / 1E3;
            if (e > b) break;
            if (f > b) return {
                Dh: d,
                Mk: b - e
            };
            c = f - d.xc / 1E3
        }
        return {
            Dh: null,
            Mk: b - c
        }
    }
    h.seekTo = function(a, b, c) {
        a = void 0 === a ? 0 : a;
        c = void 0 === c ? null : c;
        if (void 0 === b ? 0 : b) DQ(this, a);
        else {
            b = this.api.hc();
            var d = b === this.B ? this.D : null;
            MQ(this, !1);
            this.K = a;
            null != c && this.J.start(c);
            b && (this.D = d || b.getPlayerState(), iQ(b), this.B = b)
        }
    };

    function DQ(a, b) {
        var c = a.D || a.api.hc().getPlayerState();
        MQ(a, !0);
        b = R(a.C.experiments, "html5_playbacktimeline_seektoinf_killswitch") || isFinite(b) ? b : dQ(a.l);
        var d = LQ(a, b);
        b = d.Dh;
        d = d.Mk;
        var e = b && !JQ(a, b) || !b && a.l !== a.api.hc(),
            f = 1E3 * d;
        f = a.u && a.u.start <= f && f <= a.u.end;
        !e && f || IQ(a);
        a.L();
        b ? (a.L(), GQ(a, b, d, c)) : (a.L(), NQ(a, d, c))
    }

    function NQ(a, b, c) {
        var d = a.l,
            e = a.api.hc();
        d !== e && a.api.gi(d.getPlayerType());
        d.seekTo(b, {
            dd: "application_timelinemanager"
        });
        OQ(a, c)
    }

    function GQ(a, b, c, d) {
        var e = JQ(a, b);
        if (!e) {
            a.api.gi(b.playerType);
            b.playerVars.prefer_gapless = !0;
            var f = new pK(a.C, b.playerVars);
            f.Zb = b.Zb;
            a.api.xo(f, b.playerType)
        }
        f = a.api.hc();
        e || (b = b.Ki, a.L(), f.addCueRange(b.Vc));
        f.seekTo(c, {
            dd: "application_timelinemanager"
        });
        OQ(a, d)
    }

    function OQ(a, b) {
        a = a.api.hc();
        var c = a.getPlayerState();
        EP(b) && !EP(c) ? a.playVideo() : Q(b, 4) && !Q(c, 4) && a.pauseVideo()
    }

    function MQ(a, b) {
        a.K = NaN;
        a.J.stop();
        a.B && b && jQ(a.B);
        a.D = null;
        a.B = null
    }

    function JQ(a, b) {
        a = a.api.hc();
        return !!a && a.getVideoData().Zb === b.Zb
    }
    h.qC = function(a) {
        iN(a, 128) && PQ(this)
    };

    function PQ(a) {
        var b = a.i.find(function(d) {
            return JQ(a, d)
        });
        if (b) {
            IQ(a);
            var c = new tQ(8);
            b = KQ(a, b) / 1E3;
            NQ(a, b, c);
            a.l.Aa("forceParentTransition", "presentingPlaybackError")
        }
    }
    h.isManifestless = function() {
        return lC(this.l.getVideoData())
    };

    function QQ(a, b, c) {
        b = void 0 === b ? -1 : b;
        c = void 0 === c ? Infinity : c;
        a.L();
        for (var d = b, e = c, f = t(a.G), g = f.next(); !g.done; g = f.next()) {
            var k = t(g.value);
            g = k.next().value;
            k = k.next().value;
            k.wg >= d && k.target && k.target.xc <= e && (a.l.removeCueRange(g), a.G.delete(g))
        }
        d = b;
        e = c;
        f = [];
        g = t(a.i);
        for (k = g.next(); !k.done; k = g.next())
            if (k = k.value, k.Nb >= d && k.xc <= e) {
                var l = a;
                l.I === k && IQ(l);
                JQ(l, k) && l.api.lj(k.playerType)
            } else f.push(k);
        a.i = f;
        d = LQ(a, b / 1E3);
        b = d.Dh;
        d = d.Mk;
        b && (d *= 1E3, RQ(a, b, d, b.xc === b.Nb + b.durationMs ? b.Nb + d : b.xc));
        (b = LQ(a,
            c / 1E3).Dh) && a.Fc("Invalid clearEndTimeMs=" + c + " that falls during playback={timelinePlaybackId=" + (b.Zb + " video_id=" + b.playerVars.video_id + " durationMs=" + b.durationMs + " enterTimeMs=" + b.Nb + " parentReturnTimeMs=" + b.xc + "}.Child playbacks can only have duration updated not their start."))
    }

    function RQ(a, b, c, d) {
        a.L();
        b.durationMs = c;
        b.xc = d;
        d = {
            Vc: EQ(c, !0),
            wg: c,
            target: null
        };
        FQ(a, b, d);
        JQ(a, b) && 1E3 * a.api.hc().getCurrentTime() > c && (b = KQ(a, b) / 1E3, c = a.api.hc().getPlayerState(), NQ(a, b, c))
    }
    h.Da = function() {
        MQ(this, !1);
        QQ(this);
        C.prototype.Da.call(this)
    };
    h.L = function() {};
    h.Fc = function(a) {
        this.l.Aa("timelineerror", a)
    };
    var Vma = 0;
    var Xma = "MWEB TVHTML5 TVHTML5_AUDIO TVHTML5_CAST TVHTML5_KIDS TVHTML5_SIMPLY TVHTML5_SIMPLY_EMBEDDED_PLAYER TVHTML5_UNPLUGGED TVHTML5_VR TV_UNPLUGGED_CAST WEB WEB_CREATOR WEB_EMBEDDED_PLAYER WEB_EXPERIMENTS WEB_GAMING WEB_HEROES WEB_KIDS WEB_LIVE_STREAMING WEB_MUSIC WEB_MUSIC_ANALYTICS WEB_MUSIC_EMBEDDED_PLAYER WEB_REMIX WEB_UNPLUGGED WEB_UNPLUGGED_ONBOARDING WEB_UNPLUGGED_OPS WEB_UNPLUGGED_PUBLIC".split(" ");

    function Yma(a) {
        a && "web" !== a && Xma.includes(a)
    };

    function SQ(a, b) {
        C.call(this);
        var c = this;
        this.data = [];
        this.u = a || NaN;
        this.l = b || null;
        this.i = new dr(function() {
            TQ(c);
            UQ(c)
        });
        E(this, this.i)
    }
    v(SQ, C);
    SQ.prototype.get = function(a) {
        TQ(this);
        var b = this.data.find(function(c) {
            return c.key === a
        });
        return b ? b.value : null
    };
    SQ.prototype.set = function(a, b, c) {
        this.remove(a, !0);
        TQ(this);
        a = {
            key: a,
            value: b,
            expire: Infinity
        };
        c && isFinite(c) && (c *= 1E3, a.expire = K() + c);
        for (this.data.push(a); this.data.length > this.u;)(c = this.data.shift()) && VQ(this, c, !0);
        UQ(this)
    };
    SQ.prototype.remove = function(a, b) {
        b = void 0 === b ? !1 : b;
        var c = this.data.find(function(d) {
            return d.key === a
        });
        c && (VQ(this, c, b), maa(this.data, function(d) {
            return d.key === a
        }), UQ(this))
    };

    function TQ(a) {
        var b = K();
        a.data.forEach(function(c) {
            c.expire < b && VQ(a, c, !0)
        });
        a.data = ob(a.data, function(c) {
            return !(c.expire < b)
        })
    }

    function VQ(a, b, c) {
        c && a.l && a.l(b.value)
    }

    function UQ(a) {
        a.i.stop();
        var b = Infinity;
        for (var c = t(a.data), d = c.next(); !d.done; d = c.next()) d = d.value, d.expire < b && (b = d.expire);
        b && isFinite(b) && (b = Math.max(b - Date.now(), 100), a.i.start(b))
    }
    SQ.prototype.Da = function() {
        var a = this;
        C.prototype.Da.call(this);
        this.data.forEach(function(b) {
            VQ(a, b, !0)
        });
        this.data = []
    };

    function WQ(a) {
        this.data = window.Float32Array ? new Float32Array(a) : Array(a);
        this.l = this.i = a - 1
    }
    WQ.prototype.add = function(a) {
        this.i = (this.i + 1) % this.data.length;
        this.data[this.i] = a
    };

    function XQ(a) {
        return a.data[a.i] || 0
    }
    WQ.prototype.forEach = function(a) {
        for (var b = this.i + 1; b < this.data.length; b++) a(this.data[b] || 0);
        for (b = 0; b <= this.i; b++) a(this.data[b] || 0)
    };
    WQ.prototype.clear = function() {
        for (var a = this.data.length, b = 0; b < a; b++) this.data[b] = 0;
        this.l = this.i = this.data.length - 1
    };

    function YQ(a) {
        C.call(this);
        this.B = a;
        this.i = new Map;
        this.l = new dr(this.u, 250, this);
        E(this, this.l);
        this.start()
    }
    v(YQ, C);
    YQ.prototype.start = function() {
        this.l.start()
    };
    YQ.prototype.stop = function() {
        this.l.stop()
    };
    YQ.prototype.clear = function() {
        for (var a = t(this.i.values()), b = a.next(); !b.done; b = a.next()) b.value.clear()
    };

    function ZQ(a, b) {
        var c;
        if (null === (c = a.i.get(b)) || void 0 === c) a = void 0;
        else {
            a = c.buffer;
            for (b = []; a.l !== a.i;) a.l = (a.l + 1) % a.data.length, b.push(a.data[a.l]);
            a = b
        }
        return a || []
    }

    function $Q(a, b) {
        var c;
        return (null === (c = a.i.get(b)) || void 0 === c ? void 0 : XQ(c.buffer)) || 0
    }
    YQ.prototype.u = function() {
        for (var a = t(this.B), b = a.next(); !b.done; b = a.next()) {
            var c = t(b.value);
            b = c.next().value;
            c = c.next().value;
            this.i.has(b) || this.i.set(b, new aR(Zma.has(b)));
            this.i.get(b).update(c())
        }
        this.l.start()
    };
    var Zma = new Set(["networkactivity"]);

    function aR(a) {
        this.l = a;
        this.i = NaN;
        this.buffer = new WQ(100)
    }
    aR.prototype.update = function(a) {
        this.l ? (this.buffer.add(a - this.i || 0), this.i = a) : this.buffer.add(a)
    };
    aR.prototype.clear = function() {
        this.buffer.clear();
        this.i = 0
    };

    function bR(a) {
        var b = /codecs="([^"]*)"/.exec(a.mimeType);
        return b && b[1] ? b[1] + " (" + a.Ib() + ")" : a.Ib()
    };
    var cR = {},
        dR = (cR.STOP_EVENT_PROPAGATION = "html5-stop-propagation", cR.IV_DRAWER_ENABLED = "ytp-iv-drawer-enabled", cR.IV_DRAWER_OPEN = "ytp-iv-drawer-open", cR.MAIN_VIDEO = "html5-main-video", cR.VIDEO_CONTAINER = "html5-video-container", cR.HOUSE_BRAND = "house-brand", cR);

    function $ma(a, b) {
        $y(a, "version", b)
    };

    function eR(a) {
        YM.call(this, {
            V: "div",
            fd: ["html5-video-player"],
            Va: {
                tabindex: "-1",
                id: a.webPlayerContextConfig ? a.webPlayerContextConfig.rootElementId : a.config.attrs.id
            },
            Na: [{
                V: "div",
                Ca: dR.VIDEO_CONTAINER,
                Va: {
                    "data-layer": "0"
                }
            }]
        });
        var b = this;
        this.app = a;
        this.vf = this.Wa(dR.VIDEO_CONTAINER);
        this.xm = new Ml(0, 0, 0, 0);
        this.Xa = null;
        this.Oq = new Ml(0, 0, 0, 0);
        this.Jt = this.Bu = this.Au = NaN;
        this.St = this.Tx = !1;
        this.Ps = NaN;
        this.fu = !1;
        this.dispatchEvent = function() {};
        this.Lu = function() {
            b.element.focus()
        };
        var c = this.element.addEventListener,
            d = this.element.removeEventListener;
        this.addEventListener = function(f, g, k) {
            c.apply(b.element, [f, g, k])
        };
        this.removeEventListener = function(f, g, k) {
            d.apply(b.element, [f, g, k])
        };
        var e = a.Y();
        e.transparentBackground && this.Vj("ytp-transparent");
        "0" === e.controlsType && this.Vj("ytp-hide-controls");
        rr(this.element, "ytp-exp-bottom-control-flexbox");
        e.N("html5_player_bottom_linear_gradient") && rr(this.element, "ytp-linear-gradient-bottom-experiment");
        e.N("web_player_bigger_buttons_like_mobile") && rr(this.element, "ytp-exp-bigger-button-like-mobile");
        e.N("enable_new_paid_product_placement") && "WEB_EMBEDDED_PLAYER" !== e.deviceParams.c && rr(this.element, "ytp-exp-ppp-update");
        $ma(this.element,
            a.Rn());
        this.iB = !0;
        rC(e) && "blazer" !== e.playerStyle && window.matchMedia && ("desktop-polymer" === e.playerStyle ? (window.matchMedia("(max-width: 656px)"), window.matchMedia("(max-width: 856px)"), window.matchMedia("(max-width: 999px)"), window.matchMedia("(min-width: 1720px) and (min-height: 980px)"), window.matchMedia("(min-width: 1294px) and (min-height: 630px)"), window.matchMedia("(min-width: 1000px)")) : (window.matchMedia("(max-width: 656px)"), window.matchMedia("(min-width: 1720px) and (min-height: 980px)"),
            window.matchMedia("(min-width: 1294px) and (min-height: 630px)"), window.matchMedia("(min-width: 657px)")));
        this.GB = e.useFastSizingOnWatchDefault;
        this.Cy = new zg(NaN, NaN);
        ana(this);
        this.Ga(a.La, "onMutedAutoplayChange", this.cG)
    }
    v(eR, YM);

    function ana(a) {
        function b() {
            a.Xa && fR(a);
            gR(a) !== a.fu && a.resize()
        }

        function c(g, k) {
            a.updateVideoData(k)
        }

        function d(g) {
            g.getVideoData() && a.updateVideoData(g.getVideoData())
        }

        function e() {
            a.Oq = new Ml(0, 0, 0, 0);
            a.xm = new Ml(0, 0, 0, 0)
        }
        var f = a.app.La;
        f.addEventListener("initializingmode", e);
        f.addEventListener("videoplayerreset", d);
        f.addEventListener("videodatachange", c);
        f.addEventListener("presentingplayerstatechange", b);
        Qf(a, function() {
            f.removeEventListener("initializingmode", e);
            f.removeEventListener("videoplayerreset", d);
            f.removeEventListener("videodatachange", c);
            f.removeEventListener("presentingplayerstatechange", b)
        })
    }
    h = eR.prototype;
    h.Vj = function(a) {
        for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
        cfa(this.element, b)
    };
    h.kf = function() {
        this.Xa && (this.Xa.removeEventListener("focus", this.Lu), Sg(this.Xa), this.Xa = null)
    };
    h.Ss = function() {
        this.Ea();
        var a = this.app.Y();
        a.Wd || this.Vj("tag-pool-enabled");
        "gvn" === a.playerStyle && (this.Vj("ytp-gvn"), this.element.style.backgroundColor = "transparent");
        this.Ps = Ru("yt-dom-content-change", this.resize, this);
        this.Ga(window, "orientationchange", this.resize, this);
        this.Ga(window, "resize", this.resize, this)
    };
    h.Dv = function(a) {
        eC(this.app.Y());
        this.St = !a;
        fR(this)
    };
    h.resize = function() {
        if (this.Xa) {
            var a = this.Ye();
            if (!a.isEmpty()) {
                var b = this.xm;
                b = !Ag(a, new zg(b.width, b.height));
                hR(this);
                b && (this.xm.width = a.width, this.xm.height = a.height);
                this.app.La.W("resize", this.getPlayerSize())
            }
        }
    };
    h.updateVideoData = function(a) {
        if (this.Xa) {
            var b = this.app.Y();
            uu && (this.Xa.setAttribute("x-webkit-airplay", "allow"), a.title ? this.Xa.setAttribute("title", a.title) : this.Xa.removeAttribute("title"));
            zL(a) ? this.Xa.setAttribute("disableremoteplayback", "") : this.Xa.removeAttribute("disableremoteplayback");
            this.Xa.setAttribute("controlslist", "nodownload");
            b.yh && a.videoId && (this.Xa.poster = a.Yy("default.jpg"))
        }
        b = EL(a, "yt:bgcolor");
        this.vf.style.backgroundColor = b ? b : "";
        this.Au = fB(EL(a, "yt:stretch"));
        this.Bu = fB(EL(a,
            "yt:crop"), !0);
        tr(this.element, "ytp-dni", a.Ha);
        this.resize()
    };
    h.setGlobalCrop = function(a) {
        this.Jt = fB(a, !0);
        this.resize()
    };
    h.setCenterCrop = function(a) {
        this.Tx = a;
        this.resize()
    };
    h.di = function() {};
    h.getPlayerSize = function() {
        return this.app.La.isFullscreen() && wu() ? new zg(window.outerWidth, window.outerHeight) : new zg(window.innerWidth, window.innerHeight)
    };
    h.Ye = function() {
        return this.getPlayerSize()
    };
    h.getVideoAspectRatio = function() {
        return isNaN(this.Au) ? iR(this) : this.Au
    };

    function iR(a) {
        var b = P(a.app);
        if (b = b ? b.getVideoData() : null) {
            if (JL(b) || KL(b) || ML(b)) return 16 / 9;
            if (mL(b) && b.l.i) return a = b.l.videoInfos[0].video, jR(a.width, a.height)
        }
        return (a = a.Xa) ? jR(a.videoWidth, a.videoHeight) : 16 / 9
    }
    h.getVideoContentRect = function(a) {
        var b = this.Ye();
        a = kR(this, b, this.getVideoAspectRatio(), a);
        return new Ml((b.width - a.width) / 2, (b.height - a.height) / 2, a.width, a.height)
    };

    function kR(a, b, c, d) {
        var e = c,
            f = jR(b.width, b.height);
        a.Tx ? e = c < f ? Infinity : 0 : isNaN(a.Jt) ? isNaN(a.Bu) || (e = a.Bu) : e = a.Jt;
        isFinite(e) || (e = Math.max(c, f));
        a = e > f ? {
            width: b.width,
            height: b.width / e,
            aspectRatio: e
        } : e < f ? {
            width: b.height * e,
            height: b.height,
            aspectRatio: e
        } : {
            width: b.width,
            height: b.height,
            aspectRatio: f
        };
        d || isNaN(c) || (c > e ? a.width = a.height * c : c < e && (a.height = a.width / c), a.aspectRatio = c);
        return a
    }

    function jR(a, b) {
        return 1 > Math.abs(GA * b - a) || 1 > Math.abs(GA / a - b) ? GA : a / b
    }

    function gR(a) {
        if (1 === a.app.getAppState()) return !1;
        if (6 === a.app.getAppState()) return !0;
        var b = P(a.app);
        if (!b || b.Xi()) return !1;
        var c = a.app.La.Nd();
        a = !Q(c, 2) || !R(a.app.Y().experiments, "html5_leanback_gapless_elem_display_killswitch") && b && b.getVideoData().ea;
        b = Q(c, 1024);
        return c && a && !b && !c.isCued()
    }

    function fR(a) {
        var b = "3" === a.app.Y().controlsType && !a.St && gR(a) && !a.app.Co || !1;
        a.Xa.controls = b;
        a.Xa.tabIndex = b ? 0 : -1;
        b ? a.Xa.removeEventListener("focus", a.Lu) : R(a.app.Y().experiments, "disable_focus_redirect") || a.Xa.addEventListener("focus", a.Lu)
    }

    function hR(a) {
        var b = a.Ye(),
            c = 1,
            d = kR(a, b, a.getVideoAspectRatio()),
            e = Hu();
        if (gR(a)) {
            var f = iR(a);
            var g = isNaN(f) || oe || se && Oe;
            uu && !Fe(601) ? f = d.aspectRatio : g = g || "3" === a.app.Y().controlsType;
            g ? g = new Ml(0, 0, b.width, b.height) : (c = d.aspectRatio / f, g = new Ml((b.width - d.width / c) / 2, (b.height - d.height) / 2, d.width / c, d.height), 1 === c && Oe && (f = g.width - b.height * f, 0 < f && (g.width += f, g.height += f)));
            if (e || a.iB) a.Xa.style.display = "";
            a.fu = !0
        } else {
            g = -b.height;
            uu ? g *= window.devicePixelRatio : pe && (g -= window.screen.height);
            g = new Ml(0,
                g, b.width, b.height);
            if (e || a.iB) a.Xa.style.display = "none";
            a.fu = !1
        }
        if (!Nl(a.Oq, g)) {
            a.Oq = g;
            rI(a.app.Y()) ? (a.Xa.style.setProperty("width", g.width + "px", "important"), a.Xa.style.setProperty("height", g.height + "px", "important")) : im(a.Xa, new zg(g.width, g.height));
            f = new ug(g.left, g.top);
            e = a.Xa;
            var k = Math.round(f.x);
            k instanceof ug ? (g = k.x, f = k.y) : (g = k, f = Math.round(f.y));
            e.style.left = jm(g, !1);
            e.style.top = jm(f, !1)
        }
        b = new Ml((b.width - d.width) / 2, (b.height - d.height) / 2, d.width, d.height);
        Nl(a.xm, b) || (a.xm = b);
        $l(a.Xa,
            "transform", 1 === c ? "" : "scaleX(" + c + ")")
    }
    h.cG = function() {
        fR(this)
    };
    h.setUseFastSizingOnWatch = function(a) {
        this.GB !== a && (this.GB = a, this.resize())
    };
    h.setInternalSize = function(a) {
        Ag(this.Cy, a) || (this.Cy = a, this.resize())
    };
    h.Da = function() {
        this.Ps && Tu(this.Ps);
        this.kf();
        YM.prototype.Da.call(this)
    };
    var bna = {
        bJ: 3611,
        QH: 27686,
        SH: 85013,
        TH: 23462,
        VH: 42016,
        WH: 62407,
        XH: 26926,
        UH: 43781,
        ZH: 51236,
        aI: 79148,
        bI: 50160,
        cI: 77504,
        xI: 87907,
        yI: 18630,
        zI: 54445,
        AI: 80935,
        FI: 105675,
        GI: 37521,
        HI: 47786,
        JI: 98349,
        KI: 123695,
        OI: 6827,
        QI: 29434,
        ZI: 7282,
        aJ: 124448,
        iJ: 32276,
        hJ: 76278,
        jJ: 93911,
        lJ: 106531,
        mJ: 27259,
        nJ: 27262,
        oJ: 27263,
        rJ: 21759,
        sJ: 27107,
        tJ: 62936,
        uJ: 49568,
        wJ: 38408,
        xJ: 80637,
        yJ: 68727,
        zJ: 68728,
        AJ: 80353,
        BJ: 80356,
        CJ: 74610,
        DJ: 45707,
        EJ: 83962,
        FJ: 83970,
        GJ: 46713,
        HJ: 89711,
        IJ: 74612,
        JJ: 93265,
        KJ: 74611,
        MJ: 113533,
        NJ: 93252,
        OJ: 99357,
        QJ: 94521,
        RJ: 114252,
        SJ: 113532,
        TJ: 94522,
        PJ: 94583,
        UJ: 88E3,
        VJ: 93253,
        WJ: 93254,
        XJ: 94387,
        YJ: 94388,
        ZJ: 93255,
        aK: 97424,
        LJ: 72502,
        bK: 110111,
        cK: 76019,
        eK: 117092,
        fK: 117093,
        dK: 89431,
        gK: 110466,
        hK: 77240,
        iK: 60508,
        jK: 105350,
        kK: 73393,
        lK: 113534,
        mK: 92098,
        nK: 84517,
        oK: 83759,
        pK: 80357,
        qK: 86113,
        rK: 72598,
        sK: 72733,
        tK: 107349,
        uK: 124275,
        vK: 118203,
        wK: 117431,
        xK: 117429,
        yK: 117430,
        zK: 117432,
        AK: 120080,
        BK: 117259,
        CK: 121692,
        DK: 97615,
        EK: 31402,
        FK: 84774,
        GK: 95117,
        HK: 98930,
        IK: 98931,
        JK: 98932,
        KK: 43347,
        LK: 45474,
        MK: 100352,
        NK: 84758,
        OK: 98443,
        PK: 117985,
        QK: 74613,
        RK: 74614,
        SK: 64502,
        TK: 74615,
        UK: 74616,
        VK: 122224,
        WK: 74617,
        XK: 77820,
        YK: 74618,
        ZK: 93278,
        aL: 93274,
        bL: 93275,
        cL: 93276,
        dL: 22110,
        eL: 29433,
        fL: 120541,
        jL: 82047,
        kL: 113550,
        lL: 75836,
        mL: 75837,
        oL: 42352,
        qL: 84512,
        rL: 76065,
        tL: 75989,
        xL: 16623,
        yL: 32594,
        zL: 27240,
        BL: 32633,
        JL: 74858,
        ML: 3945,
        LL: 16989,
        NL: 45520,
        OL: 25488,
        PL: 25492,
        QL: 25494,
        SL: 55760,
        TL: 14057,
        UL: 18451,
        VL: 57204,
        WL: 57203,
        XL: 17897,
        YL: 57205,
        ZL: 18198,
        aM: 17898,
        bM: 17909,
        cM: 43980,
        dM: 46220,
        lM: 11721,
        mM: 49954,
        nM: 96369,
        oM: 3854,
        vM: 56251,
        wM: 25624,
        CM: 16906,
        DM: 99999,
        FM: 68172,
        GM: 27068,
        JM: 47973,
        KM: 72773,
        LM: 26970,
        MM: 26971,
        OM: 96805,
        PM: 17752,
        QM: 73233,
        RM: 109512,
        SM: 22256,
        TM: 14115,
        UM: 22696,
        VM: 89278,
        WM: 89277,
        XM: 109513,
        YM: 43278,
        ZM: 43459,
        aN: 43464,
        bN: 89279,
        cN: 43717,
        dN: 55764,
        eN: 22255,
        fN: 89281,
        gN: 40963,
        hN: 43277,
        iN: 43442,
        jN: 91824,
        lN: 120137,
        nN: 96367,
        oN: 36850,
        pN: 72694,
        qN: 37414,
        rN: 36851,
        tN: 124863,
        sN: 121343,
        uN: 73491,
        vN: 54473,
        wN: 43375,
        xN: 46674,
        KN: 32473,
        ON: 72901,
        PN: 72906,
        QN: 50947,
        RN: 50612,
        SN: 50613,
        TN: 50942,
        UN: 84938,
        VN: 84943,
        WN: 84939,
        XN: 84941,
        YN: 84944,
        ZN: 84940,
        aO: 84942,
        bO: 35585,
        cO: 51926,
        dO: 79983,
        eO: 63238,
        fO: 18921,
        gO: 63241,
        hO: 57893,
        iO: 41182,
        jO: 33424,
        kO: 22207,
        lO: 42993,
        mO: 36229,
        nO: 22206,
        oO: 22205,
        pO: 18993,
        qO: 19001,
        rO: 18990,
        sO: 18991,
        tO: 18997,
        uO: 18725,
        vO: 19003,
        wO: 36874,
        xO: 44763,
        yO: 33427,
        zO: 67793,
        AO: 22182,
        BO: 37091,
        CO: 34650,
        DO: 50617,
        EO: 47261,
        FO: 22287,
        GO: 25144,
        HO: 97917,
        IO: 62397,
        JO: 125598,
        KO: 36961,
        LO: 108035,
        MO: 27426,
        NO: 27857,
        OO: 27846,
        PO: 27854,
        QO: 69692,
        RO: 61411,
        SO: 39299,
        TO: 38696,
        UO: 62520,
        VO: 36382,
        WO: 108701,
        XO: 50663,
        YO: 36387,
        ZO: 14908,
        aP: 37533,
        bP: 105443,
        cP: 61635,
        dP: 62274,
        eP: 65702,
        fP: 65703,
        gP: 65701,
        hP: 76256,
        jP: 37671,
        kP: 49953,
        qP: 36216,
        rP: 28237,
        sP: 39553,
        tP: 29222,
        uP: 26107,
        vP: 38050,
        wP: 26108,
        yP: 120745,
        xP: 26109,
        zP: 26110,
        AP: 66881,
        BP: 28236,
        CP: 14586,
        FP: 57929,
        GP: 74723,
        HP: 44098,
        IP: 44099,
        JP: 23528,
        KP: 61699,
        LP: 59149,
        MP: 101951,
        NP: 97346,
        OP: 118051,
        PP: 95102,
        QP: 64882,
        RP: 119505,
        SP: 63595,
        TP: 63349,
        UP: 95101,
        VP: 75240,
        WP: 27039,
        XP: 68823,
        YP: 21537,
        ZP: 83464,
        aQ: 75707,
        bQ: 83113,
        cQ: 101952,
        dQ: 101953,
        fQ: 79610,
        hQ: 125755,
        iQ: 24402,
        jQ: 24400,
        kQ: 32925,
        lQ: 57173,
        nQ: 122502,
        oQ: 64423,
        pQ: 64424,
        qQ: 33986,
        rQ: 100828,
        sQ: 129089,
        tQ: 21409,
        FQ: 11070,
        GQ: 11074,
        HQ: 17880,
        IQ: 14001,
        KQ: 30709,
        LQ: 30707,
        MQ: 30711,
        NQ: 30710,
        OQ: 30708,
        JQ: 26984,
        PQ: 63648,
        QQ: 63649,
        TQ: 51879,
        YQ: 111059,
        aR: 5754,
        bR: 20445,
        eR: 110386,
        gR: 113746,
        hR: 66557,
        mR: 17310,
        nR: 28631,
        oR: 21589,
        pR: 68012,
        qR: 60480,
        rR: 31571,
        vR: 76980,
        zR: 41577,
        AR: 45469,
        CR: 38669,
        DR: 13768,
        ER: 13777,
        GR: 62985,
        HR: 4724,
        IR: 59369,
        JR: 43927,
        KR: 43928,
        MR: 12924,
        NR: 100355,
        QR: 56219,
        RR: 27669,
        SR: 10337,
        PR: 47896,
        TR: 122629,
        UR: 121258,
        VR: 107598,
        WR: 127991,
        XR: 96639,
        YR: 107536,
        ZR: 96661,
        aS: 96658,
        bS: 116646,
        cS: 121122,
        dS: 96660,
        eS: 127738,
        fS: 127083,
        gS: 104443,
        hS: 96659,
        iS: 106442,
        kS: 63667,
        lS: 63668,
        mS: 63669,
        oS: 78314,
        rS: 55761,
        sS: 127098,
        wS: 96368,
        xS: 67374,
        yS: 48992,
        CS: 49956,
        GS: 31961,
        HS: 26388,
        MS: 23811,
        NS: 5E4,
        OS: 126250,
        QS: 96370,
        RS: 47355,
        SS: 47356,
        US: 37935,
        WS: 45521,
        XS: 21760,
        YS: 83769,
        ZS: 49977,
        aT: 49974,
        bT: 93497,
        cT: 93498,
        dT: 34325,
        fT: 115803,
        gT: 123707,
        hT: 100081,
        iT: 35309,
        jT: 68314,
        kT: 25602,
        lT: 100339,
        nT: 59018,
        oT: 18248,
        pT: 50625,
        qT: 9729,
        rT: 37168,
        sT: 37169,
        tT: 21667,
        uT: 16749,
        vT: 18635,
        wT: 39305,
        xT: 18046,
        AT: 53969,
        BT: 8213,
        DT: 93926,
        GT: 102852,
        HT: 110099,
        IT: 22678,
        JT: 69076,
        NT: 100856,
        PT: 17736,
        QT: 3832,
        RT: 55759,
        ST: 64031,
        TT: 93044,
        VT: 93045,
        XT: 34388,
        ZT: 17657,
        aU: 17655,
        bU: 39579,
        cU: 39578,
        dU: 77448,
        eU: 8196,
        fU: 11357,
        gU: 69877,
        hU: 8197,
        jU: 82039
    };

    function lR() {
        this.l = new Set;
        this.i = new Set;
        this.u = new Map
    }
    lR.prototype.clear = function() {
        this.l.clear();
        this.i.clear();
        this.u.clear()
    };
    La(lR);

    function mR() {
        this.B = [];
        this.C = [];
        this.i = [];
        this.l = new Set;
        this.D = new Map
    }

    function nR() {
        mR.i || (mR.i = new mR);
        return mR.i
    }

    function cna(a, b, c) {
        c = void 0 === c ? 0 : c;
        b.then(function(d) {
            var e, f;
            a.l.has(c) && a.u && a.u();
            var g = Xx(c),
                k = Vx(c);
            g && k && (d.csn = g, (null === (e = d.response) || void 0 === e ? 0 : e.trackingParams) && qy(a.client, g, k, [Rx(d.response.trackingParams)]), (null === (f = d.playerResponse) || void 0 === f ? 0 : f.trackingParams) && qy(a.client, g, k, [Rx(d.playerResponse.trackingParams)]))
        })
    }

    function oR(a, b) {
        pR(a, Rx(b), void 0, void 0)
    }

    function pR(a, b, c, d) {
        d = void 0 === d ? 0 : d;
        if (a.l.has(d)) a.B.push([b, c]);
        else {
            var e = Xx(d);
            c = c || Vx(d);
            e && c && qy(a.client, e, c, [b])
        }
    }
    mR.prototype.clickCommand = function(a, b, c) {
        c = Xx(void 0 === c ? 0 : c);
        if (!a.clickTrackingParams || !c) return !1;
        uy(this.client, c, Rx(a.clickTrackingParams), b);
        return !0
    };

    function dna(a, b, c) {
        c = void 0 === c ? {} : c;
        a.l.add(c.layer || 0);
        a.u = function() {
            qR(a, b, c);
            var f = Vx(c.layer);
            if (f) {
                for (var g = t(a.B), k = g.next(); !k.done; k = g.next()) k = k.value, pR(a, k[0], k[1] || f, c.layer);
                f = t(a.C);
                for (g = f.next(); !g.done; g = f.next()) {
                    var l = g.value;
                    g = void 0;
                    g = void 0 === g ? 0 : g;
                    k = Xx(g);
                    var m = l[0] || Vx(g);
                    k && m && (g = a.client, l = l[1], l = {
                        csn: k,
                        ve: m.getAsJson(),
                        clientData: l
                    }, m = {
                        wd: Yx(k),
                        ci: k
                    }, "UNDEFINED_CSN" == k ? ry("visualElementStateChanged", l, m) : g ? pv("visualElementStateChanged", l, g, m) : iw("visualElementStateChanged",
                        l, m))
                }
            }
        };
        Xx(c.layer) || a.u();
        if (c.ly)
            for (var d = t(c.ly), e = d.next(); !e.done; e = d.next()) cna(a, e.value, c.layer);
        else ky(Error("Delayed screen needs a data promise."))
    }

    function qR(a, b, c) {
        c = void 0 === c ? {} : c;
        c.layer || (c.layer = 0);
        var d = void 0 !== c.TG ? c.TG : c.layer;
        var e = Xx(d);
        d = Vx(d);
        var f;
        d && (void 0 !== c.parentCsn ? f = {
            clientScreenNonce: c.parentCsn,
            visualElement: d
        } : e && "UNDEFINED_CSN" !== e && (f = {
            clientScreenNonce: e,
            visualElement: d
        }));
        var g, k = G("EVENT_ID");
        I("screen_manager_log_servlet_ei") && "UNDEFINED_CSN" === e && k && (g = {
            servletData: {
                serializedServletEventId: k
            }
        });
        try {
            var l = a.client;
            k = f;
            var m = c.gy,
                n = c.wd,
                p = Xga(),
                q = {
                    csn: p,
                    pageVe: (new Qx({
                        veType: b,
                        youtubeData: g
                    })).getAsJson()
                };
            k && k.visualElement ? q.implicitGesture = {
                parentCsn: k.clientScreenNonce,
                gesturedVe: k.visualElement.getAsJson()
            } : k && ly(new lw("newScreen() parent element does not have a VE - rootVe", b));
            m && (q.cloneCsn = m);
            m = {
                wd: n,
                ci: p
            };
            l ? pv("screenCreated", q, l, m) : iw("screenCreated", q, m);
            Uv(ny, new my(p));
            var r = p
        } catch (u) {
            Vga(u, {
                Po: b,
                rootVe: d,
                parentVisualElement: void 0,
                xU: e,
                SU: f,
                gy: c.gy
            });
            ky(u);
            return
        }
        Zx(r, b, c.layer, c.wd);
        if ((b = e && "UNDEFINED_CSN" !== e && d) && !(b = I("screen_manager_skip_hide_killswitch"))) {
            a: {
                b = t(Object.values(Mga));
                for (f = b.next(); !f.done; f = b.next())
                    if (Xx(f.value) == e) {
                        b = !0;
                        break a
                    } b = !1
            }
            b = !b
        }
        b && ty(a.client, e, d, !0);
        a.i[a.i.length - 1] && !a.i[a.i.length - 1].csn && (a.i[a.i.length - 1].csn = r || "");
        Yz("csn", r);
        lR.getInstance().clear();
        d = Vx(c.layer);
        e && "UNDEFINED_CSN" !== e && d && (I("web_mark_root_visible") || I("music_web_mark_root_visible")) && sy(r, d, void 0);
        a.l.delete(c.layer || 0);
        a.u = void 0;
        e = t(a.D);
        for (r = e.next(); !r.done; r = e.next()) r = t(r.value), b = r.next().value, r.next().value.has(c.layer) && d && pR(a, b, d, c.layer)
    };

    function rR() {
        this.csn = Xx();
        this.clientPlaybackNonce = null;
        this.elements = new Set;
        this.u = new Set;
        this.i = new Set;
        this.l = new Set
    }
    rR.prototype.click = function(a, b) {
        this.elements.has(a);
        this.i.has(a);
        var c = Xx();
        c && a.visualElement && uy(I("use_default_events_client") ? void 0 : Jx, c, a.visualElement, b)
    };
    rR.prototype.Ii = function(a, b, c) {
        var d = this;
        c = void 0 === c ? !1 : c;
        this.elements.has(a);
        this.elements.add(a);
        Qf(b, function() {
            d.elements.has(a);
            d.elements.delete(a);
            d.u.delete(a);
            d.i.delete(a);
            d.l.delete(a)
        });
        c && this.l.add(a)
    };

    function sR(a) {
        if (a.csn !== Xx())
            if ("UNDEFINED_CSN" === a.csn) a.csn = Xx();
            else {
                var b = Xx(),
                    c = Vx();
                if (b && c) {
                    a.csn = b;
                    for (var d = t(a.elements), e = d.next(); !e.done; e = d.next())(e = e.value.visualElement) && e.isClientVe() && qy(I("use_default_events_client") ? void 0 : Jx, b, c, [e])
                }
                if (b)
                    for (a = t(a.i), e = a.next(); !e.done; e = a.next())(c = e.value.visualElement) && c.isClientVe() && sy(b, c, void 0)
            }
    }
    rR.prototype.Fv = function(a, b) {
        this.elements.has(a);
        b && (a.visualElement = Rx(b))
    };
    rR.prototype.gq = function(a) {
        return this.elements.has(a)
    };

    function tR(a, b, c, d, e) {
        YM.call(this, {
            V: "div",
            Ca: "ytp-horizonchart"
        });
        this.D = b;
        this.sampleCount = c;
        this.B = d;
        this.C = e;
        this.index = 0;
        this.heightPx = -1;
        this.l = this.ctx = null;
        this.i = Math.round(a / c);
        this.element.style.width = this.i * this.sampleCount + "px";
        this.element.style.height = this.D + "em"
    }
    v(tR, YM);

    function uR(a, b) {
        if (-1 === a.heightPx) {
            var c = null;
            try {
                c = Og("CANVAS"), a.ctx = c.getContext("2d")
            } catch (e) {}
            if (a.ctx) {
                var d = a.i * a.sampleCount;
                a.l = c;
                a.l.width = d;
                a.l.style.width = d + "px";
                a.element.appendChild(a.l)
            } else
                for (a.sampleCount = Math.floor(a.sampleCount / 4), a.i *= 4, c = 0; c < a.sampleCount; c++) d = Og("SPAN"), d.style.width = a.i + "px", d.style.left = a.i * c + "px", a.element.appendChild(d)
        }
        c = a.element.clientHeight || 24;
        c !== a.heightPx && (a.heightPx = c, a.ctx && (c = 1 < (window.devicePixelRatio || 1) ? 2 : 1, a.l.height = a.heightPx * c, a.l.style.height =
            a.heightPx + "px", a.ctx.scale(1, c)));
        b = t(b);
        for (c = b.next(); !c.done; c = b.next()) a.setValue(a.index, c.value), a.index = (a.index + 1) % a.sampleCount;
        b = a.index;
        a.ctx ? a.ctx.clearRect(b * a.i, 0, a.i, a.heightPx) : (a = a.element.children[b], a.style.height = "0px", a.style.borderTop = "")
    }
    tR.prototype.setValue = function(a, b) {
        for (var c = 0; c + 2 < this.B.length && this.B[c + 1] < b;) c++;
        b = Math.min(1, (b - this.B[c]) / (this.B[c + 1] - this.B[c]));
        if (this.ctx) this.ctx.fillStyle = this.C[c], this.ctx.fillRect(a * this.i, 0, this.i, this.heightPx), this.ctx.fillStyle = this.C[c + 1], this.ctx.fillRect(a * this.i, this.heightPx * (1 - b), this.i, this.heightPx);
        else {
            a = this.element.children[a];
            var d = window.devicePixelRatio || 1;
            b = Math.min(this.heightPx, Math.round(this.heightPx * b * d) / d) || 0;
            a.style.height = b + "px";
            a.style.backgroundColor =
                this.C[c + 1];
            a.style.borderTop = "solid " + (this.heightPx - b) + "px " + this.C[c]
        }
    };

    function vR(a) {
        YM.call(this, {
            V: "div",
            Ca: "html5-video-info-panel",
            Na: [null, {
                V: "div",
                Ca: "html5-video-info-panel-content",
                Na: [{
                        V: "div",
                        Na: [{
                            V: "div",
                            eb: "Video ID / sCPN"
                        }, {
                            V: "span",
                            eb: "{{video_id_and_cpn}}"
                        }]
                    }, {
                        V: "div",
                        Na: [{
                            V: "div",
                            eb: "Viewport / Frames"
                        }, {
                            V: "span",
                            eb: "{{dims_and_frames}}"
                        }]
                    }, {
                        V: "div",
                        Na: [{
                            V: "div",
                            eb: "Current / Optimal Res"
                        }, {
                            V: "span",
                            eb: "{{resolution}}"
                        }]
                    }, {
                        V: "div",
                        Na: [{
                            V: "div",
                            eb: "Volume / Normalized"
                        }, {
                            V: "span",
                            eb: "{{volume}}"
                        }]
                    }, {
                        V: "div",
                        Na: [{
                            V: "div",
                            eb: "Codecs"
                        }, {
                            V: "span",
                            eb: "{{codecs}}"
                        }]
                    },
                    {
                        V: "div",
                        Va: {
                            style: "{{shader_info_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "Shader Info"
                        }, {
                            V: "span",
                            eb: "{{shader_info}}"
                        }]
                    }, {
                        V: "div",
                        Va: {
                            style: "{{color_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "Color"
                        }, {
                            V: "span",
                            eb: "{{color}}"
                        }]
                    }, {
                        V: "div",
                        Va: {
                            style: "{{drm_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "Protected"
                        }, {
                            V: "span",
                            eb: "{{drm}}"
                        }]
                    }, {
                        V: "div",
                        Va: {
                            style: "{{bandwidth_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "Connection Speed"
                        }, {
                            V: "span",
                            Na: [{
                                V: "span",
                                eb: "{{bandwidth_chart}}"
                            }, {
                                V: "span",
                                eb: "{{bandwidth_kbps}}"
                            }]
                        }]
                    }, {
                        V: "div",
                        Va: {
                            style: "{{network_activity_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "Network Activity"
                        }, {
                            V: "span",
                            Na: [{
                                V: "span",
                                eb: "{{network_activity_chart}}"
                            }, {
                                V: "span",
                                eb: "{{network_activity_bytes}}"
                            }]
                        }]
                    }, {
                        V: "div",
                        Na: [{
                            V: "div",
                            eb: "Buffer Health"
                        }, {
                            V: "span",
                            Na: [{
                                V: "span",
                                eb: "{{buffer_health_chart}}"
                            }, {
                                V: "span",
                                eb: "{{buffer_health_seconds}}"
                            }]
                        }]
                    }, {
                        V: "div",
                        Va: {
                            style: "{{live_latency_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "Live Latency"
                        }, {
                            V: "span",
                            Na: [{
                                V: "span",
                                eb: "{{live_latency_chart}}"
                            }, {
                                V: "span",
                                eb: "{{live_latency_secs}}"
                            }]
                        }]
                    }, {
                        V: "div",
                        Va: {
                            style: "{{live_mode_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "Live Mode"
                        }, {
                            V: "span",
                            eb: "{{live_mode}}"
                        }]
                    }, {
                        V: "div",
                        Va: {
                            style: "{{playback_categories_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "Playback Categories"
                        }, {
                            V: "span",
                            eb: "{{playback_categories}}"
                        }]
                    }, {
                        V: "div",
                        Na: [{
                            V: "div",
                            eb: "Mystery Text"
                        }, {
                            V: "span",
                            eb: "{{debug_info}}"
                        }]
                    }, {
                        V: "div",
                        Va: {
                            style: "{{cotn_and_local_media_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "COTN / Local Media"
                        }, {
                            V: "span",
                            eb: "{{cotn_and_local_media}}"
                        }]
                    }, {
                        V: "div",
                        Va: {
                            style: "{{release_style}}"
                        },
                        Na: [{
                            V: "div",
                            eb: "Player Release"
                        }, {
                            V: "span",
                            eb: "{{release_name}}"
                        }]
                    }
                ]
            }]
        });
        var b = [0, 18750, 37500, 81250, 128E3, 256E3, 512E3, 2048E3, 8192E3, 32768E3, 131072E3],
            c = "#000 #d53e4f #f46d43 #fdae61 #fee08b #e6f598 #abdda4 #66c2a5 #3288bd #124588 #fff".split(" "),
            d = b.map(function(e) {
                return e / 4
            });
        this.i = new tR(300, 1, 150, b, c);
        E(this, this.i);
        this.zc("bandwidth_chart", this.i);
        this.B = new tR(300, 1, 150, [0, 3, 10, 15, 30, 60, 90], "#000 #66c2a5 #abdda4 #e6f598 #fdae61 #f46d43 #a8330f".split(" "));
        E(this, this.B);
        this.zc("live_latency_chart", this.B);
        this.l = new tR(300, 1, 150, [0, 15, 30, 60, 90, 120], "#000 #fdae61 #e6f598 #66c2a5 #3288bd #fff".split(" "));
        E(this, this.l);
        this.zc("buffer_health_chart", this.l);
        this.C = new tR(300, 1, 150, d, c);
        E(this, this.C);
        this.zc("network_activity_chart", this.C);
        this.delay = new dr(this.nh,
            500, this);
        E(this, this.delay);
        this.D = a
    }
    v(vR, YM);
    h = vR.prototype;
    h.show = function() {
        YM.prototype.show.call(this);
        this.nh()
    };
    h.hide = function() {
        YM.prototype.hide.call(this);
        this.delay.stop()
    };
    h.stop = function() {
        this.delay.stop()
    };
    h.start = function() {
        this.delay.isActive() || this.nh()
    };
    h.nh = function() {
        var a = K(),
            b = this.D.getStatsForNerds();
        uR(this.i, b.bandwidth_samples);
        uR(this.C, b.network_activity_samples);
        uR(this.B, b.live_latency_samples);
        uR(this.l, b.buffer_health_samples);
        this.update(b);
        a = 25 < K() - a ? 5E3 : 500;
        this.delay.start(a)
    };

    function ena(a) {
        a = void 0 === a ? {} : a;
        var b = a.Ud,
            c = a.Re,
            d = a.getLastSegmentNumber,
            e = a.Yl;
        this.Gh = a.Gh;
        this.Ud = b;
        this.Re = c;
        this.getLastSegmentNumber = d;
        this.Yl = e
    }

    function wR(a, b) {
        if (0 > b) return !0;
        var c = a.getLastSegmentNumber();
        return b < c || b === c && !a.Gh || b === c && (a = a.Yl()) && b === a.oa ? !0 : !1
    }

    function fna(a, b, c) {
        if (!wR(a, b)) return 0;
        if (!a.Ud || !isNaN(c) && 0 < c) return 2;
        if (0 > b) return 1;
        c = a.getLastSegmentNumber();
        return b < c || b === c && (a = a.Yl()) && b === a.oa && !a.pending ? 2 : 1
    };

    function gna(a) {
        this.schedule = a;
        this.i = NaN;
        this.l = [];
        this.totalBytes = 0
    };

    function xR(a, b, c, d) {
        var e = void 0 === d ? {} : d;
        d = void 0 === e.Of ? !1 : e.Of;
        var f = void 0 === e.Og ? !1 : e.Og,
            g = e.df,
            k = e.oa;
        e = e.od;
        this.schedule = a;
        this.Kn = b;
        this.Ka = c;
        this.Z = null;
        this.ea = this.i = NaN;
        this.Ha = 0;
        this.T = this.ya = this.l = this.B = NaN;
        this.va = this.X = this.isActive = !1;
        this.u = 0;
        this.K = NaN;
        this.I = this.D = Infinity;
        this.U = NaN;
        this.Fa = !1;
        this.G = this.J = NaN;
        this.C = this.ra = void 0;
        this.Of = d;
        this.Og = f;
        this.df = g;
        this.oa = k;
        this.od = e;
        this.snapshot = cI(this.schedule)
    }

    function yR(a) {
        return {
            rt: (a.now() - a.i).toFixed(),
            lb: a.l.toFixed(),
            pt: (1E3 * a.K).toFixed(),
            pb: a.Kn.toFixed(),
            stall: (1E3 * a.u).toFixed(),
            elbowTime: (a.ea - a.i).toFixed(),
            elbowBytes: a.Ha.toFixed()
        }
    }

    function hna(a) {
        a.i = a.now();
        a.B = a.i;
        a.l = 0;
        a.ya = a.i;
        a.T = 0;
        a.C && (a.C = []);
        a.X = !1;
        a.va = !1;
        a.u = 0;
        a.snapshot = cI(a.schedule);
        a.D = Infinity;
        a.I = Infinity;
        zR(a);
        AR(a, a.i);
        a.K = (a.J - a.i) / 1E3;
        a.G = NaN;
        a.ra = void 0
    }

    function BR(a) {
        !a.G && a.Z && (a.G = a.Z(), 3 === a.G && (a.ra = new gna(a.schedule)));
        return a.G
    }
    xR.prototype.deactivate = function() {
        this.isActive && (this.isActive = !1)
    };

    function CR(a, b, c) {
        var d = (b - a.B) / 1E3,
            e = c - a.l,
            f = BR(a);
        if (3 === f && e) {
            var g = a.ra;
            g.l.push({
                KU: e,
                fV: isNaN(g.i) ? NaN : b - g.i,
                TU: b
            });
            g.i = b
        }
        a.isActive ? 1 === f && 0 < e && (.2 < d || 1024 > e ? (a.u += d, .2 < d && FR(a, .05, e)) : FR(a, d, e), a.va = !0) : DR(a, c) && (1 === f && (f = (b - a.i) / 1E3, ER(a) || a.Og || (g = a.schedule, g.G.Te(1, f), dI(g))), a.ea = b, a.Ha = c, a.isActive = !0);
        a.Og || aI(a.schedule, d, e);
        a.B = b;
        a.l = c
    }

    function FR(a, b, c) {
        if (!a.Og) {
            b = Math.max(b, .05);
            a = a.schedule;
            var d = b;
            a.u.Te(void 0 === b ? d : b, c / d);
            a.B = Ss()
        }
    }

    function GR(a, b, c) {
        c = Math.round(c / 1024);
        a.C && a.C.push(HR(b - a.ya, c - a.T));
        a.ya = b;
        a.T = c
    }

    function DR(a, b) {
        return b ? a.df && 1 !== BR(a) ? !0 : 2048 <= b : !1
    }

    function IR(a) {
        return DR(a, a.l)
    }

    function zR(a) {
        a.U = a.i + 1E3 * a.snapshot.delay;
        a.Fa = !1
    }

    function JR(a, b) {
        if (a.df && void 0 !== a.oa && void 0 !== a.od) {
            var c = Math,
                d = c.min,
                e = a.D;
            var f = a.df;
            var g = a.i;
            if (wR(f, a.oa)) f = b;
            else {
                var k = 0;
                f.Ud && (k = .2);
                f = g + 1E3 * (f.Re + k)
            }
            a.D = d.call(c, e, f);
            c = Math;
            d = c.min;
            e = a.I;
            f = a.df;
            g = a.i;
            k = fna(f, a.oa, a.od);
            2 !== k && (b = k ? b : g + 1E3 * f.Re, f.Ud && (b += 1E3 * f.Re));
            a.I = d.call(c, e, b);
            a.D <= a.i ? zR(a) : (a.U = a.D, a.Fa = !0)
        }
    }

    function ER(a) {
        a.df && JR(a, a.now());
        return a.Fa
    }

    function AR(a, b) {
        b = void 0 === b ? a.now() : b;
        if (a.df) {
            JR(a, b);
            var c = a.G ? a.df ? 1 !== BR(a) : !1 : a.D !== a.I;
            if (c) {
                if (c = a.I, b < c) {
                    a.J = a.I;
                    return
                }
            } else c = a.D;
            c = Math.max(c, a.U)
        } else c = a.U;
        var d = a.Kn - a.l;
        0 > d && (d = 0);
        d = 1E3 * (d * a.snapshot.stall + d / a.snapshot.byterate);
        d = IR(a) ? d + b : d + Math.max(b, c);
        a.J = d
    }
    xR.prototype.now = function() {
        return K()
    };

    function HR(a, b) {
        for (var c = ""; 4095 < a;) c += HR(4095, 0), a -= 4095;
        for (; 4095 < b;) c += HR(a, 4095), b -= 4095, a = 0;
        return c + ("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_".charAt(a >> 6 & 63) + "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_".charAt(a & 63) + "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_".charAt(b >> 6 & 63) + "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_".charAt(b & 63))
    };

    function KR(a, b) {
        this.schedule = a;
        this.policy = b;
        this.playbackRate = 1
    }
    KR.prototype.setPlaybackRate = function(a) {
        this.playbackRate = Math.max(1, a)
    };
    KR.prototype.getPlaybackRate = function() {
        return this.playbackRate
    };

    function LR(a, b, c, d, e) {
        e = void 0 === e ? !1 : e;
        a.policy.sf && (d = Math.abs(d));
        d /= a.playbackRate;
        var f = 1 / xB(a.schedule);
        var g = .9 * (d - a.policy.Ce);
        g = Math.max(g, $H(a.schedule) + 2048 * f);
        c = g / f * a.policy.ym / (b + c);
        c = Math.min(c, d);
        a.policy.Lf && e && (c = Math.max(c, a.policy.Lf));
        return MR(a, c, b)
    }

    function MR(a, b, c) {
        return Math.ceil(Math.max(Math.max(65536, a.policy.Yk * c), Math.min(Math.min(a.policy.T, 31 * c), Math.ceil(b * c)))) || 65536
    }

    function NR(a) {
        return xB(a.schedule, !a.policy.Ej, a.policy.Kk)
    }

    function OR(a) {
        return NR(a) / a.playbackRate
    };

    function PR(a, b, c, d, e) {
        S.call(this);
        this.l = a;
        this.videoTrack = b;
        this.audioTrack = c;
        this.policy = d;
        this.D = e;
        this.seekCount = this.u = 0;
        this.i = !1;
        this.C = null;
        this.B = this.l.isManifestless && !this.l.yd
    }
    v(PR, S);
    PR.prototype.seek = function(a) {
        a !== this.u && (this.seekCount = 0);
        this.u = a;
        var b = this.videoTrack.l,
            c = this.audioTrack.l,
            d = this.audioTrack.sb,
            e = QR(this, this.videoTrack, a, this.videoTrack.sb);
        d = QR(this, this.audioTrack, this.policy.Ha ? a : e, d);
        a = Math.max(a, e, d);
        this.i = !0;
        this.l.isManifestless && (RR(this, this.videoTrack, b), RR(this, this.audioTrack, c));
        b = this.D;
        b.u = null;
        b.D = !1;
        return a
    };

    function RR(a, b, c) {
        var d = b.i.index,
            e = b.l.oa;
        cF(d, e) || c && c.oa === e ? (a.L(), b.C = !cF(d, e), b.I = !cF(d, e)) : (a.L(), b.C = !0, b.I = !0)
    }

    function QR(a, b, c, d) {
        a.L();
        if (!b.i.pd()) return 0 !== c && SR(b), c;
        var e = TR(b, c);
        if (!isNaN(e)) return a.L(), e;
        UR(b);
        return d && (a = iG(d.Ed(), c), !isNaN(a)) ? (VR(b, a + ina), c) : VR(b, c)
    }

    function jna(a, b, c, d) {
        if (a.i && a.u) {
            var e = kna(a, b, c);
            if (-1 !== e) {
                a.videoTrack.C = !1;
                a.audioTrack.C = !1;
                a.B = !0;
                eh(function() {
                    WR(a, "seekreason", "reason.behindMinSq;tgt." + e);
                    YR(a, e)
                });
                return
            }
        }
        c ? a.videoTrack.I = !1 : a.audioTrack.I = !1;
        var f = a.policy.rh || !a.B;
        if (0 <= TR(a.videoTrack, a.u) && 0 <= TR(a.audioTrack, a.u) && f) {
            if (a.videoTrack.C || a.audioTrack.C) a.L(), WR(a, "iterativeSeeking", "done;count." + a.seekCount, !1);
            a.videoTrack.C = !1;
            a.audioTrack.C = !1
        } else d && eh(function() {
            if (a.B || !a.policy.Fa) ZR(a);
            else {
                var g = b.startTime,
                    k = b.duration,
                    l = c ? a.videoTrack.C : a.audioTrack.C;
                l = !a.Ea() && l;
                var m = -1 !== a.videoTrack.D && -1 !== a.audioTrack.D,
                    n = !a.videoTrack.I && !a.audioTrack.I;
                l && m && n && (a.u >= g && a.u < g + k + .1 ? ((c ?
                    a.videoTrack : a.audioTrack).C = !1, a.videoTrack.C || a.audioTrack.C || (a.L(), WR(a, "iterativeSeeking", "done;count." + a.seekCount, !1), a.seekCount = 0)) : 8 > a.seekCount ? (a.seekCount++, a.L(), WR(a, "iterativeSeeking", "inprogress;count." + a.seekCount + ";target." + a.u + ";actual." + g + ";duration." + k + ";isVideo." + c, !1), a.seek(a.u)) : (a.L(), WR(a, "iterativeSeeking", "incomplete;count." + a.seekCount + ";target." + a.u + ";actual." + g, !1), a.seekCount = 0, a.videoTrack.C = !1, a.audioTrack.C = !1, a.W("seekplayerrequired", g + .1, !0)))
            }
        })
    }

    function kna(a, b, c) {
        if (!a.i) return -1;
        c = (c ? a.videoTrack : a.audioTrack).i.index;
        var d = c.getSegmentNumberForTime(a.u);
        return (cF(c, a.l.Xc) || b.oa === a.l.Xc) && d < a.l.Xc ? (a.L(), a.l.getMinSeekableTime()) : -1
    }

    function YR(a, b) {
        !a.Ea() && a.B && -1 !== a.videoTrack.D && -1 !== a.audioTrack.D && (a.B = !1, a.L(), a.W("seekplayerrequired", b + .1, !0))
    }

    function ZR(a) {
        var b = -1 !== a.videoTrack.D,
            c = -1 !== a.audioTrack.D;
        if (!b || !c)
            if (b = !b && a.videoTrack.Oe(), c = !c && a.audioTrack.Oe(), b || c)
                if (c = b ? a.videoTrack : a.audioTrack, b = b ? a.audioTrack : a.videoTrack, c.D = c.Oe().info.oa, -1 !== b.D) {
                    var d = Math.max(b.i.index.getStartTime(b.D), c.i.index.getStartTime(c.D));
                    a.policy.Bg && WG(a.l) && 432E3 < Math.abs(d - WG(a.l)) && lja(a.l);
                    WR(a, "seekreason", "reason.initManifestlessSync;tgt." + d);
                    eh(function() {
                        return YR(a, d)
                    });
                    a.C && (a.C.resolve(d + .1), a.C = null)
                }
    }

    function WR(a, b, c, d) {
        a.W("ctmp", b, c, void 0 === d ? !1 : d)
    }
    PR.prototype.L = function() {};
    var ina = 2 / 24;

    function $R() {
        this.u = this.B = 0;
        this.ticks = {}
    }
    $R.prototype.gb = function() {
        this.tick("gv")
    };
    $R.prototype.tick = function(a, b) {
        this.ticks[a] = b ? window.performance.timing.navigationStart + b : K()
    };

    function aS(a, b, c, d, e) {
        S.call(this);
        this.J = a;
        this.policy = b;
        this.G = c;
        this.T = d;
        this.u = this.U = this.i = null;
        this.D = !1;
        this.B = this.C = NaN;
        this.I = 0;
        this.K = null;
        this.l = e ? 1 : 0
    }
    v(aS, S);
    aS.prototype.Mu = function(a, b) {
        if (this.K) {
            var c = [],
                d = [],
                e = void 0;
            a.i && (e = a.i, c = e.l, d = e.u, e = e.i);
            this.K.Qu(a.oa, a.startTime, this.l, c, d, b, e)
        }
        if (b)
            if (this.policy.Z) {
                b = this.U && a.oa === this.U.oa + 1;
                this.U = a;
                c = this.i && a.oa === this.i.oa + 1;
                c = this.i && b && c && "stop" !== this.i.Jc.event && "predictStart" !== this.i.Jc.event;
                d = a.Jc || null;
                e = this.G.i.index.getLastSegmentNumber() <= a.oa;
                var f = this.J.isManifestless && this.policy.kb;
                d ? (this.i = {
                    Jc: d,
                    oa: a.oa
                }, e ? bS(this, d, a.oa) : f && (b ? c ? bS(this, d, a.oa) : "continue" === d.event || "stop" ===
                    d.event ? cS(this, a) : bS(this, d, a.oa) : bS(this, d, a.oa))) : c && cS(this, a)
            } else b = this.i && this.u && this.i.oa === this.u.oa - 1, b = this.i && b && "stop" !== this.i.Jc.event && "predictStart" !== this.i.Jc.event, this.u && this.u.oa < a.oa && (b ? cS(this, this.u) : this.D = !0), this.u = a
    };

    function bS(a, b, c) {
        a.policy.zb && (b.startSecs += isNaN(a.I) ? 0 : a.I);
        a = a.J;
        a.K.push(b);
        a.W("cuepointsadded", c)
    }
    aS.prototype.Iq = function(a, b) {
        var c = this.G.i.index.getLastSegmentNumber() <= b,
            d = this.J.isManifestless && this.policy.kb;
        this.i = {
            Jc: a,
            oa: b
        };
        this.policy.kb && this.D && this.u && (this.D = !1, "continue" !== a.event && "stop" !== a.event || cS(this, this.u));
        this.u && this.u.oa === b && (this.u = null);
        (c || d) && bS(this, a, b)
    };

    function sQ(a, b, c, d) {
        dS(a.G, d, c, b);
        dS(a.T, d, c, b);
        YG(a.J, d, !0);
        YG(a.J, d, !1);
        rQ(a, "sdai", "rollbk2_seg" + d + "_rbt" + c.toFixed(3) + "_lt" + b.toFixed(3))
    }

    function cS(a, b) {
        if (a.i) {
            a.u = null;
            a.D = !1;
            var c = a.i.Jc.durationSecs - (b.startTime + a.I - a.i.Jc.startSecs);
            0 >= c || (c = new wD(a.i.Jc.startSecs - (a.policy.zb && !isNaN(a.I) ? a.I : 0), c, a.i.Jc.context, a.i.Jc.identifier, "stop", a.i.Jc.i + 1E3 * b.duration), rQ(a, "cuepointdiscontinuity", "segNum." + b.oa), a.policy.Z ? bS(a, c, b.oa) : a.Iq(c, b.oa))
        }
    }

    function eS(a, b, c, d) {
        (void 0 === d ? 0 : d) ? (a.l = 1, rQ(a, "sdai", "rststate_skth")) : 0 < b && 5 <= Math.abs(b - c) && 4 === a.l && (rQ(a, "sdai", "rststate_skt_" + b.toFixed(2) + "_ct_" + c.toFixed(2)), a.l = 5)
    }

    function rQ(a, b, c) {
        a.W("ctmp", b, c, !1)
    };

    function fS() {
        this.length = 3;
        this.count = this.index = 0;
        this.buffer = Array(3)
    }
    fS.prototype.push = function(a) {
        this.buffer[this.index % this.length] = a;
        this.index = (this.index + 1) % this.length;
        this.count !== this.length && this.count++
    };

    function lna(a, b) {
        for (var c = {}, d = 0, e = a.index; e < a.index + a.length; e++) {
            var f = a.buffer[e % a.length];
            if (void 0 !== f) {
                f = Object.entries(b(f));
                f = t(f);
                for (var g = f.next(); !g.done; g = f.next()) {
                    var k = t(g.value);
                    g = k.next().value;
                    k = k.next().value;
                    c[d + "_" + g] = k
                }
                d++
            }
        }
        return c
    };

    function gS(a, b, c) {
        this.audio = a;
        this.video = b;
        this.reason = c
    };

    function hS(a, b, c, d, e, f) {
        f = void 0 === f ? [] : f;
        this.ra = a;
        this.U = b;
        this.policy = c;
        this.C = d;
        this.D = e;
        this.Ha = f;
        this.u = UA;
        this.i = this.G = null;
        this.J = -1;
        this.ya = !1;
        this.nextVideo = this.l = null;
        this.B = [];
        this.X = {};
        this.videoIndex = 0;
        this.va = this.K = this.I = !1;
        this.T = 0;
        this.Z = new Set;
        this.Fa = !1;
        this.ea = null;
        this.u = UA;
        this.Z = new Set
    }

    function mna(a, b, c) {
        iS(a, b);
        nna(a, c);
        a.G = a.l;
        ona(a);
        pna(a);
        a.i = a.nextVideo;
        a.G = a.l;
        return jS(a)
    }

    function qna(a, b) {
        if (RA(a.u, b)) return null;
        if ("m" === b.reason && b.isLocked()) return a.L(), iS(a, b), a.videoIndex = a.B.length - 1, kS(a), lS(a), a.K = a.K || a.i !== a.nextVideo, a.i = a.nextVideo, new gS(a.l, a.i, b.reason);
        "r" === b.reason && (a.J = -1);
        iS(a, b);
        lS(a);
        if ("r" === b.reason && a.nextVideo === a.i) return new gS(a.l, a.nextVideo, b.reason);
        a.i && a.nextVideo && mS(a, a.i.info) < mS(a, a.nextVideo.info) && (b = a.u.reason, a.I = a.I || "r" === b || "u" === b || "v" === b);
        return null
    }

    function rna(a, b) {
        if (b.info.video) {
            if (a.i !== b) return a.i = b, jS(a)
        } else a.va = a.G !== b, a.G = b;
        return null
    }

    function nS(a, b) {
        b.J = K();
        a.J = -1;
        iS(a, a.u)
    }

    function oS(a) {
        for (var b = K() - 6E4, c = t(a.D.videoInfos), d = c.next(); !d.done; d = c.next())
            if (a.C.i[d.value.id].J > b) return !0;
        return !1
    }

    function pS(a, b) {
        return new gS(a.G, a.i, b || a.u.reason)
    }

    function qS(a) {
        return a.u.isLocked()
    }

    function jS(a) {
        a.ya ? a.ya = !1 : a.J = K();
        a.I = !1;
        return new gS(a.G, a.i, a.u.reason)
    }

    function rS(a) {
        var b = !qS(a) && -1 < a.J && 8E3 > K() - a.J,
            c = a.nextVideo && 3 * mS(a, a.nextVideo.info) < OR(a.U);
        if (!b || c) kS(a), lS(a), a.K = a.K || a.nextVideo !== a.i
    }

    function sS(a, b) {
        var c = {};
        b = t(b);
        for (var d = b.next(); !d.done; d = b.next())
            if ((d = d.value) && d.video) {
                var e = d.video.i,
                    f = c[e],
                    g = f && SF(f) && f.video.i > a.policy.ra,
                    k = e <= a.policy.ra ? SF(d) : QF(d);
                if (!f || g || k) c[e] = d
            } return c
    }

    function iS(a, b) {
        a.u = b;
        var c = a.D.videoInfos;
        if (!qS(a)) {
            var d = K() - 6E4;
            c = ob(c, function(m) {
                if (m.qb > this.policy.qb) return this.L(), !1;
                m = this.C.i[m.id];
                var n = m.info.i;
                return this.policy.wh && this.Z.has(n) || m.J > d ? !1 : 4 < m.l.l || 4 < m.I ? (this.L(), !1) : m.C ? !1 : !0
            }, a);
            if (oS(a)) {
                var e = ob(c, function(m) {
                    m = m.Ib();
                    return "140" === m || "134" === m || "243" === m
                });
                e.length && (c = e)
            }
        }
        c.length || (c = a.D.videoInfos);
        e = ob(c, b.B, b);
        if (a.policy.wj || a.policy.dh) {
            var f = "m" === b.reason || "s" === b.reason;
            a.policy.Dj && se && Oe && (!f || 1080 > b.i) && (e = e.filter(function(m) {
                return !!m && !!m.video && !!m.l
            }));
            if (!qG() && 0 < e.length) {
                var g = (b = e[0]) && b.video && b.video.i;
                if (g) {
                    b = e.filter(function(m) {
                        return !!m && !!m.video && m.video.i === g
                    });
                    var k = sS(a, b)[g].i;
                    e = e.filter(function(m) {
                        return !!m && !!m.video && m.i === k
                    })
                }
            }
            var l = sS(a, e);
            e = e.filter(function(m) {
                return !!m && !!m.video && m.i === l[m.video.i].i
            })
        }
        e.length || (e = [c[0]]);
        e.sort(function(m, n) {
            return mS(a, m) - mS(a, n)
        });
        for (c = 1; c < e.length; c++) b = e[c - 1], f = e[c], b.video.width > f.video.width ? (a.L(), Ab(e, c), c--) : mS(a, b) * a.policy.l > mS(a, f) && (a.L(), Ab(e, c - 1), c--);
        c = e[e.length - 1];
        a.Fa = !!a.i && !!a.i.info && a.i.info.i !== c.i;
        a.L();
        a.B = e;
        gla(a.policy, c)
    }

    function nna(a, b) {
        b ? a.l = a.C.i[b] : (b = (b = tb(a.D.i, function(c) {
            return !!c.Ob && c.Ob.isDefault
        })) || a.D.i[0], a.l = a.C.i[b.id]);
        kS(a)
    }

    function tS(a, b) {
        for (var c = 0; c + 1 < a.B.length && "tiny" === a.B[c].gb().quality;) c++;
        var d = OR(a.U) / a.policy.l;
        return mS(a, b.info) + mS(a, a.B[c]) > d
    }

    function kS(a) {
        if (!a.l || !a.policy.i)
            if (!a.l || !a.l.info.Ob)
                if (a.l = a.C.i[a.D.i[0].id], 1 < a.D.i.length) {
                    var b = !1;
                    if (a.policy.va) {
                        if (b = !0, a.policy.pk) {
                            var c = vb(a.D.i, function(d) {
                                return "250" === d.Ib()
                            });
                            0 <= c && (a.l = a.C.i[a.D.i[c].id], b = tS(a, a.l))
                        }
                    } else b = a.u.isLocked() ? 240 > a.u.i : tS(a, a.l);
                    b && (a.l = a.C.i[kb(a.D.i).id])
                }
    }

    function lS(a) {
        a.policy.ke && (a.ea = a.ea || new dr(function() {
            a.policy.ke && a.i && !oS(a) && 1 === Math.floor(10 * Math.random()) ? (nS(a, a.i), a.I = !0) : a.ea.start()
        }, 6E4), er(a.ea));
        if (!a.nextVideo || !a.policy.i)
            if (qS(a)) a.nextVideo = 360 >= a.u.i ? a.C.i[a.B[0].id] : a.C.i[kb(a.B).id], a.L();
            else {
                for (var b = Math.min(a.videoIndex, a.B.length - 1), c = OR(a.U), d = mS(a, a.l.info), e = c / a.policy.B - d; 0 < b && !(mS(a, a.B[b]) <= e); b--);
                for (c = c / a.policy.l - d; b < a.B.length - 1 && !(mS(a, a.B[b + 1]) >= c); b++);
                a.nextVideo = a.C.i[a.B[b].id];
                a.videoIndex !== b && a.L();
                a.videoIndex = b
            }
    }

    function ona(a) {
        var b = a.policy.B,
            c = OR(a.U) / b - mS(a, a.l.info);
        b = wb(a.B, function(d) {
            return mS(this, d) < c
        }, a);
        0 > b && (b = 0);
        a.videoIndex = b;
        a.nextVideo = a.C.i[a.B[b].id];
        a.L()
    }

    function pna(a) {
        if (a.Ha.length) {
            var b = a.Ha,
                c = function(d, e) {
                    if (b.includes(vE(d))) return d;
                    for (var f = 0; f < e.length; f++) {
                        var g = a.C.i[e[f].id],
                            k = vE(g);
                        if (b.includes(k)) return d = d.info.Ib(), e = g.info.Ib(), a.ra.Aa("ombifa", "f." + d + ";t." + e), a.L(), a.ya = !0, g
                    }
                    a.ra.Aa("ombifa", "mismatch." + b.join("."));
                    return d
                };
            a.nextVideo = c(a.nextVideo, a.D.videoInfos);
            a.l = c(a.l, a.D.i)
        }
    }

    function uS(a, b) {
        a.policy.ra = pJ(b, {}, a.D);
        iS(a, a.u);
        rS(a);
        a.I = a.nextVideo !== a.i
    }

    function mS(a, b) {
        if (!a.X[b.id]) {
            var c = a.C.i[b.id].index.getLocalMaxByterate(a.T, 15);
            c = b.Bn && a.i && a.i.index.isLoaded() ? c || b.Bn : c || b.qb;
            a.X[b.id] = c
        }
        c = a.X[b.id];
        a.policy.rb && b.video && b.video.i > a.policy.rb && (c *= 1.5);
        return c
    }

    function sna(a, b) {
        a = ac(a.C.i, function(c) {
            return c.info.Ib() === b
        });
        if (!a) throw Error("Itag " + b + " from server not known.");
        return a
    }

    function tna(a) {
        var b = [];
        if ("m" === a.u.reason || "s" === a.u.reason) return b;
        if (Zia(a.C)) {
            for (var c = Math.max(0, a.videoIndex - 2); c < a.videoIndex && c < a.B.length; c++) {
                var d = a.B[c].Ib();
                b.push(d)
            }
            b.reverse()
        }
        return b
    }
    hS.prototype.L = function() {};

    function una(a, b, c) {
        this.policy = a;
        this.i = b;
        this.G = c;
        this.u = this.l = 0;
        this.rd = null;
        this.C = [];
        this.indexRange = this.initRange = null;
        this.chunkSize = a.vn;
        this.B = new Uint8Array(this.chunkSize);
        this.D = new yP
    }

    function vna(a) {
        var b = vS(a);
        b = QC(a.policy.i, a.i.info, wS(a), b);
        xS(a, b)
    }

    function yS(a) {
        return !!a.rd && a.rd.u
    }

    function zS(a, b) {
        if (!yS(a)) {
            if (1 === b.info.type) a.initRange = yE(0, b.i.totalLength);
            else if (2 === b.info.type) {
                if (!a.rd || 1 !== a.rd.type) return;
                a.indexRange = yE(a.u * a.chunkSize + a.l, b.i.totalLength)
            } else if (3 === b.info.type) {
                if (3 === a.rd.type && !FE(a.rd, b.info)) {
                    a.C = [];
                    var c = a.rd;
                    if (b.info.oa !== c.oa + (c.Pc ? 1 : 0) || 0 !== b.info.ib) return
                }
                if (b.info.Pc) {
                    c = t(a.C);
                    for (var d = c.next(); !d.done; d = c.next()) AS(a, d.value);
                    a.C = []
                } else {
                    a.C.push(b);
                    a.rd = b.info;
                    return
                }
            }
            a.rd = b.info;
            AS(a, b);
            yS(a) && (b = new Uint8Array(a.B.buffer, 0, a.l),
                c = {
                    downloadedEndTime: -1,
                    maxKnownEndTime: Math.round(a.i.index.getMaxKnownEndTime()),
                    averageByteRate: Math.round(a.i.info.Bn)
                }, b = QC(a.policy.i, a.rd.i.info, wS(a), c, a.u, b), xS(a, b, !0))
        }
    }

    function AS(a, b) {
        for (var c = 0, d = rF(b.i); c < d.length;) {
            var e = Math.min(d.length - c, a.B.byteLength - a.l),
                f = new Uint8Array(d.buffer, d.byteOffset + c, e);
            a.B.set(f, a.l);
            a.l += e;
            c += e;
            if (a.l === a.B.length) {
                if (b.info === a.rd && yS(a) && c === d.length) break;
                e = vS(a);
                e = QC(a.policy.i, a.i.info, wS(a), e, a.u, a.B);
                xS(a, e);
                e = vS(a);
                a.G(wS(a), void 0 !== e ? (e.downloadedEndTime || 0) * e.averageByteRate : e.maxKnownEndTime * e.averageByteRate, e.maxKnownEndTime * e.averageByteRate);
                a.B = new Uint8Array(a.chunkSize);
                a.l = 0;
                a.u += 1
            }
        }
    }

    function vS(a) {
        return {
            downloadedEndTime: Math.round(a.rd ? a.rd.B : 0),
            maxKnownEndTime: Math.round(a.i.index.getMaxKnownEndTime()),
            averageByteRate: Math.round(a.i.info.Bn)
        }
    }

    function wS(a) {
        var b, c, d = {
            lmt: a.i.info.lastModified,
            docid: a.policy.i,
            fmtid: a.i.info.id,
            type: a.i.info.mimeType.split(";")[0],
            csz: a.chunkSize,
            clen: a.u * a.chunkSize + a.l
        };
        d = "local://localhost/videoplayback?" + ot(d);
        d = {
            itag: +a.i.info.Ib(),
            mimeType: a.i.info.mimeType,
            bitrate: 8 * a.i.info.qb,
            lastModified: String(a.i.info.lastModified),
            initRange: null === (b = a.initRange) || void 0 === b ? void 0 : zE(b),
            indexRange: null === (c = a.indexRange) || void 0 === c ? void 0 : zE(c),
            url: d
        };
        var e = a.i.info;
        if (e = 0 < e.id.indexOf(";") ? e.id.split(";")[1] :
            null) d.xtags = e;
        if (e = a.i.info.video)
            if (d.quality = e.quality, d.qualityLabel = e.qualityLabel, d.width = e.width, d.height = e.height, e = e.fps) d.fps = e;
        if (a = a.i.info.audio) {
            if (e = a.sampleRate) d.audioSampleRate = String(e);
            if (a = a.i) d.audioChannels = a
        }
        return d
    }

    function xS(a, b, c) {
        c = void 0 === c ? !1 : c;
        b.then(function(d) {
            (c || 4 === d) && a.D.resolve(d)
        }, function(d) {
            a.D.reject(d)
        })
    };

    function wna(a) {
        for (var b = new Uint8Array(0), c = new DataView(a.buffer, a.byteOffset, a.length), d = 0; d < a.length - 8;) {
            var e = c.getUint32(d);
            if (1 >= e) break;
            var f = c.getUint32(d + 4);
            if (1836019574 === f) d += 8;
            else {
                if (1886614376 === f) {
                    f = a.subarray(d, d + e);
                    var g = new Uint8Array(b.length + f.length);
                    g.set(b);
                    g.set(f, b.length);
                    b = g
                }
                d += e
            }
        }
        return b
    }

    function xna(a) {
        a = RD(a, 1886614376);
        nb(a, function(b) {
            return !b.vy
        });
        return pb(a, function(b) {
            return new Uint8Array(b.data.buffer, b.offset + b.data.byteOffset, b.size)
        })
    }

    function yna(a) {
        var b = qb(a, function(e, f) {
                return e + f.length
            }, 0),
            c = new Uint8Array(b),
            d = 0;
        nb(a, function(e) {
            c.set(e, d);
            d += e.length
        });
        return c
    };

    function zna(a, b, c, d) {
        this.ids = a;
        this.l = b;
        this.u = c;
        this.i = d
    };

    function BS(a, b, c) {
        this.initData = a;
        this.contentType = b;
        this.isPrefetch = c;
        this.i = this.cryptoPeriodIndex = NaN;
        this.l = [];
        this.qd = !1
    }

    function CS(a) {
        a: {
            var b = a.initData;
            try {
                for (var c = 0, d = new DataView(b.buffer); c < d.byteLength - 8;) {
                    var e = d.getUint32(c);
                    if (1 >= e) break;
                    if (1886614376 === d.getUint32(c + 4)) {
                        var f = 32;
                        if (0 < d.getUint8(c + 8)) {
                            var g = d.getUint32(c + 28);
                            f += 16 * g + 4
                        }
                        var k = d.getUint32(c + f - 4);
                        try {
                            for (var l = b.subarray(c + f, c + f + k), m = new is, n = new $d(l); ae(n) && 4 != n.l;) {
                                var p;
                                switch (n.u) {
                                    case 2:
                                        f = p = ce(n);
                                        mf(m, 2).push(f);
                                        break;
                                    case 4:
                                        p = ce(n);
                                        pf(m, 4, p);
                                        break;
                                    case 7:
                                        p = n.Mb();
                                        pf(m, 7, p);
                                        break;
                                    case 9:
                                        p = n.Mb();
                                        pf(m, 9, p);
                                        break;
                                    case 10:
                                        p = n.Mb();
                                        pf(m,
                                            10, p);
                                        break;
                                    case 11:
                                        p = Yd(n.i);
                                        pf(m, 11, p);
                                        break;
                                    case 12:
                                        p = n.Mb();
                                        pf(m, 12, p);
                                        break;
                                    case 13:
                                        f = p = ce(n);
                                        mf(m, 13).push(f);
                                        break;
                                    case 14:
                                        p = new js;
                                        f = n;
                                        var q = p,
                                            r = xfa,
                                            u = f.i.u,
                                            x = Zd(f.i),
                                            z = f.i.i + x;
                                        f.i.u = z;
                                        r(q, f);
                                        f.i.i = z;
                                        f.i.u = u;
                                        f = m;
                                        q = p;
                                        r = js;
                                        var D = tf(f, r, 14),
                                            H = q ? q : new r,
                                            O = mf(f, 14);
                                        D.push(H);
                                        O.push(vf(H));
                                        break;
                                    case 15:
                                        p = n.Ad();
                                        pf(m, 15, p);
                                        break;
                                    case 16:
                                        p = n.Ad();
                                        pf(m, 16, p);
                                        break;
                                    case 17:
                                        p = n.Mb();
                                        pf(m, 17, p);
                                        break;
                                    case 1:
                                        p = Yd(n.i);
                                        pf(m, 1, p);
                                        break;
                                    case 3:
                                        p = n.Ad();
                                        pf(m, 3, p);
                                        break;
                                    case 5:
                                        p = n.Ad();
                                        pf(m, 5, p);
                                        break;
                                    case 6:
                                        p =
                                            n.Ad();
                                        pf(m, 6, p);
                                        break;
                                    case 8:
                                        p = ce(n);
                                        pf(m, 8, p);
                                        break;
                                    default:
                                        be(n)
                                }
                            }
                            f = m;
                            if (null !== f) {
                                var M = f;
                                break a
                            }
                        } catch (J) {}
                    }
                    c += e
                }
                M = null
            } catch (J) {
                M = null
            }
        }
        if (null != M)
            for (b = mf(M, 7), null == b || a.qd || (a.cryptoPeriodIndex = b), b = mf(M, 10), null != b && 0 < b && !a.qd && (a.i = b), M = mf(M, 2), M = !M.length || M[0] instanceof Uint8Array ? M : pb(M, ef), M = t(M), b = M.next(); !b.done; b = M.next()) a.l.push(Re(b.value, 4))
    };

    function DS(a, b, c) {
        var d = void 0 === c ? {} : c;
        c = void 0 === d.Zu ? !1 : d.Zu;
        var e = void 0 === d.videoDuration ? 0 : d.videoDuration;
        d = void 0 === d.Io ? void 0 : d.Io;
        this.videoId = a;
        this.status = b;
        this.Zu = c;
        this.videoDuration = e;
        this.Io = d
    }

    function Ana(a, b, c, d, e) {
        this.videoId = a;
        this.formatStream = b;
        this.i = c;
        this.bytesDownloaded = d;
        this.l = e
    };

    function ES(a) {
        this.i = a;
        this.offset = 0
    }
    ES.prototype.Pe = function() {
        if (this.offset >= this.i.totalLength) throw Error();
        return sF(this.i, this.offset++)
    };

    function GS(a, b) {
        b = void 0 === b ? !1 : b;
        var c = a.Pe();
        if (1 === c) {
            b = -1;
            for (c = 0; 7 > c; c++) {
                var d = a.Pe(); - 1 === b && 255 !== d && (b = 0); - 1 < b && (b = 256 * b + d)
            }
            return b
        }
        d = 128;
        for (var e = 0; 6 > e && d > c; e++) c = 256 * c + a.Pe(), d *= 128;
        return b ? c : c - d
    }
    ES.prototype.skip = function(a) {
        this.offset += a
    };
    ES.prototype.getOffset = function() {
        return this.offset
    };

    function HS(a, b, c) {
        var d = this;
        this.I = a;
        this.policy = b;
        this.C = c;
        this.l = [];
        this.i = null;
        this.T = -1;
        this.J = 0;
        this.ea = NaN;
        this.K = 0;
        this.B = NaN;
        this.Z = 0;
        this.ya = -1;
        this.u = this.U = this.Ha = this.va = this.ra = this.Fa = this.D = this.G = this.X = null;
        this.Ka = !1;
        this.timestampOffset = 0;
        if (this.policy.i) {
            var e = this.C,
                f = this.policy.i;
            this.u = new una(this.policy, e, function(g, k, l) {
                IS(a, new DS(d.policy.i, 2, {
                    Io: new Ana(f, g, e.info, k, l)
                }))
            });
            this.u.D.promise.then(function(g) {
                d.u = null;
                1 === g && IS(a, new DS(d.policy.i, g))
            }, function() {
                d.u = null;
                IS(a, new DS(d.policy.i, 4))
            });
            vna(this.u)
        }
    }

    function JS(a) {
        return a.l.length ? a.l[0] : null
    }

    function KS(a) {
        return a.l.length ? a.l[a.l.length - 1] : null
    }

    function LS(a, b, c) {
        if (a.D) {
            var d = a.D.ib + a.D.l;
            if (0 < c.info.ib)
                if (c.info.oa === a.D.oa && c.info.ib < d) {
                    if (c.info.ib + c.info.l <= d) return;
                    c = wF(c, d - c.info.ib)[1]
                } else if (0 <= c.info.oa && 0 <= a.D.oa && !FE(a.D, c.info)) throw new lw("improper_continuation", CE(a.D), CE(c.info));
            if (a.policy.uh) {
                d = a.D;
                var e = c.info;
                d = d.oa !== e.oa && e.oa !== d.oa + 1 || d.type !== e.type || tg(d.C, e.C) && d.oa === e.oa ? !1 : GE(d, e)
            } else d = GE(a.D, c.info);
            d || (a.B = NaN, a.Z = 0, a.ya = -1)
        } else if (0 < c.info.ib) throw new lw("continuation_of_null", CE(c.info));
        a.D = c.info;
        a.C = c.info.i;
        0 === c.info.ib ? MS(a) : !c.info.i.Ue() && a.G && JE(c.info, a.G);
        if (a.i) {
            d = xF(a.i, c);
            if (!d) throw new lw("failed_to_merge", CE(a.i.info), CE(c.info));
            a.i = d
        } else a.i = c;
        a: {
            c = zF(a.i.info.i.info);
            if (3 !== a.i.info.type) {
                if (!a.i.info.Pc) break a;
                6 === a.i.info.type ? NS(a, b, a.i) : OS(a, a.i);
                a.i = null
            }
            for (; a.i;) {
                d = a.i.i.totalLength;
                if (0 >= a.T && 0 === a.J) {
                    var f = a.i.i,
                        g = -1;
                    e = -1;
                    if (c) {
                        for (var k = 0; k + 8 < f.totalLength;) {
                            var l = tF(f, k),
                                m = tF(f, k + 4);
                            k += l || 1;
                            if (1836019558 === m) g = k;
                            else if (1835295092 === m) {
                                e = k;
                                break
                            }
                        }
                        0 > e && (g = -1)
                    } else {
                        f =
                            new ES(f);
                        for (l = k = !1;;) {
                            m = f.getOffset();
                            var n = f;
                            try {
                                var p = GS(n, !0),
                                    q = GS(n, !1);
                                var r = p;
                                var u = q
                            } catch (z) {
                                u = r = -1
                            }
                            n = r;
                            var x = u;
                            if (!(0 < n)) break;
                            if (408125543 !== n)
                                if (524531317 === n) k = !0, 0 <= x && (e = f.getOffset() + x, l = !0);
                                else {
                                    if (k && (160 === n || 163 === n) && (0 > g && (g = m), l)) break;
                                    163 === n && (g = Math.max(0, g), e = f.getOffset() + x);
                                    if (160 === n) {
                                        0 > g && (e = g = f.getOffset() + x);
                                        break
                                    }
                                    f.skip(x)
                                }
                        }
                        0 > g && (e = -1)
                    }
                    if (0 > g) break;
                    a.T = g;
                    a.J = e - g
                }
                if (a.T > d) break;
                a.T ? (d = PS(a, a.T), d.u && !d.info.i.Ue() && QS(a, d), NS(a, b, d), RS(a, d), a.T = 0) : a.J && (d = PS(a, 0 >
                    a.J ? Infinity : a.J), a.J -= d.i.totalLength, RS(a, d))
            }
        }
        a.i && a.i.info.Pc && (RS(a, a.i), a.i = null)
    }

    function OS(a, b) {
        !b.info.i.Ue() && 0 === b.info.ib && (zF(b.info.i.info) || b.info.i.info.qd()) && EF(b);
        if (1 === b.info.type) try {
            QS(a, b), SS(a, b)
        } catch (d) {
            ky(d);
            var c = HE(b.info);
            c.hms = "1";
            TS(a.I, !0, "fmt.unparseable", c || {})
        }
        b.info.i.Nt(b);
        a.u && zS(a.u, b)
    }
    HS.prototype.Yf = function() {
        this.l.shift()
    };

    function Bna(a) {
        var b = a.l.reduce(function(c, d) {
            return c + d.i.totalLength
        }, 0);
        a.i && (b += a.i.i.totalLength);
        return b
    }

    function US(a) {
        return pb(a.l, function(b) {
            return b.info
        })
    }
    HS.prototype.aj = function() {
        return !!this.C.info.audio
    };

    function PS(a, b) {
        var c = a.i;
        b = Math.min(b, c.i.totalLength);
        if (b === c.i.totalLength) return a.i = null, c;
        c = wF(c, b);
        a.i = c[1];
        return c[0]
    }

    function QS(a, b) {
        var c = SE(b);
        if (!a.policy.Ik && RF(b.info.i.info) && "bt2020" === b.info.i.info.gb().primaries) {
            var d = new TD(c);
            WD(d, [408125543, 374648427, 174, 224, 21936, 21937]) && (d = d.start + d.i, 129 === c.getUint8(d) && 1 === c.getUint8(d + 1) && c.setUint8(d + 1, 9))
        }
        d = b.info.i.info;
        QF(d) && !RF(d) && (d = SE(b), aE(new TD(d)), VD([408125543, 374648427, 174, 224], 21936, d));
        b.info.i.info.isVideo() && (d = b.info.i, d.info && d.info.video && 4 === d.info.video.projectionType && !d.u && (zF(d.info) ? d.u = wia(c) : d.info.qd() && (d.u = yia(c))));
        b.info.i.info.qd() &&
            b.info.isVideo() && (c = SE(b), aE(new TD(c)), VD([408125543, 374648427, 174, 224], 30320, c) && VD([408125543, 374648427, 174, 224], 21432, c));
        if (a.policy.zf && b.info.i.info.qd()) {
            c = SE(b);
            var e = new TD(c);
            if (WD(e, [408125543, 374648427, 174, 29637])) {
                d = ZD(e, !0);
                e = e.start + e.i;
                for (var f = 0; f < d - 1; f++) c.setUint8(e + f, 0);
                c.setUint8(e + d - 1, 1)
            }
        }
        if (a.aj() && zF(b.info.i.info)) {
            d = SE(b);
            c = GD(d, 0, 1701606260);
            f = GD(d, 0, 1836476516);
            if (c && f) {
                c.skip(2);
                var g = c.eh(),
                    k = c.Mb();
                d = [];
                e = [];
                var l = [],
                    m = [];
                if (g)
                    for (g = 0; g < k; ++g) d.push(c.zm()), e.push(c.zm()),
                        l.push(c.eh()), m.push(c.eh());
                else
                    for (g = 0; g < k; ++g) d.push(c.zd()), e.push(c.zd()), l.push(c.eh()), m.push(c.eh());
                c = ID(f);
                c = new via(e[0] / c, d[0] / c)
            } else c = null;
            if (c) {
                if (zF(b.info.i.info))
                    for (d = SE(b), e = GD(d, 0, 1701082227); e;) e.markAsSkip(), e = GD(d, e.offset + e.size, 1701082227);
                a.Ka = !0;
                b.info.i.D = c
            }
        }
        b.info.i.Ue() || b.info.i.i || b.info.i.indexRange || (zF(b.info.i.info) ? (a = SE(b), (c = JD(a, 0, 1836019574)) ? (c = c.offset + c.size, d = new Uint8Array(c), d.set(new Uint8Array(a.buffer, a.byteOffset, c)), a = d) : a = null) : a = zia(new TD(SE(b))),
            a && (b.info.i.i = a))
    }

    function NS(a, b, c) {
        if (c.info.i.Ue()) {
            if (a.Ka && VS(c) && (b = SE(c), b = GD(b, 0, 1953658222))) {
                b.skip(1);
                var d = b.Pe() << 16 | b.eh(),
                    e = d & 1,
                    f = d & 4;
                if (d & 256) {
                    var g = d & 512,
                        k = d & 1024;
                    d &= 2048;
                    var l = b.Mb();
                    2 > l || (e && b.skip(4), f && b.skip(4), e = b.Mb(), b.skip((l - 1) * (4 + (g ? 4 : 0) + (k ? 4 : 0) + (d ? 4 : 0)) - 4), b.setUint32(b.Db, e))
                }
            }
            if (b = a.X && !!a.X.C.D)
                if (b = c.info.isVideo()) b = DF(c), g = a.X, nG ? (k = 1 / b, b = WS(a, b) >= WS(g) + k) : b = a.getDuration() >= g.getDuration(), b = !b;
            b && VS(c) && (b = a.X, nG ? (k = DF(c), g = 1 / k, k = WS(a, k), b = WS(b) + g - k) : b = b.getDuration() - a.getDuration(),
                b = 1 + b / c.info.duration, FD(SE(c), b))
        } else {
            g = !1;
            a.G || (EF(c), c.l && (a.G = c.l, g = !0, JE(c.info, c.l), k = c.info.i.info, f = SE(c), zF(k) ? QD(f, 1701671783) : k.qd() && VD([408125543], 307544935, f)));
            if (f = k = CF(c)) f = c.info.i.info.qd() && 160 === sF(c.i, 0);
            if (f) a.K += k, a.B = NaN;
            else {
                if (a.policy.rl) {
                    var m;
                    e = a.I;
                    f = yF(c) / 1;
                    isNaN(e.timestampOffset) && XS(e, f - Math.min(f, e.policy.td));
                    e = m = f - e.timestampOffset;
                    if (0 <= a.B && 6 !== c.info.type) {
                        f = m - a.B;
                        var n = f - a.Z;
                        d = c.info.oa;
                        var p = a.Fa ? a.Fa.oa : -1,
                            q = a.va ? a.va : -1,
                            r = a.ra ? a.ra : -1;
                        l = a.policy.Tc && f >
                            a.policy.Tc;
                        var u = a.policy.Sc && n > a.policy.Sc;
                        1E-4 < Math.abs(n) && (m = {
                            audio: "" + +a.aj(),
                            sq: d.toFixed(),
                            sliceStart: m,
                            lastSq: p.toFixed(),
                            lastSliceStart: q,
                            lastSliceDuration: r,
                            totalDrift: (1E3 * f).toFixed(),
                            segDrift: (1E3 * n).toFixed(),
                            skipRewrite: "" + (+l || u)
                        }, TS(a.I, !1, "qoe.avsync", m), a.ya = d);
                        m = 0;
                        a.policy.Pm && (l || u || (e = a.B), a.policy.Qm && a.X && !a.aj() && zF(c.info.i.info) && (u = a.X, l = u.ya, u = u.Z, n = .02 < Math.abs(u - f), (d === l || d > l && d > a.ya) && n && (d = Math.max(.95, Math.min(1.05, (k - (u - f)) / k)), FD(SE(c), d), d = CF(c), m = k - d, k = d)));
                        a.Z = f + m
                    }
                } else isNaN(a.B) ? e = c.info.startTime : e = a.B;
                BF(c, e) ? (isNaN(a.ea) && (a.ea = e), a.K += k, a.B = e + k) : (k = HE(c.info), k.smst = "1", TS(a.I, !0, "fmt.unparseable", k || {}))
            }
            a.Fa = c.info;
            a.ra = CF(c);
            c.B && (a.va = c.B);
            if (g && a.G) {
                g = YS(a, !0);
                KE(c.info, g);
                a.i && KE(a.i.info, g);
                b = t(b.info.i);
                for (k = b.next(); !k.done; k = b.next()) KE(k.value, g);
                (c.info.Pc || a.i && a.i.info.Pc) && 6 !== c.info.type || (a.U = g, b = a.I, b.i.isManifestless && ZS(b, g, !!a.C.info.video), a.policy.Z || $S(a))
            }
        }
        SS(a, c);
        a.timestampOffset && AF(c, a.timestampOffset)
    }

    function RS(a, b) {
        if (b.info.Pc) {
            a.Ha = b.info;
            if (a.G) {
                var c = YS(a, !1);
                a.I.Mu(a.C, c);
                a.U || a.policy.Z || $S(a);
                a.U = null
            }
            MS(a)
        }
        a.u && zS(a.u, b);
        if (c = KS(a))
            if (c = xF(c, b, a.policy.qh)) {
                a.l.pop();
                a.l.push(c);
                return
            } a.l.push(b)
    }

    function MS(a) {
        a.i = null;
        a.T = -1;
        a.J = 0;
        a.G = null;
        a.ea = NaN;
        a.K = 0;
        a.U = null
    }

    function SS(a, b) {
        if (a.C.info.Nc) {
            if (b.info.i.info.qd()) {
                var c = new TD(SE(b));
                if (WD(c, [408125543, 374648427, 174, 28032, 25152, 20533, 18402])) {
                    var d = ZD(c, !0);
                    c = 16 !== d ? null : eE(c, d)
                } else c = null;
                d = "webm"
            } else b.info.I = xna(SE(b)), c = yna(b.info.I), d = "cenc";
            c && c.length && (c = new BS(c, d), c.qd = b.info.i.info.qd(), b.l && b.l.cryptoPeriodIndex && (c.cryptoPeriodIndex = b.l.cryptoPeriodIndex), a.policy.Ag && b.l && b.l.u && (c.i = b.l.u), a.I.Rk(c))
        }
    }

    function $S(a) {
        var b = a.G,
            c = BD(b);
        c && (c.startSecs += a.ea, a.I.Iq(a.C, c, b.i))
    }

    function YS(a, b) {
        var c, d = a.G;
        if (c = BD(d)) c.startSecs += a.ea;
        if (d.data["Stitched-Video-Id"] || d.data["Stitched-Video-Cpn"] || d.data["Stitched-Video-Duration-Us"] || d.data["Stitched-Video-Start-Frame-Index"] || d.data["Serialized-State"]) {
            var e = d.data["Stitched-Video-Id"] ? d.data["Stitched-Video-Id"].split(",").slice(0, -1) : [];
            var f = d.data["Stitched-Video-Cpn"] ? d.data["Stitched-Video-Cpn"].split(",").slice(0, -1) : [],
                g = [];
            if (d.data["Stitched-Video-Duration-Us"])
                for (var k = t(d.data["Stitched-Video-Duration-Us"].split(",").slice(0,
                        -1)), l = k.next(); !l.done; l = k.next()) g.push((Number(l.value) || 0) / 1E6);
            k = [];
            if (d.data["Stitched-Video-Start-Frame-Index"]) {
                l = t(d.data["Stitched-Video-Start-Frame-Index"].split(",").slice(0, -1));
                for (var m = l.next(); !m.done; m = l.next()) k.push(Number(m.value) || 0)
            }
            e = new zna(e, f, g, d.data["Serialized-State"] ? d.data["Serialized-State"] : "")
        }
        return new nD(d.i, a.ea, b ? d.Zf : a.K, d.ingestionTime, "sq/" + d.i, void 0, void 0, b, e, c)
    }

    function VS(a) {
        return a.info.i.Ue() && a.info.oa === a.info.i.index.getLastSegmentNumber()
    }

    function WS(a, b) {
        b = (b = void 0 === b ? 0 : b) ? Math.round(a.timestampOffset * b) / b : a.timestampOffset;
        a.C.D && b && (b += a.C.D.i);
        return b + a.getDuration()
    }
    HS.prototype.getDuration = function() {
        return this.C.index.getMaxKnownEndTime()
    };

    function aT(a, b) {
        0 > b || (a.l.forEach(function(c) {
            AF(c, b)
        }), a.timestampOffset = b)
    }
    HS.prototype.L = function() {};

    function bT(a, b) {
        this.info = a;
        this.callback = b;
        this.state = 1;
        this.I = !1;
        this.B = 0;
        this.C = !1;
        this.i = null
    }
    h = bT.prototype;
    h.ut = function() {
        return 0
    };
    h.Ow = function() {
        return null
    };
    h.Sy = function() {
        return null
    };

    function cT(a) {
        return sb(a.info.i, function(b) {
            return 3 === b.type
        })
    }
    h.isFailed = function() {
        return 5 === this.state
    };
    h.Ir = function() {};

    function dT(a, b) {
        var c = a.state;
        a.state = b;
        a.Ir();
        a.callback && a.callback(a, c)
    }

    function eT(a, b) {
        b && a.state < b ? dT(a, b) : a.callback && a.callback(a, a.state)
    }
    h.Ea = function() {
        return -1 === this.state
    };

    function Cna(a) {
        a.i && a.i.B ? (a = a.i.B, a = new AE(a.type, a.i, a.range, "getEmptyStubAfter" + a.D, a.oa, a.startTime + a.duration, 0, a.ib + a.l, 0, !1)) : (a = a.info.i[0], a = new AE(a.type, a.i, a.range, "getEmptyStubBefore" + a.D, a.oa, a.startTime, 0, a.ib, 0, !1));
        return a
    }
    h.dispose = function() {
        this.info.Of() && 4 !== this.state && (this.info.i[0].i.B = !1);
        dT(this, -1)
    };

    function fT(a, b) {
        this.i = a;
        this.l = 0;
        this.u = null;
        this.Lc = [];
        this.B = null;
        (this.length = b ? b : 0) ? 1 !== this.i.length || this.i[0].l || (this.i[0].l = this.length): 1 === this.i.length || sb(this.i, function(c) {
            return !!c.range
        })
    }

    function gT(a, b, c) {
        a.u && (nF(a.u, b), b = a.u, a.u = null);
        for (var d = !1, e = !1, f = 0, g = 0, k = t(a.i), l = k.next(); !l.done; l = k.next())
            if (l = l.value, l.range && f + l.l <= a.l) f += l.l;
            else {
                if (DE(l) && !c && a.l + b.totalLength - g < f + l.l) {
                    a.u = b.split(g).il;
                    break
                }
                var m = 3 === l.type || 4 === l.type,
                    n = a.l - f,
                    p = a,
                    q = g,
                    r = b,
                    u = l.i.cn() && !n || m && d && !e && 1 === b.i.length,
                    x = !!c,
                    z = r.totalLength - q;
                l.range && (z = Math.min(l.l - n, z));
                x = l.range ? l.ib + n + z === l.range.length : x;
                n = new AE(l.type, l.i, l.range, "reslice" + l.D, l.oa, l.startTime, l.duration, l.ib + n, z, x && l.u, x);
                x = z;
                q = r.split(q).il.split(x).hq;
                p.Lc.push(new uF(n, q, u));
                p = z;
                a.l += p;
                g += p;
                f += l.l;
                1 === l.type && (d = !0);
                m && (e = !0);
                if (g === b.totalLength) break
            }
    }

    function hT(a) {
        if (!a.Lc.length) return [];
        var b = a.Lc;
        a.Lc = [];
        a.B = kb(b).info;
        return b
    }

    function Dna(a) {
        return a.length - a.l + a.Lc.reduce(function(b, c) {
            return b + c.i.totalLength
        }, 0)
    };

    function iT(a, b, c, d) {
        bT.call(this, b, d);
        var e = this;
        this.l = a;
        this.u = c;
        this.Me = function() {
            e.Ea() || (e.u.He(e.l) && eT(e, 2), e.u.Ge(e.l) && (jT(e.u, e.l) ? dT(e, 4) : dT(e, 5)))
        };
        this.i = new fT(this.info.i, this.info.range.length);
        this.u.hd[this.l].Me = this.Me;
        eh(this.Me)
    }
    v(iT, bT);
    h = iT.prototype;
    h.Ir = function() {
        if (this.Ea()) {
            var a = this.u,
                b = this.l;
            a.hd[b].Lc = new kF;
            kT(a, b)
        }
    };
    h.qn = function() {
        return {}
    };
    h.Ly = function() {
        return 0
    };
    h.El = function() {
        return !0
    };
    h.Jr = function() {
        lT(this);
        this.I = !0;
        return hT(this.i)
    };
    h.Pw = function() {
        lT(this);
        return this.i.Lc
    };
    h.wm = function() {
        var a, b;
        return !(null === (b = null === (a = this.i) || void 0 === a ? void 0 : a.Lc) || void 0 === b || !b.length) || this.u.He(this.l)
    };

    function lT(a) {
        for (; a.u.He(a.l);) {
            var b = a.i,
                c = a.u.Yf(a.l),
                d = a.u.hd[a.l];
            gT(b, c, d.Ge && !d.Lc.totalLength && jT(a.u, a.l))
        }
    };

    function mT(a, b, c) {
        this.T = a;
        this.policy = b;
        this.i = c;
        this.u = [];
        this.l = this.sb = null;
        this.K = this.U = 0;
        this.D = -1;
        this.I = !1;
        this.J = -1;
        this.B = new HS(a, b, c);
        this.qb = c.info.qb;
        this.G = c.po();
        this.isManifestless = c.po();
        this.C = this.G
    }

    function nT(a, b) {
        b && nG && aT(a.B, b.Gt());
        a.sb = b
    }

    function oT(a) {
        return a.sb && a.sb.Qp()
    }

    function pT(a, b) {
        a.u.push(b);
        a.l = kb(b.info.i)
    }

    function qT(a) {
        for (; a.u.length && 4 === a.u[0].state;) {
            var b = a.u.shift();
            rT(a, b);
            a.U = b.Ly()
        }
        a.u.length && (b = a.u[0], b.wm() && (!b.info.Of() || b instanceof iT) && rT(a, b))
    }

    function rT(a, b) {
        if (b.wm()) {
            var c = b.Jr();
            c = t(c);
            for (var d = c.next(); !d.done; d = c.next()) d = d.value, a.policy.K && b instanceof iT && a.T.Aa("omblss", "s." + CE(d.info)), sT(a, b, d)
        }
    }

    function sT(a, b, c) {
        switch (c.info.type) {
            case 1:
            case 2:
                OS(a.B, c);
                break;
            case 4:
                var d = c.info.i.Jw(c);
                c = c.info;
                var e = a.l;
                e && e.i === c.i && e.type === c.type && (c.range && e.range ? e.range.start === c.range.start && e.range.end === c.range.end : e.range === c.range) && e.oa === c.oa && e.ib === c.ib && e.l === c.l && (a.l = kb(d).info);
                d = t(d);
                for (c = d.next(); !c.done; c = d.next()) sT(a, b, c.value);
                break;
            case 3:
                LS(a.B, b, c);
                break;
            case 6:
                LS(a.B, b, c), a.l = c.info
        }
    }
    mT.prototype.Oe = function() {
        return JS(this.B)
    };
    mT.prototype.Yf = function(a) {
        this.B.Yf(a);
        a = a.info;
        a.i.info.qb >= this.qb && (this.qb = a.i.info.qb)
    };
    mT.prototype.getDuration = function() {
        return this.i.index.getMaxKnownEndTime()
    };

    function TR(a, b, c) {
        c = void 0 === c ? !1 : c;
        if (a.sb) {
            var d = a.sb.Ed(),
                e = iG(d, b),
                f = NaN,
                g = oT(a);
            g && (f = iG(d, g.i.index.getStartTime(g.oa)));
            if (e === f && a.l && a.l.l && tT(uT(a), 0)) return b
        }
        a = vT(a, b, c);
        return 0 <= a ? a : NaN
    }

    function VR(a, b) {
        a.i.pd();
        var c = vT(a, b);
        if (0 <= c) return c;
        c = a.B;
        c.u ? (c = c.u, c = c.rd && 3 === c.rd.type ? c.rd.startTime : 0) : c = Infinity;
        b = Math.min(b, c);
        a.l = a.i.Pi(b).i[0];
        wT(a) && a.sb && a.sb.abort();
        a.K = 0;
        return a.l.startTime
    }

    function xT(a) {
        a.G = !0;
        a.C = !0;
        a.D = -1;
        VR(a, Infinity)
    }

    function yT(a) {
        var b = 0;
        nb(a.u, function(c) {
            var d = b;
            c = c.i && c.i.length ? Dna(c.i) : PE(c.info);
            b = d + c
        }, a);
        return b += Bna(a.B)
    }

    function zT(a, b) {
        if (!a.sb) return 0;
        var c = oT(a);
        if (c && c.u) return c.B;
        a = a.sb.Ed(!0);
        return kG(a, b)
    }

    function UR(a) {
        SR(a);
        a = a.B;
        a.l = [];
        MS(a)
    }

    function dS(a, b, c, d) {
        SR(a);
        for (var e = a.B, f = !1, g = e.l.length - 1; 0 <= g; g--) {
            var k = e.l[g];
            k.info.oa >= b && (e.l.pop(), e.B -= CF(k), f = !0)
        }
        f && (e.D = 0 < e.l.length ? e.l[e.l.length - 1].info : null);
        d > c ? VR(a, d) : a.l = a.i.wi(b - 1, !1).i[0]
    }

    function AT(a, b) {
        var c;
        for (c = 0; c < a.u.length && b !== a.u[c]; c++);
        if (c === a.u.length) BT(a, b);
        else {
            for (; c < a.u.length;) BT(a, a.u.pop());
            var d = CT(a);
            a.policy.X && d && d.i.Ue() && rb(b.info.i, function(e) {
                return IE(e, d)
            }) ? a.l = d : EE(b.info.i[0]) ? a.l = Cna(b) : a.l = null
        }
    }

    function wT(a) {
        var b;
        !(b = !a.policy.oh && "f" === a.i.info.i) && (b = a.policy.i) && (b = a.B, b = !!b.u && yS(b.u));
        if (b) return !0;
        b = oT(a);
        if (!b) return !1;
        var c = b.u && b.Pc;
        return a.isManifestless && 0 < a.J ? c || b.oa >= a.J : c
    }

    function DT(a) {
        var b;
        return wT(a) || !(null === (b = KS(a.B)) || void 0 === b || !b.info.u)
    }

    function uT(a) {
        var b = [],
            c = oT(a);
        c && b.push(c);
        b = Bb(b, US(a.B));
        nb(a.u, function(d) {
            nb(d.info.i, function(e) {
                d.I && (b = ob(b, function(f) {
                    return !(f.i !== e.i ? 0 : f.range && e.range ? f.range.start + f.ib >= e.range.start + e.ib && f.range.start + f.ib + f.l <= e.range.start + e.ib + e.l : f.oa === e.oa && f.ib >= e.ib && (f.ib + f.l <= e.ib + e.l || e.Pc))
                }));
                (EE(e) || 4 === e.type) && b.push(e)
            })
        });
        a.l && !Fia(a.l, kb(b), a.l.i.Ue()) && b.push(a.l);
        return b
    }

    function tT(a, b) {
        if (!a.length) return !1;
        for (b += 1; b < a.length; b++)
            if (!GE(a[b - 1], a[b])) return !1;
        return !0
    }

    function vT(a, b, c) {
        c = void 0 === c ? !1 : c;
        if (!a.l || !a.l.l) return NaN;
        a = uT(a);
        a: {
            var d = c;d = void 0 === d ? !1 : d;
            for (var e = -1, f = 0; f < a.length; ++f) {
                var g = a[f];
                if (g.C <= b)
                    if (d) e = f;
                    else if (g.startTime + g.duration >= b) {
                    b = f;
                    break a
                }
            }
            b = e
        }
        return 0 > b ? NaN : tT(a, c ? b : 0) ? a[b].startTime : NaN
    }

    function ET(a) {
        return !(!a.l || a.l.i === a.i)
    }

    function FT(a) {
        return ET(a) && a.i.pd() && a.l.i.info.qb < a.i.info.qb
    }

    function GT(a, b, c) {
        return (a = CT(a)) && !a.u ? a.B > b && a.B < b + c : !1
    }

    function CT(a) {
        var b = KS(a.B);
        return b ? b.info : oT(a)
    }

    function SR(a) {
        nb(a.u, function(b) {
            BT(this, b)
        }, a);
        a.u = [];
        a.l = null
    }

    function BT(a, b) {
        var c = a.policy.X && b.info.i[0].i.Ue();
        b.I && !c && (a = a.B, a.L(), a.U && !a.policy.Wd && (c = a.I, c.i.isManifestless && YG(c.i, a.U.oa, !!a.C.info.video)), a.U = null, a.G = null, a.D = a.Ha, a.B -= a.K, MS(a));
        b.dispose()
    }

    function HT(a) {
        return !!a.l && -1 !== a.l.oa && a.l.oa < a.i.index.getFirstSegmentNumber()
    }

    function IT(a) {
        var b = a.l;
        b && -1 === b.oa && (a = KS(a.B)) && EE(a.info) && (a = a.info.oa, b.D = "updateLastSliceRequested", b.oa = a)
    }

    function JT(a) {
        return rb(a.u, function(b) {
            return b.C
        })
    }
    mT.prototype.isRequestPending = function(a) {
        return this.u.length ? a === this.u[this.u.length - 1].info.i[0].oa : !1
    };

    function KT(a, b, c, d) {
        this.target = a;
        this.trigger = b;
        this.l = c;
        this.u = d;
        this.i = 0
    }
    KT.prototype.send = function() {
        pu(this.target, {
            format: "RAW",
            responseType: "arraybuffer",
            timeout: 1E4,
            onFinish: this.onComplete,
            onTimeout: this.onComplete,
            context: this
        });
        this.i = K()
    };
    KT.prototype.onComplete = function(a) {
        var b, c = {
            rc: a.status,
            lb: (null === (b = a.response) || void 0 === b ? void 0 : b.byteLength) || 0,
            rt: ((K() - this.i) / 1E3).toFixed(3),
            shost: Ji(this.target),
            trigger: this.trigger
        };
        204 === a.status || a.response ? this.l && this.l(JA(c)) : this.u(new IA("pathprobe.net", !1, c))
    };

    function LT(a, b) {
        var c = this;
        this.i = a;
        this.u = b;
        this.loaded = this.status = 0;
        this.error = "";
        a = xE(this.i.get("range") || "");
        if (!a) throw Error("bad range");
        this.range = a;
        this.l = new kF;
        Ena(this).then(function() {
            c.u.Go()
        }, function(d) {
            c.error = "" + d || "unknown_err";
            c.u.Go()
        })
    }

    function Ena(a) {
        return B(a, function c() {
            var d = this,
                e, f, g, k, l, m, n, p, q, r, u, x, z, D;
            return y(c, function(H) {
                if (1 == H.i) {
                    d.status = 200;
                    e = d.i.get("docid");
                    f = Bd(d.i.get("fmtid") || "");
                    g = d.i.get("lmt") || "0";
                    k = +(d.i.get("csz") || 0);
                    if (!e || !f || !k) throw Error("Invalid local URL");
                    l = d.range;
                    m = Math.floor(l.start / k);
                    n = Math.floor(l.end / k);
                    p = m
                }
                if (5 != H.i) return p <= n ? w(H, mia(e, f, g, p), 5) : H.Ya(0);
                q = H.l;
                if (void 0 === q) throw Error("invariant: data is undefined");
                r = p * k;
                u = (p + 1) * k;
                x = Math.max(0, l.start - r);
                z = Math.min(l.end + 1, u) - (x +
                    r);
                D = new Uint8Array(q.buffer, x, z);
                d.l.append(D);
                d.loaded += z;
                d.loaded < l.length && d.u.Nq(K(), d.loaded);
                p++;
                return H.Ya(2)
            })
        })
    }
    h = LT.prototype;
    h.getResponseHeader = function(a) {
        return "content-type" === a ? this.i.get("type") : ""
    };
    h.abort = function() {};
    h.Yi = function() {
        return !0
    };
    h.On = function() {
        return this.range.length
    };
    h.xk = function() {
        return this.loaded
    };
    h.Rq = function() {
        return !!this.loaded
    };
    h.He = function() {
        return !!this.l.totalLength
    };
    h.Yf = function() {
        var a = this.l;
        this.l = new kF;
        return a
    };
    h.Oe = function() {
        return this.l
    };
    h.Im = function() {
        return !0
    };
    h.ov = function() {
        return !!this.error
    };
    h.Yc = function() {
        return this.error
    };
    var Fna = 0;

    function MT(a, b, c, d) {
        var e = this;
        d = void 0 === d ? {} : d;
        this.policy = b;
        this.C = c;
        this.X = d;
        this.status = 0;
        this.response = void 0;
        this.T = !1;
        this.l = 0;
        this.U = NaN;
        this.J = this.D = this.K = !1;
        this.errorMessage = "";
        this.Z = function(f) {
            e.status = f.status;
            if (f.ok && f.body) e.status = e.status || 242, e.u = f.body.getReader(), e.Ea() ? e.u.cancel().catch(function() {}) : (e.I = f.headers, e.C.Ru(), NT(e));
            else e.onDone()
        };
        this.ea = function(f) {
            var g = K();
            if (!e.Ea()) {
                var k = f.value ? f.value : void 0;
                e.G && (e.i.append(e.G), e.G = void 0);
                f.done ? (e.u = void 0, e.onDone()) : (e.l += k.length, OT(e) ? e.i.append(k) : e.G = k, e.C.Nq(g, e.l), NT(e))
            }
        };
        this.onError = function(f) {
            e.L();
            e.errorMessage = String(f);
            e.D = !0;
            e.onDone()
        };
        this.i = new kF;
        this.id = Fna++;
        this.B = window.AbortController ? new AbortController : void 0;
        this.start(a);
        this.startTime = Date.now()
    }
    h = MT.prototype;
    h.start = function(a) {
        var b = {
            credentials: "include",
            cache: "no-store"
        };
        Object.assign(b, this.X);
        this.B && (b.signal = this.B.signal);
        a = new Request(a, b);
        fetch(a).then(this.Z, this.onError).then(void 0, hw)
    };

    function NT(a) {
        a.u.read().then(a.ea, a.onError).then(void 0, hw)
    }
    h.onDone = function() {
        if (!this.Ea()) {
            this.L();
            this.K = !0;
            if (OT(this) && !this.i.totalLength && !this.D && this.l) {
                ZE(this);
                var a = new Uint8Array(8),
                    b = new DataView(a.buffer);
                b.setUint32(0, 8);
                b.setUint32(4, 1936419184);
                this.i.append(a);
                this.l += a.length
            }
            this.C.Go()
        }
    };
    h.getResponseHeader = function(a) {
        return this.I ? this.I.get(a) : null
    };
    h.Yi = function() {
        return !!this.I
    };
    h.xk = function() {
        return this.l
    };
    h.On = function() {
        return +this.getResponseHeader("content-length")
    };
    h.Rq = function() {
        return 200 <= this.status && 300 > this.status && !!this.l
    };

    function OT(a) {
        var b = a.getResponseHeader("content-type");
        b = "audio/mp4" === b || "video/mp4" === b;
        return a.policy.l && a.policy.Ud && ZE(a) && b
    }
    h.L = function() {};
    h.He = function() {
        if (this.K) return !!this.i.totalLength;
        if (!this.Yi()) return !1;
        var a = this.policy.u;
        if (a && this.U + a > Date.now()) return !1;
        a = this.On() || 0;
        a = Math.max(16384, this.policy.i * a);
        this.T || (a = Math.max(a, 16384));
        this.policy.Ud && ZE(this) && (a = 1);
        return this.i.totalLength >= a
    };
    h.Yf = function() {
        this.He();
        this.U = Date.now();
        this.T = !0;
        var a = this.i;
        this.i = new kF;
        return a
    };
    h.Oe = function() {
        this.He();
        return this.i
    };
    h.Ea = function() {
        return this.J
    };
    h.abort = function() {
        this.L();
        this.u && this.u.cancel().catch(function() {});
        this.B && this.B.abort();
        this.J = !0
    };
    h.Im = function() {
        return !0
    };
    h.ov = function() {
        return this.D
    };
    h.Yc = function() {
        return this.errorMessage
    };

    function PT(a, b, c) {
        var d = this;
        c = void 0 === c ? {} : c;
        this.u = b;
        this.l = this.status = 0;
        this.Ea = this.i = !1;
        this.xhr = new XMLHttpRequest;
        this.xhr.open(c.method || "GET", a);
        if (c.headers) {
            a = c.headers;
            b = t(Object.keys(a));
            for (var e = b.next(); !e.done; e = b.next()) e = e.value, this.xhr.setRequestHeader(e, a[e])
        }
        this.xhr.responseType = "arraybuffer";
        this.xhr.withCredentials = !0;
        this.xhr.onreadystatechange = function() {
            2 === d.xhr.readyState && d.u.Ru()
        };
        a = Bs(function(f) {
            d.onDone(f)
        });
        this.xhr.addEventListener("load", a, !1);
        this.xhr.addEventListener("error", a, !1);
        c.body ? this.xhr.send(c.body) : this.xhr.send();
        this.xhr.addEventListener("progress", Bs(function(f) {
            d.Me(f)
        }), !1)
    }
    h = PT.prototype;
    h.onDone = function() {
        if (!this.Ea) {
            this.status = this.xhr.status;
            try {
                this.response = this.xhr.response, this.l = this.response.byteLength
            } catch (a) {}
            this.i = !0;
            this.u.Go()
        }
    };
    h.Me = function(a) {
        this.Ea || (this.status = this.xhr.status, this.i || (this.l = a.loaded), this.u.Nq(K(), a.loaded))
    };
    h.Yi = function() {
        return 2 <= this.xhr.readyState
    };
    h.getResponseHeader = function(a) {
        try {
            return this.xhr.getResponseHeader(a)
        } catch (b) {
            return Ds(Error("Could not read XHR header " + a)), ""
        }
    };
    h.On = function() {
        return +this.getResponseHeader("content-length")
    };
    h.xk = function() {
        return this.l
    };
    h.Rq = function() {
        return 200 <= this.status && 300 > this.status && this.i && !!this.l
    };
    h.He = function() {
        return this.i && !!this.response && !!this.response.byteLength
    };
    h.Yf = function() {
        this.He();
        var a = this.response;
        this.response = void 0;
        return new kF([new Uint8Array(a)])
    };
    h.Oe = function() {
        this.He();
        return new kF([new Uint8Array(this.response)])
    };
    h.abort = function() {
        this.Ea = !0;
        this.xhr.abort()
    };
    h.Im = function() {
        return !1
    };
    h.ov = function() {
        return !1
    };
    h.Yc = function() {
        return ""
    };

    function QT(a, b, c, d, e, f) {
        var g = void 0 === f ? {} : f;
        f = void 0 === g.Ho ? [] : g.Ho;
        var k = void 0 === g.Wo ? !1 : g.Wo;
        g = void 0 === g.bk ? 0 : g.bk;
        bT.call(this, b, e);
        var l = this;
        this.policy = a;
        this.timing = c;
        this.lastError = null;
        this.K = this.u = 0;
        this.X = !1;
        this.G = this.D = null;
        this.timing.Z = function() {
            var m;
            if (Gna(l)) {
                if (m = l.policy.yj && !(!window.performance || !window.performance.now) && l.xhr.Yi() && l.xhr.Im()) m = l.xhr, m = m.policy.Ud && ZE(m);
                m = m ? l.info.i[0].i.info.video ? 3 : 4 : 2
            } else m = 1;
            return m
        };
        this.U = d;
        this.Wo = k;
        this.requestNumber = ++Hna;
        this.l = OE(this.info, this.policy, this.U);
        this.l.set("rn", this.requestNumber.toString());
        this.l.set("rbuf", (1E3 * g).toFixed().toString());
        this.Wo && this.l.set("smb", "1");
        this.Ho = f || null;
        this.C = Ina(this);
        this.T = 1 * this.policy.Jb;
        this.J = new dr(this.fH, this.T, this);
        this.info.l.C = K();
        Dia(RT(this));
        hna(this.timing);
        try {
            this.xhr = Jna(this), this.J.start(), this.L("Sent, itag=" + this.l.get("itag") + (" seg=" + this.info.i[0].oa) + (" range=" + this.l.get("range")) + (" time=" + Math.round(this.info.i[0].C) +
                "-" + Math.round(kb(this.info.i).B)) + (" rtp=" + (this.timing.J - Date.now()).toFixed(0)))
        } catch (m) {
            ly(m), this.lastError = "net.ssl", eh(function() {
                ST(l)
            })
        }
    }
    v(QT, bT);
    h = QT.prototype;
    h.qn = function() {
        var a = yR(this.timing);
        a.shost = gD(this.l.uf);
        a.rn = this.requestNumber.toString();
        this.u && (a.rc = this.u.toString());
        a.itag = this.info.i[0].i.info.Ib();
        a.ml = "" + +this.info.i[0].i.pd();
        a.sq = "" + this.info.i[0].oa;
        if (this.l) {
            var b = this.l.uf;
            eD(b);
            var c = decodeURIComponent(b.get("mn") || "").split(",");
            a.ifi = "" + +("/videoplayback" === b.path && 1 < c.length && !!c[1])
        }
        410 !== this.u && 500 !== this.u && 503 !== this.u || (a.fmt_unav = "true");
        this.xhr.Yc() && (a.msg = this.xhr.Yc());
        this.Wo && (a.smb = "1");
        this.i && (b = this.i.Lc,
            b.length && vF(b[0], a));
        return a
    };
    h.Ly = function() {
        var a = this.timing;
        return (a.B - a.i) / 1E3
    };
    h.Yc = function() {
        return this.xhr.Yc() || ""
    };
    h.El = function() {
        var a;
        (a = 3 <= this.state) || (a = this.timing, a = a.l > a.Ka && DR(a, a.l));
        return a
    };

    function Ina(a) {
        if (!(NE(a.info) && a.info.Of() && a.policy.Xd && a.Ho) || 2 <= a.info.l.l || Dja() || !SH()) return !1;
        var b = a.l.get("aitags");
        if (!b) return !1;
        b = Bd(b).split(",");
        for (var c = [], d = t(a.Ho), e = d.next(); !e.done; e = d.next()) e = e.value, xb(b, e) && c.push(e);
        if (!c.length) return !1;
        a.l.set("altitags", yd(c.join(",")));
        return !0
    }

    function RT(a) {
        return pE(a.U, gD(a.l.uf))
    }
    h.Nq = function(a, b) {
        if (!this.Ea() && this.xhr) {
            this.u = this.xhr.status;
            var c = this.El(),
                d = this.timing;
            GR(d, a, b);
            50 > a - d.B && IR(d) && 3 !== BR(d) || CR(d, a, b);
            this.wm() ? eT(this, 2) : !c && this.El() && eT(this)
        }
    };
    h.Ru = function() {
        if (!this.Ea() && this.xhr) {
            if (!this.K && this.xhr.Yi() && this.xhr.getResponseHeader("X-Walltime-Ms")) {
                var a = Number(this.xhr.getResponseHeader("X-Walltime-Ms"));
                this.K = (K() - a) / 1E3
            }
            this.xhr.Yi() && this.xhr.getResponseHeader("X-Restrict-Formats-Hint") && this.policy.ul && !SH() && Jja(!0);
            a = Number(this.xhr.getResponseHeader("X-Head-Seqnum"));
            var b = Number(this.xhr.getResponseHeader("X-Head-Time-Millis"));
            this.D = a || this.D;
            this.G = b || this.G
        }
    };
    h.Go = function() {
        var a = this.xhr;
        !this.Ea() && a && (this.J.stop(), this.u = a.status, a = Kna(this, a), 5 === a ? ST(this) : dT(this, a))
    };

    function Kna(a, b) {
        if (400 <= b.status) return a.lastError = "net.badstatus", 5;
        if (!b.Rq()) return a.lastError = 204 === b.status ? "net.nocontent" : "net.connect", 5;
        var c = "";
        if (TT(a)) {
            var d = b.Oe();
            2048 >= d.totalLength && (c = rF(d), c = tD(c), oB(c) ? a.L() : c = "")
        }
        if (c) return b = RT(a), K(), b.started = 0, b.timedOut = 0, b.i = 0, a.info.Vi(a.l, c), 3;
        c = b.xk();
        if ((d = !!a.info.range && a.info.range.length) && d !== c || b.ov()) return a.lastError = "net.closed", 5;
        UT(a, !0);
        if (!d && a.i && (d = a.i.Lc, d.length && !vF(d[0]))) return a.lastError = "net.closed", 5;
        var e =
            cT(a) ? b.getResponseHeader("X-Bandwidth-Est") : 0;
        if (b = cT(a) ? b.getResponseHeader("X-Bandwidth-Est3") : 0) a.X = !0, a.policy.Bk && (e = b);
        b = a.timing;
        d = K();
        e = e ? Number(e) : 0;
        if (!b.X) {
            b.X = !0;
            if (!b.Og) {
                GR(b, d, c);
                CR(b, d, c);
                var f = BR(b);
                if (2 === f && e) FR(b, b.l / e, b.l);
                else if (2 === f || 1 === f) e = (d - b.i) / 1E3, (e <= b.schedule.K.i || !b.schedule.K.i) && !b.va && IR(b) && FR(b, e, c), IR(b) && (e = b.schedule, c = Math.max(c, 2048), e.i.Te(1, b.u / c), dI(e));
                c = b.schedule;
                d = (d - b.i) / 1E3 || .05;
                e = b.K;
                f = b.Of;
                c.D.Te(d, b.l / d);
                c.B = Ss();
                f || c.l.Te(1, d - e)
            }
            b.deactivate()
        }
        b =
            RT(a);
        K();
        b.started = 0;
        b.timedOut = 0;
        b.i = 0;
        a.info.l.l = 0;
        K() < VT + 3E5 || !a.l || hD(a.l.uf) || !(b = gD(a.l.uf)) || 0 > b.indexOf("googlevideo.com") || (Kja({
            primary: b
        }), VT = K());
        b = a.timing;
        a.L("Succeeded, rtpd=" + (1E3 * b.K + b.i - Date.now()).toFixed(0));
        return 4
    }

    function ST(a) {
        var b;
        a.L("Request failed, itag=" + a.l.get("itag") + (" seg=" + a.info.i[0].oa) + (" sliced=" + (null === (b = a.i) || void 0 === b ? void 0 : b.l)) + (" error=" + a.lastError));
        if ("net.timeout" === a.lastError) {
            var c = a.timing,
                d = K();
            if (!c.Og) {
                GR(c, d, 1024 * c.T);
                var e = (d - c.i) / 1E3;
                if (2 !== BR(c))
                    if (IR(c)) {
                        c.u += (d - c.B) / 1E3;
                        var f = c.schedule,
                            g = c.l;
                        g = Math.max(g, 2048);
                        f.i.Te(1, c.u / g);
                        dI(f)
                    } else ER(c) || c.Og || (f = c.schedule, f.G.Te(1, e), dI(f)), c.ea = d;
                f = c.schedule;
                g = c.K;
                var k = c.Of;
                f.D.Te(e, c.l / e);
                f.B = Ss();
                k || f.l.Te(1, e - g);
                aI(c.schedule,
                    (d - c.B) / 1E3, 0)
            }
        } else K();
        "net.nocontent" !== a.lastError && ("net.timeout" === a.lastError || "net.connect" === a.lastError || "net.closed" === a.lastError ? (c = RT(a), c.timedOut += 1) : (c = RT(a), c.i += 1), a.timing.l || a.info.l.l++);
        dT(a, 5)
    }
    h.canRetry = function() {
        this.Ea();
        var a = RT(this);
        return 100 > a.timedOut && a.i < this.policy.Cj
    };
    h.Ir = function() {
        3 <= this.state && (this.policy.Bc ? WT(this) : this.timing.deactivate())
    };
    h.fH = function() {
        if (!this.Ea()) {
            var a = K(),
                b = !1;
            IR(this.timing) ? (a = this.timing.J, AR(this.timing), this.timing.J - a >= .8 * this.T ? (this.B++, this.L(), b = 5 <= this.B) : this.B = 0) : (b = this.timing, b.df && JR(b, b.now()), a -= b.U, this.policy.jb && 0 < a && (this.B += 1), b = !this.policy.X, b = oE(RT(this), this.policy, b) * this.policy.Jj, (b = a > 1E3 * b) && this.L());
            this.B && this.callback && this.callback(this, this.state);
            b ? XT(this, !1) : this.J.start()
        }
    };

    function XT(a, b) {
        b && (b = RT(a), b.l += 1);
        WT(a);
        a.lastError = "net.timeout";
        ST(a)
    }
    h.dispose = function() {
        bT.prototype.dispose.call(this);
        this.J.dispose();
        this.policy.Bc || WT(this)
    };

    function WT(a) {
        a.L();
        a.xhr && a.xhr.abort();
        a.timing.deactivate()
    }

    function TT(a) {
        var b = a.xhr.getResponseHeader("content-type"),
            c = a.xhr.On();
        return (!a.xhr.Im() || !b || -1 !== b.indexOf("text/plain")) && (!c || 2048 >= c)
    }

    function Jna(a) {
        if (hD(a.l.uf)) return new LT(a.l, a);
        var b = mE(a.l);
        return a.policy.ya && (a.policy.Lm && !isNaN(a.info.od) && a.info.od > a.policy.Kj || a.C ? 0 : YE()) ? new MT(b, a.policy.u, a) : new PT(b, a)
    }
    h.Jr = function() {
        if (!this.Pw().length) return [];
        this.I = !0;
        return hT(this.i)
    };
    h.wm = function() {
        return 1 > this.state ? !1 : this.i && this.i.Lc.length || this.xhr.He() ? !0 : !1
    };
    h.Pw = function() {
        UT(this, !1);
        return this.i ? this.i.Lc : []
    };

    function UT(a, b) {
        if (b || a.xhr.Yi() && a.xhr.He() && !TT(a) && !a.C) {
            if (!a.i) {
                if (a.xhr.Im()) a.info.range && (c = a.info.range.length);
                else var c = a.xhr.xk();
                a.i = new fT(a.info.i, c)
            }
            for (; a.xhr.He();) gT(a.i, a.xhr.Yf(), b && !a.xhr.He())
        }
    }
    h.xk = function() {
        return this.xhr.xk()
    };
    h.ut = function() {
        return this.K
    };

    function Gna(a) {
        if (!a.policy.u.Ud || !isNaN(a.info.od) && 0 < a.info.od) return !1;
        if (!a.xhr.Yi()) return a.L(), !0;
        if (!ZE(a.xhr)) return !1;
        if (isNaN(a.info.od)) {
            var b = a.xhr.getResponseHeader("x-head-seqnum");
            if (!b) a.L();
            else if (Number(b) > a.info.i[0].oa) return !1
        }
        return !0
    }
    h.L = function() {};
    h.Ow = function() {
        this.xhr && (this.D = Number(this.xhr.getResponseHeader("X-Head-Seqnum")));
        return this.D
    };
    h.Sy = function() {
        this.xhr && (this.G = Number(this.xhr.getResponseHeader("X-Head-Time-Millis")));
        return this.G
    };
    var Hna = 0,
        VT = -1;

    function ZT(a, b, c, d, e) {
        this.T = a;
        this.policy = b;
        this.schedule = c;
        this.I = d;
        this.K = e;
        this.U = NaN;
        this.l = this.G = this.B = null;
        this.i = this.C = this.D = this.startTimeSecs = NaN;
        this.u = !1;
        this.J = NaN
    }

    function Lna(a, b, c, d, e) {
        return b.Ma && b.Ha && 3 === aF(b) ? new ZT(a, b, c, d, e) : null
    }

    function $T(a, b) {
        if (a.policy.vl) {
            var c = b.info.qb,
                d = xB(a.schedule);
            b = b.index.Re;
            c = Math.max(1, d / c);
            a.J = Math.round(1E3 * Math.max(((c - 1) * b + a.policy.I) / c, b - a.policy.yb));
            a.L()
        }
    }

    function Mna(a, b) {
        var c = Date.now() / 1E3,
            d = c - a.startTimeSecs,
            e = c - a.D,
            f = e >= a.policy.og,
            g = !1;
        if (f) {
            var k = 0;
            !isNaN(b) && b > a.C && (k = b - a.C, a.C = b);
            k / e < a.policy.xl && (g = !0);
            a.L();
            a.D = c
        }
        c = d >= a.policy.yb && !a.u;
        if (!f && !c && aU(a, b)) return NaN;
        c && (a.u = !0, a.L());
        a: {
            d = g;c = Date.now() / 1E3 - (a.I.De() || 0) - a.G.l - a.policy.I;f = a.l.startTime;c = f + c;
            if (d) {
                if (isNaN(b)) {
                    a.L();
                    bU(a, NaN, "n", b);
                    f = NaN;
                    break a
                }
                d = b - a.policy.vb;
                d < c && (a.L(), c = d)
            } else a.u && (d = c + a.policy.I - a.U + a.policy.yl, isNaN(b) || (d = Math.max(d, Math.min(c, b - a.policy.vb))),
                c = d);c = Math.max(c, f);a.L();f = c
        }
        a.i = f;
        if (isNaN(a.i)) return a.L(), a.clear(), NaN;
        if (!g && aU(a, b)) return cU(a, b), NaN;
        if (a.i <= a.l.startTime) return bU(a, NaN, "y", b), a.clear(), NaN;
        if (!a.K(a.i, !1)) return !cU(a, b) && g && (bU(a, NaN, "t", b), a.clear()), NaN;
        a.L();
        g = a.i;
        bU(a, g, "s", b);
        a.clear();
        return g
    }

    function cU(a, b) {
        return a.K(a.i, !0) ? !1 : (bU(a, NaN, "ns", b), a.L(), a.clear(), !0)
    }

    function aU(a, b) {
        return isNaN(b) ? !0 : isNaN(a.i) ? !1 : b < a.i + (a.u ? a.policy.vb : a.policy.wl)
    }
    ZT.prototype.clear = function() {
        this.l = this.G = this.B = null;
        this.i = this.C = this.D = this.startTimeSecs = NaN;
        this.u = !1
    };

    function bU(a, b, c, d) {
        var e = a.B.qn();
        e.ssr_sk = (1E3 * b).toFixed(0);
        e.ssr_t = (1E3 * a.i).toFixed(0);
        e.ssr_r = c;
        e.ssr_st = (1E3 * a.startTimeSecs).toFixed(0);
        e.ssr_n = Date.now().toFixed(0);
        e.ssr_f = (1E3 * a.G.l).toFixed(0);
        e.ssr_fa = a.u ? "1" : "0";
        e.ssr_o = (1E3 * a.I.De() || 0).toFixed(0);
        e.ssr_v = (1E3 * d).toFixed(0);
        b = a.l.i.index;
        cF(b, a.l.oa, !0) && (e.ssr_ist = (1E3 * b.getStartTime(a.l.oa)).toFixed(0), e.ssr_id = (1E3 * b.getDuration(a.l.oa)).toFixed(0));
        a.T.Aa("ssr", JA(e))
    }
    ZT.prototype.L = function() {};

    function dU(a, b, c, d, e, f, g, k, l) {
        k = void 0 === k ? !1 : k;
        S.call(this);
        var m = this;
        this.va = a;
        this.schedule = b;
        this.policy = c;
        this.i = d;
        this.U = l;
        this.timing = new $R;
        this.mediaSource = null;
        this.G = this.currentTime = NaN;
        this.T = this.Ka = 0;
        this.X = this.Fa = this.isSuspended = !1;
        this.ya = "";
        this.ea = {};
        this.Qa = this.od = NaN;
        this.df = null;
        this.timestampOffset = NaN;
        this.Sa = !1;
        this.Ha = 0;
        this.J = !1;
        this.I = null;
        this.bb = new fS;
        this.D = new KR(b, c);
        a = l && Object.keys(l.hd);
        this.l = new hS(this, this.D, c, this.i, e, a);
        c = mna(this.l, f, g && g.id);
        this.audioTrack =
            new mT(this, this.policy, c.audio);
        this.videoTrack = new mT(this, this.policy, c.video);
        this.videoTrack.B.X = this.audioTrack.B;
        this.ra = {
            updateend: this.rC,
            error: this.DF
        };
        this.K = new dr(this.qf, 0, this);
        E(this, this.K);
        this.Ma = new dr(this.qf, 1E3, this);
        E(this, this.Ma);
        this.fb = new dr(this.qf, void 0, this);
        E(this, this.fb);
        this.Ta = new dr(this.qf, 1E4, this);
        E(this, this.Ta);
        this.Z = new WH(5);
        this.C = Lna(this, this.policy, this.schedule, this.Z, function(n, p) {
            return eU(m, n, p)
        });
        this.u = new aS(this.i, this.policy, this.videoTrack, this.audioTrack, k);
        E(this, this.u);
        this.u.subscribe("ctmp", this.Aa, this);
        this.B = new PR(this.i, this.videoTrack, this.audioTrack, this.policy, this.u);
        E(this, this.B);
        Nna(this, this.B);
        this.L()
    }
    v(dU, S);
    h = dU.prototype;
    h.initialize = function(a, b, c) {
        this.L();
        a = a || 0;
        this.W("videoformatchange", pS(this.l));
        if (this.i.isManifestless) {
            if (this.policy.hh) {
                b = aF(this.policy);
                for (var d in this.i.i) this.i.i.hasOwnProperty(d) && (this.i.i[d].index.l = b)
            }
            Ona(this)
        }
        this.C && $T(this.C, this.videoTrack.i);
        this.policy.ya && YE() && this.Aa("streaming", "ac." + !!window.AbortController, !0);
        d = isNaN(this.currentTime) ? 0 : this.currentTime;
        this.currentTime = this.i.isManifestless ? d : a;
        this.U && (fU(this, this.videoTrack), fU(this, this.audioTrack), Pna(this.U));
        c ? (this.policy.Cb ? (this.Sa = c, gU(this, c)) : gU(this, !1), er(this.Ma)) : (a = 0 === this.currentTime, hU(this, this.videoTrack, this.videoTrack.i, a), hU(this, this.audioTrack, this.audioTrack.i, a), xh(this.seek(this.currentTime), function() {}), this.timing.gb());
        (this.i.Xc || this.i.Ke || this.i.D || this.i.C || this.i.G) && this.Aa("minMaxSq", "minSq." + this.i.Xc + ";maxSq." + this.i.Ke + ";minDvrTime." + this.i.D + ";maxDvrTime." + this.i.C + ";startWalltime." + this.i.G)
    };

    function fU(a, b) {
        var c = b.i;
        if (a.U && Qna(a.U, vE(c)) && c.indexRange && c.initRange) {
            var d = vE(c),
                e = c.indexRange.length + c.initRange.length,
                f = a.U.hd[d].Kn || 0;
            if (f) {
                if (e = c.wk(f - e)) f = function(g) {
                    g.isFailed() ? (a.Aa("ombf", "1"), AT(b, g), NE(g.info) && hU(a, b, c, !0), a.qf()) : iU(a, g) && a.qf()
                }, c.B = !0, ME(e) && pT(b, new iT(d, e, a.U, f))
            } else a.Aa("ombooo", "1")
        }
    }

    function Ona(a) {
        var b = a.videoTrack.i.index;
        a.df = new ena({
            Gh: a.policy.Gh,
            Ud: a.policy.u.Ud,
            Re: b.Re,
            getLastSegmentNumber: function() {
                return b.getLastSegmentNumber()
            },
            Yl: function() {
                return b.Yl()
            }
        })
    }

    function jU(a, b) {
        b = b || a.videoTrack && a.videoTrack.l && a.videoTrack.l.startTime || a.currentTime;
        var c = a.videoTrack,
            d = a.l;
        b = d.nextVideo && d.nextVideo.index.getSegmentNumberForTime(b) || 0;
        d.T !== b && (d.X = {}, d.T = b, iS(d, d.u));
        rS(d);
        d.nextVideo && !d.nextVideo.index.isLoaded() && (d.T = -1);
        kU(a, c, d.nextVideo);
        kU(a, a.audioTrack, a.l.l)
    }

    function gU(a, b) {
        a.Fa = b;
        a.J || (a.L(), a.isSuspended = !0)
    }
    h.resume = function() {
        if (this.isSuspended || this.X) this.L(), this.Fa = this.X = this.isSuspended = !1, this.qf()
    };

    function lU(a) {
        a.mediaSource && a.mediaSource.i && a.mediaSource.l && (aD(a.mediaSource.i, a.ra, a), aD(a.mediaSource.l, a.ra, a));
        nT(a.audioTrack, null);
        nT(a.videoTrack, null);
        a.mediaSource = null
    }

    function mU(a, b) {
        b = void 0 === b ? !1 : b;
        a.L();
        lU(a);
        b ? (a.L(), a.J = !0) : a.policy.Cb ? gU(a, a.Sa) : gU(a, !1);
        nU(a)
    }

    function oU(a) {
        a.mediaSource && a.mediaSource.Ge() && (mU(a), a.policy.Jm && TS(a, !0, "fmt.unplayable", {
            unexpected: 1
        }))
    }
    h.setAudioTrack = function(a) {
        if (!this.Ea()) {
            var b = this.l;
            b.l = b.C.i[a.id];
            b.G = b.l;
            a = new gS(b.G, b.i, "m");
            this.L();
            this.W("audioformatchange", a);
            this.W("reattachrequired")
        }
    };
    h.setPlaybackRate = function(a) {
        a !== this.D.getPlaybackRate() && this.D.setPlaybackRate(a)
    };

    function pU(a, b, c) {
        var d = a.u;
        if (2 === d.l || 3 === d.l || a.isSuspended && (!eI(a.schedule) || a.Fa)) return !1;
        if (a.i.isManifestless) {
            if (0 < b.u.length && b.l && -1 === b.l.oa || b.u.length >= a.policy.Ij && !a.policy.ub || !a.policy.Qj && 0 < b.u.length && !a.policy.u.Ud) return !1;
            if (b.G) return !a.i.isLive || !isNaN(a.od)
        }
        if (JT(b)) return a.L(), !1;
        if (!(b.l || a.i.isManifestless && a.policy.ub && b.G)) {
            if (!b.i.pd()) return !1;
            VR(b, a.currentTime)
        }
        d = b.u.length + c.u.length;
        (b.u.length && b.u[0].El() || c.u.length && c.u[0].El() || a.i.isLive && (!a.policy.ub ||
            !b.u.length)) && --d;
        if (d + 1 >= a.policy.Lj) return !1;
        if (!b.l) return !0;
        d = b.l;
        if (!tE(d.i.l, a.policy)) return !1;
        4 === d.type && d.i.pd() && (b.l = kb(d.i.No(d)), d = b.l);
        if (!d.u && !d.i.ri(d)) return !1;
        var e = a.i.yd || a.i.I;
        if (a.i.isManifestless && e) {
            e = b.i.index.getLastSegmentNumber();
            var f = c.i.index.getLastSegmentNumber();
            e = Math.min(e, f);
            if (0 < b.i.index.dn && 0 < e && d.oa >= e) return b.J = e, c.J = e, !1
        }
        if (d.i.info.audio && 4 === d.type) return !1;
        if (FT(b) && !a.policy.Ka) return !0;
        if (d.u || yT(b) && yT(b) + yT(c) > a.policy.Sa) return !1;
        e = !b.C && !c.C;
        f = b === a.videoTrack && a.J;
        if (!(c = !!(c.l && !c.l.u && c.l.B < d.B) && (!a.i.isManifestless || c.l && c.l.B && d.B) && e && !f || a.policy.Fa && !b.C && c.C) && (c = EE(d))) {
            c = d.B;
            a: if (d = a.u, d = d.i ? d.i.Jc : null, a.J && d) a = d.startSecs + d.durationSecs + (a.policy.Bj ? 15 : 0);
                else {
                    d = qU(a, b, !0);
                    !qS(a.l) && 0 < a.policy.J && (e = (K() - a.Ka) / 1E3, d = Math.min(d, a.policy.J + a.policy.qc * e));
                    d = a.currentTime + d;
                    if (a.policy.Zd && (e = Rna(a) + a.policy.Zd, e < d)) {
                        a.Aa("mrl", "ori." + d + ";mod." + e, !0);
                        a.policy.Fj && (a.Ka = K());
                        a = e;
                        break a
                    }
                    a = d
                } c = c > a
        }
        return c ? !1 : (b = b.sb) && b.isLocked() ?
            !1 : !0
    }

    function rU(a, b, c) {
        if (pU(a, b, c)) {
            if (b.G) {
                if (a.i.isLive) {
                    var d = a.i.Xc && a.i.I ? b.i.wi(a.i.Xc, !1) : b.i.Pi(Infinity);
                    d.od = a.od
                } else d = b.i.wi(0, !1);
                a.C ? 0 === d.od && (d.C = a.C.J) : d.C = a.Qa
            } else if (d = b.l, d.i.pd()) {
                var e = d.B - a.currentTime,
                    f = !d.range || 0 === d.l && 0 === d.ib ? 0 : d.range.length - (d.ib + d.l),
                    g = d.i;
                if (ET(b) && b.i.pd()) {
                    var k = Math.min(15, .5 * qU(a, b, !0));
                    var l = FT(b) || e <= k || a.l.I;
                    a.L("ready to adapt: " + l + ", upgrade pending: " + FT(b) + ", health: " + e + ", max health: " + k);
                    k = l
                } else k = !1;
                k && 0 === f && (a.i.isManifestless ? g = b.i :
                    (g = d.startTime + sU, d.l && (g += d.duration), VR(b, g), d = b.l, g = d.i));
                g.Ue() ? (f = a.l, c = LR(a.D, g.info.qb, c.i.info.qb, e, 0 < f.B.length && 0 === f.videoIndex && a.X), e = ET(b), c = d.i.Cl(d, c), c.range && 1 < c.i.length && (e || c.l.l || c.i[0].i !== d.i ? c = d.i.Cl(d, c.i[0].l) : (e = c.i[c.i.length - 1], g = e.l / c.range.length, !e.Pc && .4 > g && (c = d.i.Cl(d, c.range.length - e.l)))), d = c) : (0 > d.oa && (c = HE(d), c.pr = "" + b.u.length, a.B.i && (c.sk = "1"), a.Aa("nosq", d.D + ";" + JA(c))), d = g.Zm(d));
                if (a.J)
                    for (c = t(d.i), e = c.next(); !e.done; e = c.next()) e.value.type = 6
            } else d.i.Ue() ?
                (c = LR(a.D, b.i.info.qb, c.i.info.qb, 0), d = d.i.Cl(d, c)) : d = d.i.Zm(d);
            if (a.I && (c = a.u, e = d.i[0].oa, c = 0 > e && !isNaN(c.B) ? c.B : e, e = a.u, g = (0 > c || c === e.B) && !isNaN(e.C) ? e.C : d.i[0].C, e = a.I.Vl(g, c, d.i[0].i.info.id, b === a.audioTrack ? 1 : 2), 0 > c && eS(a.u, 0, 0, !0), e)) {
                g = "decurl_itag" + d.i[0].i.info.Ib() + "_sg" + c + "_st" + g.toFixed(3) + ".";
                if (a.policy.Rm && b.isRequestPending(c - 1)) {
                    a.Aa("sdai", "wt_daistate_on_sg" + (c - 1));
                    return
                }
                a.Aa("sdai", g);
                c = d;
                e && (c.u = new dD(e))
            }
            a.policy.yg && -1 !== d.i[0].oa && d.i[0].oa < a.i.Xc && (d = b.i.wi(a.i.Xc, !1));
            pT(b, tU(a, d))
        }
    }

    function Sna(a, b) {
        var c = PE(b),
            d = a.D,
            e = Math.min(2.5, $H(d.schedule));
        d = NR(d);
        var f = DE(b.i[0]),
            g = hD(b.l.i),
            k;
        a.df ? k = {
            Of: f,
            Og: g,
            df: a.df,
            oa: b.i[0].oa,
            od: b.od
        } : k = {
            Of: f,
            Og: g
        };
        return new xR(a.schedule, c, c - e * d, k)
    }

    function tU(a, b) {
        EE(b.i[b.i.length - 1]) && uU(a, rna(a.l, b.i[0].i));
        var c = Sna(a, b);
        a.policy.K && (c.C = []);
        var d = {
            bk: Math.max(0, b.i[0].C - a.currentTime),
            Ho: a.policy.Xd && NE(b) && b.i[0].i.info.video ? tna(a.l) : void 0,
            Wo: a.J
        };
        return new QT(a.policy, b, c, a.ea, function(e, f) {
            a: {
                var g = e.info.i[0].i,
                    k = g.info.video ? a.videoTrack : a.audioTrack;
                if (!(2 <= e.state) || 3 <= e.state || e.B || !(!a.mediaSource || a.isSuspended || 3 < zT(k, a.currentTime))) {
                    var l = a.policy.jb;
                    if (!(!l || 3 <= e.state || e.B < l || rE(e.info.l, a.ea))) {
                        l = a.ea;
                        var m = gD(sE(e.info.l));
                        l = pE(l, m);
                        l.i || l.timedOut || l.started || (l = QE(e.info, !0)) && tU(a, l)
                    }
                    if (3 <= e.state || e.Ea() && 3 > f) a.policy.Qa && (f = yR(e.timing), l = e.timing, a.Aa("rqs", JA({
                        rn: e.requestNumber.toString(),
                        rt: f.rt,
                        pt: f.pt,
                        stall: f.stall,
                        elt: f.elbowTime,
                        elb: f.elbowBytes,
                        rst: "" + e.state,
                        strm: "" + e.xhr.Im(),
                        d: l.C ? l.C.join("") : ""
                    }))), e.X && a.Aa("sbwe3", "1", !0);
                    if (!a.Ea() && 2 <= e.state)
                        if (f = a.timing, m = e.info.i[0].i, l = !f.l && m.info.video, m = !f.i && m.info.audio, 3 === e.state ? l ? f.tick("vrr") : m && f.tick("arr") : 4 === e.state ? l ? (f.l = mE(e.l), bt(), et(4)) :
                            m && (f.i = mE(e.l)) : e.El() && l && (bt(), et(4)), 3 === e.state) AT(k, e), NE(e.info) && hU(a, k, g, !0), a.I && (k = e.info.Vl()) && a.I.Vi(e.info.i[0].oa, g.info.id, k), a.qf();
                        else if (3 <= e.state && 5 === e.info.i[0].type) 4 === e.state && (g = (e.info.i[0].i.info.video ? a.videoTrack : a.audioTrack).u[0] || null) && g instanceof QT && g.B && XT(g, !0), e.dispose();
                    else {
                        if (!e.isFailed() && e.C && 2 <= e.state && 3 !== e.state)
                            if (g = e.xhr.getResponseHeader("X-Response-Itag")) {
                                a.L();
                                g = sna(a.l, g);
                                k = e.info.range.length - g.zt();
                                g.B = !0;
                                e.info.i[0].i.B = !1;
                                f = g.wk(k);
                                e.info = f;
                                if (e.i) {
                                    k = e.i;
                                    f = f.i;
                                    k.i = f;
                                    l = f[0].range;
                                    m = rF(k.Lc[0].i);
                                    rF(kb(k.Lc).i);
                                    for (var n = 0; n < k.Lc.length; n++) {
                                        k.Lc[n].info = f[n];
                                        var p = f[n].range;
                                        k.Lc[n].i = new kF([new Uint8Array(m.buffer, p.start - l.start, p.length)])
                                    }
                                }
                                e.C = !1;
                                kU(a, a.videoTrack, g);
                                k = a.videoTrack;
                                k.l && (k.l.i = g);
                                a.W("constraint", g.info.gb().quality);
                                (k = e.xhr.getResponseHeader("X-Segment-Lmt")) && g.info.lastModified && g.info.lastModified !== +k && AT(a.videoTrack, e)
                            } else e.C = !1;
                        if (4 === e.state) {
                            if (iU(a, e), a.u && (g = a.u, k = e.info, f = a.I, 0 !== g.l && f &&
                                    k.i[0].isVideo()))
                                if (k.i[0].oa > g.B && (g.B = NaN, g.C = NaN), g.i && g.i.oa === k.i[0].oa)
                                    if (l = g.i.Jc.event, "start" === l || "continue" === l) {
                                        if (1 === g.l || 5 === g.l) g.B = k.i[0].oa, g.C = k.i[0].C, rQ(g, "sdai", "joinad" + g.l + "_sg" + g.B + "_st" + g.C.toFixed(3)), g.l = 2, f.Lt(g.i.Jc)
                                    } else g.l = 5;
                            else 1 === g.l && (g.l = 5)
                        } else if (a.policy.ya && e.wm() && !(3 <= e.state) && !iU(a, e) && !e.isFailed()) break a;
                        e.isFailed() && (g = e.info.i[0].i, k = e.lastError, hD(g.l.i) && (f = Re(cb(e.Yc()), 3), a.Aa("dldbrerr", f || "none")), e.canRetry() ? (f = (g.info.video && 1 < g.l.l ||
                            410 === e.u || 500 === e.u || 503 === e.u) && !oS(a.l), l = e.qn(), m = g.info.video ? a.videoTrack : a.audioTrack, f && (l.stun = "1"), TS(a, !1, k, l), a.Ea() || (f && (a.L(), nS(a.l, g)), a.policy.le && 1 === e.info.i.length && 0 < e.info.i[0].ib && g !== m.i && a.X ? a.W("reattachrequired") : (AT(m, e), a.qf()))) : hD(g.l.i) ? (a.W("localplaybackfailed"), TS(a, !1, "net.closed", {
                            err: e.lastError || "",
                            rn: e.requestNumber.toString()
                        })) : (TS(a, !1, k, e.qn()), e.info.Of() ? (g.C = k, a.qf()) : TS(a, !0, "net.retryexhausted", {
                            err: k,
                            rn: e.requestNumber.toString()
                        })));
                        a.qf();
                        a.policy.fb &&
                            3 <= e.state && e.canRetry() && rE(e.info.l, a.ea) && (g = a.ea, k = gD(e.info.l.i), g = pE(g, k), g.u + a.policy.fb * oE(g, a.policy, !0) > K() || (e = QE(e.info, !1)) && tU(a, e))
                    }
                }
            }
        }, d)
    }

    function uU(a, b) {
        b && (a.L(), a.W("videoformatchange", b));
        a.policy.Hj && a.l.va && a.W("audioformatchange", pS(a.l, "a"))
    }

    function iU(a, b) {
        try {
            var c = b.info.i[0].i,
                d = c.info.video ? a.videoTrack : a.audioTrack;
            if (a.i.isManifestless && d) {
                d.G && (b.Ea(), 3 <= b.state || b.wm(), d.G = !1);
                b.ut() && a.Z.Te(1, b.ut());
                var e = b.Ow(),
                    f = b.Sy(),
                    g = a.i,
                    k;
                for (k in g.i) {
                    var l = g.i[k].index;
                    l.Cg && (e && (l.dn = Math.max(l.dn, e)), f && (l.i = Math.max(l.i || 0, f)))
                }
            }
            if (b.info.Of() && !ME(b.info)) {
                for (var m = t(b.Jr()), n = m.next(); !n.done; n = m.next()) OS(d.B, n.value);
                a.W("metadata", c)
            }
            qT(d);
            return !!d.Oe()
        } catch (p) {
            return p instanceof Error && (ky(p), b = b.qn(), b.origin = "hrhs",
                TS(a, !0, "fmt.unplayable", b)), !1
        }
    }
    h.qf = function() {
        oU(this);
        if (this.mediaSource && tG(this.mediaSource) && !this.mediaSource.Ie()) {
            var a = oT(this.videoTrack);
            a = this.policy.Gj && a && a.u;
            this.i.isManifestless && this.i.I && VG(this.i) ? (this.G = VG(this.i), uG(this.mediaSource, this.G)) : this.i.isLive && !a ? isNaN(this.G) ? (this.G = this.currentTime + 3600, uG(this.mediaSource, this.G)) : this.G <= this.currentTime + 1800 && (this.G = Math.max(this.G + 1800, this.currentTime + 3600), uG(this.mediaSource, this.G)) : this.mediaSource.isView || (a = Math.max(this.audioTrack.getDuration(),
                this.videoTrack.getDuration()), (!isFinite(this.G) || this.G !== a) && 0 < a && (uG(this.mediaSource, a), this.G = a))
        }
        if (!this.Ea())
            if (TG(this.i) && this.i.isFailed()) TS(this, !0, "manifest.net.retryexhausted", {
                rc: this.i.U.toString()
            });
            else if (!this.i.u || !HT(this.videoTrack) && !HT(this.audioTrack) || (this.videoTrack.C || this.audioTrack.C) && this.policy.Fa ? a = !1 : (nU(this), this.W("seekplayerrequired", Infinity), a = !0), !a && (oU(this), qT(this.videoTrack), !this.Ea() && (qT(this.audioTrack), !this.Ea()))) {
            this.i.isManifestless && (IT(this.videoTrack),
                IT(this.audioTrack), ZR(this.B), (a = this.videoTrack.Oe()) && a.l && (a = a.l.C && !this.policy.Gh, this.Aa(a === this.policy.u.Ud ? "strm" : "strmbug", "strm." + (a ? "1" : "0") + ";sfmp4." + (this.policy.u.Ud ? "1" : "0") + ";dfs." + (this.policy.Gh ? "1" : "0"), !0)));
            if (this.mediaSource) MP(this);
            else if (this.policy.i) {
                (a = this.videoTrack.Oe()) && this.videoTrack.Yf(a);
                var b = this.audioTrack.Oe();
                b && this.audioTrack.Yf(b);
                wT(this.videoTrack) && wT(this.audioTrack) ? this.L() : (a || b) && er(this.K)
            }
            jU(this);
            hU(this, this.videoTrack, this.videoTrack.i,
                !1);
            hU(this, this.audioTrack, this.audioTrack.i, !1);
            a = this.audioTrack.i.C;
            b = this.videoTrack.i.C;
            if (a || b) {
                var c = "net.retryexhausted";
                if ("fmt.unparseable" === a || "fmt.unparseable" === b) c = "fmt.unparseable";
                TS(this, !0, c, {
                    metadata: "1",
                    video: this.videoTrack.i.C || "",
                    audio: this.audioTrack.i.C || ""
                })
            } else {
                a = this.videoTrack;
                var d = this.audioTrack;
                if ((!this.mediaSource || tG(this.mediaSource) && !this.policy.Ka) && !this.B.i && ET(a) && a.i.pd() && this.l.I) a: {
                    if (b = this.currentTime, c = this.D, d = LR(c, a.i.info.qb, d.i.info.qb, 0), c =
                        $H(c.schedule) + d / xB(c.schedule), b += Math.max(c, c + 10 - d / a.i.info.qb), this.L(), a.u.length) {
                        if (a.u[0].info.i[0].startTime <= b) break a;
                        SR(a)
                    }
                    c = a.B;
                    for (d = c.l.length - 1; 0 <= d; d--) c.l[d].info.startTime > b && c.l.pop();a.u.length ? a.l = kb(kb(a.u).info.i) : a.B.l.length ? a.l = KS(a.B).info : a.l = oT(a);a.l && b < a.l.startTime && (a.K = 0, a.i.pd() ? a.l = a.i.Pi(b, !0).i[0] : a.l = null)
                }
                rU(this, this.videoTrack, this.audioTrack);
                rU(this, this.audioTrack, this.videoTrack);
                this.policy.Pj && this.ya && !this.isSuspended && eI(this.schedule) && (Tna(this,
                    this.ya), this.ya = "");
                this.C && (a = this.C, a.B ? (b = a.D + a.policy.og, a.u || (b = Math.min(b, a.startTimeSecs + a.policy.yb)), a = Math.max(0, 1E3 * b - Date.now())) : a = NaN, isNaN(a) || er(this.fb, a));
                er(this.Ta)
            }
        }
    };

    function MP(a) {
        var b = a.mediaSource.i,
            c = a.mediaSource.l,
            d = vU(a);
        if (d) {
            if (a.policy.lh) {
                if (!b.vk()) {
                    var e = a.audioTrack.Oe();
                    e && wU(a, b, e)
                }
                c.vk() || (b = a.videoTrack.Oe()) && wU(a, c, b)
            }
            a.T || (a.T = K(), a.L(), a.policy.K && a.Aa("apdps", "r." + d))
        } else {
            if (a.T) {
                d = K() - a.T;
                e = zT(a.audioTrack, a.currentTime);
                var f = zT(a.videoTrack, a.currentTime);
                a.L();
                a.policy.K && a.Aa("apdpe", "dur." + d.toFixed() + ";abuf." + ((1E3 * e).toFixed() + ";vbuf.") + (1E3 * f).toFixed());
                a.T = 0
            }
            if (a.C) {
                d = a.C;
                e = a.audioTrack;
                f = jG(a.mediaSource.l.Ed());
                if (d.B) d = Mna(d,
                    f);
                else {
                    if (f = e.Oe()) {
                        var g = f.l;
                        g && g.C && g.l && (e = e.u.length ? e.u[0] : null) && 2 <= e.state && !e.isFailed() && 0 === e.info.od && (d.B = e, d.G = g, d.l = f.info, d.startTimeSecs = Date.now() / 1E3, d.D = d.startTimeSecs, d.C = d.l.startTime, d.L())
                    }
                    d = NaN
                }
                d && a.W("seekplayerrequired", d, !0)
            }
            d = !1;
            xU(a, a.videoTrack, c) && (d = !0, e = a.timing, e.B || (e.B = Date.now(), e.tick("vda"), dA("vda", "video_to_ad"), e.u && (bt(), et(4))));
            if (a.mediaSource && !a.mediaSource.Ge() && (xU(a, a.audioTrack, b) && (d = a.timing, d.u || (d.u = Date.now(), d.tick("ada"), dA("ada", "video_to_ad"),
                    d.B && (bt(), et(4))), d = !0), !a.Ea() && a.mediaSource)) {
                !a.policy.ea && wT(a.videoTrack) && wT(a.audioTrack) && tG(a.mediaSource) && !a.mediaSource.Ie() && (e = oT(a.audioTrack).i, e === a.i.i[e.info.id] && (a.L(), e = a.mediaSource, tG(e) && (e.mediaSource ? e.mediaSource.endOfStream() : e.kd.webkitSourceEndOfStream(e.kd.EOS_NO_ERROR)), e = a.schedule, MH(cI(e)), e.C = Ss()));
                e = a.policy.Mj;
                f = a.policy.zl;
                d || !(0 < e || f) || !tG(a.mediaSource) || wT(a.videoTrack) || wT(a.audioTrack) || (b.Zo(a.currentTime, f, e), c.Zo(a.currentTime, f, e));
                if (c = d) c = a.mediaSource,
                    c = !(c.i ? c.i.supports(0) : xG());
                c && er(a.K)
            }
        }
    }

    function vU(a) {
        if (JT(a.videoTrack)) return a.L(), "ssf";
        var b = a.u;
        if (1 === b.l || 2 === b.l || 3 === b.l) return "cpm";
        if (a.policy.tf || DT(a.videoTrack) || DT(a.audioTrack)) return "";
        if (a.B.i) {
            b = a.D;
            var c = a.videoTrack,
                d = a.audioTrack;
            if (c.u.length || d.u.length) {
                var e = 0,
                    f = US(c.B).concat(US(d.B));
                f = t(f);
                for (var g = f.next(); !g.done; g = f.next()) e += g.value.l;
                c = c.i.info.qb + d.i.info.qb;
                e /= c;
                b = e < b.policy.Oj ? !1 : 10 < e ? !0 : 10 > c * (10 - e) / OR(b)
            } else b = !0;
            if (!b) return "abr";
            b = a.videoTrack;
            if (0 < b.u.length && 1 === b.B.l.length && JS(b.B).info.G <
                b.U) return "seek"
        }
        if (!a.X || !a.policy.bb || 10 > a.currentTime || 360 < a.videoTrack.i.info.gb().i) return "";
        b = GT(a.videoTrack, a.currentTime, a.policy.bb) || GT(a.audioTrack, a.currentTime, a.policy.bb);
        return (0 < a.videoTrack.u.length || 0 < a.audioTrack.u.length || pU(a, a.videoTrack, a.audioTrack) || pU(a, a.audioTrack, a.videoTrack)) && b ? "nord" : ""
    }

    function xU(a, b, c) {
        if (c.Ie()) return !0;
        if (!c.Hs()) return !1;
        var d = b.Oe(),
            e;
        if (!(e = !d || 6 === d.info.type) && (e = a.u)) {
            e = a.u;
            var f;
            if (f = 0 !== e.l && b === e.T) e = CT(e.G), f = d.info.oa > (e ? e.oa : -1);
            e = !!f
        }
        if (e) return !1;
        e = d.info;
        f = oT(b);
        !f || f.Pc || FE(f, e) || c.abort();
        !c.Sn() || qG() ? c.gw(e.i.info.containerType, e.i.info.mimeType) : e.i.info.containerType !== c.Sn() && a.Aa("ctu", "ct." + qG() + ";prev_c." + c.Sn() + ";curr_c." + e.i.info.containerType);
        f = e.i.D;
        a.policy.xj && f && (e = 0 + f.duration, f = -f.i, 0 === c.Op() && e === c.nt() || c.Cv(0, e), f !== c.Ub() &&
            (c.Fm(f), nG && aT(a.audioTrack.B, c.Gt())));
        if (a.i.u && 0 === d.info.ib && (zF(d.info.i.info) || a.policy.Bl)) {
            if (null == c.vk()) {
                e = oT(b);
                if (!(f = !e || e.i !== d.info.i)) {
                    b: if (e = e.I, f = d.info.I, e.length !== f.length) e = !1;
                        else {
                            for (var g = 0; g < e.length; g++)
                                if (!Lb(e[g], f[g])) {
                                    e = !1;
                                    break b
                                } e = !0
                        }f = !e
                }
                e = f
            } else e = c.vk(), f = d.info.i.i, e = e !== f && !Lb(e, f);
            e && a.Aa("initchg", "it." + d.info.i.info.id + ".ty." + d.info.type + ".seg." + d.info.oa);
            a.policy.ob && !e && (zF(d.info.i.info) ? (QD(SE(d), 1836019574), QD(SE(d), 1718909296)) : (e = new TD(SE(d)), iE(e),
                YD(e, 524531317, !0), d.i = d.i.split(e.start + e.i).il), d.u = !1)
        }
        a.policy.Fe && d.u && (d.u = !1);
        e = a.C && !!a.C.B && b.i.info.audio;
        f = a.i.isManifestless || d.u;
        if (!(a.i.u && 0 !== d.info.ib || f && !e) && wU(a, c, d)) return !0;
        if (e) return !1;
        e = a.currentTime + qU(a, b, !1);
        if (!(e = d.info.C > e)) {
            a: if (a.bb.push(d.info), a.policy.Ic && (!d.info.ib || d.info.Pc || 10 > d.info.C) && a.Aa("sba", c.wb({
                        as: CE(d.info)
                    })), e = d.u ? d.info.i.i : null, f = rF(d.i), d.u && (f = new Uint8Array(f.buffer, 0, f.byteOffset + f.length)), e = yU(a, c, f, d.info, e), "s" === e) a.Ha = 0, e = !0;
                else {
                    a.policy.yh ||
                        (c.abort(), UR(b));
                    if ("i" === e || "x" === e) zU(a, "checked", e, d.info);
                    else {
                        if ("q" === e && (d.info.isVideo() ? (e = a.policy, e.D = Math.floor(.8 * e.D), e.U = Math.floor(.8 * e.U), e.C = Math.floor(.8 * e.C)) : (e = a.policy, e.G = Math.floor(.8 * e.G), e.Ta = Math.floor(.8 * e.Ta), e.C = Math.floor(.8 * e.C)), !c.Ie() && !a.mediaSource.isView && c.Zo(Math.min(a.currentTime, d.info.startTime), !0, 5))) {
                            e = !1;
                            break a
                        }
                        a.W("reattachrequired")
                    }
                    e = !1
                }e = !e
        }
        if (e) return !1;
        b.Yf(d);
        a.L("Appended " + CE(d.info) + ", buffered: " + fG(c.Ed()));
        return !0
    }

    function zU(a, b, c, d) {
        var e = "fmt.unplayable",
            f = !0;
        "x" === c || "m" === c ? (e = "fmt.unparseable", d.i.C = e, d.i.info.video && !oS(a.l) && nS(a.l, d.i)) : "i" === c && (15 > a.Ha ? (a.Ha++, e = "html5.invalidstate", f = !1) : e = "fmt.unplayable");
        d = HE(d);
        d.mrs = wG(a.mediaSource);
        d.origin = b;
        d.reason = c;
        TS(a, f, e, d)
    }

    function ZS(a, b, c) {
        var d = a.i,
            e = !1,
            f = -1,
            g;
        for (g in d.i) {
            var k = TF(d.i[g].info.mimeType) || d.i[g].info.isVideo();
            if (c === k)
                if (k = d.i[g].index, !cF(k, b.oa)) k.Gr(b), e = !0;
                else if (d.Ka) {
                e = b;
                var l = k.gg(e.oa);
                l && l.startTime !== e.startTime ? (k.segments = [], k.Gr(e), e = !0) : e = !1;
                e && (f = b.oa)
            }
        }
        0 <= f && d.W("clienttemp", "restMflIndex", (c ? "v" : "a") + "." + f, !1);
        jna(a.B, b, c, e);
        a.u.Mu(b, c)
    }

    function wU(a, b, c) {
        c.info.i.pd();
        var d = c.info.i.i;
        if (null == d || b.vk() === d) return !1;
        var e = d,
            f = b.Pp();
        if (a.policy.Fe && f && b.isView() && zF(c.info.i.info)) {
            var g = new DataView(d.buffer, d.byteOffset, d.byteLength);
            (f = xia(g, f)) ? e = new Uint8Array(f.buffer, f.byteOffset, f.byteLength): a.Aa("fenc", "1")
        }
        f = null;
        (g = c.info.i.wk(0)) && (f = g.i[0]);
        a.policy.kh && b.abort();
        d = yU(a, b, e, f, d);
        if ("s" !== d) return zU(a, "sepInit", d, c.info), !0;
        a.L();
        return b.Ie()
    }

    function yU(a, b, c, d, e) {
        try {
            b.appendBuffer(c, d, e)
        } catch (f) {
            if (11 === f.code) return "i";
            if (12 === f.code) return "x";
            if (22 !== f.code && 0 !== f.message.indexOf("Not enough storage")) return ky(f), "u";
            c = fG(b.Ed()).replace(/,/g, "_");
            d = Re(cb(f.message), 3);
            a.Aa("quex", "br." + c + ";t." + (a.mediaSource ? b === a.mediaSource.l ? "v" : "a" : "u") + ";e." + d);
            return "q"
        }
        return a.mediaSource.Ge() ? "m" : "s"
    }
    h.rC = function(a) {
        if (this.policy.Ic && this.mediaSource) {
            var b = a === this.mediaSource.i,
                c = a.Qp();
            c && (!c.ib || c.Pc) && this.Aa("sbu", a.wb({
                a: "" + +b
            }))
        }
        this.qf()
    };
    h.DF = function(a) {
        if (this.mediaSource) {
            var b = oT(a === this.mediaSource.i ? this.audioTrack : this.videoTrack);
            if (a = a.Et())
                for (var c = 0; c < a.length; c++) this.Aa("appendedbuffer", Re(a[c], 3));
            a = void 0;
            b && (a = HE(b));
            b = lna(this.bb, function(d) {
                return HE(d)
            });
            TS(this, !0, "fmt.unplayable", Object.assign(b, a))
        }
    };

    function Nna(a, b) {
        b.subscribe("seekplayerrequired", function(c, d) {
            a.J || a.W("seekplayerrequired", c, d)
        });
        b.subscribe("ctmp", function(c, d) {
            a.Aa(c, d, !1)
        });
        b.subscribe("error", function(c, d, e) {
            TS(a, c, d, e)
        });
        b.subscribe("setcurrenttime", function(c) {
            a.currentTime = c
        })
    }
    h.Rk = function(a) {
        this.va.Rk(a)
    };
    h.Mu = function(a, b) {
        this.i.isManifestless && ZS(this, b, !!a.info.video)
    };
    h.Iq = function(a, b, c) {
        a.info.video && this.u.Iq(b, c)
    };

    function IS(a, b) {
        a.W("localmediachange", b)
    }

    function qU(a, b, c) {
        if (a.isSuspended) return 1;
        var d = b.i.info.audio ? a.policy.G : a.policy.D;
        !a.policy.Ka && qS(a.l) && (d = Math.max(d, b.i.info.audio ? a.policy.Ta : a.policy.U));
        c && (d += a.policy.Sa);
        var e = qS(a.l) ? b.l ? b.l.i.info.qb : b.i.info.qb : b.qb;
        d /= e;
        0 < a.policy.Vd && a.mediaSource && tG(a.mediaSource) && (b = b.i.info.video ? a.mediaSource.l : a.mediaSource.i) && !b.Ie() && (b = b.Ed(), e = gG(b, a.currentTime), 0 <= e && (b = a.currentTime - b.start(e), d += Math.max(0, Math.min(b - a.policy.Vd, a.policy.Nj))));
        0 < a.policy.C && (d = Math.min(d, a.policy.C));
        a.policy.ud && c && !qS(a.l) && (c = a.l, c = mS(c, kb(c.B)) + mS(c, c.D.i[0]), c = a.policy.ud * (c / NR(a.D)), c < d && 15 > c && a.Aa("bwcapped", "1", !0), c = Math.max(c, 15), d = Math.min(d, c));
        return d
    }

    function Rna(a) {
        var b = ob(a.va.Li(), function(d) {
            return "ad" === d.namespace
        });
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next())
            if (c = c.value, c.start / 1E3 > a.currentTime) return c.start / 1E3;
        return Infinity
    }

    function Tna(a, b) {
        (new KT(b, "cms", null, function(c) {
            for (var d = [], e = 0; e < arguments.length; ++e) d[e - 0] = arguments[e];
            return a.W.apply(a, ["error"].concat(ha(d)))
        })).send()
    }
    h.Ht = function() {
        return this.I
    };

    function Una(a, b) {
        if (a.mediaSource && a.mediaSource.l) {
            b -= !isNaN(a.timestampOffset) && a.policy.zb ? a.timestampOffset : 0;
            a.currentTime !== b && a.resume();
            if (a.B.i && !a.mediaSource.Ge()) {
                var c = a.currentTime <= b && b < a.currentTime + 10,
                    d = hG(a.mediaSource.l.Ed(), a.currentTime + sU);
                c && d && (a.B.i = !1)
            }
            a.B.i || (a.currentTime = b);
            er(a.Ma)
        }
    }
    h.seek = function(a) {
        if (this.Ea()) return qh();
        if (this.videoTrack.G || this.audioTrack.G) return this.policy.Jk ? ph() : qh("seeking to head");
        oU(this);
        this.Ka = K();
        jU(this, a);
        this.mediaSource && this.mediaSource.i && this.mediaSource.l && (this.mediaSource.i.isLocked() || this.mediaSource.l.isLocked()) && this.W("reattachrequired");
        var b = this.currentTime;
        this.currentTime = this.B.seek(a);
        var c = this.u;
        c.u = null;
        c.D = !1;
        eS(this.u, a, b);
        er(this.K);
        return ph(this.currentTime)
    };

    function Vna(a, b) {
        var c = uT(a.videoTrack).find(function(d) {
            return d.startTime >= b && eU(a, d.startTime, !1)
        });
        return c && c.startTime < b + 1.5 * c.duration ? c.startTime + .1 : 0
    }

    function eU(a, b, c) {
        if (!(a.videoTrack.i.pd() && a.audioTrack.i.pd() && a.mediaSource && a.mediaSource.l && a.mediaSource.i)) return !1;
        if (c && a.i.isManifestless && (-1 === a.videoTrack.D || -1 === a.audioTrack.D)) return !0;
        var d = TR(a.videoTrack, b, c);
        if (isNaN(d)) return !1;
        a = TR(a.audioTrack, a.policy.Ha ? b : d, c);
        return isNaN(a) ? !1 : !0
    }
    h.getCurrentTime = function() {
        return this.currentTime
    };

    function kU(a, b, c) {
        b.i !== c && (a.L(), b.i = c)
    }

    function hU(a, b, c, d) {
        if (!c.pd() && !c.B && tE(c.l, a.policy) && "f" !== c.info.i) {
            if (d) {
                d = a.D;
                var e = c.info,
                    f = MR(d, e.video ? d.policy.Al : d.policy.ph, e.qb);
                d = d.policy.rg && e.video ? Math.max(f, d.policy.rg) : f
            } else d = 0;
            d = c.wk(d);
            a = tU(a, d);
            ME(d) && pT(b, a);
            c.B = !0
        }
    }
    h.Da = function() {
        this.u.unsubscribe("ctmp", this.Aa, this);
        mU(this);
        SR(this.audioTrack);
        SR(this.videoTrack);
        S.prototype.Da.call(this)
    };

    function TS(a, b, c, d) {
        a.Ea() || (d = new IA(c, b, d), Pa(a), JA(d.details), a.W("error", d), "html5.invalidstate" !== c && "fmt.unplayable" !== d.errorCode && "fmt.unparseable" !== c && b && a.dispose())
    }
    h.L = function() {};
    h.wb = function() {
        var a = oT(this.audioTrack),
            b = oT(this.videoTrack);
        a = {
            lct: this.currentTime.toFixed(3),
            lsk: this.B.i,
            lmf: qS(this.l),
            lbw: bI(this.schedule).toFixed(3),
            lhd: $H(this.schedule).toFixed(3),
            lst: (1E9 * (this.schedule.i.De() || 0)).toFixed(3),
            laa: a ? CE(a) : "",
            lva: b ? CE(b) : "",
            lar: this.audioTrack.l ? CE(this.audioTrack.l) : "",
            lvr: this.videoTrack.l ? CE(this.videoTrack.l) : "",
            laq: "" + yT(this.audioTrack),
            lvq: "" + yT(this.videoTrack)
        };
        this.mediaSource && !this.mediaSource.Ge() && this.mediaSource.i && this.mediaSource.l &&
            (a.lab = fG(this.mediaSource.i.Ed()), a.lvb = fG(this.mediaSource.l.Ed()));
        this.T && (a.lapt = (K() - this.T).toFixed(0), a.lapr = vU(this));
        return a
    };

    function nU(a) {
        UR(a.audioTrack);
        UR(a.videoTrack);
        delete a.U
    }
    h.Aa = function(a, b, c) {
        this.va.Aa(a, b, void 0 === c ? !1 : c)
    };

    function Wna(a, b) {
        var c = b.info.video ? a.videoTrack : a.audioTrack;
        null != c && hU(a, c, b, !1)
    }

    function XS(a, b) {
        a.timestampOffset !== b && (a.timestampOffset = b, a.L(), a.u.I = a.timestampOffset, a.W("timestamp", a.timestampOffset), a.i.isManifestless && (b = a.i, a = a.timestampOffset, b.Z ? b.timestampOffset = a : b.l = a))
    }
    var sU = 2 / 24;

    function AU(a) {
        this.i = a
    }
    h = AU.prototype;
    h.Vl = function(a, b, c, d) {
        return this.i.Vl(a, b, c, d)
    };
    h.Lt = function(a) {
        this.i.Lt(a)
    };
    h.Mv = function(a, b) {
        this.i.Mv(a, b)
    };
    h.vt = function(a) {
        return this.i.vt(a)
    };
    h.Vi = function(a, b, c) {
        this.i.Vi(a, b, c)
    };
    h.Qu = function(a, b, c, d, e, f, g) {
        this.i.Qu(a, b, c, d, e, f, g)
    };

    function BU() {
        S.apply(this, arguments)
    }
    v(BU, S);

    function CU(a, b, c, d) {
        BU.call(this);
        var e = this;
        this.u = -1;
        this.i = {};
        this.B = new dr(this.C, 0, this);
        E(this, this.B);
        this.l = new dr(function() {
            e.Ea() || (e.B.start(Math.random() * c), e.l.start(b))
        }, a, this);
        E(this, this.l);
        d.subscribe("fairplay_next_need_key_info", this.D, this)
    }
    v(CU, BU);
    CU.prototype.D = function(a, b) {
        if (a && b) {
            var c = 1 * Number(Xi(a, "cpi")) + 1;
            isNaN(c) || 0 >= c || c < this.u ? (this.B.stop(), this.l.stop(), this.u = -1, this.i = {}) : (c > this.u && (this.u = c, bc(this.i) || (this.i = {}, this.B.stop(), this.l.stop())), this.i[b] = a, er(this.l))
        }
    };
    CU.prototype.C = function() {
        for (var a = t(Object.keys(this.i)), b = a.next(); !b.done; b = a.next()) {
            var c = b.value;
            b = this.W;
            for (var d = this.u, e = this.i[c].match(Gi), f = [], g = t(e[6].split("&")), k = g.next(); !k.done; k = g.next()) k = k.value, 0 === k.indexOf("cpi=") ? f.push("cpi=" + d.toString()) : 0 === k.indexOf("ek=") ? f.push("ek=" + yd(c)) : f.push(k);
            e[6] = "?" + f.join("&");
            c = "skd://" + e.slice(2).join("");
            e = 2 * c.length;
            d = new Uint8Array(e + 4);
            d[0] = e % 256;
            d[1] = (e - d[0]) / 256;
            for (e = 0; e < c.length; ++e) d[2 * e + 4] = c.charCodeAt(e);
            b.call(this, "rotated_need_key_info_ready",
                new BS(d, "fairplay", !0))
        }
        this.i = {}
    };

    function DU(a) {
        a = a.subarray(4);
        a = new Uint16Array(a.buffer, a.byteOffset, a.byteLength / 2);
        return String.fromCharCode.apply(null, a)
    };

    function EU(a) {
        var b = a.interval,
            c = a.Wq;
        this.url = a.url;
        this.interval = b;
        this.Wq = c
    };

    function FU(a, b) {
        this.statusCode = a;
        this.message = b;
        this.i = this.heartbeatParams = this.errorMessage = null;
        this.l = {};
        this.nextFairplayKeyId = null
    }

    function GU(a) {
        var b = sD(a.subarray(0, 16384)),
            c = b.indexOf("\r\n\r\n");
        if (-1 === c) return null;
        var d = b.indexOf("\r\n"),
            e = b.slice(0, d).match(/^GLS\/1.\d ([0-9]{1,3}) (\w+)$/);
        if (null == e) return null;
        e = e[1];
        isFinite(e) && (e = String(e));
        e = "string" === typeof e ? /^\s*-?0x/i.test(e) ? parseInt(e, 16) : parseInt(e, 10) : NaN;
        b = ED(b.slice(d + 2));
        if (null == b) return null;
        a = new FU(e, a.subarray(c + 4));
        0 !== a.statusCode && (a.errorMessage = MI(a.statusCode));
        if (c = b["Heartbeat-Url"]) a.heartbeatParams = new EU({
            url: c,
            interval: Number(b["Heartbeat-Interval-Secs"]) ||
                60,
            Wq: Number(b["Heartbeat-Num-Retries"]) || 4
        });
        if (c = b["Authorized-Format-Types"]) a.i = c.split(",");
        if (c = b["Key-Ids"]) a.l = Xna(c);
        a.nextFairplayKeyId = b["Next-Key-Id"];
        return a
    }

    function Xna(a) {
        if (!a) return {};
        a = a.split(";");
        var b = {};
        nb(a, function(c) {
            c = c.split(",");
            2 === c.length && (b[c[1]] = c[0])
        });
        return b
    }
    var HU = {},
        Yna = (HU.DRM_TRACK_TYPE_AUDIO = "AUDIO", HU.DRM_TRACK_TYPE_SD = "SD", HU.DRM_TRACK_TYPE_HD = "HD", HU.DRM_TRACK_TYPE_UHD1 = "UHD1", HU);

    function IU(a, b, c) {
        c = void 0 === c ? "" : c;
        C.call(this);
        this.message = a;
        this.requestNumber = b;
        this.l = c;
        this.onError = this.onSuccess = null;
        this.i = new Ff(5E3, 2E4, .2)
    }
    v(IU, C);

    function Zna(a, b, c) {
        a.onSuccess = b;
        a.onError = c
    }

    function $na(a, b, c) {
        var d = {
            format: "RAW",
            method: "POST",
            postBody: a.message,
            responseType: "arraybuffer",
            withCredentials: !0,
            timeout: 3E4,
            onSuccess: function(e) {
                if (!a.Ea())
                    if (a.L(), 0 !== e.status && e.response)
                        if (Zz("drm_net_r", void 0, a.l), e = new Uint8Array(e.response), e = GU(e)) a.onSuccess(e, a.requestNumber);
                        else a.onError(a, "drm.net", "t.p");
                else JU(a, e)
            },
            onError: function(e) {
                JU(a, e)
            }
        };
        c && (b = Zi(b, "access_token", c));
        pu(b, d);
        a.L()
    }

    function JU(a, b) {
        if (!a.Ea()) a.onError(a, b.status ? "drm.net.badstatus" : "drm.net.connect", "t.r;c." + String(b.status), b.status)
    }

    function aoa(a, b, c, d) {
        var e = {
            timeout: 3E4,
            onSuccess: function(f) {
                if (!a.Ea()) {
                    a.L();
                    Zz("drm_net_r", void 0, a.l);
                    var g = "LICENSE_STATUS_OK" === f.status ? 0 : 9999,
                        k = null;
                    if (f.license) try {
                        k = Od(f.license)
                    } catch (u) {
                        ky(u)
                    }
                    if (0 !== g || k) {
                        k = new FU(g, k);
                        0 !== g && f.reason && (k.errorMessage = f.reason);
                        if (f.authorizedFormats) {
                            g = {};
                            for (var l = [], m = {}, n = t(f.authorizedFormats), p = n.next(); !p.done; p = n.next())
                                if (p = p.value, p.trackType && p.keyId) {
                                    var q = Yna[p.trackType];
                                    if (q) {
                                        "HD" === q && f.isHd720 && (q = "HD720");
                                        p.isHdr && (q += "HDR");
                                        g[q] ||
                                            (l.push(q), g[q] = !0);
                                        var r = null;
                                        try {
                                            r = Od(p.keyId)
                                        } catch (u) {
                                            ky(u)
                                        }
                                        r && (m[Re(r, 4)] = q)
                                    }
                                } k.i = l;
                            k.l = m
                        }
                        f.nextFairplayKeyId && (k.nextFairplayKeyId = f.nextFairplayKeyId);
                        f = k
                    } else f = null;
                    if (f) a.onSuccess(f, a.requestNumber);
                    else a.onError(a, "drm.net", "t.p;p.i")
                }
            },
            onError: function(f) {
                if (!a.Ea())
                    if (f && f.error) f = f.error, a.onError(a, "drm.net.badstatus", "t.r;p.i;c." + f.code + ";s." + f.status, f.code);
                    else a.onError(a, "drm.net.badstatus", "t.r;p.i;c.n")
            },
            onTimeout: function() {
                a.onError(a, "drm.net", "rt.req." + a.requestNumber)
            }
        };
        d && (e.Gx = "Bearer " + d);
        nv(c, "player/get_drm_license", b, e)
    }
    IU.prototype.L = function() {};

    function KU(a, b, c, d) {
        S.call(this);
        this.videoData = a;
        this.u = b;
        this.Z = c;
        this.sessionId = d;
        this.C = {};
        this.cryptoPeriodIndex = NaN;
        this.url = "";
        this.requestNumber = 0;
        this.I = this.K = !1;
        this.B = null;
        this.X = [];
        this.D = [];
        this.U = !1;
        this.i = {};
        this.T = NaN;
        this.status = "";
        this.G = NaN;
        this.l = a.C;
        this.cryptoPeriodIndex = c.cryptoPeriodIndex;
        a = {};
        Object.assign(a, this.u.deviceParams);
        a.cpn = this.videoData.clientPlaybackNonce;
        this.videoData.K && (a.vvt = this.videoData.K, this.videoData.mdxEnvironment && (a.mdx_environment = this.videoData.mdxEnvironment));
        this.u.I && (a.authuser = this.u.I);
        this.u.pageId && (a.pageid = this.u.pageId);
        isNaN(this.cryptoPeriodIndex) || (a.cpi = this.cryptoPeriodIndex.toString());
        if (this.videoData.N("html5_send_drm_atv_device_type")) {
            var e = (e = /_(TV|STB|GAME|OTT|ATV|BDP)_/.exec(fd)) ? e[1] : "";
            "ATV" === e && (a.cdt = e)
        }
        this.C = a;
        this.C.session_id = d;
        this.J = !0;
        "widevine" === this.l.flavor && (this.C.hdr = "1");
        "playready" === this.l.flavor && (b = Number(rH(b.experiments, "playready_first_play_expiration")), !isNaN(b) && 0 <= b && (this.C.mfpe = "" + b), this.J = !1, this.videoData.N("html5_playready_enable_non_persist_license") &&
            (this.C.pst = "0"));
        this.baseUrl = xJ(this.l) ? DU(c.initData).replace("skd://", "https://") : this.l.u;
        this.fairplayKeyId = Xi(this.baseUrl, "ek") || "";
        if (b = Xi(this.baseUrl, "cpi") || "") this.cryptoPeriodIndex = Number(b);
        this.ea = this.videoData.N("html5_use_drm_retry");
        this.X = c.l;
        this.L();
        LU(this, "sessioninit." + c.cryptoPeriodIndex);
        this.status = "in"
    }
    v(KU, S);

    function boa(a, b) {
        LU(a, "createkeysession");
        a.status = "gr";
        Zz("drm_gk_s", void 0, a.videoData.ra);
        a.url = coa(a);
        try {
            a.B = b.createSession(a.Z, function(c) {
                LU(a, c)
            })
        } catch (c) {
            b = "t.g";
            c instanceof DOMException && (b += ";c." + c.code);
            a.W("licenseerror", "drm.unavailable", !0, b, "HTML5_NO_AVAILABLE_FORMATS_FALLBACK");
            return
        }
        a.B && (MU(a.B, function(c, d) {
            doa(a, c, d)
        }, function(c) {
            a.Ea() || (a.L(), a.error("drm.keyerror", !0, c))
        }, function() {
            a.Ea() || (a.L(), LU(a, "onkyadd"), a.I || (a.W("sessionready"), a.I = !0))
        }, function(c) {
            eoa(a, c)
        }), E(a, a.B))
    }

    function coa(a) {
        var b = a.baseUrl;
        $ha(b) || a.error("drm.net", !0, "t.x");
        if (!Xi(b, "fexp")) {
            var c = ["23898307", "23914062", "23916106", "23883098"].filter(function(e) {
                return a.u.experiments.experiments[e]
            });
            0 < c.length && (a.C.fexp = c.join())
        }
        c = t(Object.keys(a.C));
        for (var d = c.next(); !d.done; d = c.next()) d = d.value, b = Zi(b, d, a.C[d]);
        return b
    }

    function foa(a) {
        var b = {};
        Object.assign(b, a.C);
        return b
    }

    function doa(a, b, c) {
        if (!a.Ea())
            if (b) {
                a.L();
                LU(a, "onkmtyp." + c);
                a.status = "km";
                switch (c) {
                    case "license-renewal":
                    case "license-request":
                    case "license-release":
                        break;
                    case "individualization-request":
                        goa(a, b);
                        return;
                    default:
                        a.W("ctmp", "message_type", "t." + c + ";l." + b.byteLength)
                }
                a.K || (Zz("drm_gk_f", void 0, a.videoData.ra), a.K = !0, a.W("newsession", a));
                if (tJ(a.l) && (b = NU(b), !b)) return;
                xJ(a.l) && !a.videoData.useInnertubeDrmService() && (b = rD(Re(b)));
                b = new IU(b, ++a.requestNumber, a.videoData.ra);
                Zna(b, function(d, e) {
                    hoa(a,
                        d, e)
                }, function(d, e, f) {
                    if (!a.Ea()) {
                        var g = !1,
                            k;
                        (k = 3 <= d.i.l) || (k = a.ea && 36E4 < K() - a.T);
                        k && (g = !0, e = "drm.net.retryexhausted");
                        a.L();
                        LU(a, "onlcsrqerr." + e + ";" + f);
                        a.error(e, g, f);
                        a.shouldRetry(g, d) && ioa(a, d)
                    }
                });
                E(a, b);
                OU(a, b)
            } else a.error("drm.unavailable", !1, "km.empty")
    }

    function goa(a, b) {
        a.L();
        LU(a, "sdpvrq");
        a.G = Date.now();
        if ("widevine" !== a.l.flavor) a.error("drm.provision", !0, "e.flavor;f." + a.l.flavor + ";l." + b.byteLength);
        else {
            var c = {
                cpn: a.videoData.clientPlaybackNonce
            };
            Object.assign(c, a.u.deviceParams);
            c = Ti("https://www.googleapis.com/certificateprovisioning/v1/devicecertificates/create?key=AIzaSyB-5OLKTx2iU5mko18DfdwK5611JIjbUhE", c);
            b = {
                format: "RAW",
                headers: {
                    "content-type": "application/json"
                },
                method: "POST",
                postBody: JSON.stringify({
                    signedRequest: sD(b)
                }),
                responseType: "arraybuffer"
            };
            ZC(c, b, 3, 500).then(Bs(function(d) {
                d = d.xhr;
                if (!a.Ea()) {
                    d = new Uint8Array(d.response);
                    var e = sD(d);
                    try {
                        var f = JSON.parse(e)
                    } catch (g) {}
                    f && f.signedResponse ? (a.W("ctmp", "drminfo", "provisioning"), f = (Date.now() - a.G) / 1E3, a.G = NaN, a.W("ctmp", "provs", "" + f.toFixed(3)), a.B && a.B.update(d)) : (f = f && f.error && f.error.message, d = "e.parse", f && (d += ";m." + f), a.error("drm.provision", !0, d))
                }
            }), Bs(function(d) {
                a.Ea() || a.error("drm.provision", !0, "e." + d.errorCode + ";c." + (d.xhr && d.xhr.status))
            }))
        }
    }

    function eoa(a, b) {
        a.Ea() || 0 >= b.size || (b.forEach(function(c, d) {
            var e = tJ(a.l) ? d : c;
            d = new Uint8Array(tJ(a.l) ? c : d);
            tJ(a.l) && PU(d);
            c = Re(d, 4);
            PU(d);
            d = Re(d, 4);
            a.i[c] ? a.i[c].status = e : a.i[d] ? a.i[d].status = e : a.i[c] = {
                type: "",
                status: e
            }
        }), a.L("Key statuses changed: " + QU(a, ",")), LU(a, "onkeystatuschange"), a.status = "kc", a.W("keystatuseschange", a))
    }

    function RU(a) {
        var b;
        if (b = a.J && null != a.B) a = a.B, b = !(!a.i || !a.i.keyStatuses);
        return b
    }

    function OU(a, b) {
        var c, d;
        a.status = "km";
        Zz("drm_net_s", void 0, a.videoData.ra);
        if (a.videoData.useInnertubeDrmService()) {
            var e = new Jx(a.u.jb),
                f = {
                    context: lv(e.config_ || mv())
                };
            f.drmSystem = CJ[a.l.flavor];
            f.videoId = a.videoData.videoId;
            f.cpn = a.videoData.clientPlaybackNonce;
            f.sessionId = a.sessionId;
            f.licenseRequest = Re(b.message);
            f.drmParams = a.videoData.drmParams;
            isNaN(a.cryptoPeriodIndex) || (f.isKeyRotated = !0, f.cryptoPeriodIndex = a.cryptoPeriodIndex);
            var g = !(null === (d = null === (c = a.videoData.u) || void 0 === c ? void 0 :
                c.gb()) || void 0 === d || !d.isHdr());
            a.videoData.N("html5_request_only_hdr_or_sdr_keys") && (f.drmVideoFeature = g ? "DRM_VIDEO_FEATURE_PREFER_HDR" : "DRM_VIDEO_FEATURE_SDR");
            if (!f.context || !f.context.client) {
                a.L();
                a.error("drm.net", !0, "t.r;ic.0");
                return
            }
            if (g = a.u.deviceParams) f.context.client.deviceMake = g.cbrand, f.context.client.deviceModel = g.cmodel, f.context.client.browserName = g.cbr, f.context.client.browserVersion = g.cbrver, f.context.client.osName = g.cos, f.context.client.osVersion = g.cosver;
            f.context.user = f.context.user || {};
            f.context.request = f.context.request || {};
            a.videoData.K && (f.context.user.credentialTransferTokens = [{
                token: a.videoData.K,
                scope: "VIDEO"
            }]);
            f.context.request.mdxEnvironment = a.videoData.mdxEnvironment || f.context.request.mdxEnvironment;
            a.videoData.Ka && (f.context.user.kidsParent = {
                oauthToken: a.videoData.Ka
            });
            if (xJ(a.l)) {
                g = a.fairplayKeyId;
                for (var k = [], l = 0; l < g.length; l += 2) k.push(parseInt(g.substring(l, l + 2), 16));
                f.fairplayKeyId = Re(k)
            }
            aoa(b, f, e, a.videoData.Gd())
        } else $na(b, a.url, a.videoData.oauthToken);
        a.status =
            "rs"
    }

    function hoa(a, b, c) {
        if (!a.Ea()) {
            if (a.requestNumber !== c && "widevine" === a.l.flavor && ((a.u.N("html5_drm_ignore_out_of_order_responses") || a.u.N("html5_drm_ignore_out_of_order_responses_cfl")) && LU(a, "drmOOO." + a.requestNumber + "." + c, !0), a.u.N("html5_drm_ignore_out_of_order_responses"))) return;
            LU(a, "onlcsrsp");
            a.status = "rr";
            0 !== b.statusCode ? a.error("drm.auth", !0, "t.f;c." + b.statusCode, b.errorMessage || void 0) : (Zz("drm_kr_s", void 0, a.videoData.ra), b.heartbeatParams && b.heartbeatParams.url && a.videoData.N("outertube_streaming_data_always_use_staging_license_service") &&
                (c = a.l.u.match(/(.*)youtube.com/g)) && (b.heartbeatParams.url = c[0] + b.heartbeatParams.url), b.heartbeatParams && a.W("newlicense", b.heartbeatParams), b.i && (a.D = b.i, R(a.u.experiments, "html5_heartbeat_wait_for_drm_killswitch") || (a.videoData.useInnertubeDrmService() && !a.videoData.Vr && a.W("newlicense", new EU({})), a.videoData.Vr = !0), a.U = rb(a.D, function(d) {
                    return d.includes("HDR")
                })), b.l && (a.i = Pb(b.l, function(d) {
                    return {
                        type: d,
                        status: "unknown"
                    }
                })), vJ(a.l) && !a.videoData.useInnertubeDrmService() ? b.message = Od(sD(b.message)) : wJ(a.l) && a.videoData.useInnertubeDrmService() && (b.message = rD(Re(b.message))), a.B && (a.L(), LU(a, "updtks"), a.status = "ku", a.B.update(b.message).then(function() {
                    Zz("drm_kr_f", void 0, a.videoData.ra);
                    if (!RU(a))
                        if (LU(a, "ksApiUnsup"), uJ(a.l)) {
                            var d = SU(a.D);
                            480 < OA[d] && a.W("hdentitled", a)
                        } else a.W("keystatuseschange", a)
                }, function(d) {
                    d = "msuf.req." + a.requestNumber + ";msg." + Re(cb(d.message), 3);
                    a.error("drm.keyerror", !0, d)
                })), a.I && (a.T = K()), xJ(a.l) && a.W("fairplay_next_need_key_info", a.baseUrl, b.nextFairplayKeyId))
        }
    }
    h = KU.prototype;
    h.error = function(a, b, c, d) {
        this.Ea() || (this.W("licenseerror", a, b, c, d), "drm.provision" === a && (a = (Date.now() - this.G) / 1E3, this.G = NaN, this.W("ctmp", "provf", "" + a.toFixed(3))));
        b && this.dispose()
    };
    h.shouldRetry = function(a, b) {
        return this.ea && this.I ? !1 : !a && this.requestNumber === b.requestNumber
    };

    function ioa(a, b) {
        var c = b.i.getValue();
        c = new dr(function() {
            OU(a, b)
        }, c);
        E(a, c);
        c.start();
        If(b.i);
        a.L();
        LU(a, "rtyrq")
    }

    function TU(a, b) {
        if (!RU(a) && uJ(a.l) && !b) return "large";
        b = [];
        var c = !0;
        if (RU(a))
            for (var d = t(Object.keys(a.i)), e = d.next(); !e.done; e = d.next()) e = e.value, "usable" === a.i[e].status && b.push(a.i[e].type), "unknown" !== a.i[e].status && (c = !1);
        if (!RU(a) || c) b = a.D;
        return SU(b)
    }
    h.Da = function() {
        S.prototype.Da.call(this)
    };
    h.wb = function() {
        var a = {
            requestedKeyIds: this.X,
            cryptoPeriodIndex: this.cryptoPeriodIndex
        };
        this.B && (a.keyStatuses = this.i);
        return a
    };
    h.Fd = function() {
        var a = this.D.join();
        if (RU(this)) {
            var b = new Set,
                c;
            for (c in this.i) "usable" !== this.i[c].status && b.add(this.i[c].type);
            a += "/UKS." + Array.from(b)
        }
        return a += "/" + this.cryptoPeriodIndex
    };

    function QU(a, b) {
        for (var c = [], d = t(Object.keys(a.i)), e = d.next(); !e.done; e = d.next()) e = e.value, c.push(e + "_" + a.i[e].type + "_" + a.i[e].status);
        return c.join(b)
    }

    function UU(a) {
        var b = a.status + ".";
        return RU(a) ? b + QU(a, ".") : b + a.D.join(".")
    }

    function VU(a, b) {
        switch (a) {
            case "highres":
            case "hd2880":
                a = "UHD2";
                break;
            case "hd2160":
            case "hd1440":
                a = "UHD1";
                break;
            case "hd1080":
            case "hd720":
                a = "HD";
                break;
            case "large":
            case "medium":
            case "small":
            case "light":
            case "tiny":
                a = "SD";
                break;
            default:
                return ""
        }
        b && (a += "HDR");
        return a
    }

    function WU(a, b) {
        for (var c in a.i)
            if ("usable" === a.i[c].status && a.i[c].type === b) return !0;
        return !1
    }

    function LU(a, b, c) {
        c = void 0 === c ? !1 : c;
        a.L();
        (c || rL(a.videoData) || "playready" === a.l.flavor && a.videoData.N("html5_log_playready_high_res")) && a.W("ctmp", "drmlog", b)
    }
    h.L = function() {};

    function PU(a) {
        var b = a[0];
        a[0] = a[3];
        a[3] = b;
        b = a[1];
        a[1] = a[2];
        a[2] = b;
        b = a[4];
        a[4] = a[5];
        a[5] = b;
        b = a[6];
        a[6] = a[7];
        a[7] = b
    }

    function SU(a) {
        return xb(a, "UHD2") || xb(a, "UHD2HDR") ? "highres" : xb(a, "UHD1") || xb(a, "UHD1HDR") ? "hd2160" : xb(a, "HD") || xb(a, "HDHDR") ? "hd1080" : xb(a, "HD720") || xb(a, "HD720HDR") ? "hd720" : "large"
    }

    function NU(a) {
        for (var b = "", c = 0; c < a.length; c += 2) b += String.fromCharCode(a[c]);
        a = xd(new DOMParser, ud(sc("Uses only text content."), b), "text/xml");
        return a ? (a = a.querySelector("Challenge")) && a.childNodes && 0 !== a.childNodes.length ? new Uint8Array(qD(Te(a.childNodes[0].nodeValue)).buffer) : null : null
    }

    function XU(a, b, c, d, e) {
        var f;
        "playready" === e ? f = NU(a) : "fairplay" === e && (f = rD(Re(a)));
        f && (a = {
            format: "RAW",
            method: "POST",
            postBody: f,
            responseType: "arraybuffer",
            withCredentials: !0,
            timeout: 3E4
        }, c = Nba(c, d), ZC(c, a, 3, 500).then(function(g) {
            g = new Uint8Array(g.xhr.response);
            (g = GU(g)) && g.message && b.update(g.message)
        }))
    };

    function YU(a, b, c, d, e) {
        C.call(this);
        this.element = a;
        this.I = b;
        this.initData = c;
        this.i = d;
        this.l = e;
        this.sessionId = "";
        this.G = this.D = this.u = this.C = null;
        this.B = new WF(this);
        E(this, this.B);
        joa(this)
    }
    v(YU, C);

    function joa(a) {
        a.i ? (a.B.Ga(a.i, "message", a.sC), a.B.Ga(a.i, "keystatuseschange", a.tC), a.i.closed && a.i.closed.then(Bs(function() {
            a.Ea() || xu("xboxone") && a.u && a.u("closed")
        }), null)) : a.l && (XF(a.B, a.l, ["mskeymessage",
            "webkitkeymessage"
        ], a.yA), XF(a.B, a.l, ["mskeyerror", "webkitkeyerror"], a.xA), XF(a.B, a.l, ["mskeyadded", "webkitkeyadded"], a.wA))
    }

    function MU(a, b, c, d, e) {
        a.C = b;
        a.u = c;
        a.D = d;
        a.G = e
    }
    h = YU.prototype;
    h.sC = function(a) {
        if (this.C) {
            var b = a.messageType || "license-request";
            this.C(new Uint8Array(a.message), b)
        }
    };
    h.tC = function() {
        this.G && this.G(this.i.keyStatuses)
    };

    function ZU(a, b, c) {
        Cs(c);
        a.u && (c instanceof DOMException && (b += ";n." + c.name + ";m." + c.message), a.u(b))
    }
    h.yA = function(a) {
        this.C && this.C(a.message, "license-request")
    };
    h.xA = function(a) {
        if (this.u) {
            if (this.l) {
                var b = this.l.error.code;
                a = this.l.error.systemCode
            } else b = a.errorCode, a = a.systemCode;
            this.u("t.prefixedKeyError;c." + b + ";sc." + a)
        }
    };
    h.wA = function() {
        this.D && this.D()
    };
    h.update = function(a) {
        var b = this;
        if (this.i) return this.i.update(a).then(null, Bs(function(c) {
            ZU(b, "t.update", c)
        }));
        this.l ? this.l.update(a) : this.element.addKey ? this.element.addKey(this.I.keySystem, a, this.initData, this.sessionId) : this.element.webkitAddKey && this.element.webkitAddKey(this.I.keySystem, a, this.initData, this.sessionId);
        return $G()
    };
    h.Da = function() {
        this.i && this.i.close();
        this.element = null;
        C.prototype.Da.call(this)
    };

    function $U(a, b) {
        C.call(this);
        this.element = a;
        this.i = b;
        this.D = {};
        this.B = null;
        this.C = new WF(this);
        this.u = this.l = null;
        E(this, this.C)
    }
    v($U, C);

    function aV(a) {
        if (a.i.keySystemAccess) return a.i.keySystemAccess.createMediaKeys().then(function(b) {
            a.Ea() || (a.l = b, a.element.setMediaKeys(b))
        });
        rJ(a.i) ? a.u = new(sJ())(a.i.keySystem) : vJ(a.i) ? (a.u = new(sJ())(a.i.keySystem), a.element.webkitSetMediaKeys(a.u)) : koa(a);
        return null
    }

    function koa(a) {
        XF(a.C, a.element, ["keymessage", "webkitkeymessage"], a.wC);
        XF(a.C, a.element, ["keyerror", "webkitkeyerror"], a.vC);
        XF(a.C, a.element, ["keyadded", "webkitkeyadded"], a.uC)
    }
    h = $U.prototype;
    h.setServerCertificate = function() {
        return "widevine" === this.i.flavor && this.i.B && this.l.setServerCertificate ? this.l.setServerCertificate(this.i.B) : null
    };
    h.createSession = function(a, b) {
        var c = a.initData;
        if (this.i.keySystemAccess) {
            b && b("createsession");
            var d = this.l.createSession();
            wJ(this.i) && (c = bV(c, this.i.l));
            b && b("genreq");
            a = d.generateRequest(a.contentType, c);
            var e = new YU(null, null, null, d, null);
            a.then(function() {
                b && b("genreqsuccess")
            }, Bs(function(f) {
                ZU(e, "t.generateRequest", f)
            }));
            return e
        }
        if (rJ(this.i)) return loa(this, c);
        if (vJ(this.i)) return moa(this, c);
        this.element.generateKeyRequest ? this.element.generateKeyRequest(this.i.keySystem, c) : this.element.webkitGenerateKeyRequest(this.i.keySystem, c);
        return this.B = new YU(this.element, this.i, c, null, null)
    };

    function moa(a, b) {
        b = bV(b, a.i.l);
        a = a.u.createSession("video/mp4", b);
        return new YU(null, null, null, null, a)
    }

    function loa(a, b) {
        for (var c = new Uint8Array(270), d = 0; 135 > d; d++) c[2 * d] = '<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"></LicenseAcquisition></PlayReadyCDMData>'.charCodeAt(d);
        a = a.u.createSession("video/mp4", b, c);
        return new YU(null, null, null, null, a)
    }

    function cV(a, b) {
        var c = a.D[b.sessionId];
        !c && a.B && (c = a.B, a.B = null, c.sessionId = b.sessionId, a.D[b.sessionId] = c);
        return c
    }
    h.wC = function(a) {
        var b = cV(this, a);
        b && b.yA(a)
    };
    h.vC = function(a) {
        var b = cV(this, a);
        b && b.xA(a)
    };
    h.uC = function(a) {
        var b = cV(this, a);
        b && b.wA(a)
    };
    h.getMetrics = function() {
        if (this.l && this.l.getMetrics) try {
            var a = this.l.getMetrics()
        } catch (b) {}
        return a
    };
    h.Da = function() {
        C.prototype.Da.call(this);
        delete this.element
    };

    function bV(a, b) {
        var c = a.subarray(4);
        c = new Uint16Array(c.buffer, c.byteOffset, c.byteLength / 2);
        c = String.fromCharCode.apply(null, c).match(/ek=([0-9a-f]+)/)[1];
        for (var d = "", e = 0; e < c.length; e += 2) d += String.fromCharCode(parseInt(c.substr(e, 2), 16));
        c = d;
        d = new ArrayBuffer(2 * c.length);
        e = new Uint16Array(d);
        for (var f = 0; f < c.length; f++) e[f] = c.charCodeAt(f);
        c = new Uint8Array(d);
        d = 0;
        f = new ArrayBuffer(a.byteLength + 4 + c.byteLength + 4 + b.byteLength);
        e = new Uint8Array(f);
        f = new DataView(f);
        e.set(a);
        d += a.byteLength;
        f.setUint32(d,
            c.length, !0);
        d += 4;
        e.set(c, d);
        d += c.length;
        f.setUint32(d, b.byteLength, !0);
        e.set(b, d + 4);
        return e
    };

    function dV(a, b) {
        C.call(this);
        this.i = Og("video");
        this.l = null;
        this.C = [];
        this.B = new WF(this);
        this.u = new qJ("fairplay", "com.youtube.fairplay", "", b);
        this.u.l = a;
        E(this, this.B);
        this.init()
    }
    v(dV, C);
    dV.prototype.init = function() {
        return B(this, function b() {
            var c = this,
                d, e;
            return y(b, function(f) {
                if (1 == f.i) return $l(c.i, {
                    position: "absolute",
                    width: "1px",
                    height: "1px",
                    display: "block"
                }), c.i.src = c.u.C, document.body.appendChild(c.i), c.B.Ga(c.i, "encrypted", c.D), d = [{
                    initDataTypes: ["keyids", "cenc"],
                    audioCapabilities: [{
                        contentType: 'audio/mp4; codecs="mp4a"'
                    }],
                    videoCapabilities: [{
                        contentType: 'video/mp4; codecs="avc1"'
                    }]
                }], w(f, navigator.requestMediaKeySystemAccess("com.youtube.fairplay", d), 2);
                e = f.l;
                c.u.keySystemAccess = e;
                c.l = new $U(c.i, c.u);
                E(c, c.l);
                aV(c.l);
                sa(f)
            })
        })
    };
    dV.prototype.D = function(a) {
        var b = this;
        if (!this.Ea()) {
            var c = new Uint8Array(a.initData);
            a = new BS(c, a.initDataType);
            var d = DU(c).replace("skd://", "https://"),
                e = {},
                f = this.l.createSession(a, function() {
                    b.L()
                });
            f && (E(this, f), this.C.push(f), MU(f, function(g) {
                XU(g, f.i, d, e, "fairplay")
            }, function() {
                b.L()
            }, function() {}, function() {}))
        }
    };
    dV.prototype.L = function() {};
    dV.prototype.Da = function() {
        this.C = [];
        this.i && this.i.parentNode && this.i.parentNode.removeChild(this.i);
        C.prototype.Da.call(this)
    };

    function eV(a, b, c) {
        BU.call(this);
        var d = this;
        this.B = a;
        this.u = b;
        this.i = [];
        this.l = new dr(function() {
            if (d.i) {
                if (0 < d.i.length) {
                    var e = d.i.shift().info;
                    a: {
                        var f = e.cryptoPeriodIndex;
                        if (isNaN(f) && 0 < d.u.values.length) f = !0;
                        else {
                            for (var g = t(d.u.values), k = g.next(); !k.done; k = g.next())
                                if (k.value.cryptoPeriodIndex === f) {
                                    f = !0;
                                    break a
                                } f = !1
                        }
                    }
                    f || d.W("rotated_need_key_info_ready", e)
                }
                0 < d.i.length && (e = d.i[0].time - K(), d.l.start(Math.max(0, e)))
            }
        }, 0);
        E(this, this.l);
        c.subscribe("widevine_set_need_key_info", this.C, this)
    }
    v(eV, BU);
    eV.prototype.C = function(a) {
        var b = K(),
            c;
        if (!(c = this.B)) {
            a: {
                c = a.cryptoPeriodIndex;
                if (!isNaN(c))
                    for (var d = t(this.u.values), e = d.next(); !e.done; e = d.next())
                        if (1 >= Math.abs(e.value.cryptoPeriodIndex - c)) {
                            c = !0;
                            break a
                        } c = !1
            }
            c = !c
        }
        c ? c = 0 : (c = a.i, c = 1E3 * Math.max(0, Math.random() * ((isNaN(c) ? 120 : c) - 30)));
        this.i.push({
            time: b + c,
            info: a
        });
        er(this.l, c)
    };

    function fV() {
        this.keys = [];
        this.values = []
    }
    fV.prototype.get = function(a) {
        a = gV(this, a);
        return -1 !== a ? this.values[a] : null
    };
    fV.prototype.remove = function(a) {
        a = gV(this, a); - 1 !== a && (this.keys.splice(a, 1), this.values.splice(a, 1))
    };
    fV.prototype.set = function(a, b) {
        var c = gV(this, a); - 1 !== c ? this.values[c] = b : (this.keys.push(a), this.values.push(b))
    };

    function gV(a, b) {
        return wb(a.keys, function(c) {
            return Lb(b, c)
        })
    };

    function hV(a, b, c) {
        S.call(this);
        this.element = a;
        this.videoData = b;
        this.u = c;
        this.i = this.videoData.C;
        this.drmSessionId = this.videoData.drmSessionId || Nx();
        this.l = new fV;
        this.G = new fV;
        this.J = new fV;
        this.B = [];
        this.Fa = 2;
        this.T = new WF(this);
        this.Ha = this.ya = !1;
        this.heartbeatParams = null;
        this.X = this.Z = this.ea = this.K = !1;
        this.D = null;
        this.ra = !1;
        (a = this.element) && (a.addKey || a.webkitAddKey) || sJ() || yJ(c.experiments);
        c = this.videoData.Sc;
        this.I = "fairplay" === this.i.flavor || c ? UA : YA;
        this.C = new $U(this.element, this.i);
        E(this,
            this.C);
        rJ(this.i) && (this.U = new $U(this.element, this.i), E(this, this.U));
        E(this, this.T);
        c = this.element;
        this.i.keySystemAccess ? this.T.Ga(c, "encrypted", this.xC) : XF(this.T, c, rJ(this.i) ? ["msneedkey"] : ["needkey", "webkitneedkey"], this.dG);
        noa(this);
        a: switch (c = this.i, a = this.u.experiments, b = this.l, c.flavor) {
            case "fairplay":
                19.2999 < vu() ? (a = c.G, c = c.D, c >= a && (c = .75 * a), b = .5 * (a - c), c = new CU(b, a, a - b - c, this)) : c = null;
                break a;
            case "widevine":
                c = new eV(R(a, "disable_license_delay"), b, this);
                break a;
            default:
                c = null
        }
        if (this.D =
            c) E(this, this.D), this.D.subscribe("rotated_need_key_info_ready", this.Cx, this);
        this.L("Created, key system " + this.i.keySystem + ", final EME " + yJ(this.u.experiments));
        iV(this, "cks" + this.i.Fd());
        c = this.i;
        "com.youtube.widevine.forcehdcp" === c.keySystem && c.C && (this.Ka = new dV(this.videoData.rb, this.u.experiments), E(this, this.Ka))
    }
    v(hV, S);

    function noa(a) {
        var b = aV(a.C);
        b ? b.then(Bs(function() {
            a.Ea() || (R(a.u.experiments, "html5_drm_set_server_cert"), a.Ea() || (a.K = !0, a.L(), iV(a, "onmdkrdy"), jV(a)))
        }), Bs(function(c) {
            if (!a.Ea()) {
                a.L();
                Cs(c);
                var d = "t.a";
                c instanceof DOMException && (d += ";n." + c.name + ";m." + c.message);
                a.W("licenseerror", "drm.unavailable", !0, d, "HTML5_NO_AVAILABLE_FORMATS_FALLBACK")
            }
        })) : (a.L(), iV(a, "mdkrdy"), a.K = !0);
        a.U && (b = aV(a.U))
    }
    h = hV.prototype;
    h.xC = function(a) {
        iV(this, "onecpt");
        a.initData && kV(this, new Uint8Array(a.initData), a.initDataType)
    };
    h.dG = function(a) {
        iV(this, "onndky");
        kV(this, a.initData, a.contentType)
    };

    function kV(a, b, c) {
        a.Ha = !0;
        c = new BS(b, c);
        a.u.N("html5_eme_loader_sync") && (a.G.get(b) || a.G.set(b, c));
        a.u.N("html5_process_all_encrypted_events") ? lV(a, c) : a.u.N("html5_eme_loader_sync") ? lV(a, c) : 0 !== a.B.length && a.videoData.l && a.videoData.l.i ? jV(a) : lV(a, c)
    }
    h.Rk = function(a) {
        iV(this, "onneedkeyinfo");
        R(this.u.experiments, "html5_eme_loader_sync") && (this.J.get(a.initData) || this.J.set(a.initData, a));
        lV(this, a)
    };

    function ooa(a, b) {
        if (rJ(a.i) && !a.ea && (b = wna(b), 0 !== b.length)) {
            var c = new BS(b);
            a.ea = !0;
            navigator.requestMediaKeySystemAccess("com.microsoft.playready", [{
                initDataTypes: ["keyids", "cenc"],
                audioCapabilities: [{
                    contentType: 'audio/mp4; codecs="mp4a"'
                }],
                videoCapabilities: [{
                    contentType: 'video/mp4; codecs="avc1"'
                }]
            }]).then(function(d) {
                d.createMediaKeys().then(function(e) {
                    poa(a, e, c)
                })
            }, null)
        }
    }

    function poa(a, b, c) {
        var d = b.createSession(),
            e = a.l.values[0],
            f = foa(e);
        d.addEventListener("message", function(g) {
            g = new Uint8Array(g.message);
            XU(g, d, a.i.u, f, "playready")
        });
        d.addEventListener("keystatuseschange", function() {
            "usable" in d.keyStatuses && (a.Z = !0, mV(a, TU(e, a.Z)))
        });
        d.generateRequest("cenc", c.initData)
    }

    function lV(a, b) {
        if (!a.Ea()) {
            iV(a, "onInitData");
            if (R(a.u.experiments, "html5_eme_loader_sync") && a.videoData.l && a.videoData.l.i) {
                var c = a.J.get(b.initData);
                b = a.G.get(b.initData);
                if (!c || !b) return;
                b = c;
                c = b.initData;
                a.G.remove(c);
                a.J.remove(c)
            }
            a.L();
            iV(a, "initd." + b.initData.length + ";ct." + b.contentType);
            if ("widevine" === a.i.flavor)
                if (a.ya && !a.videoData.isLivePlayback) a.u.N("html5_process_all_encrypted_events") && jV(a);
                else {
                    if (!(R(a.u.experiments, "vp9_drm_live") && a.videoData.isLivePlayback && b.qd)) {
                        a.ya = !0;
                        c =
                            b.cryptoPeriodIndex;
                        var d = b.i;
                        CS(b);
                        b.qd || (d && b.i !== d ? a.W("ctmp", "cpsmm", "emsg." + d + ";pssh." + b.i) : c && b.cryptoPeriodIndex !== c && a.W("ctmp", "cpimm", "emsg." + c + ";pssh." + b.cryptoPeriodIndex));
                        a.W("widevine_set_need_key_info", b)
                    }
                }
            else a.Cx(b)
        }
    }

    function jV(a) {
        if (a.Ha && a.K && !a.X) {
            for (; a.B.length;) {
                var b = a.B[0];
                if (a.l.get(b.initData))
                    if ("fairplay" === a.i.flavor) a.l.remove(b.initData);
                    else {
                        a.B.shift();
                        continue
                    } CS(b);
                break
            }
            a.B.length && a.createSession(a.B[0])
        }
    }
    h.Cx = function(a) {
        this.B.push(a);
        jV(this)
    };
    h.createSession = function(a) {
        this.l.get(a.initData);
        this.X = !0;
        var b = new KU(this.videoData, this.u, a, this.drmSessionId);
        this.l.set(a.initData, b);
        b.subscribe("ctmp", this.dA, this);
        b.subscribe("hdentitled", this.lA, this);
        b.subscribe("keystatuseschange", this.Qw, this);
        b.subscribe("licenseerror", this.Rw, this);
        b.subscribe("newlicense", this.tA, this);
        b.subscribe("newsession", this.uA, this);
        b.subscribe("sessionready", this.BA, this);
        b.subscribe("fairplay_next_need_key_info", this.kA, this);
        boa(b, this.C)
    };
    h.tA = function(a) {
        this.Ea() || (this.L(), iV(this, "onnelcswhb"), a && !this.heartbeatParams && (this.heartbeatParams = a, this.W("heartbeatparams", a)))
    };
    h.uA = function() {
        this.Ea() || (this.L(), iV(this, "newlcssn"), this.B.shift(), this.X = !1, jV(this))
    };
    h.BA = function() {
        if (rJ(this.i) && (this.L(), iV(this, "onsnrdy"), this.Fa--, 0 === this.Fa)) {
            var a = this.U;
            a.element.msSetMediaKeys(a.u)
        }
    };
    h.Qw = function(a) {
        this.Ea() || (!this.ra && this.videoData.N("html5_log_drm_metrics_on_key_statuses") && (nV(this), this.ra = !0), this.L(), iV(this, "onksch"), mV(this, TU(a, this.Z)), this.W("keystatuseschange", a))
    };
    h.lA = function() {
        this.Ea() || this.ea || !uJ(this.i) || (this.L(), iV(this, "onhdet"), this.va = XA, this.W("hdproberequired"), this.W("qualitychange"))
    };
    h.dA = function(a, b) {
        this.Ea() || this.W("ctmp", a, b)
    };
    h.kA = function(a, b) {
        this.Ea() || this.W("fairplay_next_need_key_info", a, b)
    };
    h.Rw = function(a, b, c, d) {
        this.Ea() || (this.videoData.N("html5_log_drm_metrics_on_error") && nV(this), this.W("licenseerror", a, b, c, d))
    };

    function mV(a, b) {
        var c = SA("auto", b, !1, "l");
        if (a.videoData.Sc) {
            if (RA(a.I, c)) return
        } else if (WA(a.I, b)) return;
        a.I = c;
        a.W("qualitychange");
        a.L();
        iV(a, "updtlq" + b)
    }
    h.Da = function() {
        this.i.keySystemAccess && this.element.setMediaKeys(null);
        this.element = null;
        this.B = [];
        for (var a = t(this.l.values), b = a.next(); !b.done; b = a.next()) b = b.value, b.unsubscribe("ctmp", this.dA, this), b.unsubscribe("hdentitled", this.lA, this), b.unsubscribe("keystatuseschange", this.Qw, this), b.unsubscribe("licenseerror", this.Rw, this), b.unsubscribe("newlicense", this.tA, this), b.unsubscribe("newsession", this.uA, this), b.unsubscribe("sessionready", this.BA, this), b.unsubscribe("fairplay_next_need_key_info",
            this.kA, this), b.dispose();
        a = this.l;
        a.keys = [];
        a.values = [];
        S.prototype.Da.call(this)
    };
    h.wb = function() {
        for (var a = {
                systemInfo: this.i.wb(),
                sessions: []
            }, b = t(this.l.values), c = b.next(); !c.done; c = b.next()) a.sessions.push(c.value.wb());
        return a
    };
    h.Fd = function() {
        return 0 >= this.l.values.length ? "no session" : this.l.values[0].Fd() + (this.D ? "/KR" : "")
    };

    function iV(a, b) {
        var c = void 0 === c ? !1 : c;
        a.Ea() || (a.L(), (rL(a.videoData) || c) && a.W("ctmp", "drmlog", b))
    }
    h.L = function() {};

    function nV(a) {
        var b;
        if (b = zu()) {
            var c;
            b = !(null === (c = a.C.l) || void 0 === c || !c.getMetrics)
        }
        b && (b = a.C.getMetrics()) && (b = A.TextDecoder ? (new TextDecoder).decode(b) : eb(b), a.W("ctmp", "drm", b))
    };

    function oV(a, b, c) {
        S.call(this);
        var d = this;
        this.videoData = a;
        this.i = b;
        this.playerVisibility = c;
        this.I = 0;
        this.u = this.l = null;
        this.T = this.G = this.D = this.C = !1;
        this.U = this.K = 0;
        this.J = U(this.i.experiments, "html5_delayed_retry_count");
        this.B = new dr(function() {
            return d.W("newelementrequired", !1)
        }, U(this.i.experiments, "html5_delayed_retry_delay_ms"));
        E(this, this.B)
    }
    v(oV, S);

    function pV(a, b, c) {
        var d = !1,
            e = a.I + 3E4 < K() || qV(c) || a.B.isActive(),
            f;
        if (f = !e) f = a.playerVisibility, f = !!(f.bf() || f.isInline() || f.isBackground() || f.im() || f.gm());
        f && (c.nonfg = "paused", e = !0, a.W("pausevideo"));
        !e && 0 < a.J && (a.B.start(), e = !0, c.delayed = "1", --a.J);
        f = a.videoData.u;
        if (!e && !a.videoData.N("html5_disable_codec_on_platform_errors_cfl") && ((null === f || void 0 === f ? 0 : SF(f)) || (null === f || void 0 === f ? 0 : QF(f)))) {
            if (a.videoData.N("html5_disable_codec_on_platform_errors")) {
                a.i.i.i.set(f.i, {
                    wy: 1,
                    xv: Number.MAX_SAFE_INTEGER
                });
                var g =
                    "cfalls"
            } else if (a.videoData.N("html5_disable_codec_on_errors_with_exp_backoff")) {
                g = a.i.i;
                var k = f.i,
                    l = 0;
                g.i.has(k) && (l = g.i.get(k).wy);
                g.i.set(k, {
                    wy: l + 1,
                    xv: Math.pow(2, l + 1)
                });
                g = "cfallexp"
            } else a.videoData.N("html5_disable_codec_for_playback_on_error") && a.l && (k = a.l.l, l = f.i, k.Z.has(l) ? k = !1 : (k.Z.add(l), k.J = -1, iS(k, k.u), k = !0), k && (g = "cfallp"));
            g && (d = e = !0, c[g] = f.i)
        }
        if (!e) return rV(a, c);
        a.I = K();
        e = a.videoData;
        e.T ? (e = e.T.Ny(), g = Date.now() / 1E3 + 1800, e = e < g) : e = !1;
        c.e = b;
        e && (c.staleprog = "1");
        sV(a, "qoe.restart", c);
        if (e && tV(a)) return uV(a), !0;
        xu("philips") && vV(a);
        !a.videoData.N("html5_disable_codec_on_platform_errors") && f && SF(f) ? (a.i.i.disableAv1(), d = !0) : a.l ? qV(c) || (b = a.l, c = (c = oT(b.videoTrack) || b.videoTrack.l) ? c.i : b.videoTrack.i, c.I += 1, nS(b.l, c)) : a.videoData.T && a.videoData.T.zv();
        a.B.isActive() || a.W("newelementrequired", d);
        return !0
    }

    function rV(a, b) {
        if (a.videoData.ya) return !1;
        a.i.U += 1;
        if (10 >= a.i.U) return !1;
        b.exiled = "" + a.i.U;
        sV(a, "qoe.start15s", b);
        a.W("playbackstalledatstart");
        return !0
    }

    function qV(a) {
        return Bu() && !!a.msg && a.msg.toString().includes("12903")
    }

    function vV(a) {
        if ("GAME_CONSOLE" !== a.i.deviceParams.cplatform) try {
            window.close()
        } catch (b) {}
    }

    function tV(a) {
        return a.C ? !0 : a.D || "yt" !== a.i.B ? !1 : a.videoData.ya ? 25 > a.videoData.ob : !a.videoData.ob
    }

    function uV(a, b) {
        b = void 0 === b ? !1 : b;
        UL(a.videoData) ? a.W("signatureexpiredreloadrequired") : a.i.N("html5_signature_reload_refactor") ? a.C || (a.C = !0, a.W("releasevideo"), b || a.W("signatureexpiredreloadrequired")) : a.D || a.W("signatureexpiredreloadrequired")
    }

    function qoa(a, b) {
        if (a.u && ("fmt.unplayable" === b.errorCode || "html5.invalidstate" === b.errorCode)) {
            var c = a.u.dg();
            b.details.merr = c ? c.toString() : "0";
            b.details.msg = a.u.Yc()
        }
    }

    function wV(a) {
        return "net.retryexhausted" === a.errorCode || "net.badstatus" === a.errorCode && !!a.details.fmt_unav
    }

    function roa(a, b, c) {
        if ("403" === b.details.rc) {
            var d = b.errorCode;
            d = "net.badstatus" === d || "manifest.net.retryexhausted" === d
        } else d = !1;
        if (!d) return !1;
        b.details.sts = "18795";
        if (tV(a)) return !c || VL(a.videoData) || a.i.N("html5_signature_reload_refactor") ? (b.i && (b.details.e = b.errorCode, b.errorCode = "qoe.restart", b.i = !1), sV(a, b.errorCode, b.details), uV(a, c)) : (a.G = !0, a.W("releaseloader")), !0;
        6048E5 < K() - a.i.ea && xV(a, "signature");
        return !1
    }

    function xV(a, b) {
        try {
            window.location.reload();
            sV(a, "qoe.restart", {
                detail: "pr." + b
            });
            return
        } catch (c) {}
        a.i.N("tvhtml5_retire_old_players") && vV(a)
    }
    oV.prototype.handleError = function(a, b) {
        var c = this;
        qoa(this, a);
        if (("html5.invalidstate" !== a.errorCode && "fmt.unplayable" !== a.errorCode && "fmt.unparseable" !== a.errorCode || !pV(this, a.errorCode, a.details)) && !roa(this, a, b))
            if (!this.i.N("html5_disable_high_rep_fallback") && wV(a) && this.videoData.l && this.videoData.l.l) sV(this, a.errorCode, a.details), yV(this, "highrepfallback", "1", {
                Lv: !0
            }), !this.videoData.N("html5_hr_logging_killswitch") && /^hr/.test(this.videoData.clientPlaybackNonce) && btoa && yV(this, "afmts", btoa(this.videoData.adaptiveFormats), {
                Lv: !0
            }), Xka(this.videoData), this.W("highrepfallback");
            else if (b = !zu(), a.i) {
            var d = this.l ? this.l.l.u : null;
            if (wV(a) && d && d.isLocked()) var e = "FORMAT_UNAVAILABLE";
            else if ("auth" === a.errorCode && "429" === a.details.rc) {
                e = "TOO_MANY_REQUESTS";
                var f = "6"
            }
            this.W("playererror", a.errorCode, e, JA(a.details), f);
            b && "manifest.net.retryexhausted" === a.errorCode && ("400" === a.details.rc || this.T) && vV(this)
        } else this.W("nonfatalerror", a), e = b || /^pp/.test(this.videoData.clientPlaybackNonce), sV(this, a.errorCode, a.details), e && "manifest.net.connect" ===
            a.errorCode && (a = "https://www.youtube.com/generate_204?cpn=" + this.videoData.clientPlaybackNonce + "&t=" + K(), (new KT(a, "manifest", function(g) {
                c.T = !0;
                yV(c, "pathprobe", g)
            }, function(g) {
                sV(c, g.errorCode, g.details)
            })).send())
    };

    function zV(a, b) {
        a.i.i.B = !1;
        sV(a, "qoe.restart", {
            e: void 0 === b ? "fmt.noneavailable" : b,
            detail: "hdr"
        });
        a.W("formatupdaterequested")
    }

    function yV(a, b, c, d) {
        a.W("clienttemp", b, c, (void 0 === d ? {
            Lv: !1
        } : d).Lv)
    }

    function sV(a, b, c) {
        a.W("qoeerror", b, c)
    }
    oV.prototype.Da = function() {
        this.u = this.l = null;
        S.prototype.Da.call(this)
    };
    oV.prototype.L = function() {};

    function AV(a, b, c, d) {
        this.videoData = a;
        this.i = b;
        this.reason = c;
        this.l = d
    };

    function BV(a, b, c) {
        this.i = a;
        this.U = b;
        this.l = c;
        this.K = this.G = this.I = this.u = this.D = this.C = this.J = this.B = 0;
        this.playbackRate = 1
    }

    function $B(a, b, c) {
        !R(a.i.experiments, "html5_tv_ignore_capable_constraint") && (c = c.compose(CV(a, b)));
        return c
    }

    function soa(a, b) {
        return DV(a).compose(EV(a, b))
    }

    function DV(a) {
        a = FV(a);
        return SA("auto", a, !1, "s")
    }

    function FV(a) {
        var b;
        a.N("html5_exponential_memory_for_sticky") ? b = .5 > hI(a.i.va, "sticky-lifetime") ? "auto" : PA[NH()] : b = PA[NH()];
        return b
    }

    function GV(a, b) {
        return 1 < a.playbackRate ? (a = wH(a.i.i, b.i.videoInfos, a.playbackRate), new QA(0, a, !0, "o")) : new QA(0, 0, !1, "o")
    }
    BV.prototype.setPlaybackRate = function(a) {
        this.playbackRate = a
    };

    function CV(a, b) {
        if (uH(a.i.i, JF.HEIGHT)) var c = b.i.videoInfos[0].gb().i;
        else {
            var d = !!b.i.i;
            var e;
            eC(a.i) && (e = window.screen && window.screen.width ? new zg(window.screen.width, window.screen.height) : null);
            e || (e = a.i.Xd ? a.i.Xd.clone() : a.U.Ye());
            (Ke || se || d) && e.scale(AI());
            d = e;
            oL(b.videoData) || UL(b.videoData);
            b = b.i.videoInfos;
            if (b.length) {
                e = b[0].gb();
                e = 4 === e.projectionType || 2 === e.projectionType || 3 === e.projectionType;
                e = Eu() && e ? R(a.i.experiments, "enable_4k_spherical_ps4") ? .45 : .7 : Au() && e ? .45 : .99;
                a = U(a.i.experiments,
                    "html5_viewport_undersend_maximum");
                for (var f = 0; f < b.length; f++) {
                    c = b[f];
                    var g = c.gb();
                    if (null === d || g.width * e < d.width && g.height * e < d.height) {
                        a && f && g.width < d.width * a && g.height < d.height * a && (c = b[f - 1]);
                        break
                    }
                }
                d = c.gb();
                c = "93" === c.Ib() ? OA[NF(d.width, d.height)] : d.i;
                c = new QA(0, c, !1, "r")
            } else c = UA;
            c = c.i
        }
        c && (c = Math.max(c, 360));
        return new QA(0, c, !1, "r")
    }

    function toa(a, b) {
        return B(a, function d() {
            var e;
            return y(d, function(f) {
                if (!b.i.i) return f.return(void 0);
                e = b.i.videoInfos;
                return f.return(oK(e))
            })
        })
    }

    function uoa(a, b) {
        return B(a, function d() {
            var e, f, g, k, l = this;
            return y(d, function(m) {
                if (1 == m.i) return (e = b.i.videoInfos.find(function(n) {
                    return SF(n)
                })) ? null !== e.l ? m.Ya(2) : w(m, oK([e]), 2) : m.return(!1);
                f = e.l || !1;
                g = b.i.videoInfos[0].video;
                k = Math.min(RH("1", g.fps), RH("1", 30));
                l.l.Aa("mcrsp", "itag." + e.id + ";smooth." + +e.u + ";efficient." + +f + ";perf." + k);
                return m.return(f)
            })
        })
    }

    function HV(a, b) {
        if (!b.videoData.u || a.N("html5_disable_performance_downgrade")) return !1;
        6E4 < Va() - a.J && (a.B = 0);
        a.B++;
        a.J = Va();
        if (4 !== a.B) return !1;
        b = b.videoData.u;
        var c = b.gb().i - 1;
        Eja(b.i, b.gb().fps, c);
        a = a.l;
        a.l && uS(a.l.l, a.B);
        return !0
    }

    function voa(a, b, c, d) {
        if (!b || !c || !b.videoData.u) return !1;
        var e = U(a.i.experiments, "html5_df_downgrade_thresh"),
            f = a.N("html5_log_media_perf_info"),
            g = U(a.i.experiments, "hfr_dropped_framerate_fallback_threshold");
        if (!(5E3 > K() - a.C ? 0 : f || 0 < e || 0 < g)) return !1;
        a.C = K();
        c = c.np();
        if (!c) return !1;
        e = c.droppedVideoFrames - a.G;
        var k = c.totalVideoFrames - a.K;
        a.G = c.droppedVideoFrames;
        a.K = c.totalVideoFrames;
        var l = 0 === c.displayCompositedVideoFrames ? 0 : c.displayCompositedVideoFrames || -1;
        f && b.videoData.Ta && a.l.Aa("ddf", "dr." +
            c.droppedVideoFrames + ";de." + c.totalVideoFrames + ";comp." + l);
        if (d) return a.D = 0, a.u = 0, !1;
        b = 60 < k ? e / k : 0;
        0 < b && (a.I = b);
        a.u = 0 < g && 60 * b > g ? a.u + 1 : 0;
        return !1
    }

    function woa(a, b) {
        return 0 >= U(a.i.experiments, "hfr_dropped_framerate_fallback_threshold") || !(b && b.gb() && 32 < b.gb().fps) ? !1 : 3 <= a.u ? (a.u = 0, !0) : !1
    }

    function IV(a, b) {
        if (!b.i.i) return UA;
        var c = a.i.N("html5_dynamic_av1_hybrid_threshold"),
            d = 0,
            e = U(a.i.experiments, "html5_performance_cap_floor");
        a = a.i.u ? 240 : e;
        b = t(b.i.videoInfos);
        for (e = b.next(); !e.done; e = b.next()) {
            var f = e.value;
            if (!c || !SF(f))
                if (e = RH(f.i, f.gb().fps), f = f.gb().i, Math.max(e, a) >= f) {
                    d = f;
                    break
                }
        }
        return new QA(0, d, !1, "b")
    }

    function xoa(a, b) {
        var c = U(a.i.experiments, "html5_background_quality_cap"),
            d = U(a.i.experiments, "html5_background_cap_idle_secs");
        return !c || "auto" !== FV(a) || jt() / 1E3 < d ? UA : b.isBackground() ? new QA(0, c, !1, "v") : b.isInline() ? (a = U(a.i.experiments, "html5_inline_quality_cap"), new QA(0, a, !1, "v")) : UA
    }

    function EV(a, b, c) {
        if (1080 <= NH(-1) || b.osid) return UA;
        var d = U(a.i.experiments, "html5_autonav_quality_cap"),
            e = U(a.i.experiments, "html5_autonav_cap_idle_secs");
        return d && b.Lg && jt() / 1E3 > e ? (c && (d = JV(a, c, d)), new QA(0, d, !1, "e")) : UA
    }

    function JV(a, b, c) {
        if (a.N("html5_optimality_defaults_chooses_next_higher") && c)
            for (a = b.i.videoInfos, b = 1; b < a.length; b++)
                if (a[b].video.i < c) return a[b - 1].video.i;
        return c
    }
    BV.prototype.N = function(a) {
        return R(this.i.experiments, a)
    };

    function yoa(a, b) {
        a.N("html5_log_media_perf_info") && (a.l.Aa("perfdb", zoa()), a.l.Aa("hwc", "" + navigator.hardwareConcurrency, !0), b && a.l.Aa("mcdb", b.i.videoInfos.filter(function(c) {
            return !1 === c.u
        }).map(function(c) {
            return c.Ib()
        }).join("-")))
    }

    function zoa() {
        var a = Pb(QH(), function(b) {
            return "" + b
        });
        return JA(a)
    };

    function KV(a, b) {
        C.call(this);
        this.i = a;
        this.G = b;
        this.l = -1;
        this.D = !1;
        this.u = -1;
        this.playerState = new tQ;
        this.seekCount = this.nonNetworkErrorCount = this.networkErrorCount = this.rebufferTimeSecs = this.playTimeSecs = this.C = 0;
        this.delay = new dr(this.send, 6E4, this);
        this.B = !1;
        E(this, this.delay)
    }
    v(KV, C);

    function LV(a) {
        0 <= a.l || (3 === a.i.l.getVisibilityState() ? a.D = !0 : (a.l = PP(a.i), a.delay.start()))
    }

    function MV(a) {
        if (!(0 > a.u)) {
            var b = PP(a.i),
                c = b - a.C;
            a.C = b;
            8 === a.playerState.state ? a.playTimeSecs += c : AQ(a.playerState) && !Q(a.playerState, 16) && (a.rebufferTimeSecs += c)
        }
    }
    KV.prototype.onError = function(a) {
        "player.fatalexception" !== a && (a.match(Aoa) ? this.networkErrorCount++ : this.nonNetworkErrorCount++)
    };
    KV.prototype.send = function() {
        if (!(this.B || 0 > this.l)) {
            MV(this);
            var a = PP(this.i) - this.l,
                b = "PLAYER_PLAYBACK_STATE_UNKNOWN",
                c = this.playerState.getData();
            this.playerState.isError() ? b = c && "auth" === c.errorCode ? "PLAYER_PLAYBACK_STATE_UNKNOWN" : "PLAYER_PLAYBACK_STATE_ERROR" : Q(this.playerState, 2) ? b = "PLAYER_PLAYBACK_STATE_ENDED" : Q(this.playerState, 64) ? b = "PLAYER_PLAYBACK_STATE_UNSTARTED" : Q(this.playerState, 16) || Q(this.playerState, 32) ? b = "PLAYER_PLAYBACK_STATE_SEEKING" : Q(this.playerState, 1) && Q(this.playerState, 4) ?
                b = "PLAYER_PLAYBACK_STATE_PAUSED_BUFFERING" : Q(this.playerState, 1) ? b = "PLAYER_PLAYBACK_STATE_BUFFERING" : Q(this.playerState, 4) ? b = "PLAYER_PLAYBACK_STATE_PAUSED" : Q(this.playerState, 8) && (b = "PLAYER_PLAYBACK_STATE_PLAYING");
            var d = DL(this.i.videoData);
            c = "LIVE_STREAM_MODE_UNKNOWN";
            "live" === d ? c = "LIVE_STREAM_MODE_LIVE" : "dvr" === d && (c = "LIVE_STREAM_MODE_DVR");
            d = NV(this.i);
            var e = 0 > this.u ? a : this.u - this.l;
            a = this.i.i.ea + 36E5 < K();
            b = {
                started: 0 <= this.u,
                stateAtSend: b,
                joinLatencySecs: e,
                playTimeSecs: this.playTimeSecs,
                rebufferTimeSecs: this.rebufferTimeSecs,
                seekCount: this.seekCount,
                networkErrorCount: this.networkErrorCount,
                nonNetworkErrorCount: this.nonNetworkErrorCount,
                playerCanaryType: d,
                isAd: this.i.videoData.isAd(),
                liveMode: c,
                hasDrm: !!CL(this.i.videoData),
                isGapless: this.i.videoData.ea
            };
            !a && this.i.N("html5_health_to_gel") && iw("html5PlayerHealthEvent", b);
            this.i.N("html5_health_to_qoe") && (b.muted = a, this.G(JA(b)));
            this.B = !0;
            this.dispose()
        }
    };
    KV.prototype.Da = function() {
        this.B || this.send();
        C.prototype.Da.call(this)
    };

    function NV(a) {
        switch (a.i.yg) {
            case "canary":
                return "HTML5_PLAYER_CANARY_TYPE_EXPERIMENT";
            case "holdback":
                return "HTML5_PLAYER_CANARY_TYPE_CONTROL";
            default:
                return "HTML5_PLAYER_CANARY_TYPE_UNSPECIFIED"
        }
    }

    function Boa(a) {
        return (!a.N("html5_health_to_gel") || a.i.ea + 36E5 < K()) && (a.N("html5_health_to_gel_canary_killswitch") || a.i.ea + 36E5 < K() || "HTML5_PLAYER_CANARY_TYPE_UNSPECIFIED" === NV(a)) ? a.N("html5_health_to_qoe") : !0
    }
    var Aoa = /\bnet\b/;

    function OV(a, b, c, d, e) {
        var f = {
                format: "RAW"
            },
            g = {};
        wt(a) && xt() && (c && (g["X-Goog-Visitor-Id"] = c), b && (g["X-Goog-PageId"] = b), d && (g.Authorization = "Bearer " + d), c || d || b) && (f.withCredentials = !0);
        0 < Object.keys(g).length && (f.headers = g);
        e && (f.onFinish = e);
        return 1 < Object.keys(f).length ? f : null
    }

    function PV(a, b, c, d, e, f, g) {
        xt() && c.token && (a = Ti(a, {
            ctt: c.token,
            cttype: c.Yv,
            mdx_environment: c.mdxEnvironment
        }));
        e ? (null == b ? b = {
            allowPingSend: !0
        } : (c = rt(a), Object.keys(c).includes("cpn")), g ? Hx(a, b) : f ? Gx(a, b) : zx(a, b)) : b ? (f = rt(a), Object.keys(f).includes("cpn"), pu(a, b)) : Lu(a, d)
    };

    function QV(a) {
        C.call(this);
        var b = this;
        this.i = a;
        this.l = {};
        this.sequenceNumber = 1;
        this.Ka = NaN;
        this.u = "N";
        this.J = this.bb = this.Qa = this.Ha = this.C = 0;
        this.Z = this.fb = "";
        this.Sa = this.T = NaN;
        this.Ma = 0;
        this.jb = -1;
        this.Ta = 1;
        this.playTimeSecs = this.rebufferTimeSecs = 0;
        this.va = this.ea = this.isOffline = this.X = !1;
        this.ob = [];
        this.U = null;
        this.D = this.ra = this.G = !1;
        this.B = -1;
        this.ya = !1;
        this.kb = new dr(this.AE, 750, this);
        this.K = this.adCpn = "";
        this.adFormat = void 0;
        this.rb = 0;
        E(this, this.kb);
        (a = "function" === typeof navigator.getBattery ?
            navigator.getBattery() : null) && a.then && a.then(function(c) {
            b.U = c
        });
        RV(this, 0, "vps", ["N"])
    }
    v(QV, C);
    h = QV.prototype;
    h.AE = function() {
        var a = PP(this.i);
        SV(this, a)
    };

    function RV(a, b, c, d) {
        var e = a.l[c];
        e || (e = [], a.l[c] = e);
        e.push(b.toFixed(3) + ":" + d.join(":"))
    }

    function SV(a, b) {
        var c = a.i.l.getCurrentTime();
        RV(a, b, "cmt", [c.toFixed(3)]);
        c = a.i.l.Lh();
        if (a.I && 1E3 * c > a.I.Zz + 100 && a.I) {
            var d = a.I,
                e = d.isAd;
            a.Fa = 1E3 * b - d.iH - (1E3 * c - d.Zz) - d.bH;
            a.Aa("gllat", "l." + a.Fa.toFixed() + ";prev_ad." + +e);
            delete a.I
        }
    }

    function TV(a, b) {
        b = void 0 === b ? NaN : b;
        b = 0 <= b ? b : PP(a.i);
        var c = a.i.l.Xp();
        if (!isNaN(a.T) && !isNaN(c.l)) {
            var d = c.l - a.T;
            0 < d && RV(a, b, "bwm", [d, (c.B - a.Sa).toFixed(3)])
        }
        isNaN(a.T) && c.l && a.isOffline && UV(a, !1);
        a.T = c.l;
        a.Sa = c.B;
        isNaN(c.bandwidthEstimate) || RV(a, b, "bwe", [c.bandwidthEstimate.toFixed(0)]);
        if (a.i.videoData.Ta) {
            c.i && a.Aa("bwinfo", c.i);
            a: {
                if (window.performance && (d = window.performance.memory)) {
                    d = JA({
                        jsTotal: d.totalJSHeapSize,
                        jsUsed: d.usedJSHeapSize,
                        msUsed: d.usedMediaSourceMemorySize
                    });
                    break a
                }
                d = void 0
            }
            d &&
                a.Aa("meminfo", d)
        }
        a.U && RV(a, b, "bat", [a.U.level, a.U.charging ? "1" : "0"]);
        d = a.i.l.getVisibilityState();
        a.jb !== d && (RV(a, b, "vis", [d]), a.jb = d);
        SV(a, b);
        (d = VV()) && d !== a.Ma && (RV(a, b, "conn", [d]), a.Ma = d);
        WV(a, b, c)
    }

    function WV(a, b, c) {
        if (!isNaN(c.bk)) {
            var d = c.bk;
            c.u < d && (d = c.u);
            RV(a, b, "bh", [d.toFixed(3)])
        }
    }
    h.reportStats = function(a) {
        a = void 0 === a ? NaN : a;
        if (!this.Ea() && (a = 0 <= a ? a : PP(this.i), -1 < ["PL", "B", "S"].indexOf(this.u) && (!bc(this.l) || a >= this.C + 30) && (RV(this, a, "vps", [this.u]), this.C = a), !bc(this.l))) {
            7E3 === this.sequenceNumber && ly(Error("Sent over 7000 pings"));
            if (!(7E3 <= this.sequenceNumber)) {
                TV(this, a);
                var b = a,
                    c = this.i.l.Vn(),
                    d = c.droppedVideoFrames || 0,
                    e = c.totalVideoFrames || 0,
                    f = d - this.Qa,
                    g = e && !this.bb;
                if (d > c.totalVideoFrames || 5E3 < f) this.onError("html5.badframedropcount", "df." + d + ";tf." + c.totalVideoFrames);
                else(0 < f || g) && RV(this, b, "df", [f]);
                this.Qa = d;
                this.bb = e;
                !R(this.i.i.experiments, "disable_webgl_reporting") && 0 < this.J && (RV(this, a, "glf", [this.J]), this.J = 0);
                a = {
                    event: "streamingstats"
                };
                this.i.videoData.u && (a.fmt = this.i.videoData.u.Ib(), (b = this.i.videoData.D) && b.Ib() !== a.fmt && (a.afmt = b.Ib()));
                a.cpn = this.i.videoData.clientPlaybackNonce;
                this.adCpn && (a.adcpn = this.adCpn);
                this.K && (a.addocid = this.K);
                this.i.videoData.cotn && (a.cotn = this.i.videoData.cotn);
                a.ei = this.i.videoData.eventId;
                a.el = OL(this.i.videoData);
                a.docid = this.i.videoData.videoId;
                a.content_v = PL(this.i.videoData);
                a.ns = this.i.i.B;
                a.fexp = this.i.i.experiments.experimentIds.toString();
                a.cl = (379829769).toString();
                (b = this.i.videoData.adFormat || this.adFormat) && (a.adformat = b);
                (b = DL(this.i.videoData)) && (a.live = b);
                qL(this.i.videoData) && (a.drm = 1, this.i.videoData.C && (a.drm_system = CJ[this.i.videoData.C.flavor]), this.i.videoData.Rr && (a.drm_product = this.i.videoData.Rr));
                xt() && this.i.videoData.Z && (a.ctt = this.i.videoData.Z, a.cttype = this.i.videoData.Kf, this.i.videoData.mdxEnvironment &&
                    (a.mdx_environment = this.i.videoData.mdxEnvironment));
                a.seq = this.sequenceNumber++;
                jc(a, this.i.i.deviceParams);
                a = Ti("//" + this.i.i.Zd + "/api/stats/qoe", a);
                b = c = "";
                d = t(Object.keys(this.l));
                for (e = d.next(); !e.done; e = d.next()) e = e.value, null === this.l[e] ? ly(new lw("Stats report key has invalid value", e)) : (e = "&" + e + "=" + this.l[e].join(","), 100 < e.length ? b += e : c += e);
                a += c;
                b = b.replace(/ /g, "%20");
                f = this.i.videoData.Gd();
                e = R(this.i.i.experiments, "qoe_with_networkless");
                c = R(this.i.i.experiments, "qoe_send_then_write");
                d = R(this.i.i.experiments, "qoe_send_and_write");
                g = this.i.N("web_player_vss_pageid_header") ? this.i.i.pageId : void 0;
                (f = OV(a, g, this.i.i.sendVisitorIdHeader ? this.i.videoData.visitorData : void 0, f)) ? (f.method = "POST", f.postBody = b, PV(a, f, {
                    token: this.i.videoData.Z,
                    Yv: this.i.videoData.Kf,
                    mdxEnvironment: this.i.videoData.mdxEnvironment
                }, void 0, e, c, d && this.ea)) : e ? (e = R(this.i.i.experiments, "networkless_ajax"), f = {
                    method: "POST",
                    postBody: b
                }, d && this.ea ? Hx(a, f) : e ? pu(a, {
                    method: "POST",
                    postBody: b
                }) : c ? Gx(a, f) : zx(a, f)) : Nu(a,
                    void 0, b)
            }
            this.l = {}
        }
    };

    function XV(a) {
        for (var b = 0, c = t(Object.keys(a.l)), d = c.next(); !d.done; d = c.next()) d = d.value, b += d.length + Number(qb(a.l[d], function(e, f) {
            return e + f.length
        }, 0));
        96E3 < b && (new dr(a.reportStats, 0, a)).start()
    }

    function Coa(a) {
        a.i.videoData.kb && YV(a, "prefetch");
        a.i.videoData.ob && a.Aa("reload", "r." + a.i.videoData.reloadReason + ";ct." + a.i.videoData.ob);
        a.i.videoData.ub && YV(a, "monitor");
        a.i.videoData.isLivePlayback && YV(a, "live");
        TL(a.i.videoData) && YV(a, a.i.videoData.enableServerStitchedDai ? "ssdai" : "csdai");
        a.i.videoData.Qe && a.Aa("ctrl", a.i.videoData.Qe, !0);
        if (a.i.videoData.Qd) {
            var b = a.i.videoData.Qd.replace(/,/g, "_");
            a.Aa("ytp", b, !0)
        }
        a.i.videoData.Lz && (b = a.i.videoData.Lz.replace(/,/g, "."), a.Aa("ytrexp", b, !0));
        if (!R(a.i.i.experiments, "html5_disable_gpu_reporting")) {
            var c = a.i.i.experiments;
            b = a.i.videoData;
            c = R(c, "enable_white_noise") || R(c, "enable_webgl_noop") || R(c, "enable_gpu_logging");
            var d = LL(b) || JL(b) || KL(b) || ML(b),
                e = b.l && SF(kb(b.l.videoInfos)) && /^g/.test(b.clientPlaybackNonce);
            b = /^gp/.test(b.clientPlaybackNonce);
            (c || d || b || e) && (b = yB()) && (a.l.gpu = [b])
        }
        UL(a.i.videoData) && RV(a, PP(a.i), "dt", ["1"]);
        if (rL(a.i.videoData) || a.i.N("html5_log_all_playback_attempts")) a.D = !0;
        a.Ka = Us(function() {
            a.reportStats()
        }, 1E4)
    }
    h.fB = function() {
        if (this.i.videoData.C) {
            var a = this.i.videoData.C;
            YV(this, "eme-" + (a.keySystemAccess ? "final" : rJ(a) ? "ms" : wJ(a) ? "ytfp" : vJ(a) ? "safarifp" : "nonfinal"))
        }
    };
    h.onError = function(a, b) {
        var c = PP(this.i);
        ZV(this, c, a, b);
        TV(this, c);
        XV(this)
    };

    function ZV(a, b, c, d) {
        var e = a.i.l.getCurrentTime();
        c = [c, e.toFixed(3)];
        d && c.push(d);
        RV(a, b, "error", c);
        a.D = !0
    }
    h.Pk = function() {
        this.J += 1
    };

    function $V(a) {
        0 <= a.B || (a.i.i.Fa || 3 !== a.i.l.getVisibilityState() ? a.B = PP(a.i) : a.ya = !0)
    }
    h.getPlayerState = function(a) {
        if (Q(a, 128)) return "ER";
        if (Q(a, 512)) return "SU";
        if (Q(a, 16) || Q(a, 32)) return "S";
        var b = Doa[BQ(a)];
        "B" === b && 3 === this.i.l.getVisibilityState() && (b = "SU");
        "B" === b && Q(a, 4) && (b = "PB");
        return b
    };
    h.Da = function() {
        C.prototype.Da.call(this);
        window.clearInterval(this.Ka)
    };

    function YV(a, b) {
        var c = a.l.cat || [];
        c.push(b);
        a.l.cat = c
    }

    function UV(a, b) {
        a.isOffline = b;
        RV(a, PP(a.i), "is_offline", [a.isOffline ? "1" : "0"])
    }
    h.Aa = function(a, b, c) {
        var d = this.l.ctmp || [],
            e = -1 !== this.ob.indexOf(a);
        e || this.ob.push(a);
        if (!c || !e) {
            /[^a-zA-Z0-9;.!_-]/.test(b) && (b = b.replace(/[+]/g, "-").replace(/[^a-zA-Z0-9;.!_-]/g, "_"));
            if (!c && !/^t[.]/.test(b)) {
                var f = 1E3 * PP(this.i);
                b = "t." + f.toFixed() + ";" + b
            }
            d.push(a + ":" + b);
            this.L();
            this.l.ctmp = d;
            XV(this);
            return f
        }
    };

    function aW(a, b, c, d, e) {
        var f = PP(a.i);
        1 === b && RV(a, f, "vps", [a.u]);
        var g = a.l.xvt || [];
        g.push("t." + f.toFixed(3) + ";m." + e.toFixed(3) + ";g.2;tt." + b + ";np.0;c." + c + ";d." + d);
        a.l.xvt = g
    }
    h.L = function() {};
    var bW = {},
        Doa = (bW[5] = "N", bW[-1] = "N", bW[3] = "B", bW[0] = "EN", bW[2] = "PA", bW[1] = "PL", bW);

    function cW(a) {
        this.l = a;
        this.I = !1;
        this.i = 0;
        this.C = -1;
        this.lastUpdateTime = NaN;
        this.u = 0;
        this.segments = [];
        this.G = this.D = 0;
        this.K = this.l.xd().volume;
        this.J = this.l.xd().muted;
        this.B = dW(this.l)
    }

    function eW(a) {
        a.B.startTime = a.u;
        a.B.endTime = a.i;
        a.segments.length && kb(a.segments).isEmpty() ? a.segments[a.segments.length - 1] = a.B : a.segments.length && a.B.isEmpty() || a.segments.push(a.B);
        a.D += a.i - a.u;
        a.B = dW(a.l);
        a.u = a.i
    }

    function fW(a) {
        a.segments.length && a.i === a.u || eW(a);
        var b = a.segments;
        a.segments = [];
        return b
    }

    function Eoa(a) {
        gW(a);
        a.G = Us(function() {
            a.update()
        }, 100);
        a.lastUpdateTime = PP(a.l);
        a.B = dW(a.l)
    }

    function gW(a) {
        window.clearInterval(a.G);
        a.G = NaN
    }
    cW.prototype.update = function() {
        if (this.I) {
            var a = this.l.l.getCurrentTime() || 0,
                b = PP(this.l);
            if (a !== this.i || hW(this, a, b)) {
                var c;
                if (!(c = a < this.i || a - this.i > b - this.lastUpdateTime + 2 || hW(this, a, b))) {
                    var d = this.l.xd();
                    c = d.volume;
                    var e = c !== this.K;
                    d = d.muted;
                    d !== this.J ? (this.J = d, c = !0) : (!e || 0 <= this.C || (this.K = c, this.C = b), c = b - this.C, 0 <= this.C && 2 < c ? (this.C = -1, c = !0) : c = !1)
                }
                c && (eW(this), this.u = a);
                this.lastUpdateTime = b;
                this.i = a
            }
        }
    };

    function hW(a, b, c) {
        c -= a.lastUpdateTime;
        return b === a.i && .5 < c
    };

    function iW(a, b, c, d) {
        this.segments = [];
        this.experimentIds = [];
        this.U = this.Qa = this.isFinal = this.sf = this.Fa = this.autoplay = this.autonav = !1;
        this.jb = "yt";
        this.B = this.D = null;
        this.sendVisitorIdHeader = this.T = !1;
        this.pageId = "";
        this.u = "watchtime" === c;
        this.C = "playback" === c;
        this.Ma = "delayplay" === c;
        this.Ka = "atr" === c;
        this.qc = "engage" === c;
        this.sendVisitorIdHeader = !1;
        this.uri = this.Ka ? "/api/stats/" + c : "//" + b.Zd + "/api/stats/" + c;
        this.td = !b.N("embeds_disable_event_label_embedded_unbranded_killswitch") && this.C && b.pfpChazalUi &&
            a.Ha;
        this.rb = b.N("embeds_enable_intersection_observer_v2");
        d && (this.Qa = d.fs, d.rtn && (this.B = d.rtn), this.u ? (this.playerState = d.state, 0 < d.rti && (this.D = d.rti)) : (this.Bc = d.mos, this.Sc = d.volume, d.at && (this.adType = d.at)), d.autonav && (this.autonav = d.autonav), null != d.inview && (this.ob = d.inview), d.size && (this.kb = d.size));
        this.deviceParams = gc(b.deviceParams);
        this.Jb = b.Ha;
        b.N("embeds_js_api_set_1p_cookie") && b.embedsTokenValue && (this.embedsTokenValue = b.embedsTokenValue);
        this.experimentIds = b.experiments.experimentIds;
        this.K = b.Ta;
        this.jb = b.B;
        this.region = b.region;
        this.userAge = b.userAge;
        this.ya = b.bb;
        this.ud = jt();
        this.sendVisitorIdHeader = b.sendVisitorIdHeader;
        this.Sa = R(b.experiments, "vss_pings_using_networkless");
        this.Ta = R(b.experiments, "vss_send_then_write");
        this.Lf = R(b.experiments, "vss_final_ping_send_and_write");
        this.pageId = b.pageId;
        b.livingRoomAppMode && (this.livingRoomAppMode = b.livingRoomAppMode);
        this.accessToken = a.Gd();
        this.adFormat = a.adFormat;
        this.adQueryId = a.adQueryId;
        this.autoplay = RL(a);
        this.autonav = a.Lg ||
            this.autonav;
        this.Cb = PL(a);
        this.clientPlaybackNonce = a.clientPlaybackNonce;
        this.Fa = a.Ha;
        a.Z && (this.G = a.Z, this.va = a.Kf);
        a.mdxEnvironment && (this.mdxEnvironment = a.mdxEnvironment);
        this.i = a.Jm;
        this.J = a.bb;
        a.u && (this.videoFormat = a.u.Ib(), a.D && a.D.Ib() !== this.videoFormat && (this.ra = a.D.Ib()));
        a.i && nC(a.i) && (this.offlineDownloadUserChoice = "1");
        this.eventLabel = this.td ? "embedded_unbranded" : OL(a);
        this.U = a.zf;
        this.ub = a.wh;
        if (b = DL(a)) this.Ic = b;
        this.vb = a.Lm;
        this.eventId = a.eventId;
        this.playlistId = a.zB || a.playlistId;
        this.Qe = a.Qe;
        this.Qd = a.Qd;
        this.zb = a.Qm;
        this.subscribed = a.subscribed;
        this.videoId = a.videoId;
        this.videoMetadata = a.videoMetadata;
        this.visitorData = a.visitorData;
        this.osid = a.osid;
        this.yb = a.dC;
        this.referrer = a.referrer;
        this.X = a.Gz || a.lw;
        this.ea = a.ul;
        this.Z = a.hC;
        this.userGenderAge = a.userGenderAge;
        this.I = a.RB
    }
    iW.prototype.send = function(a) {
        if (!this.T) {
            var b = jW(this);
            b = Ti(this.uri, b);
            if (this.Ka) this.attestationResponse && (a = OV(this.uri, this.pageId, this.sendVisitorIdHeader ? this.visitorData : void 0, this.accessToken, void 0) || {}, a.method = "POST", a.postParams = {
                atr: this.attestationResponse
            }, this.Sa ? this.Ta ? Gx(b, a) : zx(b, a) : pu(b, a));
            else {
                var c = OV(this.uri, this.pageId, this.sendVisitorIdHeader ? this.visitorData : void 0, this.accessToken, a);
                PV(b, c, {
                        token: this.G,
                        Yv: this.va,
                        mdxEnvironment: this.mdxEnvironment
                    }, a, this.Sa, this.Ta,
                    this.isFinal && this.Lf)
            }
            this.T = !0
        }
    };

    function jW(a) {
        var b = {
            ns: a.jb,
            el: a.eventLabel,
            cpn: a.clientPlaybackNonce,
            docid: a.videoId,
            ver: 2,
            referrer: a.referrer,
            cmt: a.l(a.i),
            ei: a.eventId,
            fmt: a.videoFormat,
            fs: a.Qa ? "1" : "0",
            rt: a.l(a.Tc),
            of: a.yb,
            adformat: a.adFormat,
            content_v: a.Cb,
            etv: a.embedsTokenValue,
            euri: a.Jb,
            lact: a.ud,
            live: a.Ic,
            cl: (379829769).toString(),
            mos: a.Bc,
            osid: a.osid,
            state: a.playerState,
            vm: a.videoMetadata,
            volume: a.Sc
        };
        a.adQueryId && (b.aqi = a.adQueryId);
        a.subscribed && (b.subscribed = "1");
        Ua(b, a.deviceParams);
        a.autonav && (b.autonav = "1");
        a.autoplay &&
            (b.autoplay = "1");
        a.Fa && (b.dni = "1");
        a.isFinal && (b["final"] = "1");
        a.U && (b.splay = "1");
        a.J && (b.delay = a.J);
        a.K && (b.hl = a.K);
        a.region && (b.cr = a.region);
        a.userGenderAge && (b.uga = a.userGenderAge);
        void 0 !== a.userAge && a.ya && (b.uga = a.ya + a.userAge);
        void 0 !== a.fb && (b.len = a.l(a.fb));
        !a.u && 0 < a.experimentIds.length && (b.fexp = a.experimentIds.toString());
        null !== a.B && (b.rtn = a.l(a.B));
        a.X && (b.feature = a.X);
        a.playlistId && (b.list = a.playlistId);
        a.Qe && (b.ctrl = a.Qe);
        a.Qd && (b.ytr = a.Qd);
        a.zb && (b.ssrt = "1");
        a.ra && (b.afmt = a.ra);
        a.offlineDownloadUserChoice &&
            (b.ODUC = a.offlineDownloadUserChoice);
        a.bb && (b.lio = a.l(a.bb));
        a.u ? (b.idpj = a.ub, b.ldpj = a.vb, null != a.D && (b.rti = a.l(a.D)), a.I && (b.ald = a.I)) : void 0 !== a.adType && (b.at = a.adType);
        a.kb && (a.C || a.Ma || a.u && a.rb) && (b.size = a.kb);
        null != a.ob && (a.C || a.Ma || a.u && a.rb) && (b.inview = a.l(a.ob));
        a.u && (b.volume = kW(a, pb(a.segments, function(d) {
                return d.volume
            })), b.st = kW(a, pb(a.segments, function(d) {
                return d.startTime
            })), b.et = kW(a, pb(a.segments, function(d) {
                return d.endTime
            })), rb(a.segments, function(d) {
                return 1 !== d.playbackRate
            }) &&
            (b.rate = kW(a, pb(a.segments, function(d) {
                return d.playbackRate
            }))), rb(a.segments, function(d) {
                return "-" !== d.i
            }) && (b.als = pb(a.segments, function(d) {
                return d.i
            }).join(",")));
        b.muted = kW(a, pb(a.segments, function(d) {
            return d.muted ? 1 : 0
        }));
        rb(a.segments, function(d) {
            return 0 !== d.visibilityState
        }) && (b.vis = kW(a, pb(a.segments, function(d) {
            return d.visibilityState
        })));
        rb(a.segments, function(d) {
            return 0 !== d.connectionType
        }) && (b.conn = kW(a, pb(a.segments, function(d) {
            return d.connectionType
        })));
        rb(a.segments, function(d) {
            return 0 !== d.l
        }) && (b.blo = kW(a, pb(a.segments, function(d) {
            return d.l
        })));
        rb(a.segments, function(d) {
            return "-" !== d.B
        }) && (b.cc = pb(a.segments, function(d) {
            return d.B
        }).join(","));
        rb(a.segments, function(d) {
            return "-" !== d.clipId
        }) && (b.clipid = pb(a.segments, function(d) {
            return d.clipId
        }).join(","));
        if (rb(a.segments, function(d) {
                return !!d.u
            })) {
            var c = "au";
            a.C && (c = "au_d");
            b[c] = pb(a.segments, function(d) {
                return d.u
            }).join(",")
        }
        xt() && a.G && (b.ctt = a.G, b.cttype = a.va, b.mdx_environment = a.mdxEnvironment);
        a.qc && (b.etype = void 0 !== a.Ha ? a.Ha : 0);
        a.ea && (b.uoo = a.ea);
        a.Z && (b.upt = a.Z);
        a.livingRoomAppMode && "LIVING_ROOM_APP_MODE_UNSPECIFIED" !== a.livingRoomAppMode && (b.clram = Foa[a.livingRoomAppMode] || a.livingRoomAppMode);
        return b
    }
    iW.prototype.l = function(a) {
        void 0 === a && (a = NaN);
        return Number(a.toFixed(3)).toString()
    };

    function kW(a, b) {
        return pb(b, a.l).join(",")
    }
    var lW = {},
        Foa = (lW.LIVING_ROOM_APP_MODE_UNSPECIFIED = 0, lW.LIVING_ROOM_APP_MODE_MAIN = 1, lW.LIVING_ROOM_APP_MODE_KIDS = 2, lW.LIVING_ROOM_APP_MODE_MUSIC = 3, lW.LIVING_ROOM_APP_MODE_UNPLUGGED = 4, lW.LIVING_ROOM_APP_MODE_GAMING = 5, lW);

    function mW(a) {
        C.call(this);
        this.i = a;
        this.currentPlayerState = "paused";
        this.u = NaN;
        this.D = [10, 10, 10, 40];
        this.I = this.G = 0;
        this.T = this.U = this.ea = this.X = this.K = this.J = this.B = !1;
        this.C = NaN;
        this.l = new cW(a)
    }
    v(mW, C);

    function nW(a) {
        if (!a.B) {
            R(a.i.i.experiments, "disable_embedpage_playback_logging") || 16623 !== a.i.videoData.Po || ly(Error("Playback for EmbedPage"));
            var b = oW(a, "playback");
            a.D = [10 + a.i.videoData.wh, 10, 10, 40 + a.i.videoData.Lm - a.i.videoData.wh, 40];
            Eoa(a.l);
            b.B = pW(a, !0);
            0 < a.C && (b.i -= a.C);
            b.send();
            if (a.i.videoData.Gj) {
                b = a.i.i;
                var c = a.i.videoData;
                c = {
                    html5: "1",
                    video_id: c.videoId,
                    cpn: c.clientPlaybackNonce,
                    ei: c.eventId,
                    ptk: c.Gj,
                    oid: c.kx,
                    ptchn: c.jx,
                    pltype: c.lx,
                    content_v: PL(c)
                };
                b = Ti(b.K + "ptracking", c);
                qW(a, b)
            }
            a.i.videoData.bb ||
                rW(a);
            a.B = !0;
            a = a.l;
            a.i = a.l.l.getCurrentTime();
            a.lastUpdateTime = PP(a.l);
            !(0 === a.u && 5 > a.i) && 2 < a.i - a.u && (a.u = a.i);
            a.I = !0
        }
    }

    function pW(a, b, c) {
        c = void 0 === c ? NaN : c;
        var d = PP(a.i);
        c = isNaN(c) ? d : c;
        c = Math.ceil(c);
        var e = a.D[a.G];
        a.G + 1 < a.D.length && a.G++;
        var f = c + e;
        a.u = Ts(function() {
            if (!a.Ea()) {
                a.u = NaN;
                a.l.update();
                var g = fW(a.l),
                    k = sW(a, g);
                b && (k.D = f);
                var l = 1E3 < a.I;
                !(1 < g.length) && g[0].isEmpty() || l || (k.B = pW(a, !0, f));
                k.send();
                a.I++
            }
        }, 1E3 * (f - d));
        return f
    }

    function oW(a, b) {
        var c = a.i;
        c = Object.assign(c.xd(), c.videoData.xd());
        Ua(c, {
            state: a.currentPlayerState
        });
        b = new iW(a.i.videoData, a.i.i, b, c);
        b.i = a.i.l.getCurrentTime();
        a.i.videoData.isLivePlayback || (b.fb = a.i.l.getDuration());
        a.i.videoData.i && (c = a.i.videoData.i.getIngestionTime(b.i)) && (b.bb = c - b.i);
        b.Tc = PP(a.i);
        b.segments = [dW(a.i)];
        return b
    }

    function sW(a, b) {
        var c = oW(a, "watchtime");
        if (0 < a.C) {
            for (var d = t(b), e = d.next(); !e.done; e = d.next()) e = e.value, e.startTime -= a.C, e.endTime -= a.C;
            c.i -= a.C
        } else c.i = a.l.i;
        c.segments = b;
        return c
    }

    function tW(a) {
        a.l.update();
        return sW(a, fW(a.l))
    }

    function rW(a) {
        a.i.videoData.remarketingUrl && !a.X && (qW(a, a.i.videoData.remarketingUrl), a.X = !0);
        a.i.videoData.youtubeRemarketingUrl && !a.ea && (qW(a, a.i.videoData.youtubeRemarketingUrl), a.ea = !0);
        a.i.videoData.googleRemarketingUrl && !a.U && (qW(a, a.i.videoData.googleRemarketingUrl), a.U = !0);
        a.i.videoData.ppvRemarketingUrl && !a.T && (qW(a, a.i.videoData.ppvRemarketingUrl), a.T = !0);
        uW(a)
    }
    mW.prototype.Me = function() {
        this.l.update();
        var a;
        if (a = this.i.videoData.isLoaded() && this.i.videoData.bb && this.B && !this.K) a = this.l, a = a.D + a.l.l.getCurrentTime() - a.u >= this.i.videoData.bb;
        a && (this.B && this.i.videoData.bb && (a = oW(this, "delayplay"), a.sf = !0, a.send(), this.K = !0), rW(this))
    };

    function vW(a) {
        if (!a.Ea() && a.B) {
            a.currentPlayerState = "paused";
            var b = tW(a);
            b.isFinal = !0;
            b.send();
            a.dispose()
        }
    }

    function wW(a, b) {
        a.Ea() || (Q(b.state, 2) ? (a.currentPlayerState = "paused", iN(b, 2) && a.B && tW(a).send()) : Q(b.state, 8) ? (a.currentPlayerState = "playing", a.B && isNaN(a.u) && pW(a, !1)) : a.currentPlayerState = "paused")
    }
    mW.prototype.Da = function() {
        C.prototype.Da.call(this);
        Vs(this.u);
        this.u = NaN;
        gW(this.l)
    };
    mW.prototype.wb = function() {
        return jW(oW(this, "playback"))
    };

    function xW(a, b, c) {
        if (!a.J) {
            c || (c = oW(a, "atr"));
            c.attestationResponse = b;
            try {
                c.send()
            } catch (d) {
                if ("Unknown Error" !== d.message) throw d;
            }
            a.J = !0
        }
    }

    function uW(a) {
        a.i.videoData.G.eventLabel = OL(a.i.videoData);
        a.i.videoData.G.playerStyle = a.i.i.playerStyle;
        a.i.videoData.Vd && (a.i.videoData.G.feature = "pyv");
        a.i.videoData.G.vid = a.i.videoData.videoId;
        var b = a.i.videoData.G;
        a = a.i.videoData;
        a = a.isAd() || !!a.Vd;
        b.isAd = a
    }

    function qW(a, b) {
        var c = a.i.videoData.Gd(),
            d = a.i.N("web_player_vss_pageid_header") ? a.i.i.pageId : void 0,
            e = a.i.i.sendVisitorIdHeader ? a.i.videoData.visitorData : void 0,
            f = R(a.i.i.experiments, "vss_pings_using_networkless"),
            g = R(a.i.i.experiments, "vss_send_then_write");
        c = OV(b, d, e, c, void 0);
        PV(b, c, {
            token: a.i.videoData.Z,
            Yv: a.i.videoData.Kf,
            mdxEnvironment: a.i.videoData.mdxEnvironment
        }, void 0, f, g)
    };

    function yW() {
        this.endTime = this.startTime = -1;
        this.B = "-";
        this.playbackRate = 1;
        this.visibilityState = 0;
        this.u = "";
        this.volume = this.connectionType = this.l = 0;
        this.muted = !1;
        this.i = this.clipId = "-"
    }
    yW.prototype.isEmpty = function() {
        return this.endTime === this.startTime
    };

    function zW(a, b, c, d) {
        this.videoData = a;
        this.i = b;
        this.l = c;
        this.xd = d;
        this.u = void 0
    }

    function PP(a) {
        return Goa(a)()
    }

    function Goa(a) {
        if (!a.u) {
            var b = Ta(function(d) {
                    var e = K();
                    d && 631152E6 >= e && (ky(Error("invalid coreTime.now value: " + e)), e = (new Date).getTime() + 2);
                    return e
                }, R(a.i.experiments, "html5_validate_yt_now")),
                c = b();
            a.u = function() {
                return Math.round(b() - c) / 1E3
            };
            a.l.Pu()
        }
        return a.u
    }

    function VV() {
        if (navigator.connection && navigator.connection.type) return AW[navigator.connection.type] || AW.other;
        var a = navigator.userAgent;
        return /[Ww]ireless[)]/.test(a) ? 3 : /[Ww]ired[)]/.test(a) ? 1 : 0
    }

    function dW(a) {
        var b = new yW;
        b.B = a.xd().cc || "-";
        b.playbackRate = a.l.getPlaybackRate();
        var c = a.l.getVisibilityState();
        0 !== c && (b.visibilityState = c);
        a.i.Qa && (b.l = 1);
        c = a.l.getAudioTrack();
        c.Ob && c.Ob.id && "und" !== c.Ob.id && (b.u = c.Ob.id);
        b.connectionType = VV();
        b.volume = a.xd().volume;
        b.muted = a.xd().muted;
        b.clipId = a.xd().clipid || "-";
        b.i = a.videoData.yB || "-";
        return b
    }
    zW.prototype.N = function(a) {
        return R(this.i.experiments, a)
    };
    var AW = {
        other: 1,
        none: 2,
        wifi: 3,
        cellular: 7
    };

    function BW(a) {
        C.call(this);
        var b = this;
        this.l = a;
        this.u = this.qoe = this.i = null;
        this.je = void 0;
        this.B = new Map;
        this.l.videoData.isValid() && !this.l.videoData.Wd && (this.i = new mW(this.l), E(this, this.i), this.qoe = new QV(this.l), E(this, this.qoe), this.l.videoData.enableServerStitchedDai && (this.je = this.l.videoData.clientPlaybackNonce) && this.B.set(this.je, this.i));
        Boa(this.l) && (this.u = new KV(this.l, function(c) {
            b.Aa("h5h", c)
        }), E(this, this.u))
    }
    v(BW, C);
    h = BW.prototype;
    h.Me = function() {
        var a;
        this.l.videoData.enableServerStitchedDai && this.je ? null === (a = this.B.get(this.je)) || void 0 === a ? void 0 : a.Me() : this.i && this.i.Me()
    };

    function CW(a) {
        var b;
        a.l.videoData.enableServerStitchedDai && a.je ? null === (b = a.B.get(a.je)) || void 0 === b ? void 0 : eW(b.l) : a.i && eW(a.i.l)
    }
    h.onError = function(a, b) {
        if (this.qoe) this.qoe.onError(a, b);
        if (this.u) this.u.onError(a)
    };
    h.Aa = function(a, b, c) {
        this.qoe && this.qoe.Aa(a, b, c)
    };

    function DW(a, b, c, d) {
        a.qoe && (a = a.qoe, RV(a, PP(a.i), "ad_playback", [b, c, d]))
    }
    h.Pk = function() {
        this.qoe && this.qoe.Pk()
    };
    h.wb = function() {
        var a;
        if (this.l.videoData.enableServerStitchedDai && this.je) null === (a = this.B.get(this.je)) || void 0 === a ? void 0 : a.wb();
        else if (this.i) return this.i.wb();
        return {}
    };

    function Hoa(a, b) {
        a.i && xW(a.i, b)
    }

    function Ioa(a) {
        if (!a.i) return null;
        var b = oW(a.i, "atr");
        return function(c) {
            a.i && xW(a.i, c, b)
        }
    }

    function Joa(a, b, c, d) {
        c.adFormat = c.qc;
        var e = b.l;
        b = new mW(new zW(c, b.i, {
            getDuration: function() {
                return c.lengthSeconds
            },
            getCurrentTime: function() {
                return e.getCurrentTime()
            },
            Lh: function() {
                return e.Lh()
            },
            Xp: function() {
                return e.Xp()
            },
            getPlayerSize: function() {
                return e.getPlayerSize()
            },
            getAudioTrack: function() {
                return c.getAudioTrack()
            },
            getPlaybackRate: function() {
                return e.getPlaybackRate()
            },
            Vn: function() {
                return e.Vn()
            },
            getVisibilityState: function() {
                return e.getVisibilityState()
            },
            Pu: function() {
                e.Pu()
            },
            Fo: function() {
                e.Fo()
            }
        }, b.xd));
        b.C = d;
        E(a, b);
        return b
    };

    function Koa() {
        this.bk = 0;
        this.C = this.B = this.l = this.u = NaN;
        this.i = "";
        this.bandwidthEstimate = NaN
    };

    function Loa() {
        this.l = VI;
        this.i = []
    }

    function Moa(a, b, c) {
        var d = [];
        for (b = EW(a, b); b < a.i.length; ++b) {
            var e = a.i[b];
            (e.end <= c || e.contains(c)) && d.push(e);
            if (e.start > c) break
        }
        return d
    }

    function FW(a, b) {
        var c = [];
        a = t(a.i);
        for (var d = a.next(); !d.done && !(d = d.value, d.contains(b) && c.push(d), d.start > b); d = a.next());
        return c
    }

    function Noa(a) {
        return a.i.slice(EW(a, 0x7ffffffffffff), a.i.length)
    }

    function EW(a, b) {
        a = Jb(a.i, function(c) {
            return b - c.start || 1
        });
        return 0 > a ? -(a + 1) : a
    }

    function GW(a, b) {
        var c = NaN;
        a = t(a.i);
        for (var d = a.next(); !d.done; d = a.next())
            if (d = d.value, d.contains(b) && (isNaN(c) || d.end < c) && (c = d.end), d.start > b && (isNaN(c) || d.start < c)) {
                c = d.start;
                break
            } return c
    }

    function Ooa(a, b) {
        a.i = a.i.filter(function(c) {
            return !b.has(c)
        })
    };

    function HW(a, b, c, d) {
        C.call(this);
        this.K = a;
        this.U = b;
        this.G = c;
        this.I = d;
        this.u = NaN;
        this.C = this.D = this.started = !1;
        this.l = [];
        this.J = new dr(this.Ah, 250, this);
        E(this, this.J);
        this.B = new dr(this.Ah, 0, this);
        E(this, this.B);
        this.i = new Loa
    }
    v(HW, C);
    h = HW.prototype;
    h.Mf = function(a) {
        this.Ah();
        var b = this.i;
        if (1 < a.length && a.length > b.i.length) b.i = b.i.concat(a), b.i.sort(b.l);
        else {
            a = t(a);
            for (var c = a.next(); !c.done; c = a.next()) c = c.value, !b.i.length || 0 < b.l(c, b.i[b.i.length - 1]) ? b.i.push(c) : Mb(b.i, c, b.l)
        }
        this.u = NaN;
        this.Ah()
    };
    h.qe = function(a) {
        1E4 < a.length && ly(new lw("Over 10k cueRanges removal occurs with a sample: ", a[0]));
        if (!this.Ea()) {
            var b = new Set(a);
            this.l = this.l.filter(function(c) {
                return !b.has(c)
            });
            Ooa(this.i, b);
            this.Ah()
        }
    };
    h.Li = function() {
        return this.Ea() ? [] : this.i.i
    };
    h.reset = function() {
        this.started = !1;
        this.B.stop();
        this.i.i = [];
        this.l = [];
        this.Ah()
    };
    h.Zh = function(a) {
        var b = this.Li().filter(function(c) {
            return c.namespace === a
        });
        this.qe(b);
        return b
    };
    h.Ys = function(a) {
        var b = [];
        if (!a.length) return b;
        for (var c = 0; c < a.length; c++) {
            var d = a[c];
            d.active && -1 === this.l.indexOf(d) && (this.l.push(d), b.push([1, d]))
        }
        return b
    };
    h.jt = function(a) {
        var b = [];
        if (!a.length) return b;
        a.sort(VI);
        a = t(a);
        for (var c = a.next(); !c.done; c = a.next()) c = c.value, this.l.splice(this.l.indexOf(c), 1), b.push([2, c]);
        return b
    };
    h.Ah = function() {
        this.C = !0;
        if (!this.D) {
            for (var a = 3; this.C && a;) this.C = !1, this.D = !0, this.zz(), this.D = !1, a--;
            this.G().Kc() && (a = GW(this.i, this.u), !isNaN(a) && 0x7ffffffffffff > a && (a = (a - this.u) / this.U(), this.B.start(a)))
        }
    };
    h.zz = function() {
        if (this.started && !this.Ea()) {
            this.B.stop();
            var a = this.G();
            Q(a, 32) && this.J.start();
            for (var b = Q(this.G(), 2) ? 0x8000000000000 : 1E3 * this.K(), c = Q(a, 2), d = [], e = [], f = t(this.l), g = f.next(); !g.done; g = f.next()) g = g.value, g.active && (c ? 0x8000000000000 > g.end : !g.contains(b)) && e.push(g);
            d = d.concat(this.jt(e));
            f = e = null;
            c ? (a = FW(this.i, 0x7ffffffffffff), e = a.filter(function(k) {
                return 0x8000000000000 > k.end
            }), f = Noa(this.i)) : a = this.u <= b && zQ(a) ? Moa(this.i, this.u, b) : FW(this.i, b);
            d = d.concat(this.Ys(a));
            e && (d = d.concat(this.jt(e)));
            f && (d = d.concat(this.Ys(f)));
            this.u = b;
            Poa(this, d)
        }
    };

    function Poa(a, b) {
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) {
            c = c.value;
            var d = c[1];
            1 === c[0] ? a.I("crn_" + d.namespace, d) : a.I("crx_" + d.namespace, d)
        }
    }
    h.Da = function() {
        this.l = [];
        this.i.i = [];
        C.prototype.Da.call(this)
    };
    KH.jq(HW, {
        Mf: "crmacr",
        Ys: "crmncr",
        jt: "crmxcr",
        zz: "crmis",
        qe: "crmrcr"
    });

    function Qoa() {
        var a = window.H5vccPlatformService,
            b = "";
        if (a && a.has("dev.cobalt.coat.clientloginfo") && (a = a.open("dev.cobalt.coat.clientloginfo", function() {}))) {
            var c = a.send(new ArrayBuffer(0));
            c && (b = String.fromCharCode.apply(String, ha(new Uint8Array(c))));
            a.close()
        }
        return b
    };

    function Roa(a) {
        this.l = this.mediaTime = NaN;
        this.u = this.i = !1;
        this.B = .001;
        U(a.experiments, "tvhtml5_min_has_advanced_secs_float") && (this.B = U(a.experiments, "tvhtml5_min_has_advanced_secs_float"))
    }

    function IW(a, b) {
        return b > a.mediaTime + a.B && b < a.mediaTime + 5
    }

    function JW(a, b, c, d) {
        if (d = 1 < d) a.u = !0;
        if (a.i) b !== a.mediaTime && (a.i = !1);
        else if (0 < b && a.mediaTime === b) return c - a.l > (d || !a.u ? 1500 : 400);
        a.mediaTime = b;
        a.l = c;
        return !1
    };

    function Soa(a, b) {
        this.videoData = a;
        this.i = b
    }

    function Toa(a, b, c) {
        return Qka(b, c).then(function() {
            return $G(new Soa(b, b.l))
        }, function(d) {
            d instanceof Error && Ds(d);
            d = b.isLivePlayback && !xH(a.i, !0) ? "html5.unsupportedlive" : "fmt.noneavailable";
            var e = {
                buildRej: "1",
                a: "" + +!!b.adaptiveFormats,
                d: "" + +!!b.va,
                drm: "" + +qL(b),
                f18: "" + +(0 <= b.Xd.indexOf("itag=18")),
                c18: "" + +$F('video/mp4; codecs="avc1.42001E, mp4a.40.2"')
            };
            b.i && (qL(b) ? (e.f142 = "" + +!!b.i.i["142"], e.f149 = "" + +!!b.i.i["149"], e.f279 = "" + +!!b.i.i["279"]) : (e.f133 = "" + +!!b.i.i["133"], e.f140 = "" + +!!b.i.i["140"], e.f242 = "" + +!!b.i.i["242"]), e.cAVC = "" + +aG('video/mp4; codecs="avc1.42001E"'), e.cAAC = "" + +aG('audio/mp4; codecs="mp4a.40.2"'),
                e.cVP9 = "" + +aG('video/webm; codecs="vp9"'));
            if (b.C) {
                e.drmsys = b.C.keySystem;
                var f = 0;
                b.C.i && (f = Object.keys(b.C.i).length);
                e.drmst = "" + f
            }
            return new IA(d, !0, e)
        })
    };

    function Uoa(a) {
        this.C = a;
        this.u = this.l = 0;
        this.B = new WQ(50)
    };

    function KW(a, b, c) {
        S.call(this);
        this.videoData = a;
        this.experiments = b;
        this.I = c;
        this.l = [];
        this.B = 0;
        this.u = !0;
        this.D = !1;
        this.G = 0;
        c = new Voa;
        "ULTRALOW" === a.latencyClass && (c.B = !1);
        a.ub ? c.l = 3 : VC(a) && (c.l = 2);
        R(b, "html5_adaptive_seek_to_head_killswitch") || "NORMAL" !== a.latencyClass || (c.I = !0);
        var d = yL(a);
        c.C = 2 === d || -1 === d;
        c.C && (c.U++, 21530001 === xL(a) && (c.D = U(b, "html5_jumbo_ull_nonstreaming_mffa_ms") || NaN));
        xu("trident/") || xu("edge/");
        d = U(b, "html5_platform_minimum_readahead_seconds") || 3;
        c.u = Math.max(c.u, d);
        U(b,
            "html5_minimum_readahead_seconds") && (c.u = U(b, "html5_minimum_readahead_seconds"));
        U(b, "html5_maximum_readahead_seconds") && (c.J = U(b, "html5_maximum_readahead_seconds"));
        R(b, "html5_force_adaptive_readahead") && (c.B = !0);
        U(b, "html5_allowable_liveness_drift_chunks") && (c.i = U(b, "html5_allowable_liveness_drift_chunks"));
        U(b, "html5_readahead_ratelimit") && (c.K = U(b, "html5_readahead_ratelimit"));
        switch (xL(a)) {
            case 21530001:
                c.i = (c.i + 1) / 5, "LOW" === a.latencyClass && (c.i *= 2), c.G = R(b, "html5_live_smoothly_extend_max_seekable_time")
        }
        this.policy =
            c;
        this.C = 1 !== this.policy.l;
        b = isNaN(a.liveChunkReadahead) ? 3 : a.liveChunkReadahead;
        a.ub && b--;
        a.isLowLatencyLiveStream && "NORMAL" !== a.latencyClass || b++;
        switch (xL(a)) {
            case 21530001:
                b = 1;
                break;
            case 2153E4:
                b = 2
        }
        this.policy.C && b++;
        this.i = LW(this, b);
        this.L()
    }
    v(KW, S);

    function MW(a, b) {
        var c = a.i;
        (void 0 === b ? 0 : b) && a.policy.G && 3 === yL(a.videoData) && --c;
        return NW(a) * c
    }

    function OW(a, b) {
        var c = PW(a),
            d = a.policy.i;
        a.D || (d = Math.max(d - 1, 0));
        a = d * NW(a);
        return b >= c - a
    }

    function PW(a) {
        return Math.max(a.I() - MW(a, !0), a.videoData.getMinSeekableTime())
    }

    function QW(a, b, c) {
        b = OW(a, b);
        c || b ? b && (a.u = !0) : a.u = !1;
        a.C = 2 === a.policy.l || 3 === a.policy.l && a.u
    }

    function RW(a, b) {
        b = OW(a, b);
        a.D !== b && a.W("livestatusshift", b);
        a.D = b
    }

    function NW(a) {
        return a.videoData.i ? XG(a.videoData.i) || 5 : 5
    }

    function LW(a, b) {
        b = Math.max(Math.max(a.policy.U, Math.ceil(a.policy.u / NW(a))), b);
        return Math.min(Math.min(8, Math.floor(a.policy.J / NW(a))), b)
    }
    KW.prototype.L = function() {};

    function Voa() {
        this.U = 1;
        this.u = 0;
        this.J = Infinity;
        this.K = 0;
        this.B = !0;
        this.i = 2;
        this.l = 1;
        this.C = !1;
        this.D = NaN;
        this.G = this.I = !1
    };

    function SW(a, b, c, d, e) {
        C.call(this);
        this.u = a;
        this.videoData = b;
        this.W = c;
        this.visibility = d;
        this.I = e;
        this.l = this.B = null;
        this.G = this.i = 0;
        this.D = {};
        this.playerState = new tQ;
        this.C = new dr(this.J, 1E3, this);
        E(this, this.C);
        this.ra = new TW({
            delayMs: U(this.u.experiments, "html5_seek_timeout_delay_ms")
        });
        this.X = new TW({
            delayMs: U(this.u.experiments, "html5_long_rebuffer_threshold_ms")
        });
        this.va = UW(this, "html5_seek_set_cmt");
        this.ea = UW(this, "html5_seek_jiggle_cmt");
        this.Z = UW(this, "html5_seek_new_elem");
        this.Ka = UW(this,
            "html5_unreported_seek_reseek");
        this.U = UW(this, "html5_long_rebuffer_jiggle_cmt");
        this.T = UW(this, "html5_reload_element_long_rebuffer");
        this.K = UW(this, "html5_ads_preroll_lock_timeout");
        this.Fa = new TW({
            delayMs: U(this.u.experiments, "html5_skip_slow_ad_delay_ms") || 5E3,
            Pl: !R(this.u.experiments, "html5_report_slow_ads_as_error")
        });
        this.Ha = new TW({
            delayMs: U(this.u.experiments, "html5_skip_slow_ad_delay_ms") || 5E3,
            Pl: !R(this.u.experiments, "html5_skip_slow_buffering_ad")
        });
        this.ya = UW(this, "html5_seek_over_discontinuities")
    }
    v(SW, C);

    function UW(a, b) {
        var c = U(a.u.experiments, b + "_delay_ms");
        a = R(a.u.experiments, b + "_cfl");
        return new TW({
            delayMs: c,
            Pl: a
        })
    }
    SW.prototype.J = function() {
        var a = this;
        if (this.B && !this.playerState.isError()) {
            var b = this.B,
                c = b.getCurrentTime(),
                d = 8 === this.playerState.state && c > this.i,
                e = Tma(this.playerState),
                f = this.visibility.isBackground() || this.playerState.isSuspended();
            VW(this, this.ra, e && !f, d, "qoe.slowseek", function() {}, "timeout");
            e = e && isFinite(this.i) && 0 < this.i && ola(b, this.i);
            var g = !c || 10 < Math.abs(c - this.i);
            VW(this, this.va, e && g && !f, d, "qoe.slowseek", function() {
                b.seekTo(a.i)
            }, "set_cmt");
            e = e && hG(b.me(), this.i);
            var k = !this.l || !this.l.policy.ea;
            g = function() {
                b.seekTo(a.i + .001)
            };
            VW(this, this.ea, e && k && !f, d, "qoe.slowseek", g, "jiggle_cmt");
            k = function() {
                return a.W("newmediaelementrequired")
            };
            VW(this, this.Z, e && !f, d, "qoe.slowseek", k, "new_elem");
            e = zQ(this.playerState);
            d = AQ(this.playerState);
            var l = b.me(),
                m = gG(l, c);
            Woa(this, b, l, c, f, e && !d);
            l = 0 <= m && l.end(m) > c + 5;
            l = e && d && l;
            VW(this, this.U, l && !f, e && !d, "qoe.longrebuffer", g, "jiggle_cmt");
            VW(this, this.T, l && !f, e && !d, "qoe.longrebuffer", k, "new_elem_nnr");
            if (this.l) {
                var n = this.l.getCurrentTime();
                g = b.yk();
                g = Sia(g, n);
                g = !this.l.B.i && c === g;
                VW(this, this.Ka, e && d && g && !f, e && !d && !g, "qoe.longrebuffer", function() {
                    b.seekTo(n)
                }, "seek_to_loader")
            }
            VW(this, this.X, e &&
                d && !f, e && !d, "qoe.longrebuffer",
                function() {}, "timeout");
            f = this.playerState.isSuspended();
            f = this.I() && !f;
            VW(this, this.K, f, !f, "qoe.start15s", function() {
                return a.W("releaseadsprerolllock")
            }, "ads_preroll_timeout");
            f = .5 > c - this.G;
            g = this.videoData.isAd() && e && !d && f;
            e = function() {
                return a.W("skipslowad")
            };
            VW(this, this.Fa, g, !g, "ad.rebuftimeout", e, "skip_slow_ad");
            f = this.videoData.isAd() && d && hG(b.me(), c + 5) && f;
            VW(this, this.Ha, f, !f, "ad.rebuftimeout", e, "skip_slow_ad_buf");
            this.G = c;
            this.C.start()
        }
    };

    function Woa(a, b, c, d, e, f) {
        var g = gG(c, Math.max(d - 3.5, 0)),
            k = 0 <= g && d > c.end(g) - 1.1 && g + 1 < c.length && 11 > c.start(g + 1) - c.end(g),
            l = g + 1 < c.length ? c.start(g + 1) : d;
        VW(a, a.ya, k && !e, f, "qoe.avsync", function() {
            b.seekTo(l + .2)
        }, "seekover")
    }

    function VW(a, b, c, d, e, f, g) {
        Xoa(b, c) ? (a.Fc(e, b, g), b.Pl || f()) : (b.Tq && b.triggerTimestamp && !b.u ? (c = K(), d ? b.i || (b.i = c) : b.i = 0, f = !d && c - b.triggerTimestamp > b.Tq, c = b.i && c - b.i > b.uv || f ? b.u = !0 : !1) : c = !1, c && (c = a.wb(b), c.wn = g, c.we = e, c.wsuc = "" + +d, g = JA(c), a.W("ctmp", "workaroundReport", g), d && (b.reset(), a.D[e] = !1)))
    }
    SW.prototype.Fc = function(a, b, c) {
        b = this.wb(b);
        b.wn = c;
        b.wdup = this.D[a] ? "1" : "0";
        this.W("qoeerror", a, b);
        this.D[a] = !0
    };
    SW.prototype.wb = function(a) {
        a = a.wb();
        this.i && (a.stt = this.i.toFixed(3));
        this.l && Object.assign(a, this.l.wb());
        this.B && Object.assign(a, this.B.wb());
        return a
    };

    function TW(a) {
        a = void 0 === a ? {} : a;
        var b = void 0 === a.uv ? 1E3 : a.uv,
            c = void 0 === a.Tq ? 3E4 : a.Tq,
            d = void 0 === a.Pl ? !1 : a.Pl;
        this.B = Math.ceil((void 0 === a.delayMs ? 0 : a.delayMs) / 1E3);
        this.uv = b;
        this.Tq = c;
        this.Pl = d;
        this.i = this.triggerTimestamp = this.l = this.startTimestamp = 0;
        this.u = !1
    }
    TW.prototype.reset = function() {
        this.i = this.triggerTimestamp = this.l = this.startTimestamp = 0;
        this.u = !1
    };

    function Xoa(a, b) {
        if (!a.B || a.triggerTimestamp) return !1;
        if (!b) return a.reset(), !1;
        b = K();
        if (!a.startTimestamp) a.startTimestamp = b, a.l = 0;
        else if (a.l >= a.B) return a.triggerTimestamp = b, !0;
        a.l += 1;
        return !1
    }
    TW.prototype.wb = function() {
        var a = {},
            b = K();
        this.startTimestamp && (a.wsd = (b - this.startTimestamp).toFixed());
        this.triggerTimestamp && (a.wtd = (b - this.triggerTimestamp).toFixed());
        this.i && (a.wssd = (b - this.i).toFixed());
        return a
    };

    function WW(a, b, c, d) {
        S.call(this);
        var e = this;
        this.videoData = a;
        this.K = b;
        this.visibility = c;
        this.Qa = d;
        this.policy = new Yoa(this.K);
        this.I = new SW(this.K, this.videoData, Sa(this.W, this), this.visibility, this.Qa);
        a = {};
        this.ya = (a.seekplayerrequired = this.lH, a.videoformatchange = this.yC, a);
        this.playbackData = null;
        this.Ma = new WF;
        this.J = this.u = this.B = this.i = null;
        this.l = NaN;
        this.C = 0;
        this.D = null;
        this.ra = NaN;
        this.G = this.U = null;
        this.X = this.T = !1;
        this.Z = new dr(function() {
            XW(e, !1)
        }, 2E3);
        this.Ta = new dr(function() {
            YW(e)
        });
        this.Ka = new dr(function() {
            e.L();
            e.T = !0;
            ZW(e)
        });
        this.Ha = this.timestampOffset = 0;
        this.va = !0;
        this.Fa = 0;
        this.Sa = NaN;
        this.ea = new dr(function() {
            var f = e.K.va;
            f.i += 1E4 / 36E5;
            f.i - f.u > 1 / 6 && (gI(f), f.u = f.i);
            e.ea.start()
        }, 1E4);
        this.N("html5_unrewrite_timestamps") ? this.ya.timestamp = this.Fm : this.ya.timestamp = this.zC;
        E(this, this.Ma);
        E(this, this.Z);
        E(this, this.Ka);
        E(this, this.Ta);
        E(this, this.ea)
    }
    v(WW, S);

    function Zoa(a, b) {
        a.playbackData = b;
        a.videoData.isLivePlayback && (a.J = new Uoa(function() {
            a: {
                if (a.playbackData && a.playbackData.i.i) {
                    if (lC(a.videoData) && a.B) {
                        var c = a.B.Z.De() || 0;
                        break a
                    }
                    if (a.videoData.i) {
                        c = a.videoData.i.T;
                        break a
                    }
                }
                c = 0
            }
            return c
        }), a.u = new KW(a.videoData, a.K.experiments, function() {
            return $W(a, !0)
        }));
        a.videoData.startSeconds && isFinite(a.videoData.startSeconds) && 1E9 < a.videoData.startSeconds || (a.C = a.C || a.videoData.startSeconds || 0)
    }

    function aX(a, b) {
        YF(a.Ma);
        (a.i = b) ? ($oa(a), YW(a)) : bX(a);
        a = a.I;
        (a.B = b) && er(a.C)
    }

    function cX(a, b) {
        a.B && aD(a.B, a.ya, a);
        (a.B = b) ? ($C(b, a.ya, a), dX(a, !0)) : bX(a);
        a.I.l = b
    }
    h = WW.prototype;
    h.getCurrentTime = function() {
        return !isNaN(this.l) && isFinite(this.l) ? this.l : this.i && eX(this) ? this.i.getCurrentTime() + this.timestampOffset : this.C || 0
    };
    h.Lh = function() {
        return this.getCurrentTime() - this.Ub()
    };
    h.isAtLiveHead = function(a) {
        if (!this.u) return !1;
        void 0 === a && (a = this.getCurrentTime());
        return OW(this.u, a)
    };

    function fX(a) {
        return !!a.u && a.u.C
    }

    function apa(a, b) {
        var c = a.getCurrentTime(),
            d = a.isAtLiveHead(c);
        if (a.J && d) {
            var e = a.J;
            if (e.i && !(c >= e.l && c < e.u)) {
                var f = e.i.getSegmentNumberForTime(c); - 1 !== f && (e.l = e.i.getStartTime(f), e.u = e.l + e.i.getDuration(f), f = Date.now() / 1E3 - e.i.getIngestionTime(f), f -= e.C(), e.B.add(f))
            }
        }
        a.u && (d && (d = a.u, e = a.i ? FM(a.i) : 0, d.B++, 3 > d.B || Va() - d.G < d.policy.K || (d.G = Va(), d.l.push(e), 50 < d.l.length && d.l.shift(), d.L())), d = a.u, QW(d, c, void 0 === b ? !0 : b), RW(d, c), b && XW(a, !0))
    }

    function XW(a, b) {
        if (a.u) {
            var c = a.u;
            var d = a.getCurrentTime();
            !OW(c, d) && c.C ? (c.L(), c.policy.I && (c.policy.i = Math.max(c.policy.i + 1, 10)), c = Infinity) : d < c.videoData.getMinSeekableTime() ? (c.L(), c = Math.min(c.videoData.getMinSeekableTime() + 10, PW(c))) : c = NaN;
            if (!isNaN(c)) {
                if (a.B && b && (b = a.Z.isActive(), d = PW(a.u), (d = Vna(a.B, d - a.Ub())) && !b)) {
                    a.Z.start();
                    a.W("ctmp", "inBufferPtl", "cmt." + a.getCurrentTime() + ";seekTo" + (d + a.Ub()));
                    a.seekTo(d + a.Ub(), {
                        dd: "playbacktimeline_inBufferSeek"
                    });
                    return
                }
                a.N("html5_peg_to_live_logging") &&
                    a.W("ctmp", "ptl", "cmt." + a.getCurrentTime() + ";seekTo" + (c + a.Ub()));
                a.seekTo(c, {
                    dd: "playbacktimeline_pegToLive"
                })
            }
        }
    }
    h.seekTo = function(a, b) {
        var c = void 0 === b ? {} : b;
        b = void 0 === c.AB ? !1 : c.AB;
        var d = void 0 === c.BB ? 0 : c.BB,
            e = void 0 === c.Xn ? !1 : c.Xn,
            f = void 0 === c.Zv ? 0 : c.Zv;
        c = void 0 === c.dd ? null : c.dd;
        var g = a,
            k = !isFinite(g) || (this.u ? OW(this.u, g) : g >= $W(this)) || !VC(this.videoData);
        k || this.W("ctmp", "seeknotallowed", g + ";" + $W(this));
        if (!k) return this.D && (this.D = null, gX(this)), ph(this.getCurrentTime());
        this.L();
        if (.005 > Math.abs(a - this.l) && this.T) return this.L(), this.G;
        c && (g = a, (rL(this.videoData) || this.N("html5_log_seek_reasons")) && this.W("ctmp",
            "seekreason", "reason." + c + ";tgt." + g));
        this.T && bX(this);
        this.G || (this.G = new yP);
        a && !isFinite(a) && dX(this, !1);
        c = a;
        (hX(this) && !(this.i && 0 < this.i.nf() && 0 < AM(this.i)) || lC(this.videoData) && this.getMinSeekableTime() === $W(this, !1) ? 0 : isFinite(c) || !lC(this.videoData)) && (a = iX(this, a, e));
        a && !isFinite(a) && dX(this, !1);
        this.C = a;
        this.Fa = f;
        this.l = a;
        this.u && (e = this.u, f = a, QW(e, f, !1), RW(e, f));
        this.W("seekto", a, !b);
        this.G && (b ? d && this.Ka.start(d) : (this.L(), this.T = !0, ZW(this)));
        return this.G
    };

    function $W(a, b) {
        if (!a.videoData.isLivePlayback) return FL(a.videoData);
        if (lC(a.videoData) && a.videoData.lh && a.videoData.i) return UG(a.videoData.i) + a.timestampOffset;
        if (a.videoData.l && a.videoData.l.i) {
            if (!b && a.u) return PW(a.u);
            b = FL(a.videoData);
            a.policy.i && a.i && (b = Math.max(b, IM(a.i)));
            return b + a.timestampOffset
        }
        a.i ? Bu() ? (a = a.i.mp().getTime(), a = isNaN(a) ? 0 : Math.max((Date.now() - a) / 1E3 - 30, 0)) : a = AM(a.i) + a.timestampOffset || a.timestampOffset : a = a.timestampOffset;
        return a
    }
    h.getMinSeekableTime = function() {
        return this.videoData ? this.videoData.getMinSeekableTime() + this.timestampOffset : this.timestampOffset
    };

    function dX(a, b) {
        if (a.u && a.B) {
            var c = !1;
            if (b) c = !0;
            else if (a.videoData.isLowLatencyLiveStream || "LOW" === a.videoData.latencyClass || "ULTRALOW" === a.videoData.latencyClass)
                if (b = a.u, b.l.length) {
                    c = b.i;
                    b: {
                        if (b.l.length) {
                            if (1 < Math.min.apply(null, b.l)) {
                                b.L();
                                var d = LW(b, b.i - 1);
                                break b
                            }
                            if (b.policy.B) {
                                b.L();
                                d = LW(b, b.i + 1);
                                break b
                            }
                        }
                        d = b.i
                    }
                    b.i = d;
                    if (c = c !== b.i) b.L(), b.l = [], b.B = 0
                } else c = !1;
            c && a.W("livereadaheadchanged", MW(a.u));
            b = a.B;
            c = a.u.i;
            d = a.u;
            d = (d.i - 1 + d.policy.i) * NW(d);
            a = a.u.policy.D;
            b.od = Math.max(c - 1, 0);
            b.C && (b.C.U =
                d);
            b.Qa = a
        }
    }
    h.Da = function() {
        cX(this, null);
        this.I.dispose();
        S.prototype.Da.call(this)
    };

    function hX(a) {
        return a.videoData.isLivePlayback && !!a.videoData.l && !a.videoData.l.i
    }
    h.lH = function(a, b) {
        b = void 0 === b ? !1 : b;
        this.seekTo(a + this.Ub(), {
            Xn: b,
            dd: "playbacktimeline_seekPlayerHandler"
        })
    };

    function ZW(a) {
        bpa(a).then(void 0, function() {
            bX(a)
        });
        gX(a).then(function(c) {
            jX(a, c)
        }, function() {
            bX(a)
        });
        a.W("seekstart");
        if (rL(a.videoData)) {
            var b = a.wb();
            b["native"] = "" + +a.X;
            b.tgt = "" + a.l;
            a.W(JA(b))
        }
    }

    function bpa(a) {
        if (!a.U)
            if (a.B)
                if (isFinite(a.l)) a.L(), a.U = a.B.seek(a.l - a.timestampOffset);
                else {
                    a.L();
                    var b = a.B;
                    nU(b);
                    b.B.i && b.L();
                    b.C && $T(b.C, b.videoTrack.i);
                    er(b.K);
                    b = b.B;
                    var c = Math.max(b.videoTrack.B.B || 0, b.audioTrack.B.B || 0);
                    xT(b.videoTrack);
                    xT(b.audioTrack);
                    var d = b.l,
                        e;
                    for (e in d.i) pD(d.i[e].index, Infinity);
                    b.l.isManifestless && (b.B = !0);
                    b.W("setcurrenttime", c);
                    b.i = !0;
                    b.C = new yP;
                    a.U = b.C;
                    a.l = a.B.getCurrentTime() + a.timestampOffset
                }
        else a.U = ph(a.l - a.timestampOffset);
        return a.U
    }

    function gX(a) {
        var b = a.D;
        b || (a.D = new yP, b = a.D, YW(a));
        return b
    }

    function iX(a, b, c) {
        return isNaN(b) ? NaN : rg(b, a.getMinSeekableTime(), $W(a, c))
    }

    function YW(a) {
        if (a.D)
            if (!a.N("html5_nondash_live_seek_killswitch") && hX(a) && a.i && 0 < a.i.nf() && 0 < AM(a.i) && (a.l = iX(a, a.l, !1)), !a.i || !eX(a)) a.Ta.start(750);
            else if (!isNaN(a.l) && isFinite(a.l) && a.ra !== a.l - a.timestampOffset) {
            var b = a.i.getCurrentTime() - a.l;
            if (Math.abs(b) <= a.Fa) kX(a);
            else if (!a.videoData.isLivePlayback && a.l >= $W(a) - .1) a.l = $W(a), a.D.resolve($W(a)), a.W("ended");
            else try {
                var c = a.l - a.timestampOffset;
                a.L();
                a.i.seekTo(c);
                a.I.i = c;
                a.ra = c;
                a.C = a.l
            } catch (d) {
                a.L()
            }
        }
    }

    function eX(a) {
        if (!a.i || 0 === a.i.nf() || 0 < a.i.dg()) return !1;
        var b = 0 < a.i.getCurrentTime();
        if (!(a.N("html5_nondash_mediaelementready_killswitch") || a.videoData.l && a.videoData.l.i || a.videoData.isLivePlayback) && qL(a.videoData)) return b;
        if (0 <= a.l) {
            var c = a.i.Un();
            if (c.length || !b) return hG(c, a.l - a.timestampOffset)
        }
        return b
    }

    function kX(a) {
        a.D ? a.D.resolve(a.i.getCurrentTime()) : a.L()
    }

    function jX(a, b) {
        a.L();
        a.G && (a.G.resolve(b), a.W("seekend"), rL(a.videoData) && (b = a.wb(), b["native"] = "" + +a.X, a.W("ctmp", "seekEnd", JA(b))));
        lX(a)
    }

    function lX(a) {
        a.l = NaN;
        a.ra = NaN;
        a.D = null;
        a.U = null;
        a.G = null;
        a.T = !1;
        a.X = !1;
        a.Fa = 0;
        a.Z.stop();
        a.Ka.stop()
    }

    function bX(a) {
        a.G && a.L();
        lX(a)
    }

    function $oa(a) {
        if (a.i) {
            for (var b = t(["loadedmetadata", "progress", "seeked", "seeking"]), c = b.next(); !c.done; c = b.next()) a.Ma.Ga(a.i, c.value, function(d) {
                var e = a.i;
                d = d.type;
                a.L();
                switch (d) {
                    case "seeking":
                        d = e.getCurrentTime() + a.timestampOffset;
                        if (!a.D || a.X && d !== a.l) a.D = new yP, a.ra = d, e = e.getCurrentTime(), a.I.i = e, a.seekTo(d, {
                            dd: "playbacktimeline_mediaElementEvent"
                        }), a.X = !0;
                        break;
                    case "seeked":
                        kX(a);
                        break;
                    case "loadedmetadata":
                        a.va ? (e = "ss.", d = 0, (IL(a.videoData) || a.videoData.liveUtcStartSeconds) && (a.videoData.liveUtcStartSeconds ||
                            a.videoData.startSeconds && isFinite(a.videoData.startSeconds) && 1E9 < a.videoData.startSeconds) && a.videoData.i ? (d = a.videoData.liveUtcStartSeconds || a.videoData.jb, e = "utc.", d = $W(a) - a.getIngestionTime($W(a)) + d) : a.videoData.i && a.videoData.i.isManifestless && a.videoData.jb ? (e = "mss.", d = a.videoData.jb + a.Ub()) : a.N("html5_unrewrite_timestamps") && a.videoData.Nj && (e = "stss.", d = a.videoData.Nj), d ? (a.seekTo(d, {
                            dd: "playbacktimeline_startSeconds"
                        }), a.W("ctmp", "startSeconds", e + String(d)), a.va = !1) : a.videoData.jb && a.W("ctmp",
                            "startSeconds", "" + e + (a.videoData.jb + a.Ub())), e = !!d) : e = !1;
                        a.N("html5_nondash_live_seek_killswitch") && !e && hX(a) && (a.l = isFinite(a.l) ? rg(a.l, a.getMinSeekableTime(), $W(a)) : $W(a));
                        YW(a);
                        break;
                    case "progress":
                        YW(a)
                }
            });
            a.G || a.C || a.policy.l || !a.i.wv() || a.seekTo(.01, {
                dd: "playbacktimeline_setupMediaElement"
            })
        }
    }
    h.wb = function() {
        var a = {};
        this.B && Object.assign(a, this.B.wb());
        this.i && Object.assign(a, this.i.wb());
        return a
    };

    function cpa(a, b) {
        a.l = b;
        a.C = b;
        gX(a).then(function(c) {
            jX(a, c)
        }, function() {
            bX(a)
        })
    }
    h.Fm = function(a) {
        this.timestampOffset = a
    };
    h.zC = function(a) {
        this.Ha = a
    };
    h.getStreamTimeOffset = function() {
        return lC(this.videoData) ? this.Ha : this.videoData.i ? this.videoData.i.getStreamTimeOffset() : 0
    };
    h.Ub = function() {
        return this.timestampOffset
    };
    h.getIngestionTime = function(a) {
        return this.videoData.i.getIngestionTime(a - this.timestampOffset)
    };
    h.yC = function(a) {
        this.J && (this.J.i = a.audio.index)
    };
    h.N = function(a) {
        return this.K && R(this.K.experiments, a)
    };
    h.L = function() {};

    function Yoa(a) {
        this.i = R(a.experiments, "html5_live_smoothly_extend_max_seekable_time");
        this.u = a.N("html5_seek_over_discontinuities");
        this.l = a.N("html5_requires_seek_for_playback_at_zero_killswitch")
    };

    function mX() {
        this.i = this.started = !1
    }
    mX.prototype.isFinished = function() {
        return this.i
    };
    mX.prototype.start = function() {
        this.started = !0
    };
    mX.prototype.reset = function() {
        this.i = this.started = !1
    };

    function nX() {
        this.i = this.l = void 0
    }
    nX.prototype.fetch = function(a, b) {
        var c = this,
            d;
        if (null === (d = this.l) || void 0 === d ? 0 : d.B(a, b)) return Promise.resolve(this.l.u(a, b).catch(function(f) {
            ly(f)
        }));
        if (this.i) {
            var e = Hi(Ii(5, Yi(a, "key"))) || "/UNKNOWN_PATH";
            this.i.start(e)
        }
        return new Promise(function(f) {
            var g, k, l = new XMLHttpRequest;
            l.onerror = function() {
                var q, r;
                if (null === (q = c.l) || void 0 === q ? 0 : q.i(a, b)) {
                    var u = c.l.l(a, b);
                    null === (r = c.i) || void 0 === r ? void 0 : r.success();
                    f(u)
                } else f(c.Ak(a, l.status, l.response))
            };
            l.onload = function() {
                f(c.Ak(a, l.status, l.response))
            };
            l.open(null !== (g = b.method) && void 0 !== g ? g : "GET", a, !0);
            l.responseType = "text";
            l.withCredentials = !0;
            if (b.headers)
                for (var m = t(Object.entries(b.headers)), n = m.next(); !n.done; n = m.next()) {
                    var p = t(n.value);
                    n = p.next().value;
                    p = p.next().value;
                    l.setRequestHeader(n, p)
                }
            l.send(null !== (k = b.body) && void 0 !== k ? k : null)
        })
    };
    nX.prototype.Ak = function(a, b, c) {
        c = c.replace(")]}'", "");
        try {
            var d = JSON.parse(c)
        } catch (e) {
            ly(new lw("JSON parsing failed after XHR fetch", a, b, c)), d = {}
        }
        200 === b ? this.i && this.i.success() : (this.i && this.i.failure(), ly(new lw("XHR API fetch failed", a, b, c)), d = Object.assign(Object.assign({}, d), {
            errorMetadata: {
                status: b
            }
        }));
        return d
    };

    function oX() {
        Yv.apply(this, arguments);
        this.al = {}
    }
    var pX;
    v(oX, Yv);

    function qX() {
        pX || (pX = new oX);
        return pX
    }

    function rX(a, b) {
        b ? a.al.Authorization = "Bearer " + b : delete a.al.Authorization
    }
    oX.prototype.ot = function() {
        return Object.assign(Object.assign({}, {}), this.al)
    };
    var sX = !1,
        tX, uX, vX, wX, xX;

    function yX(a) {
        this.counter = [0, 0, 0, 0];
        this.l = new Uint8Array(16);
        this.i = 16;
        if (!sX) {
            var b, c = new Uint8Array(256),
                d = new Uint8Array(256);
            var e = 1;
            for (b = 0; 256 > b; b++) c[e] = b, d[b] = e, e ^= e << 1 ^ (e >> 7 && 283);
            tX = new Uint8Array(256);
            uX = [];
            vX = [];
            wX = [];
            xX = [];
            for (var f = 0; 256 > f; f++) {
                e = f ? d[255 ^ c[f]] : 0;
                e ^= e << 1 ^ e << 2 ^ e << 3 ^ e << 4;
                e = e & 255 ^ e >>> 8 ^ 99;
                tX[f] = e;
                b = e << 1 ^ (e >> 7 && 283);
                var g = b ^ e;
                uX.push(b << 24 | e << 16 | e << 8 | g);
                vX.push(g << 24 | uX[f] >>> 8);
                wX.push(e << 24 | vX[f] >>> 8);
                xX.push(e << 24 | wX[f] >>> 8)
            }
            sX = !0
        }
        e = [];
        for (c = 0; 4 > c; c++) e.push(a[4 * c] <<
            24 | a[4 * c + 1] << 16 | a[4 * c + 2] << 8 | a[4 * c + 3]);
        for (d = 1; 44 > c; c++) a = e[c - 1], c % 4 || (a = (tX[a >> 16 & 255] ^ d) << 24 | tX[a >> 8 & 255] << 16 | tX[a & 255] << 8 | tX[a >>> 24], d = d << 1 ^ (d >> 7 && 283)), e.push(e[c - 4] ^ a);
        this.key = e
    }
    yX.prototype.encrypt = function(a) {
        var b = LH.So("oap"),
            c = a.length;
        a = new Uint8Array(a.buffer.slice(a.byteOffset, a.byteOffset + c));
        for (var d = this.l, e = 0; e < c && 16 > this.i;) a[e++] ^= d[this.i++];
        for (var f = c - (c - e) % 16; e < f;) zX(this), a[e++] ^= d[0], a[e++] ^= d[1], a[e++] ^= d[2], a[e++] ^= d[3], a[e++] ^= d[4], a[e++] ^= d[5], a[e++] ^= d[6], a[e++] ^= d[7], a[e++] ^= d[8], a[e++] ^= d[9], a[e++] ^= d[10], a[e++] ^= d[11], a[e++] ^= d[12], a[e++] ^= d[13], a[e++] ^= d[14], a[e++] ^= d[15];
        if (e < c)
            for (zX(this), this.i = 0; e < c;) a[e++] ^= d[this.i++];
        LH.Nn(b, Math.ceil(c /
            16));
        return a
    };

    function AX(a, b) {
        for (var c = 0; 4 > c; c++) a.counter[c] = b[4 * c] << 24 | b[4 * c + 1] << 16 | b[4 * c + 2] << 8 | b[4 * c + 3];
        a.i = 16
    }

    function zX(a) {
        for (var b = a.key, c = a.counter[0] ^ b[0], d = a.counter[1] ^ b[1], e = a.counter[2] ^ b[2], f = a.counter[3] ^ b[3], g = 3; 0 <= g && !(a.counter[g] = -~a.counter[g]); g--);
        for (g = 4; 40 > g;) {
            var k = uX[c >>> 24] ^ vX[d >> 16 & 255] ^ wX[e >> 8 & 255] ^ xX[f & 255] ^ b[g++];
            var l = uX[d >>> 24] ^ vX[e >> 16 & 255] ^ wX[f >> 8 & 255] ^ xX[c & 255] ^ b[g++];
            var m = uX[e >>> 24] ^ vX[f >> 16 & 255] ^ wX[c >> 8 & 255] ^ xX[d & 255] ^ b[g++];
            f = uX[f >>> 24] ^ vX[c >> 16 & 255] ^ wX[d >> 8 & 255] ^ xX[e & 255] ^ b[g++];
            c = k;
            d = l;
            e = m
        }
        a = a.l;
        c = [c, d, e, f];
        for (d = 0; 16 > d;) a[d++] = tX[c[0] >>> 24] ^ b[g] >>> 24, a[d++] = tX[c[1] >>
            16 & 255] ^ b[g] >> 16 & 255, a[d++] = tX[c[2] >> 8 & 255] ^ b[g] >> 8 & 255, a[d++] = tX[c[3] & 255] ^ b[g++] & 255, c.push(c.shift())
    };

    function BX(a) {
        this.C = new Uint8Array(64);
        this.u = new Uint8Array(64);
        this.B = 0;
        this.D = new Uint8Array(64);
        this.l = 0;
        this.C.set(a);
        this.u.set(a);
        for (a = 0; 64 > a; a++) this.C[a] ^= 92, this.u[a] ^= 54;
        this.reset()
    }
    BX.prototype.reset = function() {
        CX(this);
        this.update(this.u)
    };
    BX.prototype.update = function(a) {
        var b = 0,
            c = a.length;
        this.B += c;
        this.l && 64 <= this.l + c && (this.D.set(a.subarray(0, 64 - this.l), this.l), b = 64 - this.l, this.l = 0, DX(this, this.D, 0));
        for (; b + 64 <= c; b += 64) DX(this, a, b);
        b < c && (a = a.subarray(b), this.D.set(a, this.l), this.l += a.length)
    };

    function DX(a, b, c) {
        for (var d = [], e = 0; 16 > e; e++) d.push(b[c] << 24 | b[c + 1] << 16 | b[c + 2] << 8 | b[c + 3]), c += 4;
        for (b = 16; 64 > b; b++) c = d[b - 7] + d[b - 16], e = d[b - 2], c += (e >>> 17 | e << 15) ^ (e >>> 19 | e << 13) ^ e >>> 10, e = d[b - 15], c += (e >>> 7 | e << 25) ^ (e >>> 18 | e << 14) ^ e >>> 3, d.push(c);
        b = a.i[0];
        c = a.i[1];
        e = a.i[2];
        for (var f = a.i[3], g = a.i[4], k = a.i[5], l = a.i[6], m = a.i[7], n, p, q = 0; 64 > q; q++) n = m + dpa[q] + d[q] + ((g >>> 6 | g << 26) ^ (g >>> 11 | g << 21) ^ (g >>> 25 | g << 7)) + (g & k ^ ~g & l), p = ((b >>> 2 | b << 30) ^ (b >>> 13 | b << 19) ^ (b >>> 22 | b << 10)) + (b & c ^ b & e ^ c & e), m = l, l = k, k = g, g = f + n, f = e, e = c, c = b, b = n +
            p;
        a.i[0] = b + a.i[0] | 0;
        a.i[1] = c + a.i[1] | 0;
        a.i[2] = e + a.i[2] | 0;
        a.i[3] = f + a.i[3] | 0;
        a.i[4] = g + a.i[4] | 0;
        a.i[5] = k + a.i[5] | 0;
        a.i[6] = l + a.i[6] | 0;
        a.i[7] = m + a.i[7] | 0
    }

    function EX(a) {
        var b = new Uint8Array(32),
            c = 64 - a.l;
        55 < a.l && (c += 64);
        var d = new Uint8Array(c);
        d[0] = 128;
        for (var e = 8 * a.B, f = 1; 9 > f; f++) {
            var g = e % 256;
            d[c - f] = g;
            e = (e - g) / 256
        }
        a.update(d);
        for (c = 0; 8 > c; c++) b[4 * c] = a.i[c] >>> 24, b[4 * c + 1] = a.i[c] >>> 16 & 255, b[4 * c + 2] = a.i[c] >>> 8 & 255, b[4 * c + 3] = a.i[c] & 255;
        CX(a);
        return b
    }

    function CX(a) {
        a.i = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];
        a.B = 0;
        a.l = 0
    }
    var dpa = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804,
        4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298
    ];

    function FX(a, b, c) {
        a = new yX(a);
        AX(a, c);
        return a.encrypt(b)
    }

    function epa(a, b, c) {
        return B(this, function e() {
            var f, g, k, l, m;
            return y(e, function(n) {
                if (1 == n.i) return f = GX(), g = {
                    name: "AES-CTR",
                    counter: c,
                    length: 128
                }, w(n, HX(a), 2);
                if (3 != n.i) return k = n.l, l = LH.So("oan2"), w(n, f.encrypt(g, k, b), 3);
                m = n.l;
                LH.Nn(l, Math.ceil(b.byteLength / 16));
                return n.return(new Uint8Array(m))
            })
        })
    }

    function fpa(a) {
        var b = new yX(a);
        return function(c, d) {
            AX(b, d);
            return new Uint8Array(b.encrypt(c))
        }
    }

    function HX(a) {
        return GX().importKey("raw", a, {
            name: "AES-CTR"
        }, !1, ["encrypt"])
    }

    function gpa(a) {
        return B(this, function c() {
            var d = this,
                e, f, g;
            return y(c, function(k) {
                if (1 == k.i) return e = d, f = GX(), w(k, HX(a), 2);
                g = k.l;
                return k.return(function(l, m) {
                    return B(e, function p() {
                        var q, r, u;
                        return y(p, function(x) {
                            if (1 == x.i) return q = {
                                name: "AES-CTR",
                                counter: m,
                                length: 128
                            }, r = LH.So("oan2"), w(x, f.encrypt(q, g, l), 2);
                            u = x.l;
                            LH.Nn(r, Math.ceil(l.byteLength / 16));
                            return x.return(new Uint8Array(u))
                        })
                    })
                })
            })
        })
    }

    function IX() {
        if (oe) return !1;
        var a = GX();
        return a ? !!a.importKey && !!a.sign && !!a.encrypt : !1
    }

    function GX() {
        var a;
        return null === (a = window.crypto) || void 0 === a ? void 0 : a.subtle
    };

    function JX(a) {
        this.i = a;
        this.iv = qD(Lx(16))
    }
    JX.prototype.encrypt = function(a) {
        return FX(this.i.i, a, this.iv)
    };
    JX.prototype.decrypt = function(a, b) {
        return FX(this.i.i, a, b)
    };

    function hpa(a, b, c) {
        return B(a, function e() {
            var f = this;
            return y(e, function(g) {
                return g.return(epa(f.i.i, b, c))
            })
        })
    };

    function KX(a) {
        this.i = a;
        this.hd = {}
    }

    function Qna(a, b) {
        return b in a.hd
    }

    function Pna(a) {
        for (var b = t(Object.keys(a.hd)), c = b.next(); !c.done; c = b.next())
            if (c = c.value, !a.hd[c].Me) {
                var d = a;
                d.hd[c].Lc = new kF;
                kT(d, c)
            }
    }
    KX.prototype.He = function(a) {
        return !!this.hd[a].Lc.totalLength
    };
    KX.prototype.Yf = function(a) {
        var b = this.hd[a].Lc;
        this.hd[a].Fs += b.totalLength;
        this.hd[a].Lc = new kF;
        return b
    };
    KX.prototype.Ge = function(a) {
        return this.hd[a].Ge
    };

    function jT(a, b) {
        a = a.hd[b];
        return a.bytesReceived === a.Kn && a.Fs + a.Lc.totalLength === a.bytesReceived
    }

    function ipa(a, b) {
        var c = new dr(function() {
            kT(a, b)
        }, 3E3);
        c.start();
        a.hd[b] = {
            Lc: new kF,
            Fs: 0,
            bytesReceived: 0,
            yy: c,
            Ge: !1
        };
        a.L()
    }

    function kT(a, b) {
        a.L();
        b = a.hd[b];
        if (!b.Ge && (b.yy.stop(), b.Ge = !0, b.Me && b.Me(), jpa(a))) {
            a = a.i;
            var c;
            a.K && (null === (c = a.xhr) || void 0 === c ? void 0 : c.abort())
        }
    }

    function jpa(a) {
        return Object.values(a.hd).every(function(b) {
            return b.Ge
        })
    }
    KX.prototype.L = function() {};

    function kpa(a) {
        this.iv = sN(new oN(a), 5)
    };

    function lpa(a) {
        a = sN(new oN(a), 4);
        this.i = new kpa(new kF([a]))
    };

    function mpa(a) {
        this.i = [];
        for (a = new oN(a);;) {
            var b = rN(a, 2);
            if (!b) break;
            this.i.push(b)
        }
    };

    function npa(a) {
        a = new oN(a);
        this.u = rN(a, 1);
        this.itag = rN(a, 3);
        this.lastModifiedTime = rN(a, 4);
        this.xtags = a.Ad(5);
        rN(a, 6);
        rN(a, 8);
        rN(a, 9, -1);
        rN(a, 10);
        this.i = rN(a, 14);
        this.l = this.itag + ";" + this.lastModifiedTime + ";" + this.xtags;
        this.aj = "audio" === opa[KF["" + this.itag]]
    }
    var LX = {},
        opa = (LX.f = "video", LX["1"] = "video", LX["1h"] = "video", LX.h = "video", LX.H = "video", LX["9"] = "video", LX["("] = "video", LX["9h"] = "video", LX["(h"] = "video", LX.o = "audio", LX.O = "audio", LX.a = "audio", LX.ah = "audio", LX.A = "audio", LX.m = "audio", LX.M = "audio", LX.mac3 = "audio", LX.MAC3 = "audio", LX.meac3 = "audio", LX.MEAC3 = "audio", LX.so = "audio", LX.sa = "audio", LX["8"] = "unknown", LX["*"] = "unknown", LX.w = "unknown", LX["3"] = "unknown", LX["6"] = "unknown", LX[""] = "unknown", LX);

    function ppa(a) {
        this.body = null;
        a = new oN(a);
        this.onesieProxyStatus = rN(a, 1, -1);
        this.httpStatus = rN(a, 2, -1);
        this.body = sN(a, 4)
    };

    function qpa(a) {
        a = new oN(a);
        this.startTimeMs = rN(a, 1);
        this.endTimeMs = rN(a, 2)
    };

    function rpa(a) {
        var b = new oN(a);
        a = b.Ad(3);
        var c = rN(b, 5);
        this.l = rN(b, 7);
        var d = sN(b, 14);
        new qpa(new kF([d]));
        b = b.Ad(15);
        this.i = a + ";" + c + ";" + b
    };

    function MX(a) {
        this.u = a;
        this.l = !1;
        this.i = []
    }

    function NX(a) {
        for (; a.i.length && !a.i[0].Mg;) {
            var b = a.i.shift(),
                c = b.Pv;
            if (b = b.buffer) OX(a.u.Hc, c, b);
            else {
                b = a.u;
                b.i[c].kz = !0;
                var d = void 0;
                null === (d = b.Hc.Fl) || void 0 === d ? void 0 : kT(d, c)
            }
        }
    }
    MX.prototype.decrypt = function(a) {
        return B(this, function c() {
            var d = this,
                e, f, g, k, l, m, n;
            return y(c, function(p) {
                switch (p.i) {
                    case 1:
                        if (d.i.length && !d.i[0].Mg) return p.return();
                        d.l = !0;
                        e = new Uint8Array(16);
                        if (!IX()) {
                            f = null;
                            p.Ya(2);
                            break
                        }
                        return w(p, gpa(a), 3);
                    case 3:
                        f = p.l;
                    case 2:
                        k = (g = f) ? null : fpa(a);
                    case 4:
                        if (!d.i.length || !d.i[0].Mg) {
                            p.Ya(5);
                            break
                        }
                        l = d.i.shift();
                        if (!g) {
                            m = k(l.buffer, e);
                            p.Ya(6);
                            break
                        }
                        return w(p, g(l.buffer, e), 7);
                    case 7:
                        m = p.l;
                    case 6:
                        n = m;
                        for (var q = 0; q < e.length; q++)
                            if (255 === e[q]) e[q] = 0;
                            else {
                                e[q] +=
                                    1;
                                break
                            } OX(d.u.Hc, l.Pv, n);
                        p.Ya(4);
                        break;
                    case 5:
                        NX(d), d.l = !1, sa(p)
                }
            })
        })
    };

    function PX(a, b) {
        a.i.push({
            Pv: b,
            Mg: !1
        });
        a.l || NX(a)
    };

    function QX(a) {
        this.Hc = a;
        this.u = {};
        this.i = {};
        this.l = this.iv = null;
        this.queue = new MX(this)
    }
    QX.prototype.feed = function(a, b) {
        var c = b.totalLength;
        this.L();
        switch (a) {
            case 10:
                var d = rN(new oN(b), 1);
                this.L();
                a = !1;
                switch (d) {
                    case 5:
                        c = this.Hc;
                        c.Jd("orfb");
                        c.I = !0;
                        break;
                    case 0:
                        this.iv = (new lpa(b)).i.iv;
                        break;
                    case 16:
                        this.Mq(b);
                        break;
                    case 2:
                        break;
                    default:
                        a = !0
                }
                this.Hc.Ph && this.Hc.Aa("ombup", "id.10;pt." + d + ";len." + b.totalLength + (a ? ";ignored.1" : ""));
                this.l = d;
                break;
            case 11:
                spa(this, b);
                break;
            case 20:
                a = new npa(b);
                var e = a.u;
                c = a.l;
                var f = a.aj,
                    g = void 0 !== this.i[c];
                this.Hc.Ph && this.Hc.Aa("ombup", "id.20;len." + b.totalLength +
                    ";hid." + e);
                this.L();
                this.u[e] = c;
                g ? (b = this.i[c].headers, b.push(a), a.i && 2 === b.length && this.Hc.Mq(c, b[0].i + b[1].i)) : (this.i[c] = {
                    kz: !1,
                    aj: f,
                    headers: [a]
                }, null === (d = this.Hc.Fl) || void 0 === d ? void 0 : ipa(d, c));
                break;
            case 21:
                RX(this, b, !1);
                break;
            case 12:
                RX(this, b, !0);
                break;
            case 22:
                d = sF(b, 0);
                this.Hc.Ph && this.Hc.Aa("ombup", "id.22;len." + b.totalLength + ";hid." + d);
                b = this.u[d] || null;
                this.L();
                b && (d = this.i[b], 1 === d.headers.length && d.headers[0].i || PX(this.queue, b));
                break;
            case 37:
                b = new mpa(b);
                b.i && (this.Hc.AC = b);
                break;
            default:
                this.Hc.Ph && this.Hc.Aa("ombup", "id." + a + ";len." + c + ";ignored.1"), this.L()
        }
    };

    function spa(a, b) {
        var c = b.totalLength;
        a.L();
        var d = !1;
        switch (a.l) {
            case 0:
                tpa(a, b).then(function(e) {
                    var f = a.Hc;
                    f.Jd("oprr");
                    f.u.resolve(e);
                    f.K = !0;
                    f.C.stop()
                }, function(e) {
                    SX(a.Hc, e)
                });
                break;
            case 2:
                a.Hc.Jd("ormk");
                b = rF(b);
                a.queue.decrypt(b);
                a.L();
                break;
            default:
                d = !0, a.L()
        }
        a.Hc.Ph && a.Hc.Aa("ombup", "id.11;pt." + a.l + ";len." + c + (d ? ";ignored.1" : ""));
        a.l = null
    }
    QX.prototype.Mq = function(a) {
        a = new rpa(a);
        this.Hc.Mq(a.i, a.l);
        this.L()
    };

    function RX(a, b, c) {
        var d = sF(b, 0);
        a.Hc.Ph && a.Hc.Aa("ombup", "id.21;enc." + +c + ";len." + b.totalLength + ";hid." + d);
        1 !== b.totalLength && (b = rF(b, 1), d = a.u[d] || null, a.L(), d && (a = a.queue, a.i.push({
            Pv: d,
            buffer: b,
            Mg: c
        }), a.l || NX(a)))
    }

    function tpa(a, b) {
        return B(a, function d() {
            var e = this,
                f, g, k, l, m, n, p, q, r;
            return y(d, function(u) {
                if (1 == u.i) {
                    e.Hc.Jd("orpr");
                    f = rF(b);
                    var x = e.Hc;
                    var z = e.iv;
                    x = IX() ? hpa(x.B, f, z) : Promise.resolve(x.B.decrypt(f, z));
                    return w(u, x, 2)
                }
                g = u.l;
                k = new ppa(new kF([g]));
                if (1 !== k.onesieProxyStatus) return l = {
                    st: k.onesieProxyStatus
                }, m = new IA("onesie.response.badproxystatus", !1, l), u.return(Promise.reject(m));
                if (200 !== k.httpStatus) return n = {
                    st: k.httpStatus
                }, p = new IA("onesie.response.badstatus", !1, n), u.return(Promise.reject(p));
                q = k.body;
                r = A.TextDecoder ? (new TextDecoder).decode(q) : eb(q);
                e.L();
                e.L();
                return u.return(r)
            })
        })
    }
    QX.prototype.L = function() {};

    function TX() {}

    function UX(a) {
        var b = new tN;
        a.l(b);
        return new Uint8Array(b.l.buffer, 0, b.i)
    };

    function VX(a) {
        var b = a.value;
        this.name = a.name;
        this.value = b
    }
    v(VX, TX);
    VX.prototype.l = function(a) {
        yN(a, 1, this.name);
        yN(a, 2, this.value)
    };

    function WX(a) {
        var b = a.httpHeaders,
            c = a.postBody;
        this.url = a.url;
        this.httpHeaders = b;
        this.postBody = c
    }
    v(WX, TX);
    WX.prototype.l = function(a) {
        yN(a, 1, this.url);
        for (var b = t(this.httpHeaders), c = b.next(); !c.done; c = b.next()) c = c.value, zN(a), c.l(a), AN(a);
        yN(a, 3, this.postBody)
    };

    function XX(a) {
        this.i = a
    }
    v(XX, TX);
    XX.prototype.l = function(a) {
        this.i.rB && wN(a, 13, this.i.rB);
        if (void 0 !== this.i.lastManualDirection) {
            var b = this.i.lastManualDirection;
            vN(a, 112);
            vN(a, b << 1 ^ b >> 31)
        }
        this.i.Iz && wN(a, 16, this.i.Iz);
        this.i.viewportHeight && this.i.viewportWidth && (wN(a, 18, this.i.viewportWidth), wN(a, 19, this.i.viewportHeight));
        this.i.mB && wN(a, 21, this.i.mB);
        this.i.Ix && wN(a, 23, this.i.Ix);
        void 0 !== this.i.visibilityState && wN(a, 34, this.i.visibilityState);
        void 0 !== this.i.qB && wN(a, 39, this.i.qB)
    };

    function YX(a, b, c, d) {
        this.i = a;
        this.encryptedClientKey = b;
        this.iv = c;
        this.hmac = d;
        this.serializeResponseAsJson = !0
    }
    v(YX, TX);
    YX.prototype.l = function(a) {
        xN(a, 2, this.i);
        xN(a, 5, this.encryptedClientKey);
        xN(a, 6, this.iv);
        xN(a, 7, this.hmac);
        wN(a, 10, this.serializeResponseAsJson ? 1 : 0)
    };

    function ZX(a, b, c) {
        this.u = a;
        this.i = b;
        this.onesieUstreamerConfig = c
    }
    v(ZX, TX);
    ZX.prototype.l = function(a) {
        zN(a);
        this.i.l(a);
        AN(a);
        xN(a, 3, UX(this.u));
        this.onesieUstreamerConfig && xN(a, 4, this.onesieUstreamerConfig)
    };

    function $X(a, b) {
        if (b + 1 <= a.totalLength) {
            var c = sF(a, b);
            c = 128 > c ? 1 : 192 > c ? 2 : 224 > c ? 3 : 240 > c ? 4 : 5
        } else c = 0;
        if (1 > c || !(b + c <= a.totalLength)) return [-1, b];
        if (1 === c) a = sF(a, b++);
        else if (2 === c) c = sF(a, b++), a = sF(a, b++), a = (c & 63) + 64 * a;
        else if (3 === c) {
            c = sF(a, b++);
            var d = sF(a, b++);
            a = sF(a, b++);
            a = (c & 31) + 32 * (d + 256 * a)
        } else if (4 === c) {
            c = sF(a, b++);
            d = sF(a, b++);
            var e = sF(a, b++);
            a = sF(a, b++);
            a = (c & 15) + 16 * (d + 256 * (e + 256 * a))
        } else c = b + 1, a.focus(c), oF(a, c, 4) ? a = pF(a).getUint32(c - a.u, !0) : (d = sF(a, c + 2) + 256 * sF(a, c + 3), a = sF(a, c) + 256 * (sF(a, c + 1) +
            256 * d)), b += 5;
        return [a, b]
    };

    function aY(a) {
        this.l = a;
        this.i = new kF
    }
    aY.prototype.feed = function(a) {
        nF(this.i, a);
        bY(this)
    };

    function bY(a) {
        var b = t($X(a.i, 0));
        var c = b.next().value;
        var d = b.next().value;
        d = t($X(a.i, d));
        b = d.next().value;
        d = d.next().value;
        !(0 > c || 0 > b) && d + b <= a.i.totalLength && (d = a.i.split(d).il.split(b), b = d.hq, d = d.il, a.l(c, b), a.i = d, bY(a))
    };

    function upa(a, b, c) {
        var d = a.getVideoData().isAd() ? .5 : .9;
        c = c * d - 16E3;
        a = soa(a.Ne, a.videoData);
        d = [];
        b = t(b);
        for (var e = b.next(); !e.done; e = b.next()) {
            e = e.value;
            var f = vpa[e] || 0;
            if (!(f && f > c)) {
                var g = wpa[e] || 0;
                a.i && g > a.i || d.push({
                    itag: e,
                    byterate: f
                })
            }
        }
        return d.sort(function(k, l) {
            return cY.indexOf(KF[k.itag]) - cY.indexOf(KF[l.itag]) || l.byterate - k.byterate
        }).map(function(k) {
            return k.itag
        })
    }

    function dY(a) {
        return [a].concat(ha(xpa[a] || []))
    }
    var eY = {
            init: "0-1",
            index: "2-3",
            clen: "",
            url: "",
            sp: "",
            s: "",
            lmt: ""
        },
        ypa = [Object.assign({
            itag: "137",
            bitrate: "4000000",
            size: "1920x1080",
            fps: "30",
            type: 'video/mp4; codecs="avc1.4d401e"'
        }, eY), Object.assign({
            itag: "248",
            bitrate: "2000000",
            fps: "30",
            size: "1920x1080",
            type: 'video/webm; codecs="vp9"'
        }, eY), Object.assign({
            itag: "399",
            bitrate: "1000000",
            size: "1920x1080",
            fps: "60",
            type: 'video/mp4; codecs="av01.0.08M.08"'
        }, eY), Object.assign({
                itag: "299",
                bitrate: "5000000",
                size: "1920x1080",
                fps: "60",
                type: 'video/mp4; codecs="avc1.64001e"'
            },
            eY), Object.assign({
            itag: "303",
            bitrate: "3000000",
            fps: "60",
            size: "1920x1080",
            type: 'video/webm; codecs="vp9"'
        }, eY), Object.assign({
            itag: "140",
            type: 'audio/mp4; codecs="mp4a.40.2"'
        }, eY), Object.assign({
            itag: "251",
            audio_sample_rate: "48000",
            type: 'audio/webm; codecs="opus"'
        }, eY)],
        fY = {},
        xpa = (fY["137"] = ["136", "135", "134", "133", "160"], fY["248"] = ["247", "244", "243", "242", "278"], fY["399"] = ["398", "397", "396", "395", "394"], fY["299"] = "298 137 136 135 134 133 160".split(" "), fY["303"] = "302 248 247 244 243 242 278".split(" "),
            fY["140"] = [], fY["251"] = ["250"], fY),
        gY = {},
        vpa = (gY["160"] = 0, gY["133"] = 22639, gY["134"] = 45778, gY["135"] = 73749, gY["136"] = 153645, gY["137"] = 332697, gY["278"] = 0, gY["242"] = 22702, gY["243"] = 42954, gY["244"] = 73575, gY["247"] = 139201, gY["248"] = 259369, gY["298"] = 260272, gY["299"] = 589187, gY["302"] = 295858, gY["303"] = 528496, gY["394"] = 0, gY["395"] = 18457, gY["396"] = 37231, gY["397"] = 65872, gY["398"] = 133087, gY["399"] = 236318, gY),
        hY = {},
        wpa = (hY["133"] = 240, hY["134"] = 360, hY["135"] = 480, hY["136"] = 720, hY["137"] = 1080, hY["242"] = 240, hY["243"] =
            360, hY["244"] = 480, hY["247"] = 720, hY["248"] = 1080, hY["298"] = 720, hY["299"] = 1080, hY["302"] = 720, hY["303"] = 1080, hY["395"] = 240, hY["396"] = 360, hY["397"] = 480, hY["398"] = 720, hY["399"] = 1080, hY),
        cY = ["1", "9", "h"];

    function zpa(a) {
        function b(g) {
            return g.id
        }

        function c(g) {
            return f[g] || []
        }
        var d = IG(ypa, null, 0, !1, !1, void 0),
            e = a.Y().i;
        a = nL(a);
        var f = hJ(a, e, d, function() {
            return !0
        });
        d = kJ(a).map(c).flat();
        return {
            video: oJ(a).map(c).flat().map(b),
            audio: d.map(b)
        }
    };

    function iY(a, b) {
        var c = this;
        this.i = a;
        this.playerRequest = b;
        this.xhr = null;
        this.u = new yP;
        this.K = this.I = !1;
        this.C = new dr(this.EE, 1E4, this);
        this.J = !1;
        this.l = this.i.Y();
        this.videoData = this.i.getVideoData();
        this.Ph = rL(this.i.getVideoData());
        this.G = this.l.ob;
        this.B = new JX(this.G.i);
        this.U = new aY(function(d, e) {
            c.D.feed(d, e)
        });
        R(this.l.experiments, "html5_onesie_media_bytes") && YE() && (this.Fl = new KX(this));
        this.D = new QX(this)
    }
    h = iY.prototype;
    h.Jd = function(a) {
        this.i.Jd(a)
    };
    h.Mq = function(a, b) {
        var c;
        null === (c = this.Fl) || void 0 === c ? void 0 : (c.hd[a].Kn = b, c.L())
    };

    function OX(a, b, c) {
        var d;
        null === (d = a.Fl) || void 0 === d ? void 0 : (d.L(), a = d.hd[b], a.Ge || (a.yy.start(), a.Lc.append(c), a.bytesReceived += c.length, a.Me && a.Me()))
    }
    h.Aa = function(a, b) {
        this.i.Aa(a, b)
    };
    h.fetch = function() {
        return B(this, function b() {
            var c = this,
                d, e, f, g, k, l, m, n, p, q;
            return y(b, function(r) {
                c.L();
                c.C.start();
                c.Jd("ogpd");
                var u = c.playerRequest,
                    x = c.l,
                    z = c.videoData,
                    D = x.jb;
                D = "https://youtubei.googleapis.com/youtubei/" + D.innertubeApiVersion + "/player?key=" + D.innertubeApiKey;
                var H = [new VX({
                        name: "Content-Type",
                        value: "application/json"
                    })],
                    O = z.Gd();
                O && H.push(new VX({
                    name: "Authorization",
                    value: "Bearer " + O
                }));
                H.push(new VX({
                    name: "User-Agent",
                    value: fd
                }));
                (z = z.visitorData || ys("VISITOR_DATA")) && H.push(new VX({
                    name: "X-Goog-Visitor-Id",
                    value: z
                }));
                (x = rH(x.experiments, "debug_sherlog_username")) && H.push(new VX({
                    name: "X-Youtube-Sherlog-Username",
                    value: x
                }));
                u = JSON.stringify(u);
                e = new WX({
                    url: D,
                    httpHeaders: H,
                    postBody: u
                });
                try {
                    var M = c.l;
                    var J = c.i.getPlayerSize();
                    var ka = c.i.getVisibilityState();
                    var Qa = c.G.onesieUstreamerConfig,
                        za = c.B;
                    var ve = za.encrypt(UX(e));
                    var Gf = za.i.encryptedClientKey,
                        Kh = za.iv,
                        Lh = za.iv,
                        Rd = new BX(za.i.l);
                    Rd.update(ve);
                    Rd.update(Lh);
                    var rj = EX(Rd);
                    Rd.update(Rd.C);
                    Rd.update(rj);
                    var Sd = EX(Rd);
                    Rd.reset();
                    var oc = new YX(ve, Gf,
                        Kh, Sd);
                    za = {};
                    var zd = NH(0);
                    if (zd) {
                        za.Iz = zd;
                        za.lastManualDirection = Cja();
                        var sj = Ay() || 0;
                        0 < sj && (za.rB = K() - sj)
                    }
                    za.mB = NH();
                    za.Ix = xB(M.schedule, !0);
                    var tj = AI();
                    za.viewportHeight = J.height * tj;
                    za.viewportWidth = J.width * tj;
                    za.visibilityState = ka;
                    za.qB = jt();
                    d = new ZX(oc, new XX(za), Qa)
                } catch (uj) {
                    return c.L(), uj instanceof IA ? SX(c, uj) : (f = new IA("onesie.request", !1), SX(c, f)), r.return(c.u)
                }
                c.Jd("osor");
                g = iM(c.l);
                k = UX(d);
                zu() && (k = new Uint8Array(k.buffer.slice(0, k.length)));
                l = {
                    method: "POST",
                    body: k,
                    headers: {
                        "Content-Type": "text/plain"
                    }
                };
                a: {
                    if (c.Fl) {
                        M = xB(c.l.schedule, !0);
                        J = c.i.getVideoData();
                        ka = zpa(J);
                        J = ka.video.map(dY).flat();
                        ka = ka.audio.map(dY).flat();
                        J = upa(c.i, J, M);
                        if (J.length) {
                            M = {
                                video: J,
                                audio: ka
                            };
                            break a
                        }
                        c.Aa("ombspf", "limit." + M)
                    }
                    M = void 0
                }
                m = M;
                var Vc;
                M = c.videoData;
                var Ba;
                b: {
                    var Td;
                    if ((J = M.Y().ob) && (ka = rH(M.Y().experiments, "debug_bandaid_hostname") || (null === (Td = Lja()) || void 0 === Td ? void 0 : Td.primary)) && J.baseUrl) {
                        Td = new dD("https://" + ka + J.baseUrl);
                        if (J = null === (Ba = M.Fj) || void 0 === Ba ? void 0 : Ba.urlQueryOverride)
                            for (Ba = lD(J), Ba = t(Object.entries(Ba)),
                                J = Ba.next(); !J.done; J = Ba.next()) ka = t(J.value), J = ka.next().value, ka = ka.next().value, Td.set(J, ka);
                        if (!Td.get("id")) {
                            J = AH(M.videoId);
                            Ba = [];
                            if (J)
                                for (J = t(J), ka = J.next(); !ka.done; ka = J.next()) Ba.push(ka.value.toString(16).padStart(2, "0"));
                            Ba = Ba.join("");
                            if (!Ba) {
                                Ba = void 0;
                                break b
                            }
                            Td.set("id", Ba)
                        }
                        Ba = Td;
                        break b
                    }
                    Ba = void 0
                }!Ba && (null === (Vc = M.Fj) || void 0 === Vc ? 0 : Vc.url) && (Ba = new dD(M.Fj.url));
                Ba ? (Ba.set("ack", "1"), Ba.set("cpn", M.clientPlaybackNonce), Ba.set("opr", "1"), Ba.set("pvi", "135"), Ba.set("pai", "140"), Ba.set("oaad",
                    "0"), Ba.set("oavd", "0"), m ? (Vc = m.audio, Ba.set("pvi", m.video.join(",")), Ba.set("pai", Vc.join(",")), YE() || Ba.set("osh", "1")) : (Ba.set("oad", "0"), Ba.set("ovd", "0")), Vc = fD(Ba)) : Vc = "";
                n = Vc;
                if (!n) return c.L(), p = {
                    url: "0"
                }, q = new IA("onesie.unavailable.hotconfig", !1, p), SX(c, q), r.return(c.u);
                c.Jd("ocs");
                c.L();
                c.Ph && c.Aa("ombrs", "1");
                YE() ? c.xhr = new MT(n, g, c, l) : c.xhr = new PT(n, c, l);
                return r.return(c.u)
            })
        })
    };
    h.Ru = function() {};
    h.Nq = function() {
        jY(this)
    };
    h.Go = function() {
        this.L();
        jY(this);
        var a = this.xhr;
        if (a.Yc()) {
            var b = {
                msg: a.Yc()
            };
            b = new IA("onesie.net", !1, b)
        } else 400 <= a.status ? b = new IA("onesie.net.badstatus", !1) : a.Rq() ? this.I || (b = new IA("onesie.response.noplayerresponse", !1)) : b = new IA(204 === a.status ? "onesie.net.nocontent" : "onesie.net.connect", !1);
        b ? SX(this, b) : this.Jd("orf");
        this.Ph && this.Aa("ombre", "ok." + +!b);
        b = this.D;
        a = b.queue;
        a.i.length && a.i[0].Mg && !a.l && (a.i.length = 0);
        a = t(Object.keys(b.i));
        for (var c = a.next(); !c.done; c = a.next()) c = c.value, b.i[c].kz ||
            PX(b.queue, c)
    };
    h.EE = function() {
        this.L();
        SX(this, new IA("onesie.request", !1, {
            timeout: "1"
        }))
    };

    function SX(a, b) {
        var c;
        a.u.reject(b);
        a.C.stop();
        a.Jd("ore");
        null === (c = a.xhr) || void 0 === c ? void 0 : c.abort()
    }

    function jY(a) {
        var b = a.xhr;
        102400 < b.xk() && !a.J && (a.Jd("or100k"), a.J = !0);
        for (; b.He();) {
            var c = b.Yf(),
                d = c.totalLength;
            a.L();
            a.Ph && a.Aa("ombrss", "len." + d);
            a.U.feed(c)
        }
    }
    h.L = function() {};

    function Apa(a) {
        function b(e) {
            return (d.td || !(c.qc ? 0 : c.N("web_player_gvi_wexit") || ("TVHTML5" === c.deviceParams.c ? yI(c) ? c.N("web_player_gvi_wexit_living_room_pangea") : c.N("web_player_gvi_wexit_living_room_bedrock") : "TVHTML5_KIDS" === c.deviceParams.c ? c.N("web_player_gvi_wexit_living_room_kids") : zI(c) || lI(c) ? c.N("web_player_gvi_wexit_living_room_simply") : DI(c) || CI(c) ? c.N("web_player_gvi_wexit_living_room_unplugged") : c.N("web_player_gvi_wexit_living_room_other"))) && !VL(d) ? 0 : "yt" !== c.B ? 38 === d.X && "books" ===
                c.playerStyle || 30 === d.X && "docs" === c.playerStyle || 33 === d.X && "google-live" === c.playerStyle ? 0 : R(c.experiments, "web_player_gvi_wexit_all_player_styles") : "adunit" !== OL(d) || R(c.experiments, "web_player_gvi_wexit_adunit")) ? Bpa(a, d).then(function() {
                kY(a, d)
            }, function(f) {
                kY(a, d, !0);
                throw f;
            }) : Cpa(a, d, e)
        }
        var c = a.Y(),
            d = a.getVideoData();
        d.Ea();
        d.I = !0;
        return Dpa(a) ? Epa(a, d).then(function() {
            kY(a, d)
        }, function(e) {
            e = KA(e);
            if (e.i) return kY(a, d, !0), Promise.reject(e);
            a.handleError(e);
            return b("onesie")
        }) : b("gvi")
    }

    function Dpa(a) {
        var b = a.Y();
        if (!R(b.experiments, "html5_onesie") || "yt" !== b.B) return !1;
        b = b.ob;
        if (!b || !b.i) return a.handleError(new IA("onesie.unavailable.hotconfig", !1, {
            key: "0"
        })), !1;
        b = {};
        window.Uint8Array || (b.uint8 = "0");
        return 0 < Object.keys(b).length ? (b.onesie = "0", a.handleError(new IA("html5.missingapi", !1, b)), !1) : !0
    }

    function lY(a) {
        var b = qX();
        rX(b, a.Gd());
        nX.i || (nX.i = new nX);
        return Zy(b, nX.i)
    }

    function Epa(a, b) {
        return B(this, function d() {
            var e, f, g, k, l, m, n, p;
            return y(d, function(q) {
                if (1 == q.i) return b.fetchType = "onesie", e = $L(b, a.getPlayerSize(), a.getVisibilityState()), f = new iY(a, e), w(q, f.fetch(), 2);
                g = q.l;
                k = {
                    player_response: g
                };
                b.I = !1;
                b.yh = f.Fl;
                b.aC = f.AC;
                fC(b, k, !0);
                if (b.I || rK(b)) return q.return(Promise.resolve());
                b.yh = void 0;
                l = {};
                m = "onesie.response";
                n = !1;
                b.errorCode ? (m = "auth", l.ec = b.errorCode, l.ed = b.errorDetail, l.es = b.Fg || "", n = !0) : (l.successButUnplayable = "1", l.disposed = "" + +b.Ea(), l.afmts = "" +
                    +/adaptiveFormats/.test(g), l.cpn = b.clientPlaybackNonce);
                p = new IA(m, n, l);
                return q.return(Promise.reject(p))
            })
        })
    }

    function Bpa(a, b) {
        return B(this, function d() {
            var e, f, g, k, l, m, n, p, q;
            return y(d, function(r) {
                switch (r.i) {
                    case 1:
                        e = b.isAd(), f = !e, g = e ? 1 : 3, k = 0;
                    case 2:
                        if (!(k < g)) {
                            r.Ya(4);
                            break
                        }
                        if (!(0 < k)) {
                            r.Ya(5);
                            break
                        }
                        return w(r, Hh(5E3), 6);
                    case 6:
                        l = new lw("Retrying OnePlatform request", {
                            attempt: k
                        }), ly(l);
                    case 5:
                        return ta(r, 7), w(r, Fpa(a, b), 9);
                    case 9:
                        return r.return();
                    case 7:
                        m = va(r);
                        n = KA(m);
                        p = n.errorCode;
                        f && "manifest.net.badstatus" === p && "401" === n.details.rc && (f = !1, k === g - 1 && (g += 1));
                        if ("auth" === p || "manifest.net.retryexhausted" ===
                            p) return r.return(Promise.reject(n));
                        a.handleError(n);
                        if (n.i) {
                            r.Ya(4);
                            break
                        }
                        case 3:
                            k++;
                            r.Ya(2);
                            break;
                        case 4:
                            return q = e ? "auth" : "manifest.net.retryexhausted", r.return(Promise.reject(new IA(q, !0, {
                                backend: "op"
                            })))
                }
            })
        })
    }

    function Fpa(a, b) {
        return B(this, function d() {
            var e, f, g, k, l, m, n, p, q, r, u, x, z, D, H, O;
            return y(d, function(M) {
                if (1 == M.i) return b.fetchType = "gp", e = lY(b), f = $L(b, a.getPlayerSize(), a.getVisibilityState()), g = Jy(lha), k = b.Gd(), l = K(), m = !1, n = "empty", p = 0, a.Jd("ps_s"), w(M, Py(e, f, g), 2);
                q = M.l;
                a.Jd("ps_r");
                if (b.Ea()) return M.return();
                q ? q.error ? (m = !0, n = "esf:" + q.error.message, p = q.error.code) : q.errorMetadata && (m = !0, n = "its", p = q.errorMetadata.status) : m = !0;
                if (m) return r = a.Y(), u = 400 === p || 429 === p, x = (K() - l).toFixed(), z = {
                    backend: "op",
                    rc: "" + p,
                    rt: x,
                    reason: n,
                    has_kpt: b.Ka ? "1" : "0",
                    has_mdx_env: b.mdxEnvironment ? "1" : "0",
                    has_omit_key_flag: G("INNERTUBE_OMIT_API_KEY_WHEN_AUTH_HEADER_IS_PRESENT") ? "1" : "0",
                    has_page_id: r.pageId ? "1" : "0",
                    has_token: k ? "1" : "0",
                    has_vvt: b.K ? "1" : "0",
                    is_mdx: b.isMdxPlayback ? "1" : "0",
                    mdx_ctrl: b.Qe || "",
                    token_eq: k === b.Gd() ? "1" : "0"
                }, D = "manifest.net.connect", 429 === p ? D = "auth" : 200 < p && (D = "manifest.net.badstatus"), M.return(Promise.reject(new IA(D, u, z)));
                b.I = !1;
                fC(b, {
                    raw_player_response: q
                }, !0);
                if (b.errorCode) return H = {
                    ec: b.errorCode,
                    ed: b.errorDetail,
                    es: b.Fg || ""
                }, M.return(Promise.reject(new IA("auth", !0, H)));
                if (!b.I && !rK(b)) return O = b.isAd() ? "auth" : "manifest.net.retryexhausted", M.return(Promise.reject(new IA(O, !0, {
                    successButUnplayable: "1",
                    hasMedia: GL(b) ? "1" : "0"
                })));
                sa(M)
            })
        })
    }

    function Cpa(a, b, c) {
        return B(this, function e() {
            var f, g, k, l, m, n, p, q, r, u;
            return y(e, function(x) {
                switch (x.i) {
                    case 1:
                        f = ula(a.Y(), b, a.getPlayerSize(), a.getVisibilityState(), a.isFullscreen()), g = function() {
                            return !0
                        }, k = function(z) {
                            z = KA(z);
                            if (z.i) return Promise.reject(z);
                            a.handleError(z);
                            return !1
                        }, m = (l = b.isAd()) ? 1 : 3, n = 0;
                    case 2:
                        if (!(n < m)) {
                            x.Ya(4);
                            break
                        }
                        p = f;
                        if (!(0 < n)) {
                            x.Ya(5);
                            break
                        }
                        return w(x, Hh(5E3), 6);
                    case 6:
                        q = {
                            playerretry: n,
                            playerretrysrc: c
                        }, l || (q.recover = "embedded"), p = vt(f, q);
                    case 5:
                        return w(x, Gpa(b, p).then(g, k), 7);
                    case 7:
                        if (r = x.l) return x.return();
                        n++;
                        x.Ya(2);
                        break;
                    case 4:
                        u = l ? "auth" : "manifest.net.retryexhausted";
                        if (!l && 1E-4 > Math.random()) try {
                            ly(new lw("b/152131571", btoa(f)))
                        } catch (z) {}
                        return x.return(Promise.reject(new IA(u, !0, {
                            backend: "gvi"
                        })))
                }
            })
        })
    }

    function Gpa(a, b) {
        return B(this, function d() {
            var e, f, g, k, l, m, n, p, q, r, u, x, z;
            return y(d, function(D) {
                if (1 == D.i) return a.fetchType = "gvi", e = a.Y(), (k = vla(a)) ? (f = {
                        format: "RAW",
                        method: "POST",
                        withCredentials: !0,
                        timeout: 3E4,
                        postParams: k
                    }, g = vt(b, {
                        action_display_post: 1
                    })) : (f = {
                        format: "RAW",
                        method: "GET",
                        withCredentials: !0,
                        timeout: 3E4
                    }, g = b), l = {}, e.sendVisitorIdHeader && a.visitorData && (l["X-Goog-Visitor-Id"] = a.visitorData), (m = rH(e.experiments, "debug_sherlog_username")) && (l["X-Youtube-Sherlog-Username"] = m), 0 < Object.keys(l).length &&
                    (f.headers = l), n = K(), p = function(H) {
                        if (!a.Ea()) {
                            H = H ? H.status : -1;
                            var O = 400 === H || 429 === H,
                                M = (K() - n).toFixed();
                            M = {
                                backend: "gvi",
                                rc: "" + H,
                                rt: M
                            };
                            var J = "manifest.net.connect";
                            429 === H ? J = "auth" : 200 < H && (J = "manifest.net.badstatus");
                            return Promise.reject(new IA(J, O, M))
                        }
                    }, q = function(H) {
                        return p(H.xhr)
                    }, w(D, zG(XC, g, f).then(void 0, q), 2);
                r = D.l;
                if (!r || !r.responseText) return D.return(p(r));
                a.I = !1;
                u = pt(r.responseText);
                fC(a, u, !0, void 0);
                if (a.errorCode) return x = {
                    ec: a.errorCode,
                    ed: a.errorDetail,
                    es: a.Fg || ""
                }, D.return(Promise.reject(new IA("auth", !0, x)));
                if (!a.I && !rK(a)) return z = a.isAd() ? "auth" : "manifest.net.retryexhausted", D.return(Promise.reject(new IA(z, !0, {
                    successButUnplayable: "1"
                })));
                sa(D)
            })
        })
    }

    function kY(a, b, c) {
        c = void 0 === c ? !1 : c;
        B(this, function e() {
            var f, g, k, l, m;
            return y(e, function(n) {
                if (1 == n.i) {
                    f = a.Y();
                    if (c && ("WEB_EMBEDDED_PLAYER" !== f.deviceParams.c || "embedded" !== OL(b)) || b.Bj || "adunit" !== OL(b)) return n.return();
                    ta(n, 2);
                    g = lY(b);
                    k = aM(b);
                    l = Jy(mha);
                    a.Jd("wn_s");
                    return w(n, Py(g, k, l), 4)
                }
                if (2 != n.i) return m = n.l, a.Jd("wn_r"), m && !m.error && fC(b, {
                    raw_watch_next_response: m
                }, !1), ua(n, 0);
                va(n);
                sa(n)
            })
        })
    }

    function Hpa(a) {
        function b() {
            a.Jd("virc");
            dA("virc", "video_to_ad")
        }
        a.Jd("vir");
        dA("vir", "video_to_ad");
        var c = Apa(a);
        c.then(b, b);
        return c
    };

    function mY(a, b, c, d, e, f, g) {
        S.call(this);
        var k = this;
        this.B = a;
        this.playerType = b;
        this.I = c;
        this.Jb = d;
        this.getVisibilityState = f;
        this.visibility = g;
        this.Ta = new Roa(this.B);
        this.G = null;
        this.Ka = new fV;
        this.X = null;
        this.Ne = new BV(this.B, this.Jb, this);
        this.Sc = !0;
        this.mediaSource = this.l = null;
        this.U = [];
        this.T = new mX;
        this.J = this.Ha = null;
        this.ea = new mX;
        this.fb = null;
        this.Xd = this.ra = !1;
        this.ob = NaN;
        this.Cb = new dr(this.IG, 500, this);
        this.playerState = new tQ;
        this.ub = [];
        this.Ma = new WF;
        this.videoData = new pK(this.B);
        this.i =
            null;
        this.va = new dr(this.UF, 15E3, this);
        this.Ld = new dr(this.yG, U(this.B.experiments, "html5_source_buffer_attach_delay_time") || 15E3, this);
        this.Fe = 0;
        this.ud = this.bb = !1;
        this.ya = NaN;
        this.Fa = !1;
        this.Sa = 0;
        this.Bc = new dr(this.Av, 4500, this);
        this.kq = !1;
        this.kb = NaN;
        this.zb = new YQ(new Map([
            ["bufferhealth", function() {
                var l = k.u;
                return l.i ? FM(l.i) : 0
            }],
            ["bandwidth", function() {
                return k.l ? NR(k.l.D) : xB(k.B.schedule, !0)
            }],
            ["networkactivity", function() {
                return k.B.schedule.J
            }],
            ["livelatency", function() {
                return k.isAtLiveHead() && k.Kc() ? nY(k) : NaN
            }],
            ["rawlivelatency", function() {
                return nY(k)
            }]
        ]));
        this.Ic = !0;
        this.Vd = 0;
        this.loop = !1;
        this.playbackRate = 1;
        this.ke = 0;
        this.Z = null;
        this.Wd = !1;
        this.rb = [];
        this.Tc = this.Ce = 0;
        this.td = this.cf = !1;
        this.qc = new dr(this.xE, 0, this);
        this.Qa = null;
        this.vb = void 0;
        this.Zd = 0;
        this.le = new dr(this.TD, 0, this);
        this.yb = new dr(this.XA, 3E4, this);
        this.zf = [this.Cb, this.Ma, this.qc, this.va, this.yb, this.Cb, this.Bc, this.zb, this.le, this.Ld];
        this.jb = function() {
            var l = k.C;
            l.l.i.Fa || 3 === l.l.l.getVisibilityState() || (l.l.i.Fa = !0);
            CW(l);
            if (l.u) {
                var m = l.u;
                m.D && 0 > m.l && 3 !== m.i.l.getVisibilityState() &&
                    LV(m)
            }
            l.qoe && (l = l.qoe, l.ya && 0 > l.B && l.i.i.Fa && $V(l));
            U(k.B.experiments, "html5_background_quality_cap") && k.l && oY(k);
            k.B.oh && !k.videoData.backgroundable && k.i && !k.pe() && (k.isBackground() && k.i.lp() ? (k.Aa("bgmobile", "suspend"), k.Yh(!0)) : k.isBackground() || ZB(k) && k.Aa("bgmobile", "resume"))
        };
        this.L();
        this.K = new HW(function() {
            return k.getCurrentTime()
        }, function() {
            return k.getPlaybackRate()
        }, function() {
            return k.getPlayerState()
        }, function(l, m) {
            "crn_endcr" !== l || Q(k.playerState, 32) || QP(k);
            e(l, m, k.playerType)
        });
        E(this, this.K);
        pY(this, function() {
            return {}
        });
        qY(this);
        SP(this.jb);
        this.visibility.subscribe("visibilitystatechange", this.jb);
        Ipa(this);
        !this.N("html5_log_coat_killswitch") && this.N("html5_high_res_logging") && (a = Qoa()) && this.Aa("cblt", a)
    }
    v(mY, S);
    h = mY.prototype;
    h.Da = function() {
        this.L();
        this.XA();
        this.yb.stop();
        window.clearInterval(this.ob);
        UP(this.jb);
        this.visibility.unsubscribe("visibilitystatechange", this.jb);
        rY(this);
        sY(this);
        dt(this.ya);
        this.kf();
        this.J = null;
        Of(this.videoData);
        Of(this.D);
        Pf(this.zf);
        this.X = null;
        this.Fa = !1;
        this.Sa = 0;
        S.prototype.Da.call(this)
    };

    function jP(a, b, c, d) {
        d = void 0 === d ? !0 : d;
        a.L();
        a.U.length = 0;
        a.Ha = null;
        a.T.reset();
        a.ea.reset();
        a.bb = !1;
        a.Vd = 0;
        a.Sc = !0;
        a.fb = null;
        a.i && a.i.stopVideo();
        tY(a);
        rY(a);
        sY(a);
        dt(a.ya);
        a.zb.clear();
        Of(a.videoData);
        Of(a.D);
        if (2 === a.playerType || a.B.ph) b.ix = !0;
        var e = SJ(b.qc, b.Rj, a.B.l);
        e && (b.adFormat = e);
        2 === a.playerType && (b.Uh = !0);
        a.isFullscreen() && (e = Ija(), b.autonavState = e || a.videoData.autonavState);
        a.Ic = d;
        a.videoData = b;
        a.videoData.subscribe("dataupdated", a.OG, a);
        a.videoData.subscribe("dataloaded", a.Ls, a);
        a.videoData.subscribe("dataloaderror",
            a.handleError, a);
        a.videoData.subscribe("ctmp", a.Aa, a);
        uY(a, b);
        pY(a, c);
        qY(a);
        a.Fa = !1;
        a.Sa = 0;
        vY(a, "newdata");
        wY(a, new tQ);
        c = a.u;
        d = a.videoData;
        bX(c);
        c.videoData = d;
        c.u = null;
        c.J = null;
        c.timestampOffset = 0;
        c.Ha = 0;
        c.C = 0;
        c.va = !0;
        c.I.dispose();
        c.I = new SW(c.K, c.videoData, Sa(c.W, c), c.visibility, c.Qa);
        d = c.I;
        e = c.i;
        (d.B = e) && er(d.C);
        c.I.l = c.B;
        if (HL(b) || a.N("embeds_enable_playability_on_web_preview") && b.Ij && !["OK", "LIVE_STREAM_OFFLINE"].includes(b.Ij.status)) b = a.videoData.errorDetail, a.N("embeds_enable_playability_on_web_preview") ?
            a.Rd("auth", unescape(a.videoData.errorReason), b, b, a.videoData.Fg || void 0) : (c = a.videoData.hh, a.Rd("auth", unescape(c.reason), b, b, c.subreason || void 0));
        1 === a.playerType && JH.isActive() && a.yb.start()
    }

    function pY(a, b) {
        !a.C || a.C.Ea();
        a.C = new BW(new zW(a.videoData, a.B, a, b))
    }

    function qY(a) {
        !a.D || a.D.Ea();
        a.D = new oV(a.videoData, a.B, a.visibility);
        a.D.subscribe("newelementrequired", function(b) {
            return LP(a, b)
        });
        a.D.subscribe("qoeerror", a.Kr, a);
        a.D.subscribe("playbackstalledatstart", function() {
            return a.W("playbackstalledatstart")
        });
        a.D.subscribe("signatureexpiredreloadrequired", function() {
            return a.W("signatureexpired")
        });
        a.D.subscribe("releaseloader", function() {
            sY(a)
        });
        a.D.subscribe("releasevideo", function() {
            a.Yh()
        });
        a.D.subscribe("pausevideo", function() {
            a.pauseVideo()
        });
        a.D.subscribe("clienttemp", a.Aa, a);
        a.D.subscribe("highrepfallback", a.NF, a);
        a.D.subscribe("playererror", a.Rd, a);
        a.D.subscribe("nonfatalerror", function(b) {
            a.W("nonfatalerror", b)
        });
        a.D.subscribe("removedrmplaybackmanager", function() {
            tY(a)
        });
        a.D.subscribe("formatupdaterequested", function() {
            xY(a)
        });
        a.D.subscribe("reattachvideosourcerequired", function() {
            yY(a)
        })
    }

    function rY(a) {
        var b = a.C;
        b.u && b.u.send();
        if (b.qoe) {
            var c = b.qoe;
            if (c.D) {
                "PL" === c.u && (c.u = "N");
                var d = PP(c.i);
                RV(c, d, "vps", [c.u]);
                c.G || (0 <= c.B && (c.l.user_intent = [c.B.toString()]), c.G = !0);
                c.ea = !0;
                c.reportStats(d)
            }
        }
        if (b.l.videoData.enableServerStitchedDai)
            for (c = t(b.B.values()), d = c.next(); !d.done; d = c.next()) vW(d.value);
        else b.i && vW(b.i);
        b.dispose();
        Of(a.C)
    }
    h.getVideoData = function() {
        return this.videoData
    };
    h.Y = function() {
        return this.B
    };

    function zY(a) {
        return a.i && a.i.jn() ? a.i.Cd() : null
    }
    h.Dc = function() {
        return this.i
    };

    function AY(a) {
        if (a.videoData.isValid()) return !0;
        a.Rd("api.invalidparam", void 0, "invalidVideodata.1");
        return !1
    }

    function kP(a, b) {
        b = void 0 === b ? !1 : b;
        if (a.vb && a.N("html5_match_codecs_for_gapless")) {
            a.videoData.ea = !0;
            a.videoData.kb = !0;
            var c;
            var d = null === (c = a.vb.l) || void 0 === c ? void 0 : c.audioTrack.i.info.i;
            a.videoData.Sm = d;
            var e;
            d = null === (e = a.vb.l) || void 0 === e ? void 0 : e.videoTrack.i.info.i;
            a.videoData.rl = d
        }
        a.ra = b;
        !AY(a) || a.T.started ? a.videoData.isLivePlayback && a.T.started && !a.T.isFinished() && !a.ra && a.Ls() : (a.T.start(), b = a.C, PP(b.l), b.qoe && Coa(b.qoe), a.Ls())
    }
    h.Ls = function() {
        if (this.videoData.isLoaded()) {
            var a = this.D;
            0 < U(a.i.experiments, "html5_player_min_build_cl") && 379829769 < U(a.i.experiments, "html5_player_min_build_cl") && xV(a, "oldplayer");
            Jpa(this)
        } else this.videoData.yb || this.videoData.oh ? this.ra && this.videoData.isLivePlayback || (this.videoData.yb ? Oka(this.videoData) : (a = this.C, a.qoe && (a = a.qoe, YV(a, "protected"), a.i.videoData.C ? a.fB() : a.i.videoData.subscribe("dataloaded", a.fB, a)), Lka(this.videoData))) : !this.videoData.I && this.Ic && Kpa(this)
    };

    function Kpa(a) {
        var b = a.videoData;
        Hpa(a).then(void 0, function(c) {
            a.videoData !== b || b.Ea() || (c = KA(c), "auth" === c.errorCode && a.videoData.errorDetail ? a.Rd("auth", unescape(a.videoData.errorReason), JA(c.details), a.videoData.errorDetail, a.videoData.Fg || void 0) : a.handleError(c))
        })
    }

    function Oma(a, b) {
        a.Qa = b;
        a.l && (a = a.l, b = new AU(b), a.I = b, a.u && (a.u.K = b))
    }
    h.xt = function() {
        var a;
        return (null === (a = this.l) || void 0 === a ? void 0 : a.Ht()) || null
    };
    h.isFullscreen = function() {
        return this.visibility.isFullscreen()
    };
    h.isBackground = function() {
        return this.visibility.isBackground()
    };

    function Jpa(a) {
        if (!Q(a.playerState, 128))
            if (a.videoData.isLoaded(), a.Ic = !0, a.L(), 4 !== a.playerType && (a.U = Cb(a.videoData.J)), GL(a.videoData)) {
                BY(a).then(function() {
                    a.Ea() || (a.ra && (a.N("embeds_enable_preloadvideobyplayervars_startseconds_fix") && wY(a, vQ(vQ(a.playerState, 512), 1)), ZB(a)), uY(a, a.videoData), a.T.i = !0, vY(a, "dataloaded"), a.ea.started ? CY(a) : a.ra && !a.N("embeds_enable_preloadvideobyplayervars_startseconds_fix") && wY(a, vQ(vQ(a.playerState, 512), 1)), yoa(a.Ne, a.J))
                });
                a.N("html5_log_media_perf_info") && a.Aa("loudness", "" + a.videoData.rh.toFixed(3), !0);
                var b = Yka(a.videoData);
                b && a.Aa("playerResponseExperiment", b, !0);
                Lpa(a)
            } else vY(a, "dataloaded")
    }

    function BY(a) {
        sY(a);
        a.J = null;
        var b = Toa(a.B, a.videoData, a.pe());
        a.Ha = b;
        a.Ha.then(function(c) {
            Mpa(a, c)
        }, function(c) {
            a.Ea() || (c = KA(c), a.visibility.isBackground() ? (DY(a, "vp_none_avail"), a.Ha = null, a.T.reset()) : (a.T.i = !0, a.Rd(c.errorCode, "HTML5_NO_AVAILABLE_FORMATS_FALLBACK", JA(c.details))))
        });
        return b
    }

    function xY(a) {
        a.L();
        BY(a).then(function() {
            return ZB(a)
        });
        EP(a.playerState) && a.playVideo()
    }

    function Mpa(a, b) {
        if (!a.Ea() && !b.videoData.Ea() && (a.L(), a.J = b, Zoa(a.u, a.J), a.videoData.isLivePlayback && (0 < a.videoData.jb && !lC(a.videoData) || a.seekTo(EY(a), {
                dd: "videoplayer_playbackData"
            })), a.videoData.l.i && (a.l ? ly(Error("Duplicated Loader")) : FY(a)), UB(a), a.N("html5_nonblocking_media_capabilities"))) {
            var c = Date.now();
            toa(a.Ne, b).then(function() {
                var d = Date.now();
                a.Aa("mclatency", (d - c).toString())
            })
        }
    }

    function GY(a) {
        a.L();
        a.i && a.i.Jl();
        kP(a);
        AY(a) && !Q(a.playerState, 128) && (a.ea.started || (a.ea.start(), wY(a, vQ(vQ(a.playerState, 8), 1))), CY(a))
    }

    function CY(a) {
        a.Ea();
        a.L();
        if (a.ea.isFinished()) a.L();
        else if (a.T.isFinished())
            if (Q(a.playerState, 128)) a.L();
            else if (a.U.length) a.L();
        else {
            if (!a.K.started) {
                var b = a.K;
                b.started = !0;
                b.Ah()
            }
            if (a.Xi()) a.L();
            else {
                a.l && (b = a.l.timing, a.Xd = !!b.i && !!b.l);
                a.ea.isFinished() || (a.ea.i = !0);
                !a.videoData.isLivePlayback || 0 < a.videoData.jb && !lC(a.videoData) || (a.L(), a.seekTo(Infinity, {
                    dd: "videoplayer_readying"
                }), a.isBackground() && (a.ud = !0));
                b = a.C;
                if (b.qoe) {
                    b = b.qoe;
                    b.i.videoData.qh && YV(b, b.i.videoData.qh);
                    if (b.i.videoData.isLivePlayback) {
                        var c =
                            b.i.videoData.i;
                        lC(b.i.videoData) && YV(b, "manifestless");
                        c && XG(c) && YV(b, "live-segment-" + XG(c).toFixed(1))
                    }
                    "yt" !== b.i.i.B && (b.l.len = [b.i.videoData.lengthSeconds.toFixed(2)]);
                    b.i.videoData.cotn && !UL(b.i.videoData) && UV(b, !0)
                }
                a.L();
                a.W("playbackready", a);
                cA("pbr", a.I.timerName) || (a.I.tick("pbr"), dA("pbr", "video_to_ad"))
            }
        } else a.L()
    }
    h.sendAbandonmentPing = function() {
        Q(this.getPlayerState(), 128) || (this.W("internalAbandon"), this.Av(!0), rY(this), dt(this.ya))
    };

    function QP(a, b, c) {
        b = void 0 === b ? !0 : b;
        (void 0 === c || c) && a.i && a.i.pause();
        b = b ? new tQ(14) : new tQ;
        wY(a, b)
    }

    function uY(a, b) {
        b.endSeconds && b.endSeconds > b.startSeconds && (b = b.endSeconds, a.X && (a.removeCueRange(a.X), a.X = null), a.X = new TI(1E3 * b, 0x7ffffffffffff), a.X.namespace = "endcr", a.addCueRange(a.X))
    }

    function HY(a, b, c, d) {
        a.videoData.u = c;
        d && IY(a, b, d);
        var e = (d = JY(a)) ? d.Ib() : "";
        d = a.C;
        c = new AV(a.videoData, c, b, e);
        if (d.qoe) {
            d = d.qoe;
            e = PP(d.i);
            RV(d, e, "vfs", [c.i.id, c.l, d.fb, c.reason]);
            d.fb = c.i.id;
            var f = d.i.l.getPlayerSize();
            if (0 < f.width && 0 < f.height) {
                f = [Math.round(f.width), Math.round(f.height)];
                var g = AI();
                1 < g && f.push(g);
                RV(d, e, "view", f)
            }
            d.ra || (d.i.videoData.Ta && YV(d, "rqs"), d.i.videoData.i && nC(d.i.videoData.i) && (d.l.preload = ["1"]));
            d.ra = !0;
            d.D = !0;
            "m" === c.reason && 100 === ++d.rb && (c = d.l.fcnz, c || (c = [], d.l.fcnz =
                c), c.push("2"));
            RV(d, e, "vps", [d.u]);
            d.reportStats(e)
        }
        c = a.Ne;
        c.B = 0;
        c.D = 0;
        a.W("internalvideoformatchange", a.videoData, "m" === b)
    }

    function JY(a) {
        var b = KY(a);
        return TA(b) || !a.J ? null : tb(a.J.i.videoInfos, function(c) {
            return b.B(c)
        })
    }

    function IY(a, b, c) {
        if (c !== a.videoData.D) {
            var d = !a.videoData.D;
            a.videoData.D = c;
            "m" !== b && (b = d ? "i" : "a");
            var e = a.C;
            c = new AV(a.videoData, c, b, "");
            if (e.qoe) {
                e = e.qoe;
                var f = PP(e.i);
                c.i.id !== e.Z && (RV(e, f, "afs", [c.i.id, e.Z, c.reason]), e.Z = c.i.id)
            }
            d || a.W("internalaudioformatchange", a.videoData, "m" === b)
        }
    }
    h.ol = function() {
        CW(this.C)
    };
    h.Rd = function(a, b, c, d, e) {
        this.L();
        var f, g;
        Xb($ja, b) ? f = b : b ? g = b : f = "GENERIC_WITHOUT_LINK";
        c = (c || "") + (";a6s." + kz());
        (b = g) || (b = LI[f] || "");
        a = {
            errorCode: a,
            errorDetail: d,
            errorMessage: b,
            ry: f,
            Fg: e || "",
            PA: c
        };
        vY(this, "dataloaderror");
        wY(this, uQ(this.playerState, 128, a));
        dt(this.ya);
        sY(this);
        this.Yh()
    };
    h.Bd = function(a) {
        this.U = this.U.filter(function(b) {
            return a !== b
        });
        this.L();
        this.ea.started && CY(this)
    };
    h.Xi = function() {
        var a;
        (a = !!this.U.length) || (a = this.K.i.i[0], a = !!a && -0x8000000000000 >= a.start);
        return a
    };
    h.Kc = function() {
        return this.playerState.Kc()
    };
    h.getPlayerState = function() {
        return this.playerState
    };
    h.getPlayerType = function() {
        return this.playerType
    };
    h.getPreferredQuality = function() {
        if (this.J) {
            var a = this.J;
            a = a.videoData.Pj.compose(a.videoData.zw);
            a = VA(a)
        } else a = "auto";
        return a
    };
    h.isGapless = function() {
        return !!this.i && this.i.isView()
    };

    function CP(a, b) {
        a.L();
        if (a.i && b.Cd() === a.i.Cd() && (b.isView() || a.i.isView())) {
            if (b.isView() || !a.i.isView()) YF(a.Ma), a.i = b, LY(a), aX(a.u, a.i), a.D.u = a.i
        } else {
            a.i && a.kf();
            if (!a.playerState.isError()) {
                var c = wQ(a.playerState, 512);
                Q(c, 8) && !Q(c, 2) && (c = vQ(c, 1));
                b.isView() && (c = wQ(c, 64));
                wY(a, c)
            }
            a.i = b;
            a.i.setLoop(a.loop);
            a.i.setPlaybackRate(a.playbackRate);
            LY(a);
            aX(a.u, a.i);
            a.D.u = a.i
        }
    }
    h.kf = function(a, b) {
        a = void 0 === a ? !1 : a;
        b = void 0 === b ? !1 : b;
        this.L();
        if (this.i) {
            var c = this.getCurrentTime();
            0 < c && (this.u.C = c);
            aX(this.u, null);
            this.D.u = null;
            MY(this);
            this.l && (er(this.l.K), NY(this, b));
            this.va.stop();
            if (this.i) {
                !this.ea.started || this.playerState.isError() || Q(this.playerState, 2) || wY(this, vQ(this.playerState, 512));
                YF(this.Ma);
                if (a || !this.i.isView()) this.i.stopVideo(), tY(this);
                this.i = null
            }
        }
    };
    h.playVideo = function() {
        return B(this, function b() {
            var c = this,
                d, e, f, g;
            return y(b, function(k) {
                if (1 == k.i) {
                    c.L();
                    if (Q(c.playerState, 128)) return k.return();
                    if (c.D.C) return c.W("signatureexpired"), k.return();
                    var l = c.D;
                    l.G ? (l.G = !1, uV(l), l = !0) : l = !1;
                    if (l) return k.return();
                    c.i && (l = c.C, l.u && LV(l.u), l.qoe && $V(l.qoe));
                    GY(c);
                    Q(c.playerState, 64) && wY(c, vQ(c.playerState, 8));
                    return c.ea.isFinished() && c.i ? c.J || !c.Ha ? k.Ya(2) : w(k, c.Ha, 2) : k.return()
                }
                if (!c.videoData.l) return d = c.videoData.isLivePlayback && !xH(c.B.i, !0) ?
                    "html5.unsupportedlive" : qL(c.videoData) ? "fmt.unplayable" : "fmt.noneavailable", ly(Error("selectableFormats")), c.Rd(d, "HTML5_NO_AVAILABLE_FORMATS_FALLBACK", "selectableFormats.1"), k.return();
                if (c.pe() && c.videoData.l.i) return c.L(), k.return(BY(c));
                if (c.videoData.isLivePlayback) {
                    e = c.getCurrentTime() < c.getMinSeekableTime() - 15;
                    f = VC(c.videoData) && Q(c.playerState, 4);
                    g = !c.N("html5_dompaused_unpause_killswitch") && Q(c.playerState, 1024);
                    g || !e && !f || (f ? (c.L(), c.seekTo(Infinity, {
                            dd: "videoplayer_unpauseLiveOnly"
                        })) :
                        (c.L(), c.seekTo(c.getMinSeekableTime(), {
                            dd: "videoplayer_outOfWindow"
                        })));
                    !c.isAtLiveHead(void 0, !0) && fX(c.u) && (c.L(), c.seekTo(Infinity, {
                        dd: "videoplayer_peggedToLive"
                    }));
                    if (l = Q(c.playerState, 256) && c.videoData.ya) l = c.u, l = l.T && !isFinite(l.l);
                    if (l) return wY(c, xQ(c.playerState, 8, 4)), k.return()
                }
                Q(c.playerState, 4) && Q(c.playerState, 16) && wY(c, xQ(c.playerState, 9, 4));
                if (ZB(c)) return Npa(c), k.return();
                OY(c);
                sa(k)
            })
        })
    };
    h.DD = function() {
        var a = this.videoData;
        a.i.dispose();
        a.i = void 0;
        YK(a, a.adaptiveFormats);
        LP(this, !0);
        a = new DS(this.videoData.videoId, 4, {
            Zu: !0
        });
        this.W("localmediachange", a)
    };
    h.gH = function() {
        this.L();
        MY(this);
        var a = this.videoData.i && DG(this.videoData.i),
            b = this.i && this.i.isView();
        a || b ? (this.l && (a = this.l, a.policy.ea = !1, a.mediaSource && MP(a)), LP(this)) : (wY(this, vQ(this.playerState, 16)), ZB(this), EP(this.playerState) && this.playVideo())
    };
    h.NF = function() {
        this.L();
        tY(this);
        sY(this);
        PY(this);
        this.playVideo()
    };
    h.Tl = function() {
        if (!this.J) return [];
        var a = $B(this.Ne, this.J, aC(this, !0));
        return this.J.i.Tl(a)
    };

    function KY(a) {
        if (a.J) {
            var b = a.Ne;
            var c = a.J,
                d = aC(a),
                e = a.visibility;
            a = DV(b);
            if (TA(a)) {
                a = GV(b, c);
                var f = IV(b, c),
                    g = EV(b, c.videoData, c);
                e = xoa(b, e);
                var k = 4320;
                !b.i.u || oI(b.i) || Hu() || R(b.i.experiments, "hls_for_vod") || (k = OA.medium);
                var l = U(b.i.experiments, "html5_default_quality_cap");
                if (l) {
                    var m = !!c.i.i && !c.videoData.Qe && !c.videoData.Nc,
                        n = U(b.i.experiments, "html5_quality_cap_min_age_secs");
                    m && n && (m = b.i.schedule.I, m = K() - m > 1E3 * n);
                    m && (k = Math.min(k, l))
                }
                l = U(b.i.experiments, "html5_random_playback_cap");
                n = /[a-h]$/;
                l && n.test(c.videoData.clientPlaybackNonce) && (k = Math.min(k, l));
                (l = U(b.i.experiments, "html5_not_vp9_supported_quality_cap")) && !aG('video/webm; codecs="vp9"') && (k = Math.min(k, l));
                if (n = l = U(b.i.experiments, "html5_hfr_quality_cap")) a: {
                    n = c.i;
                    if (n.i)
                        for (n = t(n.videoInfos), m = n.next(); !m.done; m = n.next())
                            if (32 < m.value.gb().fps) {
                                n = !0;
                                break a
                            } n = !1
                }
                n && (k = Math.min(k, l));
                (l = U(b.i.experiments, "html5_live_quality_cap")) && c.videoData.isLivePlayback && (k = Math.min(k, l));
                k = JV(b, c, k);
                k = new QA(0, 4320 === k ? 0 : k, !1, "d");
                l = CV(b,
                    c);
                n = l.compose;
                a: if ((m = c.i) && m.videoInfos.length) {
                    for (var p = t(m.videoInfos), q = p.next(); !q.done; q = p.next())
                        if (q = q.value, q.u) {
                            m = q.gb().i;
                            break a
                        } m = m.videoInfos[0].gb().i
                } else m = 0;
                yu();
                m = new QA(0, m, !1, "o");
                f = n.call(l, m).compose(k).compose(e).compose(g).compose(f);
                g = f.compose;
                if ((l = c.videoData.aC) && l.i.length && TA(c.videoData.Qj)) {
                    e = new Map;
                    k = t(c.i.videoInfos);
                    for (n = k.next(); !n.done; n = k.next()) n = n.value, e.set(+n.Ib(), n.video.i);
                    k = [];
                    l = t(l.i);
                    for (n = l.next(); !n.done; n = l.next())(n = e.get(n.value)) && k.push(n);
                    e = Math.min.apply(Math, ha(k));
                    k = Math.max.apply(Math, ha(k));
                    c.videoData.Qj = new QA(e, k, !1, "u")
                }
                a = g.call(f, c.videoData.Qj).compose(a)
            } else b.N("html5_perf_cap_override_sticky") && (a = a.compose(IV(b, c)));
            b.N("html5_varispeed_playback_rate") && (a = a.compose(GV(b, c)));
            b = c.videoData.Pj.compose(a).compose(c.videoData.zw).compose(d)
        } else b = UA;
        return b
    }

    function aC(a, b) {
        if (a.G) {
            var c = a.G;
            b = void 0 === b ? !1 : b;
            c = (void 0 === b ? 0 : b) && c.va ? c.va : c.I
        } else c = mL(a.videoData) && a.videoData.i && DG(a.videoData.i) ? a.videoData.Sc ? UA : YA : UA;
        a.td && (c = c.compose(XA));
        return c
    }

    function iC(a, b, c) {
        a.videoData.Pj = b;
        if (a.J && c) {
            c = a.Ne;
            var d = a.J,
                e, f;
            if (d.i.i) {
                var g = NH(),
                    k = d.i.videoInfos[0].gb().i;
                if (!(g > k && 0 !== k && b.i === k)) {
                    1 < c.playbackRate && c.N("html5_varispeed_playback_rate") && (g = wH(c.i.i, d.i.videoInfos, c.playbackRate), 0 !== b.i && g < b.i && c.l.setPlaybackRate(1));
                    Bja(OA[VA(b)], (null === (f = null === (e = d.videoData.u) || void 0 === e ? void 0 : e.video) || void 0 === f ? void 0 : f.i) || 0);
                    c.i.schedule.policy.B = 480 <= NH();
                    if (c.N("html5_exponential_memory_for_sticky")) {
                        b = c.i.va;
                        e = 1;
                        var l = void 0 === l ? !1 : l;
                        iI(b, "sticky-lifetime");
                        b.values["sticky-lifetime"] && b.Nh["sticky-lifetime"] || (b.values["sticky-lifetime"] = 0, b.Nh["sticky-lifetime"] = 0);
                        l && .0625 < hI(b, "sticky-lifetime") && (e = 2 * b.Nh["sticky-lifetime"]);
                        b.values["sticky-lifetime"] += 1 * Math.pow(2, b.i / e);
                        b.Nh["sticky-lifetime"] = e;
                        b.B.start()
                    }
                    c.N("html5_perf_cap_override_sticky") && Fja(c.N("html5_perserve_av1_perf_cap"))
                }
            }
        }
        UB(a)
    }
    h.getUserPlaybackQualityPreference = function() {
        return this.videoData.l && !this.videoData.l.i ? VA(this.videoData.Pj) : PA[NH()]
    };

    function UB(a) {
        if (!a.Ea() && !Q(a.playerState, 128) && a.videoData.l) {
            if (a.videoData.l.i) QY(a);
            else {
                var b = KY(a),
                    c = a.videoData;
                a: {
                    var d = a.videoData.Sa;
                    if (b.i) {
                        for (var e = t(d), f = e.next(); !f.done; f = e.next()) {
                            f = f.value;
                            var g = f.Fd(),
                                k = OA[g.gb().quality];
                            if ((!b.u || "auto" !== g.gb().quality) && k <= b.i) {
                                d = f;
                                break a
                            }
                        }
                        d = d[d.length - 1]
                    } else d = d[0]
                }
                c.T = d;
                HY(a, b.reason, RY(a, a.videoData.T))
            }
            if (a.N("html5_check_unstarted") ? EP(a.playerState) : a.Kc()) a.u.va = !1, a.playVideo()
        }
    }

    function QY(a) {
        if (a.videoData.l && a.videoData.l.i) {
            var b = KY(a),
                c = a.videoData.u;
            if (!a.N("html5_dynamic_av1_hybrid_threshold") && c && SF(c)) {
                var d = pJ(a.B);
                if (d && d < c.gb().i && d !== a.Zd) {
                    a.Zd = d;
                    BY(a);
                    return
                }
            }
            if (a.l && (a = a.l, !a.Ea() && !RA(a.l.u, b) && a.videoTrack)) {
                a.L();
                var e = a.l.u;
                uU(a, qna(a.l, b));
                jU(a);
                c = qS(a.l) && "m" === b.reason && a.l.K;
                d = a.policy.zg && "l" === b.reason && ET(a.videoTrack);
                b = ("b" === b.reason || "o" === b.reason) && e.i > b.i;
                e = a.l.Fa && !qG();
                c || d || b || e ? (a.Aa("reattachOnConstraint", c ? "u" : d ? "drm" : e ? "codec" : "perf"),
                    a.W("reattachrequired")) : er(a.K)
            }
        }
    }

    function oY(a) {
        a.N("html5_nonblocking_media_capabilities") ? QY(a) : UB(a)
    }
    h.getAvailableAudioTracks = function() {
        return this.videoData.getAvailableAudioTracks()
    };
    h.getAudioTrack = function() {
        return this.videoData.getAudioTrack()
    };

    function FY(a) {
        a.N("html5_probe_media_capabilities") && Kka(a.videoData.l);
        ija(a.videoData.i, {
            cpn: a.videoData.clientPlaybackNonce,
            c: a.B.deviceParams.c,
            cver: a.B.deviceParams.cver
        });
        var b = a.B,
            c = a.videoData,
            d = new jM,
            e = iM(b, {
                hasSubfragmentedFmp4: c.hasSubfragmentedFmp4,
                Jg: c.Jg
            });
        d.u = e;
        d.wh = b.N("html5_disable_codec_for_playback_on_error");
        d.uh = b.N("html5_max_drift_per_track_secs") || b.N("html5_rewrite_manifestless_for_sync") || b.N("html5_check_segnum_discontinuity");
        d.zb = b.N("html5_unrewrite_timestamps");
        d.ub =
            b.N("html5_stop_overlapping_requests");
        d.Vd = U(b.experiments, "html5_min_readbehind_secs");
        d.Nj = U(b.experiments, "html5_min_readbehind_cap_secs");
        d.Mj = U(b.experiments, "html5_max_readbehind_secs");
        d.zl = R(b.experiments, "html5_trim_future_discontiguous_ranges");
        d.lh = b.N("html5_append_init_while_paused");
        d.ud = U(b.experiments, "html5_max_readahead_bandwidth_cap");
        d.Zd = U(b.experiments, "html5_post_interrupt_readahead");
        d.I = U(b.experiments, "html5_subsegment_readahead_target_buffer_health_secs");
        d.yb = U(b.experiments,
            "html5_subsegment_readahead_timeout_secs");
        d.wl = U(b.experiments, "html5_subsegment_readahead_min_buffer_health_secs");
        d.vb = U(b.experiments, "html5_subsegment_readahead_min_buffer_health_secs_on_timeout");
        d.xl = U(b.experiments, "html5_subsegment_readahead_min_load_speed");
        d.og = U(b.experiments, "html5_subsegment_readahead_load_speed_check_interval");
        d.yl = U(b.experiments, "html5_subsegment_readahead_seek_latency_fudge");
        d.Xd = b.N("html5_peak_shave");
        d.Lm = b.N("html5_restrict_streaming_xhr_on_sqless_requests");
        d.Kj = U(b.experiments, "html5_max_headm_for_streaming_xhr");
        d.Qj = b.N("html5_pipeline_manifestless_allow_nonstreaming");
        d.Bk = b.N("html5_prefer_server_bwe3");
        d.rg = 1024 * U(b.experiments, "html5_video_tbd_min_kb");
        d.Gj = b.N("html5_last_slice_transition");
        d.ul = b.N("html5_store_xhr_headers_readable");
        d.yj = b.N("html5_enable_packet_train_response_rate");
        d.fb = U(b.experiments, "html5_probe_primary_delay_base_ms") || d.fb;
        d.Wd = b.N("html5_no_placeholder_rollbacks");
        d.vl = b.N("html5_subsegment_readahead_enable_mffa");
        b.N("html5_allow_video_keyframe_without_audio") && (d.Ha = !0);
        d.le = b.N("html5_reattach_on_stuck");
        d.Bl = b.N("html5_webm_init_skipping");
        d.Ce = U(b.experiments, "html5_request_size_padding_secs") || d.Ce;
        d.sf = b.N("html5_abs_buffer_health");
        d.Fj = b.N("html5_interruption_resets_seeked_time");
        d.td = U(b.experiments, "html5_max_live_dvr_window_plus_margin_secs") || d.td;
        d.Bc = b.N("html5_explicitly_dispose_xhr");
        d.Jm = b.N("html5_restart_on_unexpected_detach");
        d.Pm = b.N("html5_rewrite_manifestless_for_continuity");
        d.Sc = U(b.experiments,
            "html5_manifestless_seg_drift_limit_secs");
        d.Tc = U(b.experiments, "html5_max_drift_per_track_secs");
        d.Qm = b.N("html5_rewrite_manifestless_for_sync");
        d.rb = U(b.experiments, "html5_static_abr_resolution_shelf");
        d.qh = !b.N("html5_encourage_array_coalescing");
        d.Ag = b.N("html5_crypto_period_secs_from_emsg");
        d.yh = b.N("html5_disable_reset_on_append_error");
        d.Dj = b.N("html5_filter_non_efficient_formats_for_safari");
        d.dh = b.N("html5_format_hybridization");
        d.kh = b.N("html5_abort_before_separate_init");
        d.Rm = b.N("html5_serialize_server_stitched_ad_request");
        d.X = b.N("html5_resume_streaming_requests");
        d.tf = b.N("html5_never_pause_appends");
        d.Oj = U(b.experiments, "html5_min_startup_buffered_media_duration_secs");
        d.Bj = b.N("html5_mfl_extend_max_request_time");
        b.N("html5_media_common_config_killswitch") || (d.C = c.maxReadAheadMediaTimeMs / 1E3 || d.C, e = b.schedule, e.u.De() === e.policy.u ? d.J = 10 : d.J = c.minReadAheadMediaTimeMs / 1E3 || d.J, d.qc = c.readAheadGrowthRateMs / 1E3 || d.qc);
        qe && (d.U = 41943040);
        d.Ka = !xG();
        e = b.experiments;
        d.D = 8388608;
        d.G = 524288;
        d.ph = 5;
        d.Sa = 2097152;
        d.T = 1048576;
        d.Yk = 1.5;
        d.Pj = !1;
        d.qb = 4587520;
        Cu() && (d.qb = 786432);
        d.l *= 1.1;
        d.B *= 1.1;
        d.ob = !0;
        d.U = d.D;
        d.Ta = d.G;
        d.Cb = R(e, "persist_disable_player_preload_on_tv") || R(e, "persist_disable_player_preload_on_tv_for_living_room") || !1;
        Ne && xu("crkey") && (e = "CHROMECAST/ANCHOVY" === b.deviceParams.cmodel, d.D = 20971520, d.G = 1572864, e && (d.qb = 812500, d.Jb = 1E3, d.Al = 5, d.T = 2097152));
        !b.N("html5_disable_firefox_init_skipping") && Je && (d.ob = !0);
        b.supportsGaplessAudio() || (d.xj = !1);
        ye && (d.va = !0);
        Gu() && (d.zf = !0);
        var f;
        e = null === (f = c.i) || void 0 ===
            f ? void 0 : DG(f);
        if (lC(c)) {
            d.Z = b.N("html5_used_segment_info_cuepoint");
            d.Ej = !0;
            d.rl = !0;
            if ("ULTRALOW" === c.latencyClass || "LOW" === c.latencyClass && !b.N("html5_disable_low_pipeline")) d.Ij = 2, d.Lj = 4;
            d.Gh = c.defraggedFromSubfragments;
            c.Oc && (d.kb = !0);
            VC(c) && (d.Fa = !1);
            d.yg = EI(b)
        }
        c.isAd() && (d.bb = 0, d.Lf = 0);
        wL(c) && (d.ya = !0, d.X && b.N("html5_aggressive_timeout_for_streaming_xhr") && (d.Jb = 400, d.jb *= 3, d.Jj = 2, d.Ld = 3, d.cf = 1.4));
        d.Ma = b.N("html5_enable_subsegment_readahead_v3") || b.N("html5_ultra_low_latency_subsegment_readahead") &&
            "ULTRALOW" === c.latencyClass;
        d.Qa = c.Ta;
        d.K = d.Qa && (/^rq[a-f]/.test(c.clientPlaybackNonce) || rL(c));
        Ju() && /(K\d{3}|KS\d{3}|KU\d{3})/.test(b.deviceParams.cmodel) && !b.N("html5_disable_move_pssh_to_moov") && e && (d.ob = !1);
        e && (d.le = !1);
        var g = 0;
        b.N("html5_live_use_alternate_bandwidth_window_sizes") && (g = b.schedule.policy.l, c.isLivePlayback && (g = U(b.experiments, "ULTRALOW" === c.latencyClass ? "html5_live_ultra_low_latency_bandwidth_window" : c.isLowLatencyLiveStream ? "html5_live_low_latency_bandwidth_window" : "html5_live_normal_latency_bandwidth_window") ||
            g));
        f = b.schedule;
        f.K.i = lC(c) ? .5 : 0;
        if (!f.policy.i && g && (f = f.u, g = Math.round(g * f.resolution), g !== f.i)) {
            var k = Array(g),
                l = Math.min(g, f.l ? f.i : f.valueIndex),
                m = f.valueIndex - l;
            0 > m && (m += f.i);
            for (var n = 0; n < l; ++n) k[n] = f.values[(m + n) % f.i];
            for (; n < g; ++n) k[n] = Infinity;
            f.i = g;
            f.values = k;
            f.valueIndex = l % g;
            f.l = l === g;
            f.B = !0;
            f.D = YH(f)
        }
        d.tf = c.isLivePlayback;
        switch (xL(c)) {
            case 21530001:
                d.hh = b.N("html5_live_smoothly_extend_max_seekable_time");
                d.Ma = !0;
                "LOW" === c.latencyClass ? d.I = U(b.experiments, "html5_jumbo_mobile_subsegment_readahead_target") :
                    "ULTRALOW" === c.latencyClass && (d.I = U(b.experiments, "html5_jumbo_ull_subsegment_readahead_target"));
                d.Wd = !0;
                break;
            case 2153E4:
                d.Ma = !1
        }
        d.va = d.va || c.Pm;
        d.ea = c.ea;
        rL(c) && (d.Ic = !0);
        c.ea && !e && b.N("html5_hack_gapless_init") && (d.Fe = !0);
        (e = U(b.experiments, "html5_gapless_ad_byterate_multiplier")) && c.ea && c.isAd() && (d.l *= e, d.B *= e);
        UL(c) && (d.i = c.videoId, d.sf = !0);
        d.zg = c.Sc;
        b.N("html5_dynamic_av1_hybrid_threshold") && (d.wj = !0, d.ra = pJ(b, {}, c.l || void 0));
        c = 480 <= NH();
        e = U(b.experiments, "html5_deadzone_multiplier") || 1;
        (f = U(b.experiments, "html5_sticky_reduces_discount_by")) && c && (e -= f);
        d.l *= e;
        d.B *= e;
        if (e = U(b.experiments, "html5_request_sizing_multiplier")) d.ym = e;
        uH(b.i, JF.BITRATE) && (d.qb = NaN);
        b.i.l && (d.Aj = "; " + JF.EXPERIMENTAL.name + "=allowed");
        c && (d.rb = 0);
        d.Ik = b.N("html5_rec_2020_matrix_correction_killswitch");
        R(b.experiments, "html5_prefer_low_quality_audio_means_64k") && ye && (d.pk = !0);
        R(b.experiments, "debug_html5_random_stun_format") && (d.ke = !0);
        R(b.experiments, "html5_log_audio_abr") && (d.Hj = !0);
        b = b.experiments;
        R(b, "html5_audio_only_eos_fix_killswitch") &&
            (d.oh = !0);
        R(b, "html5_reject_promise_if_seeking_to_head_killswitch") && (d.Jk = !0);
        R(b, "html5_rewrite_webm_track_uid_killswitch") && (d.zf = !1);
        R(b, "html5_skip_buffer_check_seek_to_head") && (d.rh = !0);
        R(b, "html5_mfl_config_fallback_killswitch") && (d.Bg = !1);
        R(b, "html5_ssdai_alr_killswitch") && (d.Sm = !0);
        b = a.getAudioTrack();
        b = b.Ob.isDefault ? void 0 : b;
        c = a.Ka;
        c.keys = [];
        c.values = [];
        c = a.B.schedule;
        e = a.videoData.i;
        f = a.videoData.l;
        g = KY(a);
        k = a.videoData.enableServerStitchedDai;
        l = a.videoData;
        m = l.yh;
        delete l.yh;
        a.l = new dU(a,
            c, d, e, f, g, b, k, m);
        a.l.subscribe("newDrmInfo", a.eG, a);
        a.l.subscribe("videoformatchange", a.EC, a);
        a.l.subscribe("audioformatchange", a.WF, a);
        a.l.subscribe("error", a.handleError, a);
        a.l.subscribe("reattachrequired", a.gH, a);
        a.l.subscribe("metadata", a.qA, a);
        a.l.subscribe("constraint", a.LG, a);
        a.l.subscribe("timestamp", a.aF, a);
        a.l.subscribe("localmediachange", a.XF, a);
        a.l.subscribe("localplaybackfailed", a.DD, a);
        d = SY(a) ? !0 : a.ra && a.videoData.isLivePlayback;
        a.l.initialize(a.getCurrentTime(), KY(a), d);
        a.videoData.probeUrl &&
            (a.l.ya = a.videoData.probeUrl);
        (a.U.length || a.ra) && NY(a, !1);
        cX(a.u, a.l);
        a.D.l = a.l;
        a.Qa && (d = a.l, b = new AU(a.Qa), d.I = b, d.u && (d.u.K = b));
        WL(a.videoData) && (a.l.policy.Cj = 2)
    }

    function Ipa(a) {
        a.u = new WW(a.videoData, a.B, a.visibility, function() {
            return xb(a.U, "ad")
        });
        E(a, a.u);
        a.u.subscribe("seekto", function(b, c) {
            a.u.C = b;
            var d = a.Ta;
            d.mediaTime = b;
            d.i = !0;
            c || iQ(a);
            a.X && b > a.videoData.endSeconds && isFinite(b) && (a.removeCueRange(a.X), a.X = null);
            b < EY(a) - .01 && (c = wQ(a.playerState, 2), Q(c, 8) && (c = wQ(c, 4)), wY(a, c));
            a.W("SEEK_TO", a, b)
        });
        a.u.subscribe("seekstart", function() {
            jQ(a)
        });
        a.u.subscribe("seekend", function() {
            return a.W("SEEK_COMPLETE")
        });
        a.u.subscribe("newmediaelementrequired", function() {
            return LP(a)
        });
        a.u.subscribe("ended", function() {
            QP(a)
        });
        a.u.subscribe("ctmp", a.Aa, a);
        a.u.subscribe("qoeerror", a.Kr, a);
        a.u.subscribe("livereadaheadchanged", function(b) {
            var c = a.C;
            c.qoe && (c = c.qoe, RV(c, PP(c.i), "lra", [b]), c.Aa("live-readahead-seconds", b.toString()))
        });
        a.u.subscribe("releaseadsprerolllock", function() {
            a.Bd("ad")
        });
        a.u.subscribe("skipslowad", function() {
            a.Rd("ad.rebuftimeout", "RETRYABLE_ERROR", "skipslad.vid." + a.videoData.videoId)
        })
    }

    function sY(a) {
        a.l && (a.l.dispose(), a.l = null, cX(a.u, null), a.D.l = null);
        MY(a)
    }

    function MY(a) {
        if (a.mediaSource) {
            a.L();
            if (a.l) {
                var b = lC(a.videoData) && a.videoData.Oc && !a.videoData.isAd();
                mU(a.l, b)
            }
            a.mediaSource.dispose();
            a.mediaSource = null
        }
    }

    function PY(a) {
        if (a.mediaSource) return a.mediaSource.Bo;
        a.L();
        a: if (a.N("html5_application_media_source")) a.W("requestmediasource", a);
            else {
                var b = U(a.B.experiments, "html5_source_buffer_attach_retry_limit") || 0;
                a.Fe < b && a.Ld.start();
                try {
                    var c = a.i.kp()
                } catch (d) {
                    if (pV(a.D, "html5.missingapi", {
                            updateMs: "1"
                        })) break a;
                    console.error("window.URL object overwritten by external code", d);
                    a.Rd("html5.missingapi", "HTML5_NO_AVAILABLE_FORMATS_FALLBACK", "updateMs.1");
                    break a
                }
                IP(a, c)
            }
        return a.mediaSource ? a.mediaSource.Bo :
            null
    }

    function IP(a, b) {
        Opa(a);
        a.mediaSource = b;
        Tia(a.mediaSource, function(c) {
            try {
                if (a.mediaSource && (!c || a.mediaSource === c)) {
                    a.L();
                    var d = a.getDuration();
                    !d && lC(a.videoData) && (d = U(a.B.experiments, "html5_manifestless_media_source_duration") || 3600);
                    a.mediaSource.isView ? (c = d, a.L(), c > a.mediaSource.getDuration() && uG(a.mediaSource, c)) : uG(a.mediaSource, d);
                    var e = a.l,
                        f = a.mediaSource;
                    e.J && (e.L(), nU(e), e.J = !1);
                    e.L();
                    lU(e);
                    if (!vG(f)) {
                        var g = e.videoTrack.i.info.mimeType + e.policy.Aj,
                            k = e.audioTrack.i.info.mimeType,
                            l, m, n =
                            null === (l = f.mediaSource) || void 0 === l ? void 0 : l.addSourceBuffer(k),
                            p = "fakesb" === g.split(";")[0] ? void 0 : null === (m = f.mediaSource) || void 0 === m ? void 0 : m.addSourceBuffer(g);
                        f.kd && (f.kd.webkitSourceAddId("0", k), f.kd.webkitSourceAddId("1", g));
                        var q = new oG(n, f.kd, "0", PF(k), !1),
                            r = new oG(p, f.kd, "1", PF(g), !0);
                        f.i = q;
                        f.l = r;
                        E(f, q);
                        E(f, r)
                    }
                    nT(e.videoTrack, f.l || null);
                    nT(e.audioTrack, f.i || null);
                    e.mediaSource = f;
                    e.resume();
                    $C(f.i, e.ra, e);
                    $C(f.l, e.ra, e);
                    e.qf();
                    a.W("mediasourceattached");
                    a.Ld.stop()
                }
            } catch (u) {
                ly(u), a.handleError(new IA("fmt.unplayable",
                    !0, {
                        msi: "1",
                        ename: u.name
                    }))
            }
        })
    }

    function Opa(a) {
        a.l ? xh(a.l.seek(a.getCurrentTime() - a.Ub()), function() {}) : FY(a)
    }
    h.eG = function(a, b) {
        this.Rk(new BS(b, a))
    };
    h.Rk = function(a) {
        this.L();
        this.Ka.set(a.initData, a);
        this.G && (this.G.Rk(a), this.N("html5_eme_loader_sync") || this.Ka.remove(a.initData))
    };
    h.qA = function() {
        oe && this.Z && this.Z.i && this.G && (ooa(this.G, this.Z.i), this.Z = null)
    };
    h.LG = function(a) {
        this.videoData.Qj = SA("auto", a, !1, "u");
        oY(this)
    };
    h.EC = function(a) {
        var b = this;
        HY(this, a.reason, a.video.info, a.audio.info);
        this.N("html5_probe_media_capabilities") && this.N("html5_dynamic_av1_hybrid_threshold") && a.video.info && SF(a.video.info) && uoa(this.Ne, this.J).then(function(c) {
            c && b.l && uS(b.l.l, b.B)
        })
    };
    h.WF = function(a) {
        IY(this, a.reason, a.audio.info)
    };
    h.XF = function(a) {
        this.W("localmediachange", a)
    };
    h.handleError = function(a) {
        this.D.handleError(a, Q(this.playerState, 4) || Q(this.playerState, 512))
    };

    function LP(a, b) {
        b = void 0 === b ? !1 : b;
        return B(a, function d() {
            var e = this;
            return y(d, function(f) {
                if (1 == f.i) return e.l && e.l.Ea() && sY(e), e.W("newelementrequired"), b ? w(f, BY(e), 2) : f.Ya(2);
                Q(e.playerState, 8) && e.playVideo();
                sa(f)
            })
        })
    }

    function Mma(a, b) {
        a.Aa("newelem", b);
        LP(a)
    }
    h.pauseVideo = function(a) {
        a = void 0 === a ? !1 : a;
        if ((Q(this.playerState, 64) || Q(this.playerState, 2)) && !a)
            if (Q(this.playerState, 8)) wY(this, xQ(this.playerState, 4, 8));
            else return;
        var b;
        if (b = this.N("html5_enable_server_stitched_ad_skip") && this.videoData.enableServerStitchedDai) {
            var c;
            b = this.getCurrentTime();
            if (null === (c = this.l) || void 0 === c) c = 0;
            else {
                var d;
                if (d = c.I) {
                    d = c.u;
                    var e = c.I,
                        f = d.G.i.index.getSegmentNumberForTime(b);
                    0 <= f && d.G.i.index.getStitchedVideoInfo(f) ? (rQ(d, "sdai", "skipad_on" + f + "_t" + b.toFixed(3)),
                        e.Mv(b, f), sQ(d, b, b, f), d = !0) : d = !1
                }
                d ? (XS(c, c.timestampOffset - 100), c = !0) : c = !1
            }
            c ? (cpa(this.u, b + 100 + 5), b = !0) : b = !1
        }
        b || (Q(this.playerState, 128) || (a ? wY(this, vQ(this.playerState, 256)) : wY(this, xQ(this.playerState, 4, 8))), this.i && this.i.pause(), VC(this.videoData) && this.l && NY(this, !1))
    };
    h.stopVideo = function() {
        this.pauseVideo();
        this.l && (NY(this, !1), nU(this.l))
    };
    h.Yh = function(a) {
        a = void 0 === a ? !1 : a;
        this.i && (this.i.stopVideo(), tY(this), sY(this), Q(this.playerState, 128) || (a ? wY(this, wQ(wQ(vQ(this.playerState, 4), 8), 16)) : wY(this, uQ(this.playerState))), this.videoData.videoId && this.B.G.remove(this.videoData.videoId))
    };
    h.seekTo = function(a, b) {
        b = void 0 === b ? {} : b;
        this.L("SeekTo " + a + ", " + JSON.stringify(b));
        Q(this.playerState, 2) && ZB(this);
        if (this.Qa) {
            var c = this.Qa;
            isFinite(a) && a < dQ(c.i) ? c.isLiveNow = !1 : c.isLiveNow = !0
        }
        this.u.seekTo(a, b)
    };

    function iQ(a) {
        a.I.B.l = K();
        Q(a.playerState, 32) || (wY(a, vQ(a.playerState, 32)), Q(a.playerState, 8) && a.pauseVideo(!0), a.W("beginseeking", a));
        a.md()
    }

    function jQ(a) {
        Q(a.playerState, 32) ? (wY(a, xQ(a.playerState, 16, 32)), a.W("endseeking", a)) : Q(a.playerState, 2) || wY(a, vQ(a.playerState, 16));
        var b = a.I.B,
            c = a.videoData.clientPlaybackNonce;
        c && !isNaN(b.i) && (a = Q(a.playerState, 4) ? "pbp" : "pbs", Wz("seek", ["pbp", "pbs"], b.i), Yz("cpn", c, "seek"), isNaN(b.l) || Zz("pl_ss", b.l, "seek"), Zz(a, K(), "seek"), b.reset())
    }
    h.getCurrentTime = function() {
        return this.u.getCurrentTime()
    };
    h.Lh = function() {
        return this.u.Lh()
    };

    function dQ(a) {
        a = a.u;
        return a.u ? PW(a.u) : Infinity
    }
    h.getPlaylistSequenceForTime = function(a) {
        return this.videoData.getPlaylistSequenceForTime(a - this.Ub())
    };
    h.cm = function() {
        var a = NaN;
        this.i && (a = this.i.cm());
        return 0 <= a ? a : this.getCurrentTime()
    };
    h.getIngestionTime = function() {
        if (this.videoData.i) return this.videoData.i.getIngestionTime(this.getCurrentTime() - this.Ub());
        if ((!this.N("html5_disable_limit_ingestion_tvos") || Bu()) && this.i) {
            var a = this.i.mp();
            if (a && (a = a.getTime(), !isNaN(a))) return a / 1E3 + this.getCurrentTime()
        }
        return NaN
    };
    h.getDuration = function() {
        return this.videoData.lengthSeconds ? this.videoData.lengthSeconds + this.Ub() : EY(this) ? EY(this) : 0
    };
    h.Xp = function() {
        var a = new Koa;
        if (this.l) {
            var b = this.B.schedule;
            a.l = b.J;
            a.B = b.U;
            a.bandwidthEstimate = xB(b);
            a.i = "d." + $H(b).toFixed(2) + ";st." + (1E9 * (b.i.De() || 0)).toFixed(2) + ";bw." + b.u.De().toFixed(0) + ";abw." + b.D.De().toFixed(0) + ";v50." + ZH(b.l, .5).toFixed(2) + ";v92." + ZH(b.l, .92).toFixed(2) + ";v96." + ZH(b.l, .96).toFixed(2) + ";v98." + ZH(b.l, .98).toFixed(2);
            b = this.l;
            if (b.mediaSource && !b.mediaSource.Ge() && (a.bk = zT(b.videoTrack, b.currentTime), a.u = zT(b.audioTrack, b.currentTime), b.policy.Qa)) {
                var c = yT(b.videoTrack),
                    d = yT(b.audioTrack),
                    e = fG(b.mediaSource.l.Ed(), "_", 5),
                    f = fG(b.mediaSource.i.Ed(), "_", 5);
                a.i = (a.i || "") + (";lvq." + c + ";laq." + d + ";lvb." + e + ";lab." + f)
            }
            a.bandwidthEstimate = NR(b.D);
            b.L()
        } else this.i && (a.bk = FM(this.i));
        a.C = this.isAtLiveHead() && this.Kc() ? nY(this) : NaN;
        return a
    };
    h.wb = function(a) {
        var b = {};
        if (void 0 === a ? 0 : a) {
            Object.assign(b, this.C.wb());
            this.i && (Object.assign(b, this.i.wb()), Object.assign(b, this.Vn()));
            this.l && Object.assign(b, this.l.wb());
            this.G && (b.drm = this.G.wb());
            b.state = this.playerState.state.toString(16);
            Q(this.playerState, 128) && (b.debug_error = this.playerState.getData());
            this.Xi() && (b.prerolls = this.U.join(","));
            this.videoData.cf && (b.ismb = this.videoData.cf);
            "UNKNOWN" !== this.videoData.latencyClass && (b.latency_class = this.videoData.latencyClass);
            this.videoData.isLowLatencyLiveStream &&
                (b.lowlatency = "1");
            this.videoData.cotn && (b.is_offline = 1, b.cotn = this.videoData.cotn);
            this.videoData.isLivePlayback && (this.videoData.i && XG(this.videoData.i) && (b.segduration = XG(this.videoData.i)), a = this.u, b.lat = a.J ? XQ(a.J.B) : 0, b.liveutcstart = this.videoData.liveUtcStartSeconds);
            b.relative_loudness = this.videoData.rh.toFixed(3);
            if (a = JY(this)) b.optimal_format = a.gb().qualityLabel;
            b.user_qual = NH()
        }
        b.debug_videoId = this.videoData.videoId;
        return b
    };
    h.addCueRange = function(a) {
        this.zn([a])
    };
    h.removeCueRange = function(a) {
        this.K.qe([a])
    };
    h.zn = function(a) {
        this.K.Mf(a)
    };
    h.tv = function(a) {
        this.K.qe(a)
    };
    h.Li = function() {
        return this.K.Li() || []
    };
    h.pe = function() {
        return this.visibility.pe()
    };
    h.OG = function() {
        vY(this)
    };

    function vY(a, b) {
        a.W("internalvideodatachange", void 0 === b ? "dataupdated" : b, a, a.videoData)
    }

    function LY(a) {
        nb("loadstart loadeddata loadedmetadata play playing progress pause ended suspend seeking seeked timeupdate durationchange ratechange error waiting resize".split(" "), function(b) {
            this.Ma.Ga(this.i, b, this.FC, this)
        }, a);
        a.B.Bg && a.i.jn() && (a.Ma.Ga(a.i, "webkitplaybacktargetavailabilitychanged", a.yF, a), a.Ma.Ga(a.i, "webkitcurrentplaybacktargetiswirelesschanged", a.zF, a))
    }
    h.togglePictureInPicture = function() {
        this.i && this.i.togglePictureInPicture()
    };
    h.FC = function(a) {
        this.Cb.stop();
        var b = a.target.oe();
        if (this.i && this.i.oe() && this.i.oe() === b) {
            TY(this, a.type);
            switch (a.type) {
                case "error":
                    var c = KM(this.i) || "";
                    if ("capability.changed" === c) {
                        BY(this);
                        return
                    }
                    if (0 < this.i.dg() && pV(this.D, c, {
                            msg: this.i.Yc()
                        })) return;
                    if (this.isBackground() && 4 === this.i.dg()) {
                        this.Yh();
                        DY(this, "unplayable");
                        return
                    }
                    break;
                case "durationchange":
                    c = this.i.getDuration();
                    (!this.mediaSource || isFinite(c) && 0 < c) && 1 !== c && this.videoData.lengthSeconds !== c && (this.videoData.lengthSeconds = c,
                        vY(this));
                    break;
                case "ratechange":
                    this.l && this.l.setPlaybackRate(this.i.getPlaybackRate());
                    c = this.K;
                    c.started = !0;
                    c.Ah();
                    var d = this.C;
                    c = this.getPlaybackRate();
                    if (d.qoe) {
                        d = d.qoe;
                        var e = PP(d.i);
                        c && c !== d.Ta && (RV(d, e, "rate", [c]), d.Ta = c);
                        d.reportStats(e)
                    }
                    break;
                case "loadedmetadata":
                    UY(this);
                    this.W("onLoadedMetadata");
                    VY(this);
                    break;
                case "loadstart":
                    VY(this);
                    break;
                case "progress":
                case "suspend":
                    this.md();
                    c = this.W;
                    this.i ? VC(this.videoData) ? d = 1 : IL(this.videoData) ? this.isAtLiveHead() || fX(this.u) ? d = 1 : (e = this.u,
                        e.i ? IL(e.videoData) ? (d = IM(e.i) + e.timestampOffset - e.getMinSeekableTime(), e = $W(e) - e.getMinSeekableTime(), d = Math.max(0, Math.min(1, d / e))) : d = JM(e.i) : d = 0) : d = JM(this.i) : d = 0;
                    c.call(this, "onLoadProgress", this, d);
                    break;
                case "playing":
                    if (this.N("html5_force_manifestless_seeking_state") && lC(this.videoData) && this.l && this.l.B.i) {
                        this.Aa("mflForceSeek", "reason.play");
                        return
                    }
                    this.I.tick("plev");
                    WY(this);
                    dA("plev", "video_to_ad");
                    this.ud && (this.ud = !1, this.isAtLiveHead() || (this.L(), this.seekTo(Infinity, {
                        dd: "videoplayer_onPlaying"
                    })));
                    break;
                case "timeupdate":
                    WY(this);
                    c = this.i && !this.i.getCurrentTime();
                    d = this.i && 0 === this.i.nf();
                    if (c && (!this.bb || d)) return;
                    this.bb = this.bb || !!this.i.getCurrentTime();
                    XY(this);
                    this.md();
                    if (!this.i || this.i.oe() !== b) return;
                    this.W("onVideoProgress", this, this.getCurrentTime());
                    break;
                case "waiting":
                    if (0 < this.i.yk().length && 0 === this.i.me().length && 0 < this.i.getCurrentTime() && 5 > this.i.getCurrentTime() && this.l) return;
                    break;
                case "resize":
                    UY(this);
                    this.videoData.u && "auto" === this.videoData.u.gb().quality && this.W("internalvideoformatchange",
                        this.videoData, !1);
                    break;
                case "pause":
                    if (this.Wd && Q(this.playerState, 8) && !Q(this.playerState, 1024) && 0 === this.getCurrentTime() && Oe) {
                        DY(this, "safari_autoplay_disabled");
                        return
                    }
            }
            if (this.i && this.i.oe() === b) {
                this.W("videoelementevent", a);
                b = this.playerState;
                if (!Q(b, 128)) {
                    c = this.Ta;
                    e = this.i;
                    var f = this.B.experiments;
                    d = b.state;
                    e = e ? e : a.target;
                    var g = e.getCurrentTime();
                    if (!Q(b, 64) || "ended" !== a.type && "pause" !== a.type) {
                        var k = e.Ng() || 1 < g && 1.1 > Math.abs(g - e.getDuration());
                        g = "ended" === a.type || "waiting" === a.type || "timeupdate" ===
                            a.type && !Q(b, 4) && !IW(c, g);
                        if ("pause" === a.type && e.Ng() || k && g) 0 < e.Tp() && e.oe() && (d = 14);
                        else switch (a.type) {
                            case "error":
                                KM(e) && (d |= 128);
                                break;
                            case "pause":
                                Q(b, 256) ? (d ^= 256) || (d = 64) : Q(b, 32) || Q(b, 2) || Q(b, 4) || (d = 4, Q(b, 1) && Q(b, 8) && (d |= 1));
                                break;
                            case "playing":
                                d = (d | 8) & -1029;
                                f && R(f, "html5_playing_clears_unstarted_killswitch") || (d &= -65);
                                IW(c, e.getCurrentTime()) && (d &= -2);
                                Q(b, 1) && JW(c, e.getCurrentTime(), K(), FM(e)) && (d |= 1);
                                break;
                            case "seeking":
                                d |= 16;
                                Q(b, 8) && (d |= 1);
                                d &= -3;
                                break;
                            case "seeked":
                                d &= -17;
                                break;
                            case "waiting":
                                Q(b,
                                    2) || (d |= 1);
                                JW(c, e.getCurrentTime(), K(), FM(e));
                                break;
                            case "timeupdate":
                                f = Q(b, 16), k = Q(b, 4), (Q(b, 8) || f) && !k && IW(c, e.getCurrentTime()) && (d = 8), JW(c, e.getCurrentTime(), K(), FM(e)) && (d |= 1)
                        }
                    }
                    c = d;
                    d = null;
                    c & 128 && (d = a.target, (e = KM(d)) ? (f = "GENERIC_WITHOUT_LINK", k = d.wb(), k.mediaElem = "1", /AUDIO_RENDERER/.test(d.Yc()) && (f = "HTML5_AUDIO_RENDERER_ERROR"), d = {
                        errorCode: e,
                        errorMessage: LI[f] || "",
                        ry: f,
                        PA: JA(k)
                    }) : d = null);
                    b = uQ(b, c, d)
                }!Q(this.playerState, 1) && Q(b, 1) && YY(this, "evt" + a.type);
                wY(this, b)
            }
        }
    };

    function WY(a) {
        a.N("html5_enable_timeupdate_timeout") && !a.videoData.isLivePlayback && ZY(a) && a.Cb.start()
    }
    h.IG = function() {
        this.Aa("misstimeupdate", "");
        ZY(this) && !Q(this.playerState, 2) && QP(this, !0, !1)
    };

    function ZY(a) {
        if (!a.i) return !1;
        var b = a.i.getCurrentTime();
        a = a.i.getDuration();
        return !!(1 < b && b > a - .3)
    }
    h.yF = function(a) {
        a = "available" === a.i.availability;
        a !== this.kq && (this.kq = a, this.W("airplayavailabilitychange"))
    };
    h.zF = function() {
        var a = K(),
            b = this.i.pe();
        this.Aa("airplay", b ? "on" : "off");
        if (!this.N("html5_ignore_inactive_airplay_killswitch") && b || isNaN(this.kb) || !(2E3 > a - this.kb)) this.kb = a, b !== this.pe() && (a = this.visibility, a.i !== b && (a.i = b, WP(a)), this.Aa("airplay", "rbld_" + b), xY(this)), this.W("airplayactivechange")
    };

    function VY(a) {
        window.clearInterval(a.ob);
        XY(a) || (a.ob = Us(function() {
            return XY(a)
        }, 100))
    }

    function XY(a) {
        var b = a.i;
        b && a.bb && !a.videoData.ya && !cA("vfp", a.I.timerName) && 2 <= b.nf() && !b.Ng() && 0 < jG(b.me()) && a.I.tick("vfp");
        return (b = a.i) && !a.videoData.ya && 0 < b.getDuration() && (!cA("pbp", a.I.timerName) && b.xi() && 2 <= b.nf() && 0 < jG(b.me()) && a.I.tick("pbp"), b = b.getCurrentTime(), IW(a.Ta, b)) ? (FP(a), !0) : !1
    }

    function FP(a) {
        window.clearInterval(a.ob);
        a.va.stop();
        a.videoData.ya = !0;
        a.B.Ce = !0;
        a.B.U = 0;
        var b = a.D,
            c = b.videoData.u;
        c && b.videoData.N("html5_disable_codec_on_errors_with_exp_backoff") && b.i.i.i.delete(c.i);
        b.B.stop();
        a.B.yb = a.videoData.Rm;
        a.videoData.DA = !0;
        $Y(a);
        Q(a.playerState, 8) && wY(a, wQ(a.playerState, 65));
        b = a.C;
        b.i && nW(b.i);
        b.u && (b = b.u, c = PP(b.i), 0 > b.l && (b.l = c, b.delay.start()), b.u = c, b.C = c);
        er(a.Bc);
        a.W("playbackstarted");
        ct() && ((a = Ja("yt.scheduler.instance.clearPriorityThreshold")) ? a() : et(0))
    }

    function $Y(a) {
        var b = a.getCurrentTime(),
            c = a.videoData;
        !cA("pbs", a.I.timerName) && uz.measure && uz.getEntriesByName && (uz.getEntriesByName("mark_nr")[0] ? bA("mark_nr") : bA());
        c.videoId && a.I.info("docid", c.videoId);
        c.eventId && a.I.info("ei", c.eventId);
        c.clientPlaybackNonce && a.I.info("cpn", c.clientPlaybackNonce);
        0 < c.startSeconds && a.I.info("start", c.startSeconds.toString());
        a.i && a.i.xi() && a.I.info("paused", 1);
        c.u ? a.I.info("fmt", c.u.Ib()) : a.I.info("fmt", "-1");
        c.kb && a.I.info("yt_pre", a.Xd ? "2" : "1");
        a.isFullscreen() &&
            a.I.info("yt_fs", "1");
        a.I.info("cmt", b.toFixed(3));
        if (a.l) {
            b = a.l.timing;
            window && window.performance && window.performance.getEntriesByName && (b.l && (c = window.performance.getEntriesByName(b.l), c.length && (c = c[0], b.tick("vri", c.fetchStart), b.tick("vdns", c.domainLookupEnd), b.tick("vreq", c.requestStart), b.tick("fvb", c.responseStart), b.tick("vrc", c.responseEnd))), b.i && (c = window.performance.getEntriesByName(b.i), c.length && (c = c[0], b.tick("ari", c.fetchStart), b.tick("adns", c.domainLookupEnd), b.tick("areq", c.requestStart),
                b.tick("avb", c.responseStart), b.tick("arc", c.responseEnd))));
            b = b.ticks;
            for (var d in b) b.hasOwnProperty(d) && a.I.tick(d, b[d])
        }
    }
    h.md = function(a) {
        var b = this;
        a = void 0 === a ? !1 : a;
        if (this.i && this.videoData) {
            apa(this.u, this.Kc());
            var c = this.getCurrentTime();
            this.l && (Q(this.playerState, 4) && VC(this.videoData) || Una(this.l, c));
            5 < c && (this.u.C = c);
            var d = ct();
            d ? dt(this.ya) : Vs(this.ya);
            if ((AQ(this.playerState) || !this.i.xi()) && !Q(this.playerState, 128)) {
                var e = function() {
                    if (b.i && !Q(b.playerState, 128)) {
                        b.videoData.Ta && U(b.B.experiments, "html5_log_rebuffer_events") && TY(b, "pfx");
                        var f = b.getCurrentTime(),
                            g = FM(b.i),
                            k = Q(b.playerState, 8),
                            l = IW(b.Ta,
                                f),
                            m = JW(b.Ta, f, K(), g);
                        k && l ? wY(b, wQ(b.playerState, 1)) : k && m ? (k = b.getDuration(), l = b.videoData.isLivePlayback, (b.N("html5_set_ended_in_pfx_live") || !l) && k && 1.1 > Math.abs(k - f) ? (b.Aa("setended", "ct." + f + ";bh." + g + ";dur." + k + ";live." + +l), l && b.N("html5_set_ended_in_pfx_live_cfl") || (b.i.jp() ? (b.L(), b.seekTo(0, {
                            dd: "videoplayer_loop"
                        })) : QP(b))) : (AQ(b.playerState) || YY(b, "progress_fix"), wY(b, vQ(b.playerState, 1)))) : (k && !l && !m && 0 < f && (k = (Date.now() - b.Vd) / 1E3, l = b.getDuration(), f > l - 1 && b.Aa("misspg", "t:" + f.toFixed(2) + ";d:" +
                            l.toFixed(2) + ";r:" + k.toFixed(2) + ";bh:" + g.toFixed(2))), Q(b.playerState, 4) && AQ(b.playerState) && 5 < FM(b.i) && wY(b, wQ(b.playerState, 1)));
                        b.md()
                    }
                };
                0 === this.i.yk().length ? this.ya = d ? $s(e, 100) : Ts(e, 100) : this.ya = d ? $s(e, 500) : Ts(e, 500)
            }
            this.videoData.Jm = c;
            !a && this.Kc() && Ppa(this);
            voa(this.Ne, this.J, this.Dc(), this.isBackground()) && oY(this);
            woa(this.Ne, this.videoData.u) && (this.C.onError("qoe.restart", "droprate." + this.Ne.I), this.B.i.G = !1, xY(this));
            this.W("progresssync", this, a)
        }
    };
    h.xE = function() {
        this.Rd("ad.rebuftimeout", "RETRYABLE_ERROR", "vps." + this.playerState.state.toString(16))
    };

    function Ppa(a) {
        a.C.Me();
        if (a.videoData.isLivePlayback && Date.now() > a.ke + 6283) {
            if (!(!a.isAtLiveHead() || a.videoData.i && TG(a.videoData.i))) {
                var b = a.C;
                if (b.qoe) {
                    b = b.qoe;
                    var c = b.i.l.Xp(),
                        d = PP(b.i);
                    WV(b, d, c);
                    c = c.C;
                    isNaN(c) || RV(b, d, "e2el", [c.toFixed(3)])
                }
            }
            EI(a.B) && a.Aa("rawlat", "l." + $Q(a.zb, "rawlivelatency").toFixed(3));
            a.ke = Date.now()
        }
        a.videoData.u && XB(a.videoData.u) && (b = zY(a)) && b.videoHeight !== a.Tc && (a.Tc = b.videoHeight, HY(a, "a", RY(a, a.videoData.T)))
    }

    function RY(a, b) {
        if ("auto" === b.i.gb().quality && XB(b.Fd()) && a.videoData.Sa)
            for (var c = t(a.videoData.Sa), d = c.next(); !d.done; d = c.next())
                if (d = d.value, d.getHeight() === a.Tc && "auto" !== d.i.gb().quality) return d.Fd();
        return b.Fd()
    }

    function nY(a) {
        if (!a.videoData.isLivePlayback || !a.videoData.i || !a.l) return NaN;
        var b = lC(a.videoData) ? a.l.Z.De() || 0 : a.videoData.i.T;
        return Date.now() / 1E3 - a.getIngestionTime() - b
    }
    h.TD = function() {
        AQ(this.playerState) && HV(this.Ne, this.J) && oY(this)
    };

    function wY(a, b) {
        if (!yQ(a.playerState, b)) {
            a.L();
            var c = new vP(b, a.playerState);
            a.playerState = b;
            aZ(a);
            var d = !a.ub.length;
            a.ub.push(c);
            var e = a.i && a.i.pn();
            iN(c, 1) && !Q(c.Nk, 16) && !e && Q(a.playerState, 8) && !Q(a.playerState, 64) && a.l && (e = a.l, e.L(), e.X = !0, a.i && 5 <= FM(a.i) && ((e = U(a.B.experiments, "html5_non_network_rebuffer_duration_ms")) ? a.le.start(e) : HV(a.Ne, a.J) && oY(a)));
            (e = U(a.B.experiments, "html5_ad_timeout_ms")) && a.videoData.isAd() && Q(b, 1) && (Q(b, 8) || Q(b, 16)) ? a.qc.start(e) : a.qc.stop();
            (0 > wP(c, 8) || iN(c, 1024)) &&
            a.va.stop();
            !iN(c, 8) || a.videoData.ya || Q(c.state, 1024) || a.va.start();
            Q(c.state, 8) && 0 > wP(c, 16) && !Q(c.state, 32) && !Q(c.state, 2) && a.playVideo();
            Q(c.state, 2) && IL(a.videoData) && (b = a.getCurrentTime(), a.videoData.lengthSeconds !== b && (a.videoData.lengthSeconds = b, vY(a)), a.md(!0));
            iN(c, 2) && a.Av(!0);
            iN(c, 128) && a.Yh();
            a.videoData.i && a.videoData.isLivePlayback && !a.cf && (0 > wP(c, 8) ? (b = a.videoData.i, b.B && b.B.stop()) : iN(c, 8) && a.videoData.i.resume());
            b = a.u;
            b.I.playerState = c.state;
            b.N("html5_exponential_memory_for_sticky") &&
                (c.state.Kc() ? er(b.ea) : b.ea.stop());
            if (b.i && 8 === c.Nk.state && zQ(c.state) && AQ(c.state) && b.policy.u) {
                e = b.i.getCurrentTime();
                var f = b.i.me();
                var g = b.N("manifestless_post_live_ufph") || b.N("manifestless_post_live") ? gG(f, Math.max(e - 3.5, 0)) : gG(f, e - 3.5);
                0 <= g && e > f.end(g) - 1.1 && g + 1 < f.length && 11 > f.start(g + 1) - f.end(g) && (g = f.start(g + 1) + .2, .2 > Math.abs(b.Sa - g) || (b.W("ctmp", "seekover", "b." + fG(f, "_") + ";cmt." + e), b.Sa = g, b.seekTo(g, {
                    Xn: !0,
                    dd: "playbacktimeline_postLiveDisc"
                })))
            }
            b = a.C;
            var k;
            if (iN(c, 1024) || iN(c, 512) || iN(c,
                    4)) b.u && (e = b.u, 0 <= e.u || (e.l = -1, e.delay.stop())), b.qoe && (e = b.qoe, e.G || (e.B = -1));
            b.l.videoData.enableServerStitchedDai && b.je ? null === (k = b.B.get(b.je)) || void 0 === k ? void 0 : wW(k, c) : b.i && wW(b.i, c);
            if (b.qoe) {
                k = b.qoe;
                e = c.state;
                f = PP(k.i);
                g = k.getPlayerState(c.state);
                if (g !== k.u) {
                    if (!(f < k.C)) {
                        if ("PL" === k.u) k.playTimeSecs += f - k.C;
                        else if ("B" === k.u && k.X) {
                            k.X = !1;
                            var l = U(k.i.i.experiments, "html5_disable_last_state_change") ? k.C : k.Ha;
                            k.rebufferTimeSecs += f - l;
                            !k.va && 10 <= k.rebufferTimeSecs && 180 >= k.playTimeSecs && (k.i.l.Fo(),
                                k.l.qoealert = ["1"], k.va = !0)
                        }
                        "B" !== g || "PL" !== k.u && "PB" !== k.u || (k.X = !0);
                        k.C = f
                    }
                    "PL" === k.u && ("B" === g || "S" === g) || k.i.videoData.Ta ? TV(k, f) : SV(k, f);
                    "PL" === g && er(k.kb);
                    RV(k, f, "vps", [g]);
                    k.u = g;
                    k.Ha = f;
                    k.C = f;
                    k.D = !0
                }
                g = e.getData();
                Q(e, 128) && g && ZV(k, f, g.errorCode, g.PA);
                (Q(e, 2) || Q(e, 128)) && k.reportStats(f);
                e.Kc() && !k.G && (0 <= k.B && (k.l.user_intent = [k.B.toString()]), k.G = !0);
                XV(k)
            }
            b.u && (k = b.u, MV(k), k.playerState = c.state, 0 <= k.u && iN(c, 16) && k.seekCount++, c.state.isError() && k.send());
            if (d && !a.Ea()) try {
                for (var m = t(a.ub),
                        n = m.next(); !n.done; n = m.next()) {
                    var p = n.value,
                        q = a.K;
                    if (q.started && (q.Ah(), Q(p.Nk, 16))) {
                        c = q;
                        var r = GW(c.i, Math.max(c.u - 2E3, 0));
                        !isNaN(r) && 0x7ffffffffffff > r && c.B.start()
                    }
                    a.W("statechange", p)
                }
            } finally {
                a.ub.length = 0
            }
        }
    }
    h.Fo = function() {
        this.videoData.isLivePlayback || this.W("connectionissue")
    };
    h.Pu = function() {
        this.I.tick("qoes")
    };

    function Npa(a) {
        !a.N("html5_ignore_airplay_events_on_new_video_killswitch") && a.i && a.i.pe() && (a.kb = K());
        a.B.zg ? Ts(function() {
            OY(a)
        }, 0) : OY(a)
    }

    function OY(a) {
        if (a.i) try {
            a.fb = a.i.playVideo()
        } catch (c) {
            DY(a, "err." + c)
        }
        if (a.fb) {
            var b = a.fb;
            b.then(void 0, function(c) {
                a.L();
                if (!Q(a.playerState, 4) && !Q(a.playerState, 256) && a.fb === b)
                    if (c && "AbortError" === c.name && c.message && c.message.includes("load")) a.L();
                    else {
                        var d = "promise";
                        c && c.name && (d += ";m." + c.name);
                        DY(a, d);
                        a.Wd = !0;
                        a.B.N("embeds_enable_autoplayblocked_ping_fix") && (a.videoData.LB = !0)
                    }
            })
        }
    }

    function DY(a, b) {
        Q(a.playerState, 128) || (wY(a, xQ(a.playerState, 1028, 9)), a.Aa("dompaused", b), a.W("onDompaused"))
    }

    function ZB(a) {
        if (!a.i || !a.videoData.l) return !1;
        var b, c, d = null;
        (null === (c = a.videoData.l) || void 0 === c ? 0 : c.i) ? (d = PY(a), null === (b = a.l) || void 0 === b ? void 0 : b.resume()) : (sY(a), a.videoData.T && (d = a.videoData.T.fn()));
        b = d;
        d = a.i.lp();
        c = !1;
        d && null !== b && b.i === d.i || (a.I.tick("vta"), dA("vta", "video_to_ad"), 0 < a.getCurrentTime() && (c = a.getCurrentTime(), a.u.C = c), a.i.Jl(b), a.mediaSource && et(4), !a.videoData.ya && EP(a.playerState) && a.va.start(), c = !0);
        Q(a.playerState, 2) || (b = a.u, b.G || !(0 < b.C) || b.i && 0 < b.i.getCurrentTime() ||
            b.seekTo(b.C, {
                dd: "playbacktimeline_resumeTime"
            }));
        a: if (b = c, CL(a.videoData) && a.i)
            if ((d = a.videoData.C) && a.i.jn()) {
                var e = a.i.Cd();
                if (a.G)
                    if (e !== a.G.element) tY(a);
                    else if (b && "fairplay" === d.flavor && !Bu()) tY(a);
                else break a;
                a.G = new hV(e, a.videoData, a.B);
                a.G.subscribe("licenseerror", a.DC, a);
                a.G.subscribe("qualitychange", a.RF, a);
                a.G.subscribe("heartbeatparams", a.BC, a);
                a.G.subscribe("keystatuseschange", a.CC, a);
                a.G.subscribe("hdproberequired", a.QF, a);
                a.G.subscribe("ctmp", a.Aa, a);
                b = t(a.Ka.keys);
                for (d = b.next(); !d.done; d =
                    b.next()) d = a.Ka.get(d.value), a.G.Rk(d);
                a.N("html5_eme_loader_sync") || (a = a.Ka, a.keys = [], a.values = [])
            } else a.Rd("fmt.unplayable", "HTML5_NO_AVAILABLE_FORMATS_FALLBACK", "drm.1");
        return c
    }

    function tY(a) {
        a.G && (a.G.dispose(), a.G = null)
    }
    h.DC = function(a, b, c, d) {
        a: {
            var e = this.D;d = void 0 === d ? "LICENSE" : d;c = c.substr(0, 256);
            if ("drm.keyerror" === a && this.G && 1 < this.G.l.keys.length && 96 > e.K) a = "drm.sessionlimitexhausted",
            b = !1;
            else if (e.videoData.N("html5_drm_fallback_to_playready_on_retry") && "drm.keyerror" === a && 2 > e.U && (e.U++, e.W("removedrmplaybackmanager"), 1 < e.videoData.Ld.length && (e.L(), e.videoData.C = e.videoData.Ld[1]), pV(e, a, {
                    detail: c
                }))) break a;
            if (b)
                if (e.videoData.u && e.videoData.u.gb().isHdr()) zV(e, a);
                else {
                    if (e.W("playererror", a, d, c), e.videoData.N("html5_exile_on_drm_fatal") &&
                        rV(e, {
                            detail: c
                        })) break a
                }
            else sV(e, a, {
                detail: c
            });
            "drm.sessionlimitexhausted" === a && (yV(e, "retrydrm", "s"), e.K++, e.W("reattachvideosourcerequired"))
        }
    };
    h.RF = function() {
        var a = this,
            b = U(this.B.experiments, "html5_license_constraint_delay"),
            c = Ju();
        b && c ? (b = new dr(function() {
            UB(a);
            vY(a)
        }, b), E(this, b), b.start()) : (UB(this), vY(this))
    };
    h.QF = function() {
        var a = this;
        oe && (this.Z = kja(this.videoData.i)) && (this.Z.i ? eh(function() {
            a.qA()
        }) : Wna(this.l, this.Z))
    };
    h.BC = function(a) {
        this.W("heartbeatparams", a)
    };
    h.CC = function(a) {
        this.Aa("keystatuses", UU(a));
        var b = "auto",
            c = !1;
        this.videoData.u && (b = this.videoData.u.gb().quality, c = this.videoData.u.gb().isHdr());
        if (this.N("html5_drm_check_all_key_error_states")) {
            var d = VU(b, c);
            d = RU(a) ? WU(a, d) : a.D.includes(d)
        } else {
            a: {
                b = VU(b, c);
                for (d in a.i)
                    if ("output-restricted" === a.i[d].status) {
                        var e = a.i[d].type;
                        if ("" === b || "AUDIO" === e || b === e) {
                            d = !0;
                            break a
                        }
                    } d = !1
            }
            d = !d
        }
        b = a.U && d;
        c && !b ? zV(this.D) : d || WU(a, "AUDIO") && WU(a, "SD") || (this.L(), this.td ? (this.L(), this.W("drmoutputrestricted")) :
            (this.td = !0, this.Aa("retrydrm", "o"), QY(this), yY(this)))
    };
    h.UF = function() {
        var a, b;
        if (!this.videoData.ya && this.i && !this.isBackground()) {
            var c = "0";
            0 < this.i.nf() && 5 <= FM(this.i) && this.videoData.l && this.videoData.l.i && (wY(this, vQ(this.playerState, 1)), YY(this, "load_soft_timeout"), this.W("playbackstalledatstart"), c = "1");
            aZ(this);
            if (this.N("html5_new_video_qoe_restart_info_killswitch")) c = {
                restartmsg: c
            }, this.Xi() && (c.prerolls = this.U.join(",")), this.l && Object.assign(c, this.l.wb()), this.i && Object.assign(c, this.i.wb());
            else {
                var d = this.videoData.l;
                c = {
                    restartmsg: c,
                    mfmt: mL(this.videoData) ?
                        "0" : "1",
                    mdrm: d && d.videoInfos && d.videoInfos.length && d.videoInfos[0].Nc && !this.G ? "1" : "0",
                    mfmtinfo: this.videoData.u ? "0" : "1",
                    prerolls: this.Xi() ? this.U.join(",") : "0"
                };
                if (this.G) {
                    d = c;
                    var e = this.G;
                    if (0 >= e.l.values.length) {
                        var f = "ns;";
                        e.K || (f += "nr;");
                        e = f += "ql." + e.B.length
                    } else e = UU(e.l.values[0]);
                    d.drmp = e
                }
                Object.assign(c, (null === (a = this.l) || void 0 === a ? void 0 : a.wb()) || {});
                Object.assign(c, (null === (b = this.i) || void 0 === b ? void 0 : b.wb()) || {})
            }
            this.C.onError("qoe.start15s", JA(c));
            this.W("loadsofttimeout")
        }
    };
    h.yG = function() {
        Q(this.playerState, 128) || this.mediaSource && vG(this.mediaSource) || (this.C.onError("qoe.restart", JA({
            detail: "bufferattach"
        })), this.Fe++, LP(this))
    };
    h.Av = function(a) {
        var b = this;
        a = void 0 === a ? !1 : a;
        if (!this.Fa) {
            cA("att_s", "player_att") || dA("att_s", "player_att");
            var c = new EA(this.videoData);
            if ("c1a" in c.i && !CA.i && (dA("att_wb", "player_att"), 2 === this.Sa && .01 > Math.random() && ly(Error("Botguard not available after 2 attempts")), !a && 5 > this.Sa)) {
                er(this.Bc);
                this.Sa++;
                return
            }
            if ("c1b" in c.i) {
                var d = Ioa(this.C);
                d && FA(c).then(function(e) {
                    e && !b.Fa && d ? (dA("att_f", "player_att"), d(e), b.Fa = !0) : dA("att_e", "player_att")
                }, function() {
                    dA("att_e", "player_att")
                })
            } else(a =
                Fha(c)) ? (dA("att_f", "player_att"), Hoa(this.C, a), this.Fa = !0) : dA("att_e", "player_att")
        }
    };

    function qC(a, b) {
        b = void 0 === b ? !1 : b;
        return a.videoData.isLivePlayback && (a.isAtLiveHead() && (a.N("html5_videoplayer_getmaxseekabletimeforux_check_pause_killswitch") || !Q(a.playerState, 4)) || fX(a.u) || VC(a.videoData)) ? a.getCurrentTime() : EY(a, b)
    }

    function EY(a, b) {
        return $W(a.u, void 0 === b ? !1 : b)
    }
    h.getMinSeekableTime = function() {
        return this.u.getMinSeekableTime()
    };
    h.Ub = function() {
        return this.u ? this.u.Ub() : 0
    };
    h.getStreamTimeOffset = function() {
        return this.u ? this.u.getStreamTimeOffset() : 0
    };
    h.setPlaybackRate = function(a) {
        var b = this.videoData.l && this.videoData.l.videoInfos && 32 < this.videoData.l.videoInfos[0].gb().fps && !0;
        this.playbackRate !== a && b && (this.Ne.setPlaybackRate(a), QY(this));
        this.playbackRate = a;
        this.i && this.i.setPlaybackRate(a)
    };
    h.getPlaybackRate = function() {
        return this.playbackRate
    };
    h.getPlaybackQuality = function() {
        var a = "unknown";
        if (this.videoData.u && (a = this.videoData.u.gb().quality, "auto" === a && this.i)) {
            var b = zY(this);
            b && 0 < b.videoHeight && (a = NF(b.videoWidth, b.videoHeight))
        }
        return a
    };
    h.isHdr = function() {
        return !!(this.videoData.u && this.videoData.u.video && this.videoData.u.video.isHdr())
    };
    h.sendVideoStatsEngageEvent = function(a, b) {
        var c = this.C;
        c.i ? (c = oW(c.i, "engage"), c.Ha = a, c.send(b)) : b && b()
    };
    h.isAtLiveHead = function(a, b) {
        return this.videoData.isLivePlayback && (this.Sc || (void 0 === b ? 0 : b)) ? this.u.isAtLiveHead(a) : !1
    };
    h.Mi = function() {
        var a = EY(this),
            b = this.getCurrentTime(),
            c;
        (c = !this.videoData.isLivePlayback) || (c = this.u, c = !(c.u && c.u.u));
        return c || fX(this.u) || isNaN(a) || isNaN(b) ? 0 : Math.max(0, a - b)
    };
    h.Pk = function() {
        this.C.Pk()
    };
    h.Vn = function() {
        return this.i ? this.i.np() : {}
    };
    h.setLoop = function(a) {
        this.loop = a;
        this.i && this.i.setLoop(a)
    };

    function bZ(a) {
        return a.i ? a.i.jp() : a.loop
    }
    h.aF = function(a) {
        var b = this.N("html5_unrewrite_timestamps");
        this.Aa("timestamp", "enabled." + b + ";t." + a.toString())
    };

    function yY(a) {
        a.L();
        a.i && (a.mediaSource ? (tY(a), MY(a), PY(a)) : (a.videoData.T && a.videoData.T.zv(), a.i.stopVideo()), a.playVideo())
    }

    function YY(a, b) {
        R(a.B.experiments, "html5_log_rebuffer_reason") && a.Aa("bufreason", "r." + b + ";lact." + jt())
    }
    h.Jd = function(a) {
        this.I.tick(a)
    };
    h.Aa = function(a, b, c) {
        this.C.Aa(a, b, void 0 === c ? !1 : c)
    };
    h.Kr = function(a, b) {
        this.C.onError(a, JA(b))
    };

    function eQ(a, b, c, d, e, f) {
        var g;
        if (null === (g = a.videoData.i) || void 0 === g ? 0 : g.isLive) {
            var k = 2 === c.playerType ? c : b,
                l = b.videoData.videoId,
                m = c.videoData.videoId;
            if (l && m) {
                var n = a.C;
                if (n.qoe) {
                    n = n.qoe;
                    var p = b.cpn,
                        q = c.cpn,
                        r = k.videoData.qc,
                        u = n.i.videoData.clientPlaybackNonce,
                        x = n.i.videoData.videoId,
                        z = q !== u && m !== x;
                    u = p !== u && l !== x;
                    n.reportStats();
                    n.adCpn && n.adCpn !== p || (n.adCpn = u ? p : "", n.K = u ? l : "", n.adFormat = u ? r : void 0, aW(n, f ? 2 : 0, q, m, e), n.reportStats(), n.adCpn = z ? q : "", n.K = z ? m : "", n.adFormat = z ? r : void 0, aW(n, f ? 3 : 1, p, l,
                        d), n.reportStats())
                }
                d = a.C;
                b = b.cpn;
                d.B.has(b) ? (b = d.B.get(b), tW(b).send(), Vs(b.u), b.u = NaN) : (d.je = d.l.videoData.clientPlaybackNonce, d.je && d.i && d.B.set(d.je, d.i));
                a = a.C;
                c = c.cpn;
                k = k.videoData;
                var D;
                a.B.has(c) ? null === (D = a.B.get(c)) || void 0 === D ? void 0 : D.B && isNaN(D.u) && pW(D, !1) : (e = Joa(a, a.l, k, e), a.B.set(c, e), nW(e));
                a.je = c
            }
        }
    }
    h.getPlayerSize = function() {
        return this.Jb.getPlayerSize()
    };
    h.Ye = function() {
        return this.Jb.Ye()
    };
    h.L = function() {};

    function TY(a, b) {
        if (a.videoData.Ta) {
            var c = U(a.B.experiments, "html5_log_rebuffer_events");
            if (c && a.i) {
                var d = a.i.wb();
                d.rt = (1E3 * PP(a.C.l)).toFixed();
                d.e = b.substr(0, 3);
                a.rb[a.Ce++ % c] = d
            }
        }
        "timeupdate" !== b && "progress" !== b && a.L()
    }

    function aZ(a) {
        if (a.videoData.Ta) {
            a.rb.sort(function(d, e) {
                return +d.rt - +e.rt
            });
            for (var b = t(a.rb), c = b.next(); !c.done; c = b.next()) c = c.value, a.Aa("vpe", "t." + c.rt + ";" + JA(c));
            a.rb = [];
            a.Ce = 0
        }
    }

    function UY(a) {
        if (xu("cobalt") && xu("nintendo switch")) {
            var b = !window.matchMedia("screen and (max-height: 720px) and (min-resolution: 200dpi)").matches;
            a.Aa("nxdock", "" + +b)
        }
    }
    h.N = function(a) {
        return R(this.B.experiments, a)
    };

    function DP(a, b, c, d, e) {
        a.Aa("xvt", "m." + b + ";g.1;tt." + (c ? 1 : 0) + ";np." + (d ? 1 : 0) + ";c." + e)
    }

    function NY(a, b) {
        gU(a.l, b || SY(a))
    }

    function SY(a) {
        var b = a.N("disable_prefetch_when_ad_pending_for_living_room") && !0,
            c = a.N("disable_prefetch_when_ad_pending_for_web");
        return (b || c) && xb(a.U, "ad")
    }

    function Lpa(a) {
        if (pL(a.videoData, "html5_set_debugging_opt_in") && (a = xv.getInstance(), !Av(0, 183))) {
            var b = "f" + (Math.floor(183 / 31) + 1),
                c = Bv(b) || 0;
            c |= 268435456;
            0 == c ? delete wv[b] : (c = c.toString(16), wv[b] = c.toString());
            a.save()
        }
    }
    h.XA = function() {
        if (EP(this.playerState)) {
            var a = JH.By();
            a && this.C.Aa("profile", a)
        }
        this.yb.start()
    };

    function cZ(a, b, c) {
        C.call(this);
        var d = this;
        this.Co = this.rb = !1;
        this.ob = {};
        this.Qa = {};
        this.Jb = !1;
        this.B = this.I = this.vb = this.jb = this.fb = null;
        this.Ma = this.ra = !1;
        this.zb = this.Fa = this.u = this.playlist = null;
        this.ea = 0;
        this.ya = this.J = null;
        this.L();
        this.config = Fs(b || {});
        this.webPlayerContextConfig = c;
        gga();
        b = this.config.args || {};
        this.i = new kI(b, c, c ? c.canaryState : this.config.assets.player_canary_state);
        E(this, this.i);
        void 0 !== navigator.mediaCapabilities && (MG = !0);
        this.N("html5_disable_subtract_cuepoint_offset") &&
            (xD = !0);
        this.N("html5_log_opus_oboe_killswitch") && (jE = !1);
        this.N("html5_skip_empty_load") && (CM = !0);
        HM = this.N("html5_ios_force_seek_to_zero_on_stop");
        DM = this.N("html5_ios7_force_play_on_stall");
        GM = this.N("html5_ios4_seek_above_zero");
        pG = this.N("html5_retain_source_buffer_appends_for_debugging");
        this.N("html5_mediastream_applies_timestamp_offset") && (nG = !0);
        this.N("html5_dont_override_default_sample_desc_index") && (SD = !0);
        this.i.u && !uP && (window.addEventListener(xe ? "touchstart" : "click", Fma, {
            capture: !0,
            passive: !0
        }), uP = !0);
        this.ub = L(!1, b.player_wide);
        this.visibility = new VP;
        E(this, this.visibility);
        this.setIsExternalPlaylist(b.external_list);
        this.events = new NI(this);
        E(this, this.events);
        this.Wh = new Gr;
        E(this, this.Wh);
        this.Ih = new Gr;
        E(this, this.Ih);
        this.Ck = new rR;
        this.La = new SC(this);
        E(this, this.La);
        this.template = new eR(this);
        E(this, this.template);
        this.K = 1;
        this.ye = this.i.ub ? yja() : {
            volume: 100,
            muted: this.i.mute
        };
        this.S = this.i.l ? new jC(this, 1) : new uB(this, 1);
        E(this, this.S);
        c = {};
        this.Sa = (c.internalvideodatachange =
            this.CF, c.playbackready = this.EF, c.playbackstarted = this.FF, c.statechange = this.GF, c);
        this.D = Qpa(this);
        this.kb = new NI(this);
        E(this, this.kb);
        this.N("html5_enable_web_assembly") && this.D && mla(this.D).then(function(e) {
            d.i.ke = e
        });
        this.G = new PI(this.i, this.D);
        this.l = Rpa(this);
        c = {};
        this.yb = (c.airplayactivechange = this.wF, c.airplayavailabilitychange = this.xF, c.beginseeking = this.HC, c.endseeking = this.IC, c.internalAbandon = this.KC, c.internalaudioformatchange = this.GC, c.internalvideodatachange = this.Lr, c.internalvideoformatchange = this.OC, c.liveviewshift = this.SF, c.playbackstalledatstart = this.BG, c.progresssync = this.nG, c.onLoadProgress = this.TF, c.SEEK_COMPLETE = this.MC, c.SEEK_TO = this.vG, c.onVideoProgress = this.PC, c.onLoadedMetadata = this.VF,
            c.onDompaused = this.LF, c.playbackready = this.iG, c.statechange = this.CA, c.connectionissue = this.Fo, c.newelementrequired = this.fG, c.heartbeatparams = this.JC, c.videoelementevent = this.NC, c.drmoutputrestricted = this.MF, c.requestmediasource = this.rG, c.signatureexpired = this.xG, c.nonfatalerror = this.gG, c);
        this.X = new NI(this);
        E(this, this.X);
        c = 10;
        c = 3;
        DI(this.i) && (c = U(this.i.experiments, "tvhtml5_unplugged_preload_cache_size"));
        this.va = new SQ(c, function(e) {
            e !== P(d, e.getPlayerType()) && e.dispose()
        });
        E(this, this.va);
        this.Ta = this.Ka = -1;
        this.Ha = new dr(this.template.resize, 16, this.template);
        E(this, this.Ha);
        R(this.i.experiments, "embeds_enable_request_storage_access_safari_itp");
        this.U = new CQ(this.La, this.i, this.l);
        this.Z = new NP(this.La);
        E(this, this.Z);
        Yma(this.i.deviceParams.c);
        this.events.Ga(this.La, "crn_appapi", this.AF);
        this.events.Ga(this.La, "crx_appapi", this.BF);
        this.events.Ga(this.La, "crn_appad", this.cA);
        this.events.Ga(this.La, "crx_appad", this.cA);
        this.events.Ga(this.La, "crx_applooprange", this.Xq);
        this.events.Ga(this.La, "presentingplayerstatechange", this.LC);
        this.events.Ga(this.La, "resize", this.sG);
        this.template.Ua(Eg(a));
        this.events.Ga(this.La, "offlineslatestatechange", this.hG);
        this.qc = (R(this.i.experiments, "html5_enable_embedded_player_visibility_signals"), null);
        E(this, this.qc);
        this.i.zf && (this.N("woffle_orchestration") ? this.T = Spa(this) : Ema(), this.N("woffle_entity_key_deserialization_performance") && Ys(bt(), Nla));
        Tpa(this);
        this.G.tick("fs");
        Upa(this);
        this.C = null;
        TB(this.D.S.Y()) && xM(this.D,
            "music");
        this.N("web_player_sentinel_is_uniplayer") || ly(Error("Player flag missing: web_player_sentinel_is_uniplayer"));
        this.Cb = Vpa(this);
        if (a = U(this.i.experiments, "html5_block_pip_safari_delay")) this.bb = new dr(this.Nx, a, this), E(this, this.bb);
        this.i.N("embeds_enable_pem_cookie_blocking_killswitch") || (tv = this.i.kb);
        this.L()
    }
    v(cZ, C);

    function Vpa(a) {
        function b(c) {
            if (c.stack && -1 !== c.stack.indexOf("player"))(a.u || a.l).C.onError("player.exception", JA({
                n: c.name,
                m: c.message
            }))
        }
        cy.subscribe("handleError", b);
        As.push(b);
        return function() {
            cy.unsubscribe("handleError", b);
            var c = As.indexOf(b); - 1 !== c && As.splice(c, 1)
        }
    }

    function Spa(a) {
        return new qP(a.i, a.La, dZ(a, 9), function() {
            return a.xd()
        })
    }
    cZ.create = function(a, b, c) {
        try {
            var d = "string" === typeof a ? a : "player" + Pa(a),
                e = eZ[d];
            if (e) {
                try {
                    e.dispose()
                } catch (g) {
                    ky(g)
                }
                eZ[d] = null
            }
            var f = new cZ(a, b, c);
            Qf(f, function() {
                eZ[d] = null;
                f.Cb && f.Cb()
            });
            return eZ[d] = f
        } catch (g) {
            throw ky(g), g.stack;
        }
    };
    h = cZ.prototype;
    h.getVisibilityState = function(a, b, c, d, e, f) {
        return this.visibility.getVisibilityState(a, b, c, d, e, f)
    };

    function Rpa(a) {
        var b = dZ(a, 1);
        b.setPlaybackRate(fZ(a, Hja()));
        $C(b, a.Sa, a);
        return b
    }

    function gZ(a, b) {
        aD(a.l, a.Sa, a);
        var c = a.l.getPlaybackRate();
        a.l.dispose();
        a.l = b;
        a.l.setPlaybackRate(c);
        $C(b, a.Sa, a);
        hZ(a)
    }
    h.wt = function(a) {
        this.fb || (this.fb = Zy(a));
        return this.fb
    };

    function Qpa(a) {
        var b = new vM(a.La, "");
        Wpa(a, b);
        return b
    }

    function Wpa(a, b) {
        var c = {};
        c = (c.destroyed = function() {
            a.i.l && a.u ? a.La.Ja("onApiChange", a.u.getPlayerType()) : a.La.Ja("onApiChange")
        }, c);
        b.l = c
    }

    function PB(a, b) {
        var c = a.isVideoInfoVisible();
        a.J || (a.J = new vR(a.La), E(a, a.J), WC(a.La, a.J.element));
        var d = a.J;
        b ? d.show() : d.hide();
        iZ(a) && c !== b && KB(a.D).gV();
        a = a.u;
        b && a && a.Aa("sfn", "1", !0)
    }
    h.isVideoInfoVisible = function() {
        return !(!this.J || !this.J.u)
    };

    function jZ(a) {
        a.B = a.i.deviceHasDisplay ? tP.pop() || new MM(Og("VIDEO")) : new MM(Og("AUDIO"));
        E(a, a.B);
        a.u && CP(a.u, a.B);
        try {
            a.i.Ka ? (a.ya && a.events.xe(a.ya), a.ya = a.events.Ga(a.B, "volumechange", a.YF)) : (a.B.Bm(a.ye.muted), a.B.setVolume(a.ye.volume / 100))
        } catch (d) {
            a.ld("html5.missingapi", "UNSUPPORTED_DEVICE", "setvolume.1;emsg." + (d.message && d.message.replace(/[;:,]/g, "_")));
            return
        }
        YF(a.X);
        Xpa(a);
        var b = a.template;
        b.Xa = a.B.Cd();
        b.St = !1;
        b.Xa.parentNode || Rg(b.vf, b.Xa, 0);
        b.Oq = new Ml(0, 0, 0, 0);
        hR(b);
        fR(b);
        rr(b.Xa,
            "video-stream");
        rr(b.Xa, dR.MAIN_VIDEO);
        var c = b.app.Y();
        c.Bc && b.Xa.setAttribute("data-no-fullscreen", "true");
        c.Sc && (b.Xa.setAttribute("webkit-playsinline", ""), b.Xa.setAttribute("playsinline", ""));
        c.uh && b.Xa && b.Ga(b.Xa, "click", b.Xa.play, b.Xa);
        try {
            a.B.Jl()
        } catch (d) {
            a.ld("html5.missingapi", "UNSUPPORTED_DEVICE", "activate.1;emsg." + (d.message && d.message.replace(/[;:,]/g, "_")))
        }
    }
    h.kf = function() {
        if (this.B) {
            this.ya && (this.events.xe(this.ya), this.ya = null);
            YF(this.X);
            this.u && this.u.kf(!0);
            this.template.kf();
            if (!this.N("html5_unset_src_on_remove_killswitch")) try {
                this.B.Sq()
            } catch (a) {}
            this.B = null
        }
    };
    h.gi = function(a) {
        a = this.Bt(a);
        kZ(this, a)
    };

    function kZ(a, b) {
        if (a.u !== b) {
            a.L("start set presenting player, type " + b.getPlayerType() + ", vid " + b.getVideoData().videoId);
            var c = null;
            a.u && (c = a.u.getPlayerState(), a.L(), yM(a.D, 3), OB(a, "cuerangesremoved", a.u.Li()), a.Z && !b.isGapless() && a.u.isGapless() && a.B && a.B.stopVideo(), lZ(a));
            mZ(a, b);
            a.u = b;
            a.B && CP(b, a.B);
            $C(b, a.yb, a);
            b.D.C ? nZ(a, "setPresenting", !1) : (a.Lr("newdata", b, b.getVideoData()), c && !yQ(c, b.getPlayerState()) && a.CA(new vP(b.getPlayerState(), c)), b.T.isFinished() && a.Lr("dataloaded", b, b.getVideoData()),
                (c = (c = b.getVideoData().u) && c.video) && a.La.Ja("onPlaybackQualityChange", c.quality), OB(a, "cuerangesadded", a.u.Li()), c = b.getPlayerState(), Q(c, 2) ? oZ(a) : Q(c, 8) && b.playVideo(), a.L())
        }
    }

    function oZ(a) {
        var b = a.l.Dc();
        b && (b = b.Jn(), b instanceof Promise && b.catch(function() {}));
        pZ(a, BQ(a.Nd()))
    }

    function Xpa(a) {
        var b = a.B;
        cG() ? a.X.Ga(b, "webkitpresentationmodechanged", a.uG) : bG() && (a.X.Ga(b, "enterpictureinpicture", function() {
            a.Cm(!0)
        }), a.X.Ga(b, "leavepictureinpicture", function() {
            a.Cm(!1)
        }));
        Ke && (a.X.Ga(b, "webkitbeginfullscreen", function() {
            a.di(3)
        }), a.X.Ga(b, "webkitendfullscreen", function() {
            a.di(0)
        }))
    }

    function mZ(a, b) {
        if (b !== a.l) {
            var c = b.getPlayerType();
            a.ob[c] = b
        }
    }
    h.lj = function(a) {
        if (a = P(this, a)) this.L("release presenting player, type " + a.getPlayerType() + ", vid " + a.getVideoData().videoId), a !== this.l ? kZ(this, this.l) : lZ(this)
    };

    function lZ(a) {
        a.L();
        a.u && (a.u.kf(), aD(a.u, a.yb, a));
        a.u = null;
        a.L()
    }

    function P(a, b) {
        return b ? 1 === b ? a.l : a.getVideoData().enableServerStitchedDai && 2 === b ? a.u : a.ob[b] || null : a.u
    }
    h.Bt = function(a) {
        var b = P(this, a);
        b || (b = dZ(this, a), mZ(this, b));
        return b
    };

    function dZ(a, b) {
        var c = a.G;
        2 === b && (c = new PI(a.i));
        return new mY(a.i, b, c, a.template, function(d, e) {
            for (var f = [], g = 1; g < arguments.length; ++g) f[g - 1] = arguments[g];
            return a.Wh.W.apply(a.Wh, [d].concat(ha(f)))
        }, function() {
            return a.La.getVisibilityState()
        }, a.visibility)
    }

    function oC(a, b) {
        return a.Oc(b) ? a.l : b
    }

    function qZ(a, b) {
        var c = a.u;
        return c && b === a.l && a.Oc(b) && a.Oc(c) ? c : b
    }
    h.setIsExternalPlaylist = function() {
        this.rb = !1
    };

    function rZ(a) {
        a.L();
        var b = a.getVideoData(),
            c = 10 < b.lengthSeconds,
            d = a.D;
        d.Yx();
        xM(d, "attribution", void 0, !1, !0);
        xM(d, "embed");
        xM(d, "inline_preview");
        xM(d, "kids");
        xM(d, "remote");
        xM(d, "miniplayer");
        xM(d, "music");
        xM(d, "captions", void 0, !0);
        xM(d, "unplugged");
        xM(d, "ypc", void 0, !1, !0);
        xM(d, "ypc_clickwrap", void 0, !1, !0);
        xM(d, "yto", void 0, !1, !0);
        xM(d, "webgl", void 0, !1, !0);
        xM(d, "endscreen");
        d.Zx();
        xM(d, "creatorendscreen", void 0, !0);
        d.by();
        R(d.S.Y().experiments, "web_player_ux_module_wait") && d.cd.get("ux") &&
            d.S.Bd("ux");
        c && QL(b) && a.kb.Ga(a.La, "presentingplayerstatechange", a.kG);
        a.La.W("videoready", b)
    }
    h.EF = function() {
        iZ(this) || (this.L(), this.qj(5))
    };
    h.iG = function(a) {
        iZ(this) || (this.L(), sZ(this), EP(a.getPlayerState()) && this.playVideo())
    };
    h.canPlayType = function(a) {
        return $F(a)
    };
    h.Y = function() {
        return this.i
    };
    h.getVideoData = function() {
        return this.u.getVideoData()
    };
    h.Ht = function() {
        var a;
        return (null === (a = P(this)) || void 0 === a ? void 0 : a.xt()) || null
    };

    function LB(a) {
        return a.l.getVideoData()
    }
    h.getVideoLoadedFraction = function(a) {
        a = P(this, a);
        return a ? WL(a.getVideoData()) ? 1 : (a = a.Dc()) ? JM(a) : 0 : 0
    };
    h.Tb = function() {
        return this.template
    };
    h.Hb = function() {
        return this.D
    };
    h.Ul = function() {
        return this.G
    };
    h.Dm = function(a) {
        var b = P(this, 1);
        b && QP(b, a)
    };
    h.xd = function() {
        var a = this.D.It();
        a.fs = this.La.isFullscreen();
        a.volume = Math.round(this.La.getVolume());
        a.muted = this.La.isMuted() ? 1 : 0;
        a.mos = a.muted;
        R(this.i.experiments, "html5_enable_embedded_player_visibility_signals");
        this.u === this.l && this.I && (a.clipid = this.I.postId);
        return a
    };

    function tZ(a) {
        a = LB(a);
        a.isValid();
        return QL(a)
    }

    function Tpa(a) {
        var b = new pK(a.i, a.config.args);
        zy("yt-remote-session-screen-id") && b.J.push("remote");
        b.isValid() && (jP(a.l, b, function() {
            return a.xd()
        }), a.N("html5_androidtv_quic") && (b = window, "h5vcc" in b && "settings" in b.h5vcc && b.h5vcc.settings.set("QUIC", 1)), !R(a.i.experiments, "html5_delay_initial_loading") && tZ(a) && (a.i.tf || a.i.vb) && kP(a.l))
    }

    function Upa(a) {
        a.L();
        a.Ss();
        jZ(a);
        var b = LB(a);
        a.La.Ja("onVolumeChange", a.ye);
        kZ(a, a.l);
        if (!Q(a.l.getPlayerState(), 128)) {
            var c = Ria(a.i.deviceHasDisplay);
            "fmt.noneavailable" === c ? a.ld("html5.missingapi", "HTML5_NO_AVAILABLE_FORMATS_FALLBACK", "nocodecs.1") : "html5.missingapi" === c ? a.ld(c, "UNSUPPORTED_DEVICE", "nocanplaymedia.1") : b && b.isValid() && tZ(a) && (a.i.tf || a.i.vb) ? uZ(a) : Nja() ? (iw("embedsItpPlayedOnReload", {
                playedOnReload: !0,
                isLoggedIn: !!a.i.I
            }), Mja(!1), uZ(a)) : JI(a.i) || vZ(a);
            BI(a.i) ? (Ys(bt(), function() {
                    wZ(a)
                }),
                Ys(bt(), function() {
                    jz()
                })) : (wZ(a), jz());
            a.L()
        }
    }

    function wZ(a) {
        var b = a.getVideoData().botguardData;
        if (b) {
            var c = a.getVideoData().U || "";
            a = a.i.cspNonce;
            c = c ? "c1b" in pt(c) : !1;
            b.program && (CA.l ? 0 : !DA || 72E5 < K() - DA) && (dA("bg_i", "player_att"), CA.initialize(b, Dha, a, c))
        }
    }

    function vZ(a) {
        a.L();
        a.La.W("initializingmode");
        a.qj(2);
        xM(a.D, "remote");
        R(a.i.experiments, "player_cued_miniplayer_module_killswitch") || xM(a.D, "miniplayer");
        a.L()
    }

    function uZ(a) {
        a.L();
        if (Q(a.l.getPlayerState(), 128)) return !1;
        tZ(a) && a.i.vb && (tP.length && a.Co ? (EB(a, {
            muted: !1,
            volume: a.ye.volume
        }, !1), xZ(a, !1)) : tP.length || a.ye.muted || (EB(a, {
            muted: !0,
            volume: a.ye.volume
        }, !1), xZ(a, !0)));
        var b = a.l.getVideoData();
        b.pw && EB(a, {
            muted: !0,
            volume: a.ye.volume
        }, !1);
        yZ(a, 1, b, !1);
        a.La.W("initializingmode");
        kZ(a, a.l);
        a.qj(3);
        a.i.Wd || (a.kf(), jZ(a), CP(a.l, a.B));
        GY(a.l);
        if (Q(a.l.getPlayerState(), 128)) return !1;
        pZ(a, 3);
        return a.Jb = !0
    }

    function iZ(a) {
        a = KB(a.D);
        return !!a && a.loaded
    }
    h.Wf = function(a) {
        1 === a && (this.G.tick("vr"), this.ea || (this.ea = Wv(nz, this.fA, this)), $Y(this.u), QI(this.G, this.u.getVideoData(), zZ(this)));
        var b = this.i;
        (JI(b) && b.l || rI(b)) && (this.Oc() || this.La.Ja("onAdStateChange", a))
    };
    h.setLoopVideo = function(a) {
        this.u === this.l && bZ(this.u) !== a && (this.u.setLoop(a), this.La.W("loopchange", a))
    };
    h.getLoopVideo = function() {
        return bZ(this.u)
    };
    h.setLoopRange = function(a) {
        var b = !1;
        !!this.I !== !!a ? b = !0 : this.I && a && (b = this.I.startTimeMs !== a.startTimeMs || this.I.endTimeMs !== a.endTimeMs || this.I.postId !== a.postId);
        b && (this.l.K.Zh("applooprange"), a ? (b = new TI(a.startTimeMs, a.endTimeMs, {
            id: "looprange",
            namespace: "applooprange"
        }), this.l.addCueRange(b)) : LB(this).clipConfig = void 0, this.I = a, this.La.Ja("onLoopRangeChange", a), this.u === this.l && (this.Xq(), this.u.ol()))
    };
    h.getLoopRange = function() {
        return this.I
    };

    function AZ(a, b) {
        if (!a.I) return !1;
        var c = .001 * a.I.startTimeMs - 1;
        a = .001 * a.I.endTimeMs;
        return tg(b, c) || tg(b, a) || b >= c && b <= a
    }
    h.Xq = function() {
        this.I && this.u === this.l && !AZ(this, this.l.getCurrentTime()) && (Q(this.l.getPlayerState(), 64) && LB(this).isLivePlayback && 5E3 > this.I.startTimeMs || this.l.seekTo(.001 * this.I.startTimeMs, {
            dd: "application_loopRangeStart"
        }))
    };
    h.setPlaybackRate = function(a, b) {
        isNaN(a) || (a = fZ(this, a), this.l.getPlaybackRate() !== a && (this.l.setPlaybackRate(a), b && Gja(a), this.La.Ja("onPlaybackRateChange", a)))
    };

    function fZ(a, b) {
        var c = a.La.getAvailablePlaybackRates();
        b = Number(b.toFixed(2));
        a = c[0];
        c = c[c.length - 1];
        b <= a ? b = a : b >= c ? b = c : (a = Math.floor(100 * b + .001) % 5, b = 0 === a ? b : Math.floor(100 * (b - .01 * a) + .001) / 100);
        return b
    }
    h.getCurrentTime = function(a, b) {
        b = void 0 === b ? !0 : b;
        if (3 === this.getPresentingPlayerType()) return KB(this.D).getCurrentTime();
        var c = 2 === a && this.getVideoData().enableServerStitchedDai;
        a = c ? P(this) : P(this, a);
        if (!a) return 0;
        if (b) {
            if (c && this.C && (b = this.C.Qa / 1E3, 0 !== b)) return b;
            b = qZ(this, a);
            return pC(this, b.getCurrentTime(), b)
        }
        c && this.C ? (b = a.getCurrentTime(), b = (c = gQ(this.C, 1E3 * b)) ? b - c.start / 1E3 : b) : b = a.getCurrentTime();
        return b
    };
    h.cm = function() {
        var a = P(this, void 0);
        if (!a) return 0;
        a = qZ(this, a);
        return pC(this, a.cm(), a)
    };
    h.getDuration = function(a, b) {
        b = void 0 === b ? !0 : b;
        var c = 2 === a && this.getVideoData().enableServerStitchedDai;
        a = c ? P(this) : P(this, a);
        if (!a) return 0;
        if (b) return b = oC(this, a), pC(this, b.getDuration(), b);
        c && this.C ? (b = a.getCurrentTime(), b = (b = TC(this.C, 1E3 * b)) ? b.durationMs / 1E3 : 0) : b = a.getDuration();
        return b
    };
    h.getMinSeekableTime = function(a) {
        a = P(this, a);
        if (!a) return 0;
        a = oC(this, a);
        return pC(this, a.getMinSeekableTime(), a)
    };
    h.getIngestionTime = function(a) {
        var b = P(this, a);
        return b ? this.Oc(b) ? (b = oC(this, b), b.getIngestionTime() - b.getCurrentTime() + this.getCurrentTime(a)) : b.getIngestionTime() : 0
    };

    function pC(a, b, c) {
        if (a.Oc(c)) {
            c = c.getVideoData();
            if (a.C) c = b;
            else {
                a = a.U;
                for (var d = t(a.i), e = d.next(); !e.done; e = d.next())
                    if (e = e.value, c.Zb === e.Zb) {
                        b += e.Nb / 1E3;
                        break
                    } d = b;
                a = t(a.i);
                for (e = a.next(); !e.done; e = a.next()) {
                    e = e.value;
                    if (c.Zb === e.Zb) break;
                    var f = e.Nb / 1E3;
                    if (f < b) d += e.durationMs / 1E3 + f - e.xc / 1E3;
                    else break
                }
                c = d
            }
            return c
        }
        return b
    }
    h.Ss = function() {
        this.template.Ss();
        var a = this.S;
        a.element = this.template.element;
        var b = a.element,
            c;
        for (c in a.l) a.l.hasOwnProperty(c) && (b[c] = a.l[c]);
        (a = rs(this.template.element)) && this.events.Ga(this.template, a, this.OF);
        this.events.Ga(window, "resize", this.tG)
    };
    h.getDebugText = function(a) {
        var b = this.l.wb(a);
        if (this.u && this.u !== this.l) {
            for (var c = this.u.wb(a), d = t(Object.keys(c)), e = d.next(); !e.done; e = d.next()) e = e.value, b["ad" + e] = c[e];
            if (a) {
                c = b;
                d = {};
                if (e = Eg("movie_player")) d.bounds = e.getBoundingClientRect(), d["class"] = e.className;
                e = {};
                var f = Fg("video-ads");
                f ? (BZ(f, e), e.html = f.outerHTML) : e.missing = 1;
                f = {};
                var g = Fg("videoAdUiSkipContainer"),
                    k = Fg("ytp-ad-skip-button-container"),
                    l = g || k;
                l ? (BZ(l, f), f.ima = g ? 1 : 0, f.bulleit = k ? 1 : 0) : f.missing = 1;
                d = JSON.stringify({
                    player: d,
                    videoAds: e,
                    skipButton: f
                });
                c.ad_skipBtnDbgInfo = d
            }
        }
        a && this.B && (c = b, d = this.B.hn(), c["0sz"] = 0 === d.width * d.height, b.op = this.B.Yp("opacity"), c = this.B.Oi().y + this.B.hn().height, b.yof = 0 >= c, b.dis = this.B.Yp("display"));
        (a = a ? yB() : null) && (b.gpu = a);
        b.cgr = !0;
        b.debug_playbackQuality = this.La.getPlaybackQuality(1);
        b.debug_date = (new Date).toString();
        delete b.uga;
        delete b.q;
        return JSON.stringify(b, null, 2)
    };
    h.getFeedbackProductData = function() {
        var a = {
                player_debug_info: this.getDebugText(!0),
                player_experiment_ids: this.Y().experiments.experimentIds.join(", ")
            },
            b = this.Nd().getData();
        b && (a.player_error_code = b.errorCode, a.player_error_details = JSON.stringify(b.errorDetail));
        return a
    };
    h.getPresentingPlayerType = function(a) {
        var b;
        return 1 === this.K ? 1 : iZ(this) ? 3 : a && (null === (b = this.C) || void 0 === b ? 0 : b.isAdPlaying(this.getCurrentTime())) ? 2 : P(this).getPlayerType()
    };
    h.Nd = function(a) {
        return 3 === this.getPresentingPlayerType() ? KB(this.D).vE() : P(this, a).getPlayerState()
    };

    function AB(a, b) {
        var c;
        return 3 === a.getPresentingPlayerType() ? BQ(KB(a.D).vE()) : a.getVideoData().enableServerStitchedDai && 2 === b ? (null === (c = a.C) || void 0 === c ? 0 : c.isAdPlaying(a.getCurrentTime())) ? a.Ka : -1 : 2 !== b || a.Oc() ? a.Ka : a.Ta
    }
    h.getAppState = function() {
        return this.K
    };
    h.NC = function(a) {
        switch (a.type) {
            case "loadedmetadata":
                cA("fvb", this.G.timerName) || this.G.tick("fvb");
                dA("fvb", "video_to_ad");
                this.Ha.start();
                break;
            case "loadstart":
                cA("gv", this.G.timerName) || this.G.tick("gv");
                dA("gv", "video_to_ad");
                break;
            case "progress":
            case "timeupdate":
                !cA("l2s", this.G.timerName) && 2 <= jG(a.target.me()) && this.G.tick("l2s");
                break;
            case "playing":
                pe && this.Ha.start()
        }
    };
    h.TF = function(a, b) {
        this.La.Ja("onLoadProgress", b)
    };
    h.BG = function() {
        this.La.W("playbackstalledatstart")
    };
    h.PC = function(a, b) {
        a = qZ(this, a);
        b = pC(this, a.getCurrentTime(), a);
        this.La.Ja("onVideoProgress", b)
    };
    h.LF = function() {
        this.La.Ja("onDompaused")
    };
    h.nG = function() {
        this.La.W("progresssync")
    };
    h.GF = function(a) {
        if (1 === this.getPresentingPlayerType()) {
            iN(a, 1) && !Q(a.state, 64) && LB(this).isLivePlayback && this.l.isAtLiveHead() && 1 < this.La.getPlaybackRate() && this.setPlaybackRate(1, !0);
            iN(a, 2) && oZ(this);
            if (Q(a.state, 128)) {
                var b = a.state;
                this.cancelPlayback(5);
                b = b.getData();
                JSON.stringify({
                    errorData: b,
                    debugInfo: this.getDebugText(!0)
                });
                this.La.Ja("onError", $A[b.errorCode] || 5);
                this.La.Ja("onDetailedError", {
                    errorCode: b.errorCode,
                    errorDetail: b.errorDetail,
                    message: b.errorMessage,
                    messageKey: b.ry
                });
                6048E5 <
                    K() - this.i.ea && this.La.Ja("onReloadRequired")
            }
            b = {};
            if (a.state.Kc() && !AQ(a.state) && !cA("pbresume", "ad_to_video") && cA("_start", "ad_to_video")) {
                var c = this.getVideoData();
                b.clientPlaybackNonce = c.clientPlaybackNonce;
                c.videoId && (b.videoId = c.videoId);
                aA(b, "ad_to_video");
                Zz("pbresume", void 0, "ad_to_video")
            }
            this.La.W("applicationplayerstatechange", a)
        }
    };
    h.CA = function(a) {
        3 !== this.getPresentingPlayerType() && this.La.W("presentingplayerstatechange", a)
    };
    h.LC = function(a) {
        pZ(this, BQ(a.state));
        Q(a.state, 1024) && this.La.isMutedByMutedAutoplay() && (EB(this, {
            muted: !1,
            volume: this.ye.volume
        }, !1), xZ(this, !1))
    };
    h.kG = function(a) {
        a.state.Kc() && !AQ(a.state) && YF(this.kb)
    };

    function hZ(a) {
        a.L();
        CZ(a);
        a.setLoopVideo(!1);
        a.setLoopRange(null);
        a.Qa = {};
        var b = a.G;
        if (b.i) {
            var c = b.i;
            c.i = {};
            c.Fn = {}
        }
        b.l = !1;
        a.C ? (b = a.C, a = a.l, a.getPlayerType(), b.L(), hQ(b, !1), kQ(b), b.i = a) : (b = a.U, a = a.l, 1 !== a.getPlayerType() && b.Fc("e.invalidParentVideoPlayerType"), b.L(), MQ(b, !1), QQ(b), b.l = a)
    }
    h.CF = function(a, b, c) {
        "newdata" === a && hZ(this);
        b = c.clipConfig;
        "dataloaded" === a && b && null != b.startTimeMs && null != b.endTimeMs && this.setLoopRange({
            startTimeMs: Math.floor(Number(b.startTimeMs)),
            endTimeMs: Math.floor(Number(b.endTimeMs)),
            postId: b.postId
        })
    };
    h.GC = function() {
        this.La.Ja("onPlaybackAudioChange", this.La.getAudioTrack().Ob.name)
    };
    h.OC = function(a) {
        var b = this.u.getVideoData();
        a === b && this.La.Ja("onPlaybackQualityChange", a.u.gb().quality)
    };
    h.Lr = function(a, b, c) {
        this.L("on video data change " + a + ", player type " + b.getPlayerType() + ", vid " + c.videoId);
        b === this.l && (this.i.fb = c.oauthToken);
        this.getVideoData().enableServerStitchedDai && !this.C ? this.C = new XP(this.La, this.i, this.l) : !this.getVideoData().enableServerStitchedDai && this.C && (this.C = null);
        if ("newdata" === a) this.L(), yM(this.D, 2), this.La.W("videoplayerreset", b);
        else {
            if (!this.B) return;
            if ("dataloaded" === a)
                if (this.u === this.l)
                    if (gC(c.B, c.mx), this.L(), this.l.getPlayerState().isError()) this.L();
                    else {
                        var d = iZ(this);
                        LB(this).isLoaded();
                        d && this.qj(6);
                        rZ(this);
                        d || (d = HB(this.D)) && !d.created && wM(this.D) && d.create()
                    }
            else rZ(this);
            1 === b.getPlayerType() && (this.i.ra && DZ(this), this.getVideoData().isLivePlayback && !this.i.Ag && this.ld("html5.unsupportedlive", "DEVICE_FALLBACK"), c.isLoaded() && (c.Vd || c.Ds || c.Jj || c.G.focEnabled || c.G.rmktEnabled || this.getVideoData().wj) && (d = this.getVideoData(), EZ(this, "part2viewed", 1, 0x8000000000000), EZ(this, "engagedview", Math.max(1, 1E3 * d.bb), 0x8000000000000), d.isLivePlayback ||
                (d = 1E3 * d.lengthSeconds, EZ(this, "videoplaytime25", .25 * d, d), EZ(this, "videoplaytime50", .5 * d, d), EZ(this, "videoplaytime75", .75 * d, d), EZ(this, "videoplaytime100", d, 0x8000000000000), EZ(this, "conversionview", d, 0x8000000000000))));
            this.La.W("videodatachange", a, c, b.getPlayerType())
        }
        this.La.Ja("onVideoDataChange", {
            type: a,
            playertype: b.getPlayerType()
        });
        this.Xq();
        if (b = c.Po) {
            if (a = this.Ck, c = c.clientPlaybackNonce, a.clientPlaybackNonce !== c) {
                a.clientPlaybackNonce = c;
                c = b;
                b = nR();
                var e = void 0 === e ? {} : e;
                Object.values(bna).includes(c) ||
                    (ly(new lw("createClientScreen() called with a non-page VE", c)), c = 83769);
                e.isHistoryNavigation || b.i.push({
                    rootVe: c,
                    key: e.key || ""
                });
                b.B = [];
                b.C = [];
                e.ly ? dna(b, c, e) : qR(b, c, e);
                sR(a)
            }
        } else sR(this.Ck)
    };
    h.Ms = function() {
        this.playlist && (this.playlist.unsubscribe("error", this.Ms, this), Of(this.playlist), this.playlist = null);
        this.La.Ja("onPlaylistUpdate")
    };

    function EZ(a, b, c, d) {
        b in a.Qa || (c = new TI(c, d, {
            id: b,
            priority: 1,
            namespace: "appad"
        }), a.l.addCueRange(c), a.Qa[b] = c)
    }

    function FZ(a, b) {
        if (!(b in a)) return !1;
        a = a[b];
        Array.isArray(a) || (a = [a]);
        a.forEach(function(c) {
            var d = void 0 === d ? !1 : d;
            if (!(d = lB(mB(c, Lha, null), c, d, "Active View 3rd Party Integration URL"))) {
                var e = void 0 === e ? !1 : e;
                d = lB(mB(c, Mha, null), c, e, "Google/YouTube Brand Lift URL")
            }
            if (!(e = d)) {
                var f = void 0 === f ? !1 : f;
                e = lB(mB(c, Sha, null), c, f, "Nielsen OCR URL")
            }
            Lu(c, void 0, e)
        });
        return !0
    }
    h.cA = function(a) {
        var b = a.getId(),
            c = LB(this);
        if ("part2viewed" === b) c.wx && Lu(c.wx), c.Ds && GZ(this, c.Ds), c.Jj && HZ(this, c.Jj);
        else if ("conversionview" === b) {
            var d = this.l.C;
            d.i && uW(d.i)
        } else "engagedview" === b && Lu(c.Vd);
        c.xx && (d = a.getId(), d = tt(c.xx, {
            label: d
        }), Lu(d));
        switch (b) {
            case "videoplaytime25":
                c.tx && GZ(this, c.tx);
                c.Rs && HZ(this, c.Rs);
                c.zx && Lu(c.zx);
                break;
            case "videoplaytime50":
                c.ux && GZ(this, c.ux);
                c.kt && HZ(this, c.kt);
                c.Dy && Lu(c.Dy);
                break;
            case "videoplaytime75":
                c.vx && GZ(this, c.vx);
                c.Rt && HZ(this, c.Rt);
                c.Fz &&
                    Lu(c.Fz);
                break;
            case "videoplaytime100":
                c.nx && GZ(this, c.nx), c.Js && HZ(this, c.Js), c.yx && Lu(c.yx)
        }(b = this.getVideoData().wj) && FZ(b, a.getId()) && FZ(b, a.getId() + "gaia");
        this.l.removeCueRange(a)
    };
    h.qj = function(a) {
        a !== this.K && (this.L(), 2 === a && 1 === this.getPresentingPlayerType() && (pZ(this, -1), pZ(this, 5)), this.K = a, this.La.W("appstatechange", a))
    };

    function pZ(a, b) {
        a.L();
        if (a.u) {
            var c = a.u.getPlayerType();
            if (2 === c && !a.Oc()) {
                a.Ta !== b && (a.Ta = b, a.La.Ja("onAdStateChange", b));
                return
            }
            if (2 === c && a.Oc() || 5 === c || 6 === c || 7 === c)
                if (-1 === b || 0 === b || 5 === b) return
        }
        a.Ka !== b && (a.Ka = b, a.La.Ja("onStateChange", b))
    }
    h.ld = function(a, b, c, d) {
        this.l.Rd(a, b, c, d)
    };
    h.Qo = function(a, b) {
        this.l.handleError(new IA(a, !1, b))
    };
    h.isAtLiveHead = function(a, b) {
        b = void 0 === b ? !1 : b;
        var c = P(this, a);
        if (!c) return !1;
        a = oC(this, c);
        c = qZ(this, c);
        return a !== c ? a.isAtLiveHead(pC(this, c.getCurrentTime(), c), !0) : a.isAtLiveHead(void 0, b)
    };
    h.Mi = function() {
        var a = P(this, void 0);
        return a ? oC(this, a).Mi() : 0
    };
    h.seekTo = function(a, b, c, d) {
        b = !1 !== b;
        if (d = P(this, d)) 2 === this.K && uZ(this), this.Oc(d) ? this.C ? this.C.seekTo(a, b, c) : this.U.seekTo(a, b, c) : d.seekTo(a, {
            AB: !b,
            BB: c,
            dd: "application"
        })
    };
    h.seekBy = function(a, b, c, d) {
        this.seekTo(this.getCurrentTime() + a, b, c, d)
    };
    h.MC = function() {
        this.La.Ja("SEEK_COMPLETE")
    };
    h.vG = function(a, b) {
        var c = a.getVideoData();
        if (1 === this.K || 2 === this.K) c.startSeconds = b;
        2 === this.K ? this.N("embeds_enable_preloadvideobyplayervars_startseconds_fix") && Q(a.getPlayerState(), 512) || uZ(this) : this.La.Ja("SEEK_TO", b)
    };
    h.wF = function() {
        this.La.W("airplayactivechange")
    };
    h.xF = function() {
        this.La.W("airplayavailabilitychange")
    };
    h.HC = function() {
        this.La.W("beginseeking")
    };
    h.IC = function() {
        this.La.W("endseeking")
    };
    h.getStoryboardFormat = function(a) {
        return (a = P(this, a)) ? oC(this, a).getVideoData().getStoryboardFormat() : null
    };
    h.Qi = function(a) {
        return (a = P(this, a)) ? oC(this, a).getVideoData().Qi() : null
    };
    h.Oc = function(a) {
        if (a = a || this.u) {
            a = a.getVideoData();
            if (this.C) a = a === this.C.i.getVideoData();
            else a: {
                var b = this.U;
                if (a === b.l.getVideoData() && b.i.length) a = !0;
                else {
                    b = t(b.i);
                    for (var c = b.next(); !c.done; c = b.next())
                        if (a.Zb === c.value.Zb) {
                            a = !0;
                            break a
                        } a = !1
                }
            }
            if (a) return !0
        }
        return !1
    };
    h.Kl = function(a, b, c, d, e, f) {
        this.L();
        a = this.C ? $P(this.C, a, b, c, d, e, f) : Uma(this.U, a, b, c, d, e);
        this.L();
        return a
    };
    h.Zn = function(a, b, c, d, e, f) {
        this.C && ($P(this.C, a, b, c, d, e, f), this.L());
        return ""
    };
    h.Sk = function(a) {
        var b;
        null === (b = this.C) || void 0 === b ? void 0 : b.Sk(a)
    };
    h.ek = function(a, b) {
        a = void 0 === a ? -1 : a;
        b = void 0 === b ? Infinity : b;
        this.C ? R(this.i.experiments, "web_player_ssdai_prevent_clearing_timeline_killswitch") && kQ(this.C, a, b) : QQ(this.U, a, b)
    };
    h.Nm = function(a, b, c) {
        if (this.C) {
            var d = this.C,
                e = c;
            c = null;
            for (var f = t(d.B), g = f.next(); !g.done; g = f.next())
                if (g = g.value, g.Zb === a) {
                    c = g;
                    break
                } c ? (d.L(), void 0 === e && (e = c.xc), a = c, d.L(), a.durationMs = b, a.xc = e, R(d.l.experiments, "web_player_ssdai_prevent_updating_ad_cuerange_killswitch") && lQ(d, c)) : d.Fc("Invalid timelinePlaybackId=" + a + " specified")
        } else {
            d = this.U;
            e = null;
            f = t(d.i);
            for (g = f.next(); !g.done; g = f.next())
                if (g = g.value, g.Zb === a) {
                    e = g;
                    break
                } e ? (d.L(), void 0 === c && (c = e.xc), RQ(d, e, b, c)) : d.Fc("e.InvalidTimelinePlaybackId timelinePlaybackId=" +
                a)
        }
    };
    h.enqueueVideoByPlayerVars = function(a, b, c, d) {
        c = void 0 === c ? Infinity : c;
        d = void 0 === d ? "" : d;
        this.Oc();
        a = new pK(this.i, a);
        d && (a.Zb = d);
        !R(this.i.experiments, "html5_report_dai_ad_playback_killswitch") && 2 === b && this.l && DW(this.l.C, a.clientPlaybackNonce, a.qc || "", a.breakType || 0);
        Ypa(this, a, b, c)
    };

    function Ypa(a, b, c, d) {
        d = void 0 === d ? Infinity : d;
        a.L();
        c = c || a.u.getPlayerType();
        var e;
        R(a.i.experiments, "html5_gapless_preloading") && (e = yZ(a, c, b, !0));
        e || (e = dZ(a, c), jP(e, b, function() {
            return a.xd()
        }));
        a.Hp(e, d)
    }
    h.Hp = function(a, b, c) {
        var d = this;
        c = void 0 === c ? 0 : c;
        var e = P(this);
        e && (oC(this, e).cf = !0);
        Lma(this.Z, a, b, c).then(function() {
            d.La.Ja("onQueuedVideoLoaded")
        }, function() {})
    };
    h.jm = function() {
        return this.Z.jm()
    };
    h.clearQueue = function() {
        this.L();
        this.Z.clearQueue()
    };
    h.loadVideoByPlayerVars = function(a, b, c, d, e) {
        var f;
        c = !1;
        this.N("html5_onesie_early_loadVideo") && (b = b || 1);
        a = new pK(this.i, a);
        var g = null !== (f = a.ra) && void 0 !== f ? f : "";
        this.G.timerName = g;
        if (!this.N("web_player_load_video_context_killswitch") && e) {
            for (; a.Sf.length && a.Sf[0].isExpired();) a.Sf.shift();
            c = a.Sf.length - 1;
            c = 0 < c && IZ(e, a.Sf[c]) && IZ(e, a.Sf[c - 1]);
            a.Sf.push(e)
        }
        b = this.xo(a, b, d);
        c && this.ld("player.fatalexception", "GENERIC_WITH_LINK_AND_CPN", ("loadvideo.1;emsg." + a.Sf.join()).replace(/[;:,]/g, "_"));
        return b
    };
    h.preloadVideoByPlayerVars = function(a, b, c, d, e) {
        b = void 0 === b ? 1 : b;
        c = void 0 === c ? NaN : c;
        e = void 0 === e ? "" : e;
        d = gB(a);
        d = JZ(b, d, e);
        this.va.get(d) ? this.L() : this.u && this.u.T.started && d === JZ(this.u.getPlayerType(), this.u.getVideoData().videoId, this.u.getVideoData().Zb) ? this.L() : (a = new pK(this.i, a), e && (a.Zb = e), Zpa(this, a, b, c))
    };

    function Zpa(a, b, c, d) {
        var e = JZ(c, b.videoId, b.Zb);
        a.L();
        b.kb = !0;
        var f = a.u && e === JZ(a.u.getPlayerType(), a.u.getVideoData().videoId, a.u.getVideoData().Zb) ? a.u : dZ(a, c);
        jP(f, b, function() {
            return a.xd()
        });
        1 === c && DI(a.i) || kP(f, !0);
        a.va.set(e, f, d || 3600)
    }

    function JZ(a, b, c) {
        return a + "_" + b + "_" + c
    }

    function yZ(a, b, c, d) {
        if (!f) {
            var e = JZ(b, c.videoId, c.Zb);
            var f = a.va.get(e);
            if (!f) return null;
            a.va.remove(e);
            if (Q(f.getPlayerState(), 128)) return f.dispose(), null
        }
        if (f === P(a, b)) return f;
        if ((f.getVideoData().oauthToken || c.oauthToken) && f.getVideoData().oauthToken !== c.oauthToken) return null;
        d || a.zp(f);
        return f
    }
    h.zp = function(a) {
        var b = a.getPlayerType();
        a !== P(this, b) && (1 === a.getPlayerType() ? (a.getVideoData().autonavState = this.l.getVideoData().autonavState, gZ(this, a)) : (b = P(this, b)) && b.dispose(), this.u.getPlayerType() === a.getPlayerType() ? kZ(this, a) : mZ(this, a))
    };
    h.setMinimized = function(a) {
        this.visibility.setMinimized(a);
        a = this.D;
        a = a.S.Y().showMiniplayerUiWhenMinimized ? a.cd.get("miniplayer") : void 0;
        a && (this.bf() ? a.load() : a.unload());
        this.La.W("minimized")
    };
    h.setInline = function(a) {
        this.visibility.setInline(a)
    };
    h.setInlinePreview = function(a) {
        this.visibility.setInline(a);
        a = this.D;
        a = a.S.Y().showInlinePreviewUi ? a.cd.get("inline_preview") : void 0;
        a && (this.isInline() ? a.load() : a.unload(), this.La.Ja("onInlinePreviewModeChange"))
    };
    h.Cm = function(a) {
        var b = R(this.i.experiments, "html5_block_pip_non_mse") && "undefined" === typeof MediaSource,
            c = this.i.zb && R(this.i.experiments, "html5_block_pip_with_events") || b;
        a && c && this.getVideoData() && !this.getVideoData().backgroundable ? this.bb && b ? this.bb.start() : this.Nx() : this.visibility.Cm(a)
    };
    h.Nx = function() {
        var a, b = null === (a = this.B) || void 0 === a ? void 0 : a.Cd();
        b && os(b).catch(function(c) {
            return ly(c)
        })
    };
    h.setImmersivePreview = function(a) {
        this.visibility.setImmersivePreview(a)
    };
    h.uG = function() {
        "picture-in-picture" === this.B.Cd().webkitPresentationMode ? this.Cm(!0) : this.Cm(!1)
    };
    h.togglePictureInPicture = function() {
        var a = P(this);
        a && a.togglePictureInPicture()
    };
    h.xo = function(a, b, c) {
        var d = this;
        this.L();
        cA("_start", this.G.timerName) || (bka(this.G), this.G.info("srt", 0));
        b = b || this.u.getPlayerType();
        var e = yZ(this, b, a, !1);
        !e && this.N("html5_onesie_early_loadVideo") && (e = dZ(this, b), jP(e, a, function() {
            return d.xd()
        }, c), this.N("html5_onesie") && AY(e) && kP(e), this.Ha.stop(), this.cancelPlayback(4, b), 1 === b && gZ(this, e), kZ(this, e));
        if (!e) {
            e = P(this, b);
            if (!e) return !1;
            this.Ha.stop();
            this.cancelPlayback(4, b);
            jP(e, a, function() {
                return d.xd()
            }, c)
        }
        e === this.l && (this.i.fb = a.oauthToken);
        if (!AY(e)) return !1;
        this.Ma && (this.Ma = e.D.D = !1);
        if (e === this.l) return this.qj(1), uZ(this);
        GY(e);
        return !0
    };

    function BB(a, b, c) {
        c = P(a, c);
        b && c === a.l && (c.getVideoData().zf = !0)
    }
    h.cueVideoByPlayerVars = function(a, b) {
        b || (b = this.getPresentingPlayerType());
        1 === b && this.Ms();
        a = new pK(this.i, a);
        KZ(this, a, b)
    };

    function KZ(a, b, c) {
        a.L();
        var d = P(a, c);
        d && (a.cancelPlayback(4, c), jP(d, b, function() {
            return a.xd()
        }), 2 === c && a.l && DW(a.l.C, b.clientPlaybackNonce, b.qc || "", b.breakType || 0), d === a.l && (a.qj(1), vZ(a)));
        a.L()
    }
    h.jw = function(a, b, c, d, e, f) {
        if (!a && !c) throw Error("Playback source is invalid");
        if (mI(this.i) || EI(this.i)) return b = b || {}, b.lact = jt(), b.vis = this.La.getVisibilityState(), this.La.Ja("onPlayVideo", {
            videoId: a,
            watchEndpoint: f,
            sessionData: b,
            listId: c
        }), !1;
        b = this.G;
        b.i && (e = b.i, e.i = {}, e.Fn = {});
        b.l = !1;
        this.G.reset();
        a = {
            video_id: a
        };
        d && (a.autoplay = "1");
        d && (a.autonav = "1");
        c ? (a.list = c, this.loadPlaylist(a)) : this.loadVideoByPlayerVars(a, 1);
        return !0
    };
    h.cuePlaylist = function() {};
    h.loadPlaylist = function() {};
    h.nextVideo = function() {};
    h.previousVideo = function() {};
    h.playVideoAt = function(a) {
        if (this.rb) this.La.Ja("onPlaylistIndex", a);
        else if (this.playlist) {
            this.playlist.loaded && this.xo(this.playlist.gb(), 1);
            var b = this.playlist;
            b.index = rg(a, 0, b.length - 1);
            b.startSeconds = 0
        }
    };
    h.getPlaylist = function() {
        return null
    };

    function LZ() {
        var a = Ja("yt.www.watch.lists.getState");
        return a ? a() : null
    }
    h.Ct = function() {
        return null
    };

    function NB(a, b, c, d, e, f) {
        b = {
            id: b,
            namespace: "appapi"
        };
        "chapter" === f ? (b.style = SI.CHAPTER_MARKER, b.visible = !0) : isNaN(e) || ("ad" === f ? b.style = SI.AD_MARKER : (b.style = SI.TIME_MARKER, b.color = e), b.visible = !0);
        a.zn([new TI(1E3 * c, 1E3 * d, b)], 1);
        return !0
    }
    h.AF = function(a) {
        this.La.Ja("onCueRangeEnter", a.getId())
    };
    h.BF = function(a) {
        this.La.Ja("onCueRangeExit", a.getId())
    };
    h.zn = function(a, b) {
        var c = P(this, b);
        c && (c.zn(a), b && this.getPresentingPlayerType() !== b || OB(this, "cuerangesadded", a))
    };
    h.tv = function(a, b) {
        var c = P(this, b);
        c && (c.tv(a), b && this.getPresentingPlayerType() !== b || OB(this, "cuerangesremoved", a))
    };
    h.FF = function() {
        var a = this;
        this.getPresentingPlayerType();
        this.ea || (this.ea = Wv(nz, this.fA, this));
        QI(this.G, this.u.getVideoData(), zZ(this));
        tZ(this);
        this.La.Ja("onPlaybackStartExternal");
        R(this.i.experiments, "mweb_client_log_screen_associated");
        (function() {
            var c = Xx(a.zb || (a.bf() ? 3 : 0));
            if (c) {
                var d = {
                    cpn: a.getVideoData().clientPlaybackNonce,
                    csn: c
                };
                if (R(a.i.experiments, "web_playback_associated_ve") && a.getVideoData().Fa) {
                    var e = Rx(a.getVideoData().Fa);
                    sy(c, e, void 0);
                    d.playbackVe = e.getAsJson()
                }
                R(a.i.experiments,
                    "kevlar_playback_associated_queue") && a.getVideoData().queueInfo && (d.queueInfo = a.getVideoData().queueInfo);
                c = {};
                a.N("web_playback_associated_log_ctt") && a.getVideoData().Z && (c.wd = {
                    token: a.getVideoData().Z,
                    videoId: a.getVideoData().videoId
                });
                iw("playbackAssociated", d, c)
            }
        })();
        Wz("player_att", ["att_f", "att_e"]);
        if (this.N("web_player_inline_botguard")) {
            var b = this.getVideoData().botguardData;
            b && (this.N("web_player_botguard_inline_skip_config_killswitch") && (xs("BG_I", b.interpreterScript), xs("BG_IU", b.interpreterUrl), xs("BG_P", b.program)), BI(this.i) ? Ys(bt(), function() {
                wZ(a)
            }) : wZ(this))
        }
        this.Xq()
    };
    h.KC = function() {
        this.La.W("internalAbandon");
        this.N("html5_ad_module_cleanup_killswitch") || CZ(this)
    };
    h.fA = function(a) {
        a = a.i;
        if (!isNaN(a) && 0 < a && this.l) {
            var b = this.l.C;
            b.qoe && 0 < a && (b.qoe.l.aft = [a.toString()])
        }
    };

    function zZ(a) {
        var b = K(),
            c = a.getCurrentTime();
        a = a.getVideoData();
        c = 1E3 * (c - a.startSeconds);
        a.isLivePlayback && (c = 0);
        return b - Math.max(c, 0)
    }
    h.YF = function() {
        var a = this.B;
        a = {
            volume: rg(Math.floor(100 * a.getVolume()), 0, 100),
            muted: a.Sp()
        };
        a.muted || xZ(this, !1);
        this.ye = gc(a);
        this.La.Ja("onVolumeChange", a)
    };

    function EB(a, b, c) {
        a.i.ra && (a.ye = b, b.muted || xZ(a, !1), c && a.i.ub && !a.i.Ka && xja({
            volume: Math.floor(b.volume),
            muted: b.muted
        }), sZ(a), c = Ne && a.B && !a.B.oe(), !a.i.Ka || c) && (b = gc(b), a.i.ub || (b.unstorable = !0), a.La.Ja("onVolumeChange", b))
    }

    function sZ(a) {
        var b = a.getVideoData();
        if (!b.Ic) {
            b = a.i.Ka ? 1 : SL(b);
            var c = a.B;
            c.Bm(a.ye.muted);
            try {
                c.setVolume(a.ye.volume * b / 100)
            } catch (d) {
                ly(new lw("b183742307", "multiplier: " + b + ", volume: " + a.ye.volume))
            }
        }
    }

    function xZ(a, b) {
        b !== a.Co && (a.Co = b, a.La.Ja("onMutedAutoplayChange", b))
    }
    h.mutedAutoplay = function() {
        var a = this.getVideoData().videoId;
        a && (this.loadVideoByPlayerVars({
            video_id: a,
            playmuted: !0
        }), this.La.Ja("onMutedAutoplayStarts"))
    };
    h.OF = function() {
        var a = MZ(this);
        this.di(a ? 1 : 0);
        NZ(this, !!a)
    };

    function MZ(a) {
        var b = qs(!0);
        return b && (b === a.template.element || a.B && b === a.B.Cd()) ? b : null
    }

    function NZ(a, b) {
        var c = window.screen && window.screen.orientation;
        if ((R(a.i.experiments, "lock_fullscreen2") || a.i.ud) && c && c.lock && (!Ne || !te))
            if (b) {
                b = 0 === c.type.indexOf("portrait");
                var d = a.template.getVideoAspectRatio(),
                    e = b;
                1 > d ? e = !0 : 1 < d && (e = !1);
                if (!a.ra || e !== b) {
                    c = c.lock(e ? "portrait" : "landscape");
                    if (null != c) c["catch"](Ka);
                    a.ra = !0
                }
            } else a.ra && (a.ra = !1, c.unlock())
    }
    h.di = function(a) {
        var b = !!a,
            c = !!this.visibility.fullscreen !== b;
        this.visibility.di(a);
        this.template.di(b);
        this.N("html5_media_fullscreen") && !b && this.B && MZ(this) === this.B.Cd() && this.B.Jn();
        this.template.resize();
        c && this.G.tick("fsc");
        c && (this.La.W("fullscreentoggled", b), a = LB(this), b = {
            fullscreen: b,
            videoId: a.hv || a.videoId,
            time: this.getCurrentTime()
        }, this.La.getPlaylistId() && (b.listId = this.La.getPlaylistId()), this.La.Ja("onFullscreenChange", b))
    };
    h.isFullscreen = function() {
        return this.visibility.isFullscreen()
    };
    h.tG = function() {
        this.u && (0 !== this.visibility.fullscreen && 1 !== this.visibility.fullscreen || this.di(MZ(this) ? 1 : 0), this.i.zb && this.getVideoData() && !this.getVideoData().backgroundable && this.B && .33 > window.outerHeight * window.outerWidth / (window.screen.width * window.screen.height) && this.B.Jn())
    };
    h.SF = function(a) {
        3 !== this.getPresentingPlayerType() && this.La.W("liveviewshift", a)
    };

    function OB(a, b, c) {
        a.La.W(b, c);
        if (c) {
            switch (b) {
                case "cuerangemarkersupdated":
                    var d = "onCueRangeMarkersUpdated";
                    break;
                case "cuerangesadded":
                    d = "onCueRangesAdded";
                    break;
                case "cuerangesremoved":
                    d = "onCueRangesRemoved"
            }
            d && a.La.Ja(d, c)
        }
    }
    h.playVideo = function(a) {
        this.L();
        if (a = P(this, a)) 2 === this.K ? uZ(this) : (null != this.J && this.J.u && this.J.start(), Q(a.getPlayerState(), 2) ? this.seekTo(0) : a.playVideo())
    };
    h.pauseVideo = function(a) {
        (a = P(this, a)) && a.pauseVideo()
    };
    h.stopVideo = function() {
        this.L();
        var a = this.l.getVideoData(),
            b = new pK(this.i, {
                video_id: a.hv || a.videoId,
                oauth_token: a.oauthToken
            });
        b.fb = gc(a.fb);
        this.cancelPlayback(6);
        KZ(this, b, 1);
        null != this.J && this.J.stop()
    };
    h.cancelPlayback = function(a, b) {
        this.L();
        Xv(this.ea);
        this.ea = 0;
        var c = P(this, b);
        c ? 1 === this.K || 2 === this.K ? this.L() : (c === this.u && (this.L(), yM(this.D, a)), 1 === b && (R(this.i.experiments, "html5_stop_video_in_cancel_playback") && c.stopVideo(), CZ(this)), c.Yh(), OB(this, "cuerangesremoved", c.Li()), c.K.reset(), this.Z && c.isGapless() && (c.kf(!0), CP(c, this.B))) : this.L()
    };
    h.sendVideoStatsEngageEvent = function(a, b, c) {
        (b = P(this, b)) && this.i.enabledEngageTypes.has(a.toString()) ? b.sendVideoStatsEngageEvent(a, c) : c && c()
    };
    h.updatePlaylist = function() {
        if (rC(this.i)) {
            var a = LZ();
            if (a)
                if (!a.list) this.Ms();
                else if (this.playlist && this.playlist.getPlaylistId() === a.list)
                if (0 <= a.index) {
                    var b = a.video;
                    this.La.isFullscreen() && ((b = b[this.playlist.index]) && b.encrypted_id !== this.playlist.gb().videoId || (a.index = this.playlist.index));
                    b = this.playlist;
                    if (a.video && a.video.length) {
                        b.title = a.title || "";
                        b.description = a.description;
                        b.views = a.views;
                        b.likes = a.likes;
                        b.dislikes = a.dislikes;
                        b.author = a.author || "";
                        var c = a.loop;
                        c && (b.loop = c);
                        c = b.gb();
                        b.items = [];
                        for (var d = t(a.video), e = d.next(); !e.done; e = d.next())
                            if (e = e.value) e.video_id = e.encrypted_id, b.items.push(e);
                        b.length = b.items.length;
                        if (a = a.index) b.index = a;
                        else if (c && (a = c.videoId, !b.items[b.index] || b.items[b.index].video_id !== a))
                            for (c = 0; c < b.items.length; c++)
                                if (b.items[c].video_id === a) {
                                    b.index = c;
                                    break
                                } b.setShuffle(!1);
                        b.loaded = !0;
                        b.i && b.i()
                    }
                    this.Fa && (a = this.Fa, (b = Ja(a)) ? ((a = LZ()) && a.list && b(), this.Fa = null) : this.Fa = a)
                } else this.Fa = null
        }
        this.La.Ja("onPlaylistUpdate")
    };

    function CB(a, b, c, d, e, f) {
        c = void 0 === c ? !0 : c;
        f = void 0 === f ? !1 : f;
        var g = P(a, e);
        if (!g || (2 !== g.getPlayerType() || a.Oc(g) || f) && !VC(g.getVideoData())) 3 === a.getPresentingPlayerType() ? KB(a.D).Rh("control_seek") : (g === a.l && a.I && !AZ(a, b) && a.setLoopRange(null), a.seekTo(b, c, d, e))
    }
    h.setSizeStyle = function(a, b) {
        this.ub = b;
        this.La.W("sizestylechange", a, b);
        this.template.resize()
    };
    h.isWidescreen = function() {
        return this.ub
    };
    h.bf = function() {
        return this.visibility.bf()
    };
    h.isInline = function() {
        return this.visibility.isInline()
    };
    h.im = function() {
        return this.visibility.im()
    };
    h.gm = function() {
        return this.visibility.gm()
    };
    h.getAdState = function() {
        if (3 === this.getPresentingPlayerType()) return KB(this.D).getAdState();
        if (!this.Oc()) {
            var a = HB(this.Hb());
            if (a) return a.getAdState()
        }
        return -1
    };
    h.sG = function(a) {
        var b = this.template.getVideoContentRect();
        Nl(this.vb, b) || (this.vb = b, this.u && UB(this.u), this.l && this.l !== this.u && UB(this.l), 1 === this.visibility.fullscreen && this.ra && NZ(this, !0));
        this.jb && Ag(this.jb, a) || (this.La.W("appresize", a), this.jb = a)
    };
    h.lq = function() {
        return this.La.lq()
    };
    h.xG = function() {
        2 === this.getPresentingPlayerType() && this.U.isManifestless() && !this.N("web_player_manifestless_ad_signature_expiration_killswitch") ? PQ(this.U) : (this.C && kQ(this.C), nZ(this, "signature", void 0))
    };
    h.fG = function() {
        this.kf();
        jZ(this)
    };
    h.rG = function(a) {
        IP(a, this.B.kp())
    };
    h.gG = function(a) {
        "manifest.net.badstatus" === a.errorCode && "401" === a.details.rc && this.La.Ja("onPlayerRequestAuthFailed")
    };

    function nZ(a, b, c) {
        if (!a.Ma) {
            c && (a.kf(), jZ(a));
            a.N("html5_signature_reload_refactor") || (a.Ma = !0);
            c = P(a);
            c.D.D = !0;
            c.Kr("staleconfig", {
                reason: b
            });
            var d = a.getVideoData(),
                e = {};
            e.video_id = d.videoId;
            e.adformat = d.adFormat;
            a.N("propagate_aqi_on_player_reload") && d.adQueryId && (e.ad_query_id = d.adQueryId);
            d.isLivePlayback ? lC(d) && EI(a.i) && (e.live_utc_start = c.getIngestionTime(), e.resume = "1") : (e.start = c.getCurrentTime(), e.resume = "1");
            d.K && (e.vvt = d.K);
            d.Z && (e.vss_credentials_token = d.Z, e.vss_credentials_token_type =
                d.Kf);
            d.oauthToken && (e.oauth_token = d.oauthToken);
            d.td && (e.force_gvi = d.td);
            e.autoplay = 1;
            e.reload_count = d.ob + 1;
            e.reload_reason = b;
            d.ul && (e.unplugged_partner_opt_out = d.ul);
            d.vb && (e.ypc_is_premiere_trailer = d.vb);
            d.playerParams && (e.player_params = d.playerParams);
            a.loadVideoByPlayerVars(e, void 0, !0)
        }
    }
    h.Fo = function() {
        this.La.Ja("CONNECTION_ISSUE")
    };
    h.JC = function(a) {
        this.La.W("heartbeatparams", a)
    };
    h.Dc = function() {
        return this.B
    };
    h.setBlackout = function(a) {
        this.i.Qa = a;
        this.u && (this.u.ol(), this.i.ra && DZ(this))
    };
    h.setAccountLinkState = function(a) {
        var b = P(this);
        b && (b.getVideoData().yB = a, b.ol())
    };
    h.updateAccountLinkingConfig = function(a) {
        var b = P(this);
        if (b) {
            var c = b.getVideoData();
            c.accountLinkingConfig && (c.accountLinkingConfig.linked = a);
            this.La.W("videodatachange", "dataupdated", c, b.getPlayerType())
        }
    };

    function DZ(a) {
        var b = a.getVideoData().Ic,
            c = a.i.Qa,
            d = a.B;
        b || c ? d.Us() : (d.Vs(), EB(a, a.ye))
    }
    h.hG = function() {
        var a = P(this);
        if (a) {
            var b = !this.La.au();
            (a.Sc = b) || a.va.stop();
            if (a.videoData.i)
                if (b) a.videoData.i.resume();
                else {
                    var c = a.videoData.i;
                    c.B && c.B.stop()
                } R(a.B.experiments, "html5_suspend_loader") && a.l && (b ? a.l.resume() : NY(a, !0));
            R(a.B.experiments, "html5_fludd_suspend") && (Q(a.playerState, 2) || b ? Q(a.playerState, 512) && b && wY(a, wQ(a.playerState, 512)) : wY(a, vQ(a.playerState, 512)));
            a = a.C;
            a.qoe && (a = a.qoe, RV(a, PP(a.i), "stream", [b ? "A" : "I"]))
        }
    };
    h.VF = function() {
        this.La.Ja("onLoadedMetadata")
    };
    h.MF = function() {
        this.La.Ja("onDrmOutputRestricted")
    };

    function CZ(a) {
        var b = HB(a.Hb());
        b && b.created && (a.L(), b.destroy())
    }
    h.Da = function() {
        this.D.dispose();
        this.U.dispose();
        this.C && this.C.dispose();
        this.l.dispose();
        this.kf();
        Pf(Ub(this.ob), this.playlist);
        Xv(this.ea);
        this.ea = 0;
        C.prototype.Da.call(this)
    };
    h.L = function() {};
    h.N = function(a) {
        return R(this.i.experiments, a)
    };

    function BZ(a, b) {
        b.bounds = a.getBoundingClientRect();
        for (var c = t(["display", "opacity", "visibility", "zIndex"]), d = c.next(); !d.done; d = c.next()) d = d.value, b[d] = dm(a, d);
        b.hidden = !!a.hidden
    }
    h.requestStorageAccess = function(a, b) {
        document.requestStorageAccess().then(a, b)
    };
    h.setScreenLayer = function(a) {
        this.zb = a
    };

    function GZ(a, b) {
        var c = void 0;
        eu(b) && xt(b) && (a = a.getVideoData().Gd()) && (c = {
            Authorization: "Bearer " + a
        });
        Lu(b, void 0, void 0, c)
    }

    function HZ(a, b) {
        b.forEach(function(c) {
            GZ(a, c)
        })
    }
    h.Rn = function() {
        return this.webPlayerContextConfig ? this.webPlayerContextConfig.jsUrl : this.config.assets && this.config.assets.js ? this.config.assets.js : ""
    };
    h.seekToChapterWithAnimation = function() {
        var a;
        null === (a = SB(this.Hb())) || void 0 === a || a.Jy();
        this.getVideoData();
        this.N("web_player_seek_chapters_by_shortcut")
    };
    h.downloadVideo = function(a) {
        return B(this, function c() {
            var d = this,
                e;
            return y(c, function(f) {
                if (1 == f.i) return d.T && d.N("woffle_orchestration") ? w(f, Bma(d.T, [a]), 2) : f.return(Promise.reject());
                e = f.l;
                return f.return(e[0])
            })
        })
    };
    h.refreshAllVideos = function() {
        return this.T && this.N("woffle_orchestration") ? this.T.refreshAllVideos() : Promise.reject()
    };
    h.deleteVideos = function(a) {
        return this.T && this.N("woffle_orchestration") ? this.T.deleteVideos(a) : Promise.reject()
    };
    h.deleteAllVideos = function() {
        return this.T && this.N("woffle_orchestration") ? this.T.deleteAllVideos() : Promise.reject()
    };
    h.isOrchestrationLeader = function() {
        return this.T && this.N("woffle_orchestration") ? this.T.isOrchestrationLeader() : !1
    };
    h.getStatsForNerds = function() {
        var a = this.La,
            b = P(this),
            c = a.getVideoData(),
            d = a.Dc(),
            e = d.Cd(),
            f = b.Vn(),
            g = b.zb,
            k = 8 * $Q(g, "bandwidth") / 1024,
            l = $Q(g, "networkactivity") / 1024,
            m = $Q(g, "bufferhealth");
        if (b.G) {
            var n = b.videoData.useInnertubeDrmService() ? "IT/" : "";
            n += b.G.i.Fd() + "/" + VA(aC(b));
            n += "/" + b.G.Fd()
        } else n = "";
        var p = b.getPlayerState().state.toString(16),
            q = d.getCurrentTime().toFixed(2),
            r = fG(d.me(), ",", 3),
            u = "";
        TL(c) && (c.enableServerStitchedDai && (u += "SS"), u += "DAI, ");
        if (c.fetchType) {
            switch (c.fetchType) {
                case "onesie":
                    var x =
                        "o";
                    break;
                case "gp":
                    x = "gp";
                    break;
                default:
                    x = "gvi"
            }
            u += "vd:" + x + ", "
        }
        u += "s:" + p + " t:" + q + " b:" + r + " ";
        d.pn() && (u += "S");
        d.xi() && (u += "P");
        d.Ng() && (u += "E");
        d = b.C;
        d = d.qoe ? d.qoe.Fa : void 0;
        d && (u += " l:" + d.toFixed());
        d = b.getCurrentTime();
        p = c.wl;
        d && d > p.start && d < p.end && (u += " as");
        d = u;
        u = AI();
        p = QB(a.Hb());
        p = (p ? p.Wp() : {}).CU;
        q = c.l && !c.l.i ? "display:none" : "";
        if ((r = c.clientPlaybackNonce) && 16 == r.length) {
            x = 0;
            for (var z = "", D = 0; 10 > D; D++)
                if (x = (x << 6) + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(r.charAt(D)),
                    4 == D % 5) {
                    for (var H = "", O = 0; 6 > O; O++) H = "0123456789ABCDEFGHJKMNPQRSTVWXYZ".charAt(x & 31) + H, x >>= 5;
                    z += H
                } r = z.substr(0, 4) + " " + z.substr(4, 4) + " " + z.substr(8, 4)
        } else r = "";
        k = {
            video_id_and_cpn: c.videoId + " / " + r,
            codecs: "",
            dims_and_frames: "",
            bandwidth_kbps: k.toFixed(0) + " Kbps",
            buffer_health_seconds: m.toFixed(2) + " s",
            drm_style: n ? "" : "display:none",
            drm: n,
            debug_info: d,
            bandwidth_style: q,
            network_activity_style: q,
            network_activity_bytes: l.toFixed(0) + " KB",
            shader_info: p,
            shader_info_style: p ? "" : "display:none",
            playback_categories: ""
        };
        l = e.clientWidth + "x" + e.clientHeight + (1 < u ? "*" + u.toFixed(2) : "");
        m = "-";
        f.totalVideoFrames && (m = (f.droppedVideoFrames || 0) + " dropped of " + f.totalVideoFrames);
        k.dims_and_frames = l + " / " + m;
        a = a.getVolume();
        f = SL(c);
        a = Math.round(a) + "% / " + Math.round(a * f) + "%";
        f = c.rh.toFixed(1);
        isFinite(Number(f)) && (a += " (content loudness " + f + "dB)");
        k.volume = a;
        k.resolution = e.videoWidth + "x" + e.videoHeight;
        if (a = c.u)
            if (e = a.video) f = e.fps, 1 < f && (k.resolution += "@" + f), (f = JY(b)) && f.video && (k.resolution += " / " + f.video.width + "x" + f.video.height,
                1 < f.video.fps && (k.resolution += "@" + f.video.fps)), k.codecs = bR(a), !c.D || a.audio && a.video ? a.audio && a.audio.itag && (k.codecs += " / " + a.audio.itag + "A") : k.codecs += " / " + bR(c.D), e.l || e.primaries ? (a = e.l || "unknown", "smpte2084" === a ? a += " (PQ)" : "arib-std-b67" === a && (a += " (HLG)"), k.color = a + " / " + (e.primaries || "unknown"), k.color_style = "") : k.color_style = "display:none";
        e = c.isLivePlayback;
        a = c.yd;
        k.live_mode_style = e || a ? "" : "display:none";
        k.live_latency_style = e ? "" : "display:none";
        if (a) k.live_mode = "Post-Live" + (lC(c) ? " Manifestless" :
            "");
        else if (e) {
            a = $Q(g, "livelatency");
            k.live_latency_secs = a.toFixed(2) + "s";
            e = lC(c) ? "Manifestless, " : "";
            c.lh && (e += "Windowed, ");
            f = "Uncertain";
            if (0 <= a && 120 > a)
                if (c.latencyClass && "UNKNOWN" !== c.latencyClass) switch (c.latencyClass) {
                    case "NORMAL":
                        f = "Optimized for Normal Latency";
                        break;
                    case "LOW":
                        f = "Optimized for Low Latency";
                        break;
                    case "ULTRALOW":
                        f = "Optimized for Ultra Low Latency";
                        break;
                    default:
                        f = "Unknown Latency Setting"
                } else f = c.isLowLatencyLiveStream ? "Optimized for Low Latency" : "Optimized for Smooth Streaming";
            e += f;
            (a = b.getPlaylistSequenceForTime(b.getCurrentTime())) && (e += ", seq " + a.sequence);
            k.live_mode = e
        }
        b.isGapless() && (k.playback_categories += "Gapless ");
        k.playback_categories_style = k.playback_categories ? "" : "display:none";
        k.bandwidth_samples = ZQ(g, "bandwidth");
        k.network_activity_samples = ZQ(g, "networkactivity");
        k.live_latency_samples = ZQ(g, "livelatency");
        k.buffer_health_samples = ZQ(g, "bufferhealth");
        c.N("woffle_orchestration") && (b = WL(c), c.cotn || b) && (k.cotn_and_local_media = (c.cotn ? c.cotn : "null") + " / " + b);
        k.cotn_and_local_media_style =
            k.cotn_and_local_media ? "" : "display:none";
        pL(c, "web_player_release_debug") ? (k.release_name = "youtube.player.web_20210616_1_RC0", k.release_style = "") : k.release_style = "display:none";
        return k
    };
    h.getVideoUrl = function(a, b, c, d, e) {
        return this.I && this.I.postId ? (a = this.i.getVideoUrl(a), a = Yi(a, "v"), a.replace("/watch", "/clip/" + this.I.postId)) : this.i.getVideoUrl(a, b, c, d, e)
    };
    var eZ = {};
    var OZ = new hA;

    function $pa() {
        return !!OZ.i
    }

    function aqa(a) {
        a = void 0 === a ? {} : a;
        return OZ.invoke(a)
    };
    var bqa = /cssbin\/(?:debug-)?([a-zA-Z0-9_-]+?)(?:-2x|-web|-rtl|-vfl|.css)/;

    function cqa(a) {
        a = a || "";
        if (window.spf) {
            var b = a.match(bqa);
            spf.style.load(a, b ? b[1] : "", void 0)
        } else dqa(a)
    }

    function dqa(a) {
        var b = eqa(a),
            c = document.getElementById(b),
            d = c && bz(c, "loaded");
        d || c && !d || (c = fqa(a, b, function() {
            bz(c, "loaded") || ($y(c, "loaded", "true"), Uu(b), Ts(Ta(Vu, b), 0))
        }))
    }

    function fqa(a, b, c) {
        var d = document.createElement("link");
        d.id = b;
        d.onload = function() {
            c && setTimeout(c, 0)
        };
        a = Zl(a);
        Oaa(d, a);
        (document.getElementsByTagName("head")[0] || document.body).appendChild(d);
        return d
    }

    function eqa(a) {
        var b = Og("A"),
            c = sc("This URL is never added to the DOM");
        rc(c);
        rc(c);
        vd(b, new Qc(a, Rc));
        a = b.href.replace(/^[a-zA-Z]+:\/\//, "//");
        return "css-" + Fd(a)
    };

    function PZ(a, b, c, d) {
        C.call(this);
        var e = this;
        this.Vf = b;
        this.webPlayerContextConfig = d;
        this.ea = !1;
        this.api = {};
        this.T = this.u = null;
        this.G = new Gr;
        this.i = {};
        this.K = this.I = this.elementId = this.Z = this.config = null;
        this.J = !1;
        this.l = this.C = null;
        this.X = {};
        this.ra = ["onReady"];
        this.lastError = null;
        this.ya = NaN;
        this.D = {};
        this.va = new WF(this);
        this.U = 0;
        this.vf = this.B = a;
        E(this, this.G);
        QZ(this);
        gqa(this);
        E(this, this.va);
        c ? this.U = Ts(function() {
            e.loadNewVideoConfig(c)
        }, 0) : d && (RZ(this), SZ(this))
    }
    v(PZ, C);
    h = PZ.prototype;
    h.getId = function() {
        return this.Vf
    };
    h.loadNewVideoConfig = function(a) {
        this.Ea() || (this.U && (Vs(this.U), this.U = 0), this.config = Fs(a || {}), this.setConfig(a), SZ(this), this.isReady() && TZ(this))
    };

    function RZ(a) {
        var b, c;
        a.webPlayerContextConfig ? c = a.webPlayerContextConfig.rootElementId : c = a.config.attrs.id;
        a.elementId = c || a.elementId;
        "video-player" === a.elementId && (a.elementId = a.Vf, a.webPlayerContextConfig ? a.webPlayerContextConfig.rootElementId = a.Vf : a.config.attrs.id = a.Vf);
        (null === (b = a.vf) || void 0 === b ? void 0 : b.id) === a.elementId && (a.elementId += "-player", a.webPlayerContextConfig ? a.webPlayerContextConfig.rootElementId = a.elementId : a.config.attrs.id = a.elementId)
    }
    h.setConfig = function(a) {
        var b;
        this.Z = a;
        this.config = UZ(a);
        RZ(this);
        this.I || (this.I = VZ(this, (null === (b = this.config.args) || void 0 === b ? void 0 : b.jsapicallback) || "onYouTubePlayerReady"));
        this.config.args ? this.config.args.jsapicallback = null : this.config.args = {
            jsapicallback: null
        };
        var c;
        if (null === (c = this.config) || void 0 === c ? 0 : c.attrs) a = this.config.attrs, (c = a.width) && this.vf && (this.vf.style.width = jm(Number(c) || c, !0)), (a = a.height) && this.vf && (this.vf.style.height = jm(Number(a) || a, !0))
    };

    function TZ(a) {
        var b;
        a.config && !0 !== a.config.loaded && (a.config.loaded = !0, !a.config.args || "0" !== a.config.args.autoplay && 0 !== a.config.args.autoplay && !1 !== a.config.args.autoplay ? a.api.loadVideoByPlayerVars(null !== (b = a.config.args) && void 0 !== b ? b : null) : a.api.cueVideoByPlayerVars(a.config.args))
    }

    function WZ(a) {
        var b = !0,
            c = XZ(a);
        c && a.config && (a = a.Rn(), b = bz(c, "version") === a);
        return b && !!Ja("yt.player.Application.create")
    }

    function SZ(a) {
        if (!a.Ea() && !a.J) {
            var b = WZ(a);
            if (b && "html5" === (XZ(a) ? "html5" : null)) a.K = "html5", a.isReady() || YZ(a);
            else if (ZZ(a), a.K = "html5", b && a.l && a.B) a.B.appendChild(a.l), YZ(a);
            else {
                a.config && (a.config.loaded = !0);
                var c = !1;
                a.C = function() {
                    c = !0;
                    var d = a.N("player_bootstrap_method") ? Ja("yt.player.Application.createAlternate") || Ja("yt.player.Application.create") : Ja("yt.player.Application.create");
                    var e = a.config ? UZ(a.config) : void 0;
                    d && d(a.B, e, a.webPlayerContextConfig);
                    YZ(a)
                };
                a.J = !0;
                b ? a.C() : (dz(a.Rn(), a.C), (b = hqa(a)) && cqa(b), $Z(a) && !c && Ia("yt.player.Application.create", null, void 0))
            }
        }
    }

    function XZ(a) {
        var b = Eg(a.elementId);
        !b && a.vf && a.vf.querySelector && (b = a.vf.querySelector("#" + a.elementId));
        return b
    }

    function YZ(a) {
        var b;
        if (!a.Ea()) {
            var c = XZ(a),
                d = !1;
            c && c.getApiInterface && c.getApiInterface() && (d = !0);
            d ? (a.J = !1, !a.N("html5_remove_not_servable_check_killswitch") && (null === c || void 0 === c ? 0 : c.isNotServable) && a.config && (null === c || void 0 === c ? 0 : c.isNotServable(null === (b = a.config.args) || void 0 === b ? void 0 : b.video_id)) || iqa(a)) : a.ya = Ts(function() {
                YZ(a)
            }, 50)
        }
    }

    function iqa(a) {
        QZ(a);
        a.ea = !0;
        var b = XZ(a);
        if (b) {
            a.u = a_(a, b, "addEventListener");
            a.T = a_(a, b, "removeEventListener");
            var c = b.getApiInterface();
            c = c.concat(b.getInternalApiInterface());
            for (var d = a.api, e = 0; e < c.length; e++) {
                var f = c[e];
                d[f] || (d[f] = a_(a, b, f))
            }
        }
        for (var g in a.i) a.i.hasOwnProperty(g) && a.u && a.u(g, a.i[g]);
        TZ(a);
        a.I && a.I(a.api);
        a.G.W("onReady", a.api)
    }

    function a_(a, b, c) {
        var d = b[c];
        return function(e) {
            for (var f = [], g = 0; g < arguments.length; ++g) f[g - 0] = arguments[g];
            try {
                return a.lastError = null, d.apply(b, f)
            } catch (k) {
                "sendAbandonmentPing" !== c && (k.params = c, a.lastError = k, ly(k))
            }
        }
    }

    function QZ(a) {
        a.ea = !1;
        if (a.T)
            for (var b in a.i) a.i.hasOwnProperty(b) && a.T(b, a.i[b]);
        for (var c in a.D) a.D.hasOwnProperty(c) && Vs(Number(c));
        a.D = {};
        a.u = null;
        a.T = null;
        b = a.api;
        for (var d in b) b.hasOwnProperty(d) && (b[d] = null);
        b.addEventListener = function(e, f) {
            a.addEventListener(e, f)
        };
        b.removeEventListener = function(e, f) {
            a.removeEventListener(e, f)
        };
        b.destroy = function() {
            a.dispose()
        };
        b.getLastError = function() {
            return a.getLastError()
        };
        b.getPlayerType = function() {
            return a.getPlayerType()
        };
        b.getCurrentVideoConfig = function() {
            return a.Z
        };
        b.loadNewVideoConfig = function(e) {
            a.loadNewVideoConfig(e)
        };
        b.isReady = function() {
            return a.isReady()
        }
    }
    h.isReady = function() {
        return this.ea
    };

    function gqa(a) {
        a.addEventListener("WATCH_LATER_VIDEO_ADDED", function(b) {
            Uu("WATCH_LATER_VIDEO_ADDED", b)
        });
        a.addEventListener("WATCH_LATER_VIDEO_REMOVED", function(b) {
            Uu("WATCH_LATER_VIDEO_REMOVED", b)
        });
        a.addEventListener("onAdAnnounce", function(b) {
            Uu("a11y-announce", b)
        })
    }
    h.addEventListener = function(a, b) {
        var c = this;
        this.Ea();
        var d = VZ(this, b);
        d && (xb(this.ra, a) || this.i[a] || (b = jqa(this, a), this.u && this.u(a, b)), this.G.subscribe(a, d), "onReady" === a && this.isReady() && Ts(function() {
            d(c.api)
        }, 0))
    };
    h.removeEventListener = function(a, b) {
        this.Ea() || (b = VZ(this, b)) && this.G.unsubscribe(a, b)
    };

    function VZ(a, b) {
        var c = b;
        if ("string" === typeof b) {
            if (a.X[b]) return a.X[b];
            c = function(d) {
                for (var e = [], f = 0; f < arguments.length; ++f) e[f - 0] = arguments[f];
                if (f = Ja(b)) try {
                    f.apply(A, e)
                } catch (g) {
                    ky(g)
                }
            };
            a.X[b] = c
        }
        return c ? c : null
    }

    function jqa(a, b) {
        var c = "ytPlayer" + b + a.Vf;
        a.i[b] = c;
        A[c] = function(d) {
            var e = Ts(function() {
                a.Ea();
                a.Ea() || (a.G.W(b, d), dc(a.D, String(e)))
            }, 0);
            saa(a.D, String(e))
        };
        return c
    }
    h.getPlayerType = function() {
        return this.K || (XZ(this) ? "html5" : null)
    };
    h.getLastError = function() {
        return this.lastError
    };

    function ZZ(a) {
        a.cancel();
        QZ(a);
        a.K = null;
        a.config && (a.config.loaded = !1);
        var b = XZ(a);
        b && (WZ(a) || !$Z(a) ? a.l = b : (b && b.destroy && b.destroy(), a.l = null));
        a.B && Qg(a.B)
    }
    h.cancel = function() {
        if (this.C) {
            var a = this.Rn();
            gz(a, this.C)
        }
        Vs(this.ya);
        this.J = !1
    };
    h.Da = function() {
        ZZ(this);
        if (this.l && this.config && this.l.destroy) try {
            this.l.destroy()
        } catch (b) {
            ky(b)
        }
        this.X = null;
        for (var a in this.i) this.i.hasOwnProperty(a) && (A[this.i[a]] = null);
        this.Z = this.config = this.api = null;
        delete this.B;
        delete this.vf;
        C.prototype.Da.call(this)
    };

    function $Z(a) {
        var b, c;
        a = null === (c = null === (b = a.config) || void 0 === b ? void 0 : b.args) || void 0 === c ? void 0 : c.fflags;
        return !!a && -1 !== a.indexOf("player_destroy_old_version=true")
    }
    h.Rn = function() {
        if (this.webPlayerContextConfig) return this.webPlayerContextConfig.jsUrl;
        var a = this.config.assets;
        return a ? a.js : ""
    };

    function hqa(a) {
        return a.webPlayerContextConfig ? a.webPlayerContextConfig.cssUrl : (a = a.config.assets) ? a.css : ""
    }
    h.N = function(a) {
        var b;
        if (this.webPlayerContextConfig) var c = this.webPlayerContextConfig.serializedExperimentFlags;
        else if (null === (b = this.config) || void 0 === b ? 0 : b.args) c = this.config.args.fflags;
        return "true" === mt(c || "", "&")[a]
    };

    function UZ(a) {
        for (var b = {}, c = t(Object.keys(a)), d = c.next(); !d.done; d = c.next()) {
            d = d.value;
            var e = a[d];
            b[d] = "object" === typeof e ? gc(e) : e
        }
        return b
    };
    var b_ = {},
        c_ = "player_uid_" + (1E9 * Math.random() >>> 0);

    function d_(a, b, c, d) {
        d = void 0 === d ? !0 : d;
        a = "string" === typeof a ? Eg(a) : a;
        var e = c_ + "_" + Pa(a),
            f = b_[e];
        if (f && d) return kqa(b, c) ? f.api.loadVideoByPlayerVars(b.args || null) : f.loadNewVideoConfig(b), f.api;
        f = new PZ(a, e, b, c);
        b_[e] = f;
        Uu("player-added", f.api);
        Qf(f, function() {
            delete b_[f.getId()]
        });
        return f.api
    }

    function kqa(a, b) {
        return b && b.serializedExperimentFlags ? b.serializedExperimentFlags.includes("web_player_remove_playerproxy=true") : a && a.args && a.args.fflags ? a.args.fflags.includes("web_player_remove_playerproxy=true") : !1
    };

    function e_(a, b, c, d, e, f) {
        C.call(this);
        this.i = a;
        this.l = c;
        this.u = d;
        this.C = e;
        this.B = f
    }
    v(e_, C);

    function lqa(a, b, c) {
        c.Km ? (f_(a.i.get(), "OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED", function() {
            return []
        }, b.slotId), mqa(a.C, b)) : g_(a.B, c.Bh, b.slotId)
    }

    function nqa(a, b, c) {
        var d = h_(a.u.get(), 1);
        f_(a.i.get(), "OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED", function() {
            return i_(a.l.get(), c, d.clientPlaybackNonce, d.Xx, d.daiEnabled, d)
        }, b)
    };

    function j_(a, b, c) {
        if (c && c !== a.Za) return !1;
        b = t(b);
        for (c = b.next(); !c.done; c = b.next())
            if (!a.xa.i.has(c.value)) return !1;
        return !0
    };

    function k_(a, b) {
        this.sj = b;
        this.triggerType = "TRIGGER_TYPE_BEFORE_CONTENT_VIDEO_ID_STARTED";
        this.triggerId = a(this.triggerType)
    };

    function V(a, b, c, d, e) {
        d = void 0 === d ? {} : d;
        if (!e || 5E-4 > Math.random()) {
            b = b || null;
            c = c || null;
            a = a instanceof Error ? a : new lw(a);
            if (a.args)
                for (var f = t(a.args), g = f.next(); !g.done; g = f.next()) g = g.value, g instanceof Object && (d = Object.assign(Object.assign({}, g), d));
            d.category = "H5 Ads Control Flow";
            b && (d.slot = b ? "slot:  " + b.Za : "");
            c && (d.layout = c ? "layout:  " + c.layoutType : "");
            e && (d.known_error_aggressively_sampled = !0);
            a.args = [d];
            ly(a)
        }
    };

    function l_(a, b, c, d, e, f, g) {
        C.call(this);
        this.u = a;
        this.l = b;
        this.ys = c;
        this.ma = d;
        this.B = e;
        this.i = f;
        this.Ba = g
    }
    v(l_, C);
    l_.prototype.Qt = function() {
        var a = this.B().Ft("SLOT_TYPE_PLAYER_BYTES", 1),
            b = h_(this.i.get(), 1).clientPlaybackNonce,
            c = !1;
        a = t(a);
        for (var d = a.next(); !d.done; d = a.next()) {
            d = d.value;
            var e = "SLOT_TYPE_PLAYER_BYTES" === d.Za && d.Gb instanceof k_ ? d.Gb.sj : void 0;
            e && e === b && (c && V("More than 1 preroll playerBytes slot detected", d), c = !0)
        }
        return c
    };
    l_.prototype.Df = function(a, b, c, d, e, f) {
        var g = this,
            k = h_(this.i.get(), 1);
        m_(this.ma.get(), d) && k.dk ? this.Ba.get().Dg() : (f_(this.u.get(), "OPPORTUNITY_TYPE_PLAYER_RESPONSE_RECEIVED", function() {
            return i_(g.l.get(), d, a, b, f, k)
        }), m_(this.ma.get(), d) && oqa(this.ys))
    };
    l_.prototype.Vg = function() {};

    function n_(a, b, c, d) {
        this.u = a;
        this.Jc = null;
        this.l = b;
        this.i = 0;
        this.daiEnabled = void 0 === c ? !1 : c;
        this.visible = !0;
        this.B = void 0 === d ? !1 : d
    };

    function o_(a, b, c, d, e) {
        TI.call(this, b.start, b.end, {
            id: d,
            namespace: "ad",
            priority: e,
            visible: c
        });
        this.i = a.kind || "AD_PLACEMENT_KIND_UNKNOWN";
        this.l = !1;
        this.u = null
    }
    v(o_, TI);
    o_.prototype.deactivate = function() {
        this.l = !0
    };

    function p_(a) {
        return "AD_PLACEMENT_KIND_START" == a.i
    }

    function q_(a) {
        return "AD_PLACEMENT_KIND_MILLISECONDS" == a.i
    }
    o_.prototype.Pn = function() {
        return this.end - this.start
    };

    function r_(a, b, c) {
        c = void 0 === c ? !1 : c;
        switch (a.kind) {
            case "AD_PLACEMENT_KIND_START":
                return new Br(-0x8000000000000, -0x8000000000000);
            case "AD_PLACEMENT_KIND_END":
                return c ? new Br(Math.max(0, b.u - b.i), 0x7ffffffffffff) : new Br(0x7ffffffffffff, 0x8000000000000);
            case "AD_PLACEMENT_KIND_MILLISECONDS":
                var d = a.adTimeOffset;
                a = parseInt(d.offsetStartMilliseconds, 10);
                d = parseInt(d.offsetEndMilliseconds, 10); - 1 === d && (d = b.u);
                if (c && (d = a, a = Math.max(0, a - b.i), a == d)) break;
                return new Br(a, d);
            case "AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED":
                d =
                    b.Jc;
                a = 1E3 * d.startSecs;
                if (c) {
                    if (a < b.l) return new Br(a - 4E3, a);
                    c = Math.max(0, a - b.l - 1E4);
                    return new Br(b.B ? b.l : Math.floor(b.l + Math.random() * c), a)
                }
                return new Br(a, a + (0 < d.durationSecs ? 1E3 * d.durationSecs : 5E3))
        }
        return null
    };

    function s_(a, b, c) {
        this.actionType = b;
        this.id = c;
        this.content = a
    };

    function t_(a, b) {
        this.i = a;
        this.va = b || {};
        this.I = String(Math.floor(1E9 * Math.random()));
        this.D = {};
        this.J = 0
    }
    t_.prototype.oo = function() {
        return !1
    };
    t_.prototype.ya = function() {
        return function() {
            return null
        }
    };

    function pqa(a) {
        switch (a) {
            case "fully_viewable_audible_half_duration_impression":
                return "adfullyviewableaudiblehalfdurationimpression";
            case "measurable_impression":
                return "adactiveviewmeasurable";
            case "overlay_unmeasurable_impression":
                return "adoverlaymeasurableimpression";
            case "overlay_unviewable_impression":
                return "adoverlayunviewableimpression";
            case "overlay_viewable_end_of_session_impression":
                return "adoverlayviewableendofsessionimpression";
            case "overlay_viewable_immediate_impression":
                return "adoverlayviewableimmediateimpression";
            case "viewable_impression":
                return "adviewableimpression";
            default:
                return null
        }
    }
    var u_ = null;

    function v_() {
        S.call(this);
        var a = this;
        this.i = {};
        Qf(this, function() {
            return Object.keys(a.i).forEach(function(b) {
                return delete a.i[b]
            })
        })
    }
    v(v_, S);

    function w_() {
        if (null === u_) {
            u_ = new v_;
            Pq.getInstance().i = "b";
            var a = Pq.getInstance(),
                b = "h" == wq(a) || "b" == wq(a),
                c = !(Wm.getInstance(), !1);
            b && c && (a.C = !0, a.D = new Vda)
        }
        return u_
    }

    function qqa(a, b, c) {
        a.i[b] = c
    }
    v_.prototype.Qn = function(a) {
        return this.i.hasOwnProperty(a) ? this.i[a].Qn() : {}
    };
    Ia("ytads.bulleit.getVideoMetadata", function(a) {
        return w_().Qn(a)
    }, void 0);
    Ia("ytads.bulleit.triggerExternalActivityEvent", function(a, b, c) {
        var d = w_();
        c = pqa(c);
        null !== c && d.W(c, {
            queryId: a,
            viewabilityString: b
        })
    }, void 0);

    function rqa(a) {
        this.u = a;
        this.l = {};
        this.i = El() ? 500 : 1E3
    }

    function sqa(a, b) {
        if (!b.length) return null;
        b = b.filter(function(c) {
            if (!c.mimeType) return !1;
            c.mimeType in a.l || (a.l[c.mimeType] = a.u.canPlayType(c.mimeType));
            return a.l[c.mimeType] ? !!c.mimeType && "application/x-mpegurl" == c.mimeType.toLowerCase() || !!c.mimeType && "application/dash+xml" == c.mimeType.toLowerCase() || "PROGRESSIVE" == c.delivery : !1
        });
        return tqa(a, b)
    }

    function tqa(a, b) {
        for (var c = null, d = t(b), e = d.next(); !e.done; e = d.next()) {
            e = e.value;
            var f = e.minBitrate,
                g = e.maxBitrate;
            f > a.i || g < a.i || c && !(f < c.minBitrate) || (c = e)
        }
        if (!c)
            for (c = null, d = t(b), e = d.next(); !e.done; e = d.next()) e = e.value, f = e.maxBitrate, g = e.minBitrate, f > a.i || (!c || f > c.maxBitrate ? c = e : c && f == c.maxBitrate && g < c.minBitrate && (c = e));
        if (!c)
            for (c = null, b = t(b), d = b.next(); !d.done; d = b.next()) d = d.value, e = d.minBitrate, f = d.maxBitrate, e < a.i || (!c || e < c.minBitrate ? c = d : c && e == c.minBitrate && f > c.maxBitrate && (c = d));
        return c
    };

    function x_(a, b, c) {
        this.i = a;
        this.C = b;
        this.l = c;
        this.u = b.length;
        this.adBreakLengthSeconds = b.reduce(function(d, e) {
            return d + e
        }, 0);
        c = 0;
        for (a += 1; a < b.length; a++) c += b[a];
        this.adBreakRemainingLengthSeconds = c
    };

    function y_(a) {
        return new Map([
            ["impression", a.impressionPings || []],
            ["error", a.errorPings || []],
            ["mute", a.mutePings || []],
            ["unmute", a.unmutePings || []],
            ["pause", a.pausePings || []],
            ["rewind", a.rewindPings || []],
            ["resume", a.resumePings || []],
            ["skip", a.skipPings || []],
            ["close", a.closePings || []],
            ["progress", a.progressPings || []],
            ["clickthrough", a.clickthroughPings || []],
            ["fullscreen", a.fullscreenPings || []],
            ["active_view_viewable", a.activeViewViewablePings || []],
            ["active_view_measurable", a.activeViewMeasurablePings || []],
            ["active_view_fully_viewable_audible_half_duration", a.activeViewFullyViewableAudibleHalfDurationPings || []],
            ["end_fullscreen", a.endFullscreenPings || []],
            ["channel_clickthrough", a.channelClickthroughPings || []],
            ["abandon", a.abandonPings || []],
            ["start", a.startPings || []],
            ["first_quartile", a.firstQuartilePings || []],
            ["midpoint", a.secondQuartilePings || []],
            ["third_quartile", a.thirdQuartilePings || []],
            ["complete", a.completePings || []]
        ])
    };

    function uqa(a) {
        return (a = a.pings) ? Object.fromEntries(y_(a)) : {}
    }

    function z_(a, b, c, d, e) {
        t_.call(this, a, uqa(a));
        (a = c && c.kind) || (a = "AD_PLACEMENT_KIND_UNKNOWN");
        this.Fa = c;
        this.isPostroll = "AD_PLACEMENT_KIND_END" === a;
        this.u = new x_(0, []);
        this.G = this.Z = null;
        this.Ha = b;
        this.ra = [];
        this.B = {};
        this.ea = null;
        this.l = 0;
        this.K = this.T = this.C = null;
        this.X = e;
        this.U = null;
        b = this.i.skipOffsetMilliseconds || 0;
        0 < b && (this.ea = b);
        this.B = pt(this.i.playerVars || "");
        if (b = this.i.external) this.ra = b.mediaFiles || [], b = b.durationMilliseconds, "number" === typeof b && (this.l = b / 1E3, this.B.length_seconds = this.l.toString()),
            (b = sqa(this.Ha, this.ra)) ? (this.T = b.uri, b = b.mimeType, this.B.url_encoded_third_party_media = "url=" + encodeURIComponent(this.T) + "&type=" + encodeURIComponent(b)) : this.K = Error("Nonplayable third party ad media file.");
        else if (this.C = this.i.externalVideoId || null, this.Z = this.B.ucid || null, this.l = dB(this.l, this.B.length_seconds), this.X && this.C && (this.U = this.X(this.C)), this.B.cta_conversion_urls) try {
            this.B.cta_conversion_urls = JSON.parse(this.B.cta_conversion_urls)
        } catch (f) {
            Cs(f)
        }
        this.G = this.i.clickthroughEndpoint ||
            null;
        this.u = new x_(0, [this.l])
    }
    v(z_, t_);
    h = z_.prototype;
    h.hm = function() {
        return !0
    };
    h.zj = function() {
        return !1
    };
    h.isSkippable = function() {
        return null != this.ea
    };
    h.getVideoUrl = function() {
        return this.T
    };

    function A_(a) {
        var b = a.B || {};
        1 < a.u.u && (b.slot_pos = a.u.i);
        b.autoplay = "1";
        return b
    }

    function B_(a) {
        return 0 < a.l && 7.05 >= a.l
    }
    h.oo = function() {
        return !0
    };

    function C_() {
        this.i = [];
        this.l = 0
    }

    function D_(a, b) {
        b && a.i.push(b)
    };

    function E_(a) {
        if (!a) return [];
        var b = [];
        a = t(a);
        for (var c = a.next(); !c.done; c = a.next())
            if (c = c.value, c.loggingUrls) {
                c = t(c.loggingUrls);
                for (var d = c.next(); !d.done; d = c.next()) b.push({
                    baseUrl: d.value.baseUrl
                })
            } return b
    };

    function F_(a) {
        if (!a) return [];
        var b = [];
        a.forEach(function(c) {
            c.command.loggingUrls.forEach(function(d) {
                b.push({
                    baseUrl: d.baseUrl,
                    offsetMilliseconds: c.adVideoOffset.milliseconds
                })
            })
        });
        return b
    }

    function G_(a) {
        return a && a.adVideoOffset && a.adVideoOffset.percent || 0
    }

    function H_(a) {
        return "AD_VIDEO_PROGRESS_KIND_PERCENT" == a.adVideoOffset.kind
    }

    function vqa(a) {
        a = a.playbackCommands;
        if (!a) return {};
        var b = {};
        b.impression = E_(a.impressionCommands) || [];
        b.error = E_(a.errorCommands) || [];
        b.mute = E_(a.muteCommands) || [];
        b.unmute = E_(a.unmuteCommands) || [];
        b.pause = E_(a.pauseCommands) || [];
        b.rewind = E_(a.rewindCommands) || [];
        b.resume = E_(a.resumeCommands) || [];
        b.skip = E_(a.skipCommands) || [];
        b.close = E_(a.closeCommands) || [];
        b.clickthrough = E_(a.clickthroughCommands) || [];
        b.fullscreen = E_(a.fullscreenCommands) || [];
        b.active_view_viewable = E_(a.activeViewViewableCommands) || [];
        b.active_view_measurable = E_(a.activeViewMeasurableCommands) || [];
        b.active_view_fully_viewable_audible_half_duration = E_(a.activeViewFullyViewableAudibleHalfDurationCommands) || [];
        b.end_fullscreen = E_(a.endFullscreenCommands) || [];
        b.channel_clickthrough = E_(a.channelClickthroughCommands) || [];
        b.abandon = E_(a.abandonCommands) || [];
        b.progress = F_(a.progressCommands.filter(function(c) {
            return "AD_VIDEO_PROGRESS_KIND_MILLISECONDS" == c.adVideoOffset.kind
        }));
        b.start = F_(a.progressCommands.filter(function(c) {
            return H_(c) && tg(G_(c), 0)
        }));
        b.first_quartile = F_(a.progressCommands.filter(function(c) {
            return H_(c) && tg(G_(c), .25)
        }));
        b.midpoint = F_(a.progressCommands.filter(function(c) {
            return H_(c) && tg(G_(c), .5)
        }));
        b.third_quartile = F_(a.progressCommands.filter(function(c) {
            return H_(c) && tg(G_(c), .75)
        }));
        b.complete = F_(a.progressCommands.filter(function(c) {
            return H_(c) && tg(G_(c), 1)
        }));
        return b
    }

    function I_(a) {
        t_.call(this, a, vqa(a));
        this.l = a.questions ? a.questions.reduce(function(b, c) {
            return (c = c.instreamSurveyAdSingleSelectQuestionRenderer || c.instreamSurveyAdMultiSelectQuestionRenderer) ? b + (c.surveyAdQuestionCommon.durationMilliseconds || 0) / 1E3 : b
        }, 0) : 0
    }
    v(I_, t_);
    I_.prototype.hm = function() {
        return !0
    };
    I_.prototype.zj = function() {
        return !1
    };
    I_.prototype.oo = function() {
        return !0
    };
    I_.prototype.ya = function() {
        return function() {
            return Fg("video-ads")
        }
    };

    function J_(a, b, c, d) {
        this.id = b;
        this.U = a.placementStartPings || [];
        this.K = a.placementEndPings || [];
        this.B = d.Jc;
        b = a.config && a.config.adPlacementConfig;
        if (!b) throw Error("Malformed AdPlacementRenderer: missing AdPlacementConfig");
        var e = a.renderer && a.renderer.adBreakServiceRenderer && a.renderer.adBreakServiceRenderer || {};
        this.u = (this.D = e.getAdBreakUrl || "") ? 0 : 2;
        d.i = parseInt(e.prefetchMilliseconds, 10) || 0;
        d.visible = !b.hideCueRangeMarker;
        var f = r_(b, d);
        if (null == f) d = new o_(b, new Br(-1, -1), !1, "adcuerange:invalid",
            2), d.deactivate(), d = [null, d];
        else {
            e = ":" + ($r.getInstance().i++).toString(36);
            var g = d.daiEnabled || d.Jc;
            f = new o_(b, f, d.visible && !g, "adcuerange:" + e, 2);
            g = null;
            if (d.Jc || 0 < d.i)
                if (d = r_(b, d, !0)) g = new o_(b, d, !1, "prefetch:" + e, 3), f.u = g, g.u = f;
            d = [g, f]
        }
        this.T = d[0];
        this.i = d[1];
        this.l = c;
        this.G = !1;
        this.C = {};
        this.J = {};
        this.I = void 0 === a.driftRecoveryMs ? null : parseInt(a.driftRecoveryMs, 10)
    }

    function K_(a) {
        return "AD_PLACEMENT_KIND_MILLISECONDS" == a.i.i || "AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED" == a.i.i
    }
    J_.prototype.isPostroll = function() {
        return "AD_PLACEMENT_KIND_END" == this.i.i
    };
    var wqa = {
        RH: "FINAL",
        dI: "AD_BREAK_LENGTH",
        eI: "AD_CPN",
        fI: "AH",
        gI: "AD_MT",
        hI: "ASR",
        jI: "AW",
        dJ: "NM",
        eJ: "NX",
        fJ: "NY",
        kJ: "CONN",
        vJ: "CPN",
        pL: "DV_VIEWABILITY",
        CL: "ERRORCODE",
        FL: "ERROR_MSG",
        HL: "EI",
        kM: "GOOGLE_VIEWABILITY",
        uM: "IAS_VIEWABILITY",
        kN: "LACT",
        yN: "LIVE_TARGETING_CONTEXT",
        IN: "I_X",
        JN: "I_Y",
        iP: "MT",
        lP: "MIDROLL_POS",
        mP: "MIDROLL_POS_MS",
        oP: "MOAT_INIT",
        pP: "MOAT_VIEWABILITY",
        UQ: "P_H",
        VQ: "PV_H",
        WQ: "PV_W",
        XQ: "P_W",
        cR: "TRIGGER_TYPE",
        FR: "SDKV",
        nS: "SLOT_POS",
        AS: "SURVEY_LOCAL_TIME_EPOCH_S",
        zS: "SURVEY_ELAPSED_MS",
        AD: "VIS",
        ET: "VIEWABILITY",
        FT: "VED",
        KT: "VOL",
        OT: "WT",
        iU: "YT_ERROR_CODE"
    };

    function L_(a) {
        var b = {};
        xqa(a, b);
        yqa(b);
        b.LACT = M_(function() {
            return jt().toString()
        });
        b.VIS = M_(function() {
            return a.getVisibilityState().toString()
        });
        b.SDKV = "h.3.0";
        b.VOL = M_(function() {
            return a.isMuted() ? "0" : Math.round(a.getVolume()).toString()
        });
        b.VED = "";
        return b
    }

    function zqa(a) {
        var b = {};
        if (!a.kind) return ky(Error("AdPlacementConfig without kind")), b;
        if ("AD_PLACEMENT_KIND_MILLISECONDS" === a.kind || "AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED" === a.kind) {
            if (!a.adTimeOffset || !a.adTimeOffset.offsetStartMilliseconds) return ky(Error("malformed AdPlacementConfig")), b;
            b.MIDROLL_POS = M_(fb(Math.round(Gd(a.adTimeOffset.offsetStartMilliseconds) / 1E3).toString()))
        } else b.MIDROLL_POS = M_(fb("0"));
        return b
    }

    function M_(a) {
        return {
            toString: function() {
                return a()
            }
        }
    }

    function Aqa(a, b, c) {
        function d(k, l) {
            (l = c[l]) && (f[k] = l)
        }

        function e(k, l) {
            (l = c[l]) && (f[k] = g(l))
        }
        if (!c || bc(c)) return a;
        var f = Object.assign({}, a),
            g = b ? encodeURIComponent : function(k) {
                return k
            };
        e("DV_VIEWABILITY", "doubleVerifyViewability");
        e("IAS_VIEWABILITY", "integralAdsViewability");
        e("MOAT_INIT", "moatInit");
        e("MOAT_VIEWABILITY", "moatViewability");
        d("GOOGLE_VIEWABILITY", "googleViewability");
        d("VIEWABILITY", "viewability");
        return f
    }

    function xqa(a, b) {
        b.CPN = M_(function() {
            var c;
            (c = a.getVideoData(1)) ? c = c.clientPlaybackNonce: (ly(Error("Video data is null.")), c = null);
            return c
        });
        b.AD_MT = M_(function() {
            return N_(a, 2)
        });
        b.MT = M_(function() {
            return N_(a, 1)
        });
        b.P_H = M_(function() {
            return a.Tb().Ye().height.toString()
        });
        b.P_W = M_(function() {
            return a.Tb().Ye().width.toString()
        });
        b.PV_H = M_(function() {
            return a.Tb().getVideoContentRect().height.toString()
        });
        b.PV_W = M_(function() {
            return a.Tb().getVideoContentRect().width.toString()
        })
    }

    function N_(a, b) {
        a = 1E3 * a.getCurrentTime(b, !1);
        return Math.round(Math.max(0, a)).toString()
    }

    function yqa(a) {
        a.CONN = M_(fb("0"));
        a.WT = M_(function() {
            return Date.now().toString()
        })
    };

    function O_(a) {
        var b = Object.assign({}, {});
        b.MIDROLL_POS = K_(a) ? M_(fb(Math.round(a.i.start / 1E3).toString())) : M_(fb("0"));
        return b
    }

    function Bqa(a) {
        var b = {};
        b.SLOT_POS = M_(fb(a.u.i.toString()));
        return b
    }

    function P_(a, b) {
        var c = b && -1 != b.indexOf("load_timeout") ? "402" : "400",
            d = {};
        return d.YT_ERROR_CODE = a.toString(), d.ERRORCODE = c, d.ERROR_MSG = b, d
    }

    function Q_(a) {
        for (var b = {}, c = t(Cqa), d = c.next(); !d.done; d = c.next()) {
            d = d.value;
            var e = a[d];
            e && (b[d] = e.toString())
        }
        return b
    }

    function R_(a) {
        for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
        c = {};
        Object.assign.apply(Object, [c].concat(ha(b)));
        return c
    }
    var Cqa = ["FINAL", "CPN", "MIDROLL_POS", "SDKV", "SLOT_POS"];

    function S_(a) {
        return T_(a) && 1 == a.getPlayerState(2)
    }

    function T_(a) {
        a = a.hc();
        return void 0 !== a && 2 == a.getPlayerType()
    }

    function U_(a) {
        a = a.Y();
        return pI(a) && !EI(a) && "desktop-polymer" == a.playerStyle
    }

    function V_(a, b) {
        var c = a.Y();
        eC(c) || "3" != c.controlsType || a.Tb().Dv(b)
    };

    function W_(a) {
        switch (a) {
            case "abandon":
                return "abandon";
            case "active_view_fully_viewable_audible_half_duration":
                return "fully_viewable_audible_half_duration_impression";
            case "active_view_measurable":
                return "measurable_impression";
            case "active_view_viewable":
                return "viewable_impression";
            case "complete":
                return "complete";
            case "end_fullscreen":
                return "exitfullscreen";
            case "first_quartile":
                return "firstquartile";
            case "fullscreen":
                return "fullscreen";
            case "impression":
                return "impression";
            case "midpoint":
                return "midpoint";
            case "mute":
                return "mute";
            case "pause":
                return "pause";
            case "progress":
                return "progress";
            case "resume":
                return "resume";
            case "skip":
                return "skip";
            case "start":
                return "start";
            case "third_quartile":
                return "thirdquartile";
            case "unmute":
                return "unmute"
        }
        return null
    }

    function Dqa(a) {
        this.i = a;
        var b = Pq.getInstance(),
            c = a.Oc();
        b.B !== c && ((b.B = c) || Hea(b));
        R(a.Y().experiments, "active_view_stop_starting_measurement_on_loaded") && zm(Wm.getInstance().featureSet, "ssmol", 1)
    };

    function X_() {}
    X_.prototype.send = function(a, b, c) {
        try {
            var d = !!a.scrubReferrer,
                e = Yq(a.baseUrl, Aqa(b, d, c)),
                f;
            if (a.headers)
                for (var g = t(a.headers), k = g.next(); !k.done; k = g.next()) switch (k.value.headerType) {
                    case "USER_AUTH":
                        var l = this.Gd();
                        l && (f || (f = {}), f.Authorization = "Bearer " + l);
                        break;
                    case "PLUS_PAGE_ID":
                        var m = this.i();
                        m && (f || (f = {}), f["X-Goog-PageId"] = m)
                }
            Lu(e, void 0, d, f)
        } catch (n) {}
    };

    function Y_(a) {
        this.gk = a
    }
    v(Y_, X_);
    Y_.prototype.Gd = function() {
        return this.gk ? this.gk.Gd() : ""
    };
    Y_.prototype.i = function() {
        return this.gk ? this.gk.Y().pageId : ""
    };

    function Z_(a) {
        this.Uj = a
    }
    Z_.prototype.send = function(a, b, c) {
        try {
            var d = a.match(Gi);
            if ("https" === d[1]) var e = a;
            else d[1] = "https", e = Fi("https", d[2], d[3], d[4], d[5], d[6], d[7]);
            a = e;
            var f = Xq(a);
            e = [];
            eu(a) && (e.push({
                headerType: "USER_AUTH"
            }), e.push({
                headerType: "PLUS_PAGE_ID"
            }));
            this.Uj.send({
                baseUrl: a,
                scrubReferrer: f,
                headers: e
            }, b, c)
        } catch (g) {}
    };

    function $_(a, b, c, d, e, f) {
        e = void 0 === e ? new Z_(new Y_(d.getVideoData(1))) : e;
        f = void 0 === f ? !1 : f;
        C.call(this);
        this.l = a;
        this.G = b;
        this.u = c;
        this.i = d;
        this.J = e;
        this.D = Array.from(this.l.va.progress || []);
        this.D.sort(function(g, k) {
            return g.offsetMilliseconds - k.offsetMilliseconds
        });
        this.B = {
            yw: .25,
            SECOND: .5,
            ox: .75
        };
        this.C = null;
        this.I = f
    }
    v($_, C);

    function a0(a, b, c) {
        !b0(a) && 0 < c && (c0(a, b), d0(a) ? e0(a, b, c) : f0(a, b, c))
    }

    function g0(a, b) {
        b0(a) || (d0(a) ? (c0(a, 0, !0), e0(a, b, b)) : (c0(a, 0, !0), f0(a, 0, 0, !0)), h0(a, "complete"))
    }

    function c0(a, b, c) {
        for (c = void 0 === c ? !1 : c; a.l.J < a.D.length;) {
            var d = i0(a, "progress"),
                e = a.D[a.l.J];
            if (e.offsetMilliseconds <= 1E3 * b || c) {
                var f = e.baseUrl;
                f && j0(a, f, d, e.headers || []);
                a.l.J++
            } else break
        }
    }

    function f0(a, b, c, d) {
        d = void 0 === d ? !1 : d;
        (b >= c * a.B.yw || d) && h0(a, "first_quartile");
        (b >= c * a.B.SECOND || d) && h0(a, "midpoint");
        (b >= c * a.B.ox || d) && h0(a, "third_quartile")
    }

    function k0(a, b, c, d) {
        if (null == a.C) {
            if (c < d || 1 < c - d) return
        } else if (a.C > d || d > c) return;
        h0(a, b)
    }

    function e0(a, b, c) {
        if (0 < c && 0 < b) {
            var d = a.i.Nd(a.i.getPresentingPlayerType());
            Q(d, 16) || Q(d, 32) || (k0(a, "first_quartile", b, c * a.B.yw), k0(a, "midpoint", b, c * a.B.SECOND), k0(a, "third_quartile", b, c * a.B.ox))
        }
        a.C = b
    }

    function l0(a, b) {
        for (var c = i0(a, b), d = t(a.l.va[b] || []), e = d.next(); !e.done; e = d.next()) {
            e = e.value;
            var f = e.baseUrl;
            f && j0(a, f, c, e.headers || [])
        }
        a.l.D[b] = !0
    }

    function h0(a, b) {
        a.l.D.hasOwnProperty(b) || l0(a, b)
    }

    function m0(a, b) {
        return a.l.D.hasOwnProperty(b)
    }

    function j0(a, b, c, d) {
        for (var e = a.J, f = e.send, g = {}, k = L_(a.i), l = t(Object.keys(k)), m = l.next(); !m.done; m = l.next()) m = m.value, g[m] = k[m].toString();
        a = Object.assign(g, a.u);
        f.call(e, b, a, c, d)
    }

    function i0(a, b) {
        var c = a.G;
        a = a.l;
        if (a.oo())
            if (b = W_(b), null == b) c = {};
            else {
                var d;
                (d = a.ya()()) || (d = (d = c.i) && d.hc ? (d = d.hc()) && 2 == d.getPlayerType() ? zY(d) : null : null);
                d ? (c = {
                    opt_adElement: d,
                    opt_fullscreen: c.i.isFullscreen()
                }, c = Uq(b, a.I, c)) : c = {}
            }
        else c = {};
        return c ? Object.assign({}, c) : {}
    }

    function d0(a) {
        return !R(a.i.Y().experiments, "html5_bulleit_dai_logging_policy_upg_livestream_killswitch") && a.I
    }

    function b0(a) {
        return d0(a) && !m0(a, "impression")
    }

    function n0(a) {
        return d0(a) && m0(a, "seek")
    };

    function o0(a, b, c, d, e, f) {
        c = void 0 === c ? {} : c;
        this.componentType = a;
        this.renderer = void 0 === b ? null : b;
        this.macros = c;
        this.layoutId = d;
        this.i = e;
        this.l = f;
        this.id = p0(a)
    }

    function p0(a) {
        return a + (":" + ($r.getInstance().i++).toString(36))
    };

    function q0(a) {
        this.i = a
    }

    function r0(a, b) {
        var c;
        if (!(c = 0 === b)) {
            if (b = 1 === b) b = R(a.i.experiments, "check_ad_ui_status_for_mweb_safari") && a.i.u && Oe ? !1 : a.i.u || EI(a.i) || !0;
            c = b
        }
        if (c) return !0;
        a = Fg("video-ads");
        return null != a && "none" !== dm(a, "display")
    };

    function s0(a, b, c, d, e, f) {
        f = void 0 === f ? 0 : f;
        S.call(this);
        this.S = a;
        this.l = d;
        this.u = e;
        this.u.i[b.I] = this;
        this.u.subscribe("adactiveviewmeasurable", this.HA, this);
        this.u.subscribe("adfullyviewableaudiblehalfdurationimpression", this.IA, this);
        this.u.subscribe("adoverlaymeasurableimpression", this.JA, this);
        this.u.subscribe("adoverlayunviewableimpression", this.KA, this);
        this.u.subscribe("adoverlayviewableendofsessionimpression", this.LA, this);
        this.u.subscribe("adoverlayviewableimmediateimpression", this.MA, this);
        this.u.subscribe("adviewableimpression", this.NA, this);
        this.ad = b;
        this.T = [];
        this.macros = c;
        this.D = !1;
        this.ea = !r0(new q0(this.S.Y()), f)
    }
    v(s0, S);
    h = s0.prototype;
    h.Qn = function() {
        return {}
    };
    h.Vq = function() {};
    h.lc = function(a) {
        this.Gi();
        this.W(a)
    };

    function t0(a, b) {
        Db(a.T, b);
        u0(a, b, 1)
    }
    h.Gi = function() {
        u0(this, this.T, 3);
        this.T = []
    };
    h.getDuration = function() {
        return this.S.getDuration(2, !1)
    };
    h.Si = function() {
        var a = this.l;
        b0(a) || !m0(a, "impression") && !m0(a, "start") || m0(a, "abandon") || m0(a, "complete") || m0(a, "skip") || (d0(a) ? l0(a, "pause") : h0(a, "pause"))
    };
    h.Ti = function() {
        this.ea || this.D || this.Od()
    };
    h.rf = function() {
        g0(this.l, this.getDuration())
    };
    h.Ee = function() {
        var a = this.l;
        !m0(a, "impression") || m0(a, "skip") || m0(a, "complete") || l0(a, "abandon")
    };
    h.Ui = function() {
        var a = this.l;
        d0(a) ? h0(a, "skip") : !m0(a, "impression") || m0(a, "abandon") || m0(a, "complete") || h0(a, "skip")
    };
    h.Od = function() {
        if (!this.D) {
            var a = this.Np();
            this.l.u.AD_CPN = a;
            a = this.l;
            if (d0(a)) {
                var b = a.i.getCurrentTime(2, !1);
                k0(a, "impression", b, 0)
            } else h0(a, "impression");
            h0(a, "start");
            b0(a) || a.i.isFullscreen() && l0(a, "fullscreen");
            this.D = !0
        }
    };
    h.Ze = function(a) {
        a = a || "";
        var b = "",
            c = "",
            d = "";
        T_(this.S) && (b = this.S.Nd(2).state, this.S.Dc() && (c = this.S.Dc().nf(), null != this.S.Dc().dg() && (d = this.S.Dc().dg())));
        var e = this.l;
        e.u = R_(e.u, P_(3, "There was an error playing the video ad. Error code: " + (a + "; s:" + b + "; rs:") + (c + "; ec:" + d)));
        h0(e, "error")
    };

    function v0(a) {
        a = a.l;
        a.u = R_(a.u, P_(0, "No playable media files can be selected"));
        h0(a, "error")
    }
    h.Mt = function() {};
    h.HA = function() {
        this.W("adactiveviewmeasurable")
    };
    h.IA = function() {
        this.W("adfullyviewableaudiblehalfdurationimpression")
    };
    h.JA = function() {
        this.W("adoverlaymeasurableimpression")
    };
    h.KA = function() {
        this.W("adoverlayunviewableimpression")
    };
    h.LA = function() {
        this.W("adoverlayviewableendofsessionimpression")
    };
    h.MA = function() {
        this.W("adoverlayviewableimmediateimpression")
    };
    h.NA = function() {
        this.W("adviewableimpression")
    };
    h.dispose = function() {
        this.Ea() || (this.Gi(), this.u.unsubscribe("adactiveviewmeasurable", this.HA, this), this.u.unsubscribe("adfullyviewableaudiblehalfdurationimpression", this.IA, this), this.u.unsubscribe("adoverlaymeasurableimpression", this.JA, this), this.u.unsubscribe("adoverlayunviewableimpression", this.KA, this), this.u.unsubscribe("adoverlayviewableendofsessionimpression", this.LA, this), this.u.unsubscribe("adoverlayviewableimmediateimpression", this.MA, this), this.u.unsubscribe("adviewableimpression", this.NA,
            this), delete this.u.i[this.ad.I], S.prototype.dispose.call(this))
    };

    function u0(a, b, c) {
        0 != b.length && (b = pb(b, function(d) {
            return new s_(d, c, d.id)
        }), a.W("onAdUxUpdate", b))
    }
    h.Np = function() {
        var a = this.S.getVideoData(2);
        return a && a.clientPlaybackNonce || ""
    };
    h.qy = function() {
        return ""
    };

    function w0(a) {
        var b = {};
        b.abandon = a.abandonCommands && E_(a.abandonCommands.commands) || [];
        t_.call(this, a, b)
    }
    v(w0, t_);
    w0.prototype.hm = function() {
        return !0
    };
    w0.prototype.zj = function() {
        return !1
    };

    function x0(a, b, c, d, e, f) {
        e = void 0 === e ? !1 : e;
        f = void 0 === f ? !1 : f;
        o0.call(this, "ad-action-interstitial", a, b, c, d);
        this.i = d;
        this.If = e;
        this.ih = f
    }
    v(x0, o0);

    function y0(a, b, c, d, e, f) {
        s0.call(this, a, b, c, d, e, 1);
        this.B = b;
        this.i = b.i.durationMilliseconds || 0;
        this.wc = null;
        this.C = f
    }
    v(y0, s0);
    h = y0.prototype;
    h.Gl = function() {
        0 < this.i && this.Od()
    };
    h.Od = function() {
        var a = this;
        this.wc = new dr(function() {
            a.rf();
            for (var b = t(a.B.i.completionCommands || []), c = b.next(); !c.done; c = b.next()) a.C.executeCommand(c.value, a.macros);
            a.lc("adended")
        }, this.i, this);
        E(this, this.wc);
        this.wc.start();
        t0(this, [new x0(this.B.i, this.macros)]);
        s0.prototype.Od.call(this)
    };
    h.Ee = function() {
        s0.prototype.Ee.call(this);
        this.lc("adabandoned")
    };
    h.rf = function() {
        s0.prototype.rf.call(this)
    };
    h.lc = function(a) {
        this.wc && this.wc.stop();
        s0.prototype.lc.call(this, a)
    };

    function z0(a) {
        t_.call(this, a);
        this.l = pt(this.i.playerVars || "")
    }
    v(z0, t_);
    z0.prototype.hm = function() {
        return !0
    };
    z0.prototype.zj = function() {
        return !1
    };

    function A0() {
        t_.apply(this, arguments)
    }
    v(A0, t_);
    A0.prototype.hm = function() {
        return !0
    };
    A0.prototype.zj = function() {
        return !1
    };

    function B0() {
        t_.apply(this, arguments)
    }
    v(B0, t_);
    B0.prototype.hm = function() {
        return !0
    };
    B0.prototype.zj = function() {
        return !1
    };

    function C0(a, b, c, d, e, f) {
        this.D = a;
        this.B = b;
        this.i = c;
        this.C = d;
        this.u = e;
        this.l = f
    }
    C0.prototype.create = function(a, b) {
        return a instanceof z_ ? this.D.create(a, b) : a instanceof I_ ? this.B.create(a, b) : a instanceof w0 ? this.i.create(a, b) : a instanceof B0 ? this.C.create(a, b) : a instanceof A0 ? this.u.create(a, b) : a instanceof z0 ? this.l.create(a, b) : null
    };

    function D0(a, b, c, d, e) {
        s0.call(this, a, b, c, d, e);
        var f = this;
        this.C = b;
        this.i = new dr(function() {
            f.Ze("load_timeout")
        }, 1E4);
        E(this, this.i);
        this.B = new WF(this);
        E(this, this.B)
    }
    v(D0, s0);
    h = D0.prototype;
    h.Ee = function() {
        s0.prototype.Ee.call(this);
        this.lc("adabandoned")
    };
    h.Si = function() {
        s0.prototype.Si.call(this);
        this.W("adpause", 2)
    };
    h.Ti = function() {
        s0.prototype.Ti.call(this);
        this.W("adplay", 1)
    };
    h.Od = function() {
        s0.prototype.Od.call(this);
        this.i.stop();
        this.B.Ga(this.S, "crn_bltplayback", this.QC);
        var a = new TI(0x7ffffffffffff, 0x8000000000000, {
            id: "bltcompletion",
            namespace: "bltplayback",
            priority: 1
        });
        this.S.Mf([a], 2);
        this.W("adplay", 1)
    };
    h.rf = function() {
        s0.prototype.rf.call(this);
        this.lc("adended")
    };
    h.Ze = function(a) {
        s0.prototype.Ze.call(this, a);
        this.lc("aderror")
    };
    h.Gl = function() {
        V_(this.S, !1);
        var a = this.C.l || {};
        a.autoplay = "1";
        this.S.cueVideoByPlayerVars(a, 2);
        this.i.start();
        this.S.playVideo(2);
        this.S.Ja("onAdIntroStateChange", 1)
    };
    h.lc = function(a) {
        this.i.stop();
        V_(this.S, !0);
        "adabandoned" != a && this.S.Ja("onAdComplete");
        this.S.Ja("onAdEnd");
        this.W(a);
        this.S.Ja("onAdIntroStateChange", 0)
    };
    h.QC = function(a) {
        "bltcompletion" == a.getId() && (this.S.Zh("bltplayback", 2), g0(this.l, this.getDuration()))
    };

    function E0(a, b, c, d, e, f, g) {
        s0.call(this, a, b, c, d, e);
        var k = this;
        this.I = b;
        this.G = b.i.durationMs || 0;
        this.C = g;
        this.J = !1;
        this.B = this.i = 0;
        this.K = function() {
            var l = k.S.getProgressState().current;
            l < k.i ? k.Ee() : l > k.B && k.rf()
        }
    }
    v(E0, s0);
    h = E0.prototype;
    h.Gl = function() {
        this.C && this.C.OU();
        0 >= this.G && (Cs(Error("durationMs was specified incorrectly with a value of: " + this.G)), this.rf());
        this.Od();
        this.S.addEventListener("progresssync", this.K)
    };
    h.Ee = function() {
        s0.prototype.Ee.call(this);
        this.lc("adabandonedreset")
    };
    h.Od = function() {
        s0.prototype.Od.call(this);
        this.i = R(this.S.Y().experiments, "disable_rounding_ad_notify") ? this.S.getCurrentTime() : Math.floor(this.S.getCurrentTime());
        this.B = this.i + this.G / 1E3;
        this.S.Ja("onAdMessageChange", {
            renderer: this.I.i,
            startTimeSecs: this.i
        });
        var a = this.S.getVideoData(1);
        a = a && a.clientPlaybackNonce || "";
        var b = Xx(),
            c = this.I.i.videoAdBreakOffsetMsInt64;
        b && iw("adNotify", {
            clientScreenNonce: b,
            adMediaTimeMs: Math.floor(1E3 * this.B),
            timeToAdBreakSec: Math.ceil(this.B - this.i),
            clientPlaybackNonce: a,
            videoAdBreakOffsetMs: Number(c)
        });
        this.C && (this.J = !0, this.C.PU());
        Q(this.S.Nd(1), 512) && (a = (a = this.S.getVideoData(1)) && a.clientPlaybackNonce || "", b = Xx(), c = this.I.i.videoAdBreakOffsetMsInt64, b && iw("adNotifyFailure", {
            clientScreenNonce: b,
            adMediaTimeMs: Math.floor(1E3 * this.B),
            timeToAdBreakSec: Math.ceil(this.B - this.i),
            clientPlaybackNonce: a,
            videoAdBreakOffsetMs: c
        }), this.rf())
    };
    h.rf = function() {
        s0.prototype.rf.call(this);
        this.lc("adended")
    };
    h.Ze = function(a) {
        s0.prototype.Ze.call(this, a);
        this.lc("aderror")
    };
    h.lc = function(a) {
        this.S.removeEventListener("progresssync", this.K);
        this.Gi();
        this.W(a);
        F0(this)
    };

    function F0(a) {
        a.C && a.J && (a.J = !1, a.C.QU())
    }
    h.dispose = function() {
        this.S.removeEventListener("progresssync", this.K);
        F0(this);
        s0.prototype.dispose.call(this)
    };
    h.Gi = function() {
        this.S.Ja("onAdMessageChange", {
            renderer: null,
            startTimeSecs: this.i
        })
    };

    function G0() {
        o0.call(this, "ad-attribution-bar");
        this.adPodPositionInfoString = null;
        this.adPodPosition = 0;
        this.adPodLength = 1;
        this.adBreakLengthSeconds = 0;
        this.adBadgeText = null;
        this.adBreakRemainingLengthSeconds = 0;
        this.adBreakEndSeconds = null;
        this.adVideoId = ""
    }
    v(G0, o0);

    function H0(a, b, c) {
        return c ? mC(c) : (b("Expected " + a), null)
    }

    function I0(a, b) {
        if (!b) return a("Expected a command to extract a URL from."), [];
        var c = b.loggingUrls;
        if (!c) return a("Expected command.loggingUrls"), [];
        b = [];
        c = t(c);
        for (var d = c.next(); !d.done; d = c.next()) d = d.value, d.baseUrl && b.push(d.baseUrl);
        return 0 === b.length ? (a("Expected at least one baseUrl in loggingUrls"), []) : b
    }

    function Eqa(a, b) {
        if (!a.cancelRenderer) return b("Expected cancelRenderer"), null;
        if (!a.cancelRenderer.buttonRenderer) return b("Expected buttonRenderer"), null;
        a = a.cancelRenderer.buttonRenderer.serviceEndpoint;
        return a ? a.muteAdEndpoint ? a : (b("Expected muteAdEndpoint"), null) : (b("Expected serviceEndpoint"), null)
    }

    function J0(a) {
        var b = {};
        b.baseUrl = a;
        return {
            loggingUrls: [b],
            pingingEndpoint: {
                hack: !0
            }
        }
    }

    function K0(a, b, c, d, e) {
        if (!b.button) e("Expected button");
        else if (!b.button.buttonRenderer) e("Expected buttonRenderer");
        else if (!b.button.buttonRenderer.command || !b.button.buttonRenderer.command.adInfoDialogChoiceEndpoint)
            if (b.button.buttonRenderer.serviceEndpoint)
                if (b.button.buttonRenderer.serviceEndpoint.adInfoDialogEndpoint) {
                    var f = b.button.buttonRenderer.serviceEndpoint.adInfoDialogEndpoint.dialog;
                    f ? f.adInfoDialogRenderer ? (L0(a, f.adInfoDialogRenderer, c, e), a.whyThisAdInfo.menuTitle = H0("hoverText",
                        e, b.hoverText) || "", f.adInfoDialogRenderer.muteAdRenderer && ((b = f.adInfoDialogRenderer.muteAdRenderer.buttonRenderer) ? Fqa(a, b, c, d, e) : e("Expected muteAdRenderer.buttonRenderer"))) : e("Expected adInfoDialogRenderer") : e("Expected dialog")
                } else e("Expected adInfoDialogEndpoint");
        else e("Expected serviceEndpoint")
    }

    function L0(a, b, c, d) {
        var e = H0("confirmLabel", d, b.confirmLabel) || "",
            f = H0("title", d, b.title) || "",
            g = [];
        if (b.adReasons)
            for (var k = t(b.adReasons), l = k.next(); !l.done; l = k.next()) g.push(H0("adReasons", d, l.value) || "");
        k = b.headerTitle ? mC(b.headerTitle) : "";
        d = {
            closeButton: e,
            menuTitle: k,
            targetingReasonHeader: f,
            targetingReasons: g,
            dialogMessage: H0("dialogMessage", d, b.dialogMessage) || "",
            adSettingsLink: null,
            cancelButton: null,
            continueButton: null,
            controlText: null
        };
        a.whyThisAdInfo = d;
        a.whyThisAdClicked = function() {
            if (b.impressionEndpoints)
                for (var m =
                        t(b.impressionEndpoints), n = m.next(); !n.done; n = m.next()) c(n.value)
        };
        a.whyThisAdClosed = function() {
            b.confirmServiceEndpoint && c(b.confirmServiceEndpoint)
        }
    }

    function Fqa(a, b, c, d, e) {
        if (b.navigationEndpoint)
            if (b.navigationEndpoint.adFeedbackEndpoint)
                if (b.navigationEndpoint.adFeedbackEndpoint.content) {
                    var f = b.navigationEndpoint.adFeedbackEndpoint.content.adFeedbackRenderer;
                    if (f) {
                        var g = {
                            goneText: "",
                            questionText: "",
                            undoText: "",
                            hoverText: H0("text", e, b.text) || "",
                            surveyOptions: [],
                            confirmMuteWithoutFeedbackLabel: ""
                        };
                        a.muteAdInfo = g;
                        b = I0(e, b.navigationEndpoint);
                        2 !== b.length && e("Expected navigationEndpoint on ButtonRenderer to have 2 urls.");
                        var k = J0(b[1]),
                            l = [J0(b[0])];
                        (b = Eqa(f, e)) && l.push(b);
                        var m = !1;
                        a.muteAdClicked = function() {
                            m && e("Expect muteAdClicked was not called when calling it.");
                            m = !0;
                            c(k)
                        };
                        a.muteAd = function() {
                            m || c(k);
                            m = !1;
                            for (var n = t(l), p = n.next(); !p.done; p = n.next()) c(p.value)
                        };
                        Gqa(a, f, d, e)
                    } else e("Expected adFeedbackRenderer")
                } else e("Expected content");
        else e("Expected adFeedbackEndpoint");
        else e("Expected navigationEndpoint")
    }

    function Gqa(a, b, c, d) {
        a.muteAdInfo.goneText = H0("title", d, b.title) || "";
        a.muteAdInfo.questionText = H0("reasonsTitle", d, b.reasonsTitle) || "";
        b.undoRenderer && (b.undoRenderer.buttonRenderer || d("Expected an undoRenderer."), a.muteAdInfo.undoText = H0("text", d, b.undoRenderer.buttonRenderer.text) || "");
        a.sendAdsPing = function(g) {
            c(g)
        };
        a = a.muteAdInfo.surveyOptions;
        b = t(b.reasons || []);
        for (var e = b.next(); !e.done; e = b.next()) {
            var f = e.value;
            e = H0("reason", d, f.reason) || "";
            f.endpoint || d("Expected an endpoint on feedbackReason.");
            f = I0(d, f.endpoint)[0];
            a.push({
                label: e,
                url: f
            })
        }
    }

    function M0(a, b) {
        var c = new G0;
        c.adBadgeText = "Ad";
        1 < a.u && (c.adPodPositionInfoString = ZM("$AD_INDEX of $ADS_COUNT", {
            AD_INDEX: String(a.i + 1),
            ADS_COUNT: String(a.u)
        }));
        c.adBreakLengthSeconds = a.adBreakLengthSeconds;
        c.adBreakRemainingLengthSeconds = a.adBreakRemainingLengthSeconds;
        c.adPodPosition = a.i + 1;
        c.adPodLength = a.u;
        null != a.l && (c.adBreakEndSeconds = a.l / 1E3);
        b && (c.adVideoId = b);
        return c
    };

    function N0(a, b, c, d, e, f) {
        this.l = a;
        this.u = b;
        this.i = L_(d);
        if (f)
            for (a = t(Object.keys(f)), b = a.next(); !b.done; b = a.next()) b = b.value, this.i[b] = f[b];
        this.B = c;
        this.D = d;
        this.C = e
    }

    function O0(a, b, c) {
        b.isSkippable = !0;
        b.skipTime = c.skipOffsetMilliseconds ? Math.floor(c.skipOffsetMilliseconds / 1E3) : 0;
        if (c.skippableRenderer) switch (Object.keys(c.skippableRenderer)[0]) {
            case "skipButtonRenderer":
                var d = c.skippableRenderer.skipButtonRenderer;
                b.skip = function() {
                    var e = d.adRendererCommands && d.adRendererCommands.clickCommand;
                    e ? a.Qb(e) : a.B.Ui()
                };
                b.skipShown = function() {
                    a.Qb(d.adRendererCommands && d.adRendererCommands.impressionCommand)
                }
        }
    }

    function P0(a, b, c) {
        K0(b, c, function(d) {
            a.Qb(d)
        }, function(d) {
            a.sendAdsPing(d)
        }, bb)
    }
    N0.prototype.sendAdsPing = function(a) {
        this.C.send(a, Q0(this), {})
    };
    N0.prototype.Qb = function(a) {
        var b = this;
        if (a) {
            var c = Q0(this);
            Array.isArray(a) ? a.forEach(function(d) {
                return b.l.executeCommand(d, c)
            }) : this.l.executeCommand(a, c)
        }
    };

    function Q0(a) {
        if (R(a.D.Y().experiments, "dynamic_command_macro_resolution_on_tvhtml5_killswitch")) return a.u;
        for (var b = {}, c = t(Object.keys(a.i)), d = c.next(); !d.done; d = c.next()) d = d.value, b[d] = a.i[d].toString();
        return Object.assign(b, a.u)
    }

    function R0() {
        return {
            adNextParams: "",
            adSystem: 0,
            attributionInfo: null,
            clickThroughUrl: "",
            executeCommand: function() {},
            instreamAdPlayerOverlayRenderer: null,
            instreamSurveyAdRenderer: null,
            slidingTextPlayerOverlayRenderer: null,
            isBumper: !1,
            isPostroll: !1,
            isSkippable: !1,
            muteAdInfo: null,
            skipTime: 0,
            videoId: "",
            videoUrl: "",
            whyThisAdInfo: null,
            muteAd: function() {},
            muteAdClicked: function() {},
            sendAdsPing: function() {},
            skip: function() {},
            endSurveyOnSubmitted: function() {},
            skipShown: function() {},
            whyThisAdClicked: function() {},
            whyThisAdClosed: function() {},
            daiEnabled: !1,
            remoteSlotsData: null,
            adBreakRemainingLengthSeconds: null,
            adBreakEndSeconds: null
        }
    };

    function Hqa(a, b, c, d, e, f, g) {
        this.i = c;
        this.l = new N0(a, b, d, e, f, void 0);
        this.u = g
    }

    function Iqa(a, b, c) {
        var d = R0();
        d.instreamAdPlayerOverlayRenderer = b;
        c && (d.adNextParams = c);
        d.executeCommand = function(e) {
            a.l.Qb(e)
        };
        if (b.skipOrPreviewRenderer) switch (Object.keys(b.skipOrPreviewRenderer)[0]) {
            case "skipAdRenderer":
                O0(a.l, d, b.skipOrPreviewRenderer.skipAdRenderer)
        }
        if (b.adInfoRenderer) switch (Object.keys(b.adInfoRenderer)[0]) {
            case "adHoverTextButtonRenderer":
                P0(a.l, d, b.adInfoRenderer.adHoverTextButtonRenderer)
        }
        d.isBumper = B_(a.i) && !d.isSkippable;
        d.isPostroll = a.i.isPostroll;
        a.i.isSkippable();
        b = a.i.C;
        c = a.i.getVideoUrl();
        b ? d.videoId = b : c && (d.videoUrl = c);
        if (b = (b = a.i.G) && b.urlEndpoint) d.clickThroughUrl = b.url || "";
        d.sendAdsPing =
            function(e) {
                a.l.sendAdsPing(e)
            };
        d.daiEnabled = a.u;
        d.remoteSlotsData = a.i.U;
        return d
    };

    function S0(a) {
        this.value = a
    }
    S0.prototype.get = function() {
        return this.value
    };

    function T0(a) {
        this.value = a
    }
    v(T0, S0);
    T0.prototype.tb = function() {
        return "metadata_type_action_companion_ad_renderer"
    };

    function U0(a) {
        this.value = a
    }
    v(U0, S0);
    U0.prototype.tb = function() {
        return "metadata_type_ad_next_params"
    };

    function V0(a) {
        this.value = a
    }
    v(V0, S0);
    V0.prototype.tb = function() {
        return "metadata_type_ad_video_clickthrough_endpoint"
    };

    function W0() {
        S0.apply(this, arguments)
    }
    v(W0, S0);
    W0.prototype.tb = function() {
        return "metadata_type_invideo_overlay_ad_renderer"
    };

    function X0(a) {
        this.value = a
    }
    v(X0, S0);
    X0.prototype.tb = function() {
        return "metadata_type_image_companion_ad_renderer"
    };

    function Y0(a) {
        this.value = a
    }
    v(Y0, S0);
    Y0.prototype.tb = function() {
        return "metadata_type_shopping_companion_carousel_renderer"
    };

    function Z0(a) {
        this.value = a
    }
    v(Z0, S0);
    Z0.prototype.tb = function() {
        return "metadata_type_ad_info_ad_metadata"
    };

    function $0(a) {
        this.value = a
    }
    v($0, S0);
    $0.prototype.tb = function() {
        return "metadata_ad_video_is_listed"
    };

    function a1(a) {
        this.value = a
    }
    v(a1, S0);
    a1.prototype.tb = function() {
        return "metadata_type_ad_placement_config"
    };

    function b1(a) {
        this.value = a
    }
    v(b1, S0);
    b1.prototype.tb = function() {
        return "metadata_type_ad_pod_info"
    };

    function c1() {
        S0.apply(this, arguments)
    }
    v(c1, S0);
    c1.prototype.tb = function() {
        return "metadata_type_ad_video_id"
    };

    function d1() {
        S0.apply(this, arguments)
    }
    v(d1, S0);
    d1.prototype.tb = function() {
        return "metadata_type_ad_video_url"
    };

    function e1(a) {
        this.value = a
    }
    v(e1, S0);
    e1.prototype.tb = function() {
        return "metadata_type_content_cpn"
    };

    function f1(a) {
        this.value = a
    }
    v(f1, S0);
    f1.prototype.tb = function() {
        return "metadata_type_instream_ad_player_overlay_renderer"
    };

    function g1(a) {
        this.value = a
    }
    v(g1, S0);
    g1.prototype.tb = function() {
        return "metadata_type_ad_action_interstitial_renderer"
    };

    function h1(a) {
        this.value = a
    }
    v(h1, S0);
    h1.prototype.tb = function() {
        return "metadata_type_valid_survey_text_interstitial_renderer"
    };

    function i1(a) {
        this.value = a
    }
    v(i1, S0);
    i1.prototype.tb = function() {
        return "METADATA_TYPE_VALID_INSTREAM_SURVEY_AD_RENDERER_FOR_DAI"
    };

    function j1(a) {
        this.value = a
    }
    v(j1, S0);
    j1.prototype.tb = function() {
        return "METADATA_TYPE_VALID_INSTREAM_SURVEY_AD_RENDERER_FOR_VOD"
    };

    function k1(a) {
        this.value = a
    }
    v(k1, S0);
    k1.prototype.tb = function() {
        return "metadata_type_sliding_text_player_overlay_renderer"
    };

    function l1(a) {
        this.value = a
    }
    v(l1, S0);
    l1.prototype.tb = function() {
        return "metadata_type_linked_player_bytes_layout_id"
    };

    function m1(a) {
        this.value = a
    }
    v(m1, S0);
    m1.prototype.tb = function() {
        return "metadata_type_linked_in_player_layout_id"
    };

    function n1(a) {
        this.value = a
    }
    v(n1, S0);
    n1.prototype.tb = function() {
        return "metadata_type_linked_in_player_slot_id"
    };

    function o1(a) {
        this.value = a
    }
    v(o1, S0);
    o1.prototype.tb = function() {
        return "metadata_type_player_bytes_callback"
    };

    function p1(a) {
        this.value = a
    }
    v(p1, S0);
    p1.prototype.tb = function() {
        return "metadata_type_player_bytes_callback_ref"
    };

    function q1(a) {
        this.value = a
    }
    v(q1, S0);
    q1.prototype.tb = function() {
        return "metadata_type_player_bytes_layout_controls_callback_ref"
    };

    function r1(a) {
        this.value = a
    }
    v(r1, S0);
    r1.prototype.tb = function() {
        return "metadata_type_sub_layouts"
    };

    function s1(a) {
        this.value = a
    }
    v(s1, S0);
    s1.prototype.tb = function() {
        return "metadata_type_cue_point"
    };

    function t1(a) {
        this.value = a
    }
    v(t1, S0);
    t1.prototype.tb = function() {
        return "metadata_type_video_length_seconds"
    };

    function u1(a) {
        this.value = a
    }
    v(u1, S0);
    u1.prototype.tb = function() {
        return "metadata_type_player_vars"
    };

    function v1(a) {
        this.value = a
    }
    v(v1, S0);
    v1.prototype.tb = function() {
        return "metadata_type_sodar_extension_data"
    };

    function w1(a) {
        this.value = a
    }
    v(w1, S0);
    w1.prototype.tb = function() {
        return "metadata_type_layout_enter_ms"
    };

    function N3(a) {
        this.value = a
    }
    v(N3, S0);
    N3.prototype.tb = function() {
        return "metadata_type_layout_exit_ms"
    };

    function O3(a) {
        this.value = a
    }
    v(O3, S0);
    O3.prototype.tb = function() {
        return "metadata_type_media_sub_layout_index"
    };

    function P3(a) {
        this.value = a
    }
    v(P3, S0);
    P3.prototype.tb = function() {
        return "metadata_type_dai"
    };

    function V3(a) {
        this.value = a
    }
    v(V3, S0);
    V3.prototype.tb = function() {
        return "metadata_type_ad_intro"
    };

    function W3(a) {
        this.value = a
    }
    v(W3, S0);
    W3.prototype.tb = function() {
        return "metadata_type_client_forecasting_ad_renderer"
    };

    function X3(a) {
        this.value = a
    }
    v(X3, S0);
    X3.prototype.tb = function() {
        return "metadata_type_drift_recovery_ms"
    };

    function Y3(a) {
        this.value = a
    }
    v(Y3, S0);
    Y3.prototype.tb = function() {
        return "metadata_type_fulfilled_layout"
    };

    function Z3(a) {
        this.value = a
    }
    v(Z3, S0);
    Z3.prototype.tb = function() {
        return "metadata_type_ad_break_request_data"
    };

    function $3(a) {
        this.value = a
    }
    v($3, S0);
    $3.prototype.tb = function() {
        return "metadata_type_ad_break_response_data"
    };

    function a4(a) {
        this.value = a
    }
    v(a4, S0);
    a4.prototype.tb = function() {
        return "metadata_type_remote_slots_data"
    };

    function b4(a) {
        this.value = a
    }
    v(b4, S0);
    b4.prototype.tb = function() {
        return "METADATA_TYPE_MEDIA_LAYOUT_DURATION_seconds"
    };

    function c4(a) {
        this.value = a
    }
    v(c4, S0);
    c4.prototype.tb = function() {
        return "METADATA_TYPE_MEDIA_BREAK_LAYOUT_DURATION_MILLISECONDS"
    };

    function d4() {
        S0.apply(this, arguments)
    }
    v(d4, S0);
    d4.prototype.tb = function() {
        return "metadata_type_legacy_info_card_vast_extension"
    };

    function e4() {
        S0.apply(this, arguments)
    }
    v(e4, S0);
    e4.prototype.tb = function() {
        return "METADATA_TYPE_INTERACTIONS_AND_PROGRESS_LAYOUT_COMMANDS"
    };

    function f4() {
        S0.apply(this, arguments)
    }
    v(f4, S0);
    f4.prototype.tb = function() {
        return "METADATA_TYPE_LOG_PLAYER_TYPE_ON_ERROR"
    };

    function g4() {
        return {
            adNextParams: "",
            adSystem: 0,
            attributionInfo: null,
            clickThroughUrl: "",
            executeCommand: function() {},
            instreamAdPlayerOverlayRenderer: {},
            instreamSurveyAdRenderer: null,
            slidingTextPlayerOverlayRenderer: null,
            isBumper: !1,
            isPostroll: !1,
            isSkippable: !1,
            muteAd: function() {},
            muteAdClicked: function() {},
            muteAdInfo: null,
            sendAdsPing: function() {},
            skip: function() {},
            skipShown: function() {},
            endSurveyOnSubmitted: function() {},
            skipTime: 0,
            videoId: "",
            videoUrl: "",
            whyThisAdClicked: function() {},
            whyThisAdClosed: function() {},
            whyThisAdInfo: null,
            daiEnabled: !1,
            remoteSlotsData: null,
            adBreakRemainingLengthSeconds: null,
            adBreakEndSeconds: null
        }
    }

    function h4(a) {
        return ("instreamSurveyAdSingleSelectQuestionRenderer" in a.questions[0] ? a.questions[0].instreamSurveyAdSingleSelectQuestionRenderer : a.questions[0].instreamSurveyAdMultiSelectQuestionRenderer).surveyAdQuestionCommon.instreamAdPlayerOverlay.instreamSurveyAdPlayerOverlayRenderer
    }

    function Jqa(a, b) {
        var c = Object.assign(Object.assign({}, g4()), {
            daiEnabled: a.xa.i.has("metadata_type_dai")
        });
        c.instreamAdPlayerOverlayRenderer = W(a.xa, "metadata_type_instream_ad_player_overlay_renderer");
        c.adNextParams = W(a.xa, "metadata_type_ad_next_params") || "";
        var d = W(a.xa, "metadata_type_ad_video_clickthrough_endpoint");
        d && d.urlEndpoint && (c.clickThroughUrl = d.urlEndpoint.url || "");
        d = W(a.xa, "metadata_type_video_length_seconds");
        c.isBumper = 0 < d && 7.05 >= d;
        d = W(a.xa, "metadata_type_ad_placement_config");
        c.isPostroll =
            "AD_PLACEMENT_KIND_END" === d.kind;
        if (d = W(a.xa, "metadata_type_ad_video_id")) c.videoId = d;
        if (d = W(a.xa, "metadata_type_ad_video_url")) c.videoUrl = d;
        c.remoteSlotsData = W(a.xa, "metadata_type_remote_slots_data");
        a = W(a.xa, "metadata_type_ad_pod_info");
        c.adBreakRemainingLengthSeconds = a.adBreakRemainingLengthSeconds;
        R(b.S.Y().experiments, "enable_ad_break_end_time_on_pacf_tvhtml5") && null != a.l && (c.adBreakEndSeconds = a.l / 1E3);
        return c
    }

    function i4(a, b) {
        return {
            executeCommand: function(c) {
                a.executeCommand(c, b)
            }
        }
    }

    function Kqa(a, b, c, d, e, f) {
        var g, k = {};
        if (!f) return k;
        k.isSkippable = !0;
        k.skipTime = f.skipOffsetMilliseconds ? Math.floor(f.skipOffsetMilliseconds / 1E3) : 0;
        var l = null === (g = f.skippableRenderer) || void 0 === g ? void 0 : g.skipButtonRenderer;
        if (!l) return V("Expected SkipButton on SkippableRenderer", a, b), k;
        k.skip = function() {
            var m;
            if (!e()) {
                var n = null === (m = l.adRendererCommands) || void 0 === m ? void 0 : m.clickCommand,
                    p = W(b.xa, "metadata_type_player_bytes_callback");
                if (p.Zt) n ? c.executeCommand(n, b.layoutId) : p.Kq(a, b);
                else if (Lqa(d,
                        b.layoutId), n) {
                    p = c.executeCommand;
                    var q;
                    var r;
                    if (q = null === (r = n.commandExecutorCommand) || void 0 === r ? void 0 : r.commands) {
                        n = [];
                        for (r = 0; r < q.length; r++) {
                            var u = q[r],
                                x;
                            if (x = u.adLifecycleCommand) x = u.adLifecycleCommand, x = "END_LINEAR_AD" === x.action || "END_LINEAR_AD_PLACEMENT" === x.action;
                            x || u.pingingEndpoint || u.adPingingEndpoint || n.push(u)
                        }
                        q = {
                            commandExecutorCommand: {
                                commands: n
                            }
                        }
                    } else q = n;
                    p.call(c, q, b.layoutId)
                }
            }
        };
        k.skipShown = function() {
            Mqa(l, c, b)
        };
        return k
    }

    function Nqa(a, b, c, d, e) {
        a = Oqa(a, b, c, d, e);
        var f = W(c.xa, "metadata_type_player_bytes_layout_controls_callback_ref").current;
        a.whyThisAdClosed = function() {
            f ? f.bl(b, c) : V("Trying to resume a layout but PlayerByteslayoutControlsCallback is null.")
        };
        a.whyThisAdClicked = function() {
            f ? f.Xk(b, c) : V("Trying to pause a layout but PlayerByteslayoutControlsCallback is null.")
        };
        return a
    }

    function Oqa(a, b, c, d, e) {
        var f, g = null === (f = h4(a).skipOrPreviewRenderer) || void 0 === f ? void 0 : f.skipAdRenderer;
        b = Object.assign(Object.assign(Object.assign({}, g4()), Pqa(b, c, d, g, e)), i4(d, c.layoutId));
        b.instreamSurveyAdRenderer = a;
        b.endSurveyOnSubmitted = function() {
            for (var k = c.layoutId, l = [], m = t(e.Hl.values()), n = m.next(); !n.done; n = m.next()) {
                n = n.value;
                var p = n.trigger;
                p instanceof j4 && p.Td === k && l.push(n)
            }
            l.length ? k4(e.Mr(), l) : V("Survey is submitted but no registered triggers can be activated.")
        };
        return b
    }

    function Pqa(a, b, c, d, e) {
        var f, g = {
            isSkippable: !0
        };
        g.skipTime = d.skipOffsetMilliseconds ? Math.floor(d.skipOffsetMilliseconds / 1E3) : 0;
        var k = null === (f = d.skippableRenderer) || void 0 === f ? void 0 : f.skipButtonRenderer;
        if (!k) return V("Expected SkipButton on SkippableRenderer", a, b), g;
        g.skip = function() {
            var l;
            Lqa(e, b.layoutId);
            var m = null === (l = k.adRendererCommands) || void 0 === l ? void 0 : l.clickCommand;
            m && c.executeCommand(m, b.layoutId)
        };
        g.skipShown = function() {
            Mqa(k, c, b)
        };
        return g
    }

    function Mqa(a, b, c) {
        var d;
        (a = null === (d = a.adRendererCommands) || void 0 === d ? void 0 : d.impressionCommand) && b.executeCommand(a, c.layoutId)
    }

    function Qqa(a, b, c, d, e) {
        var f, g, k, l, m;
        b = h4(b);
        var n = (b.adInfoRenderer || {}).adHoverTextButtonRenderer;
        (n = null === (m = null === (l = null === (k = null === (g = null === (f = null === n || void 0 === n ? void 0 : n.button) || void 0 === f ? void 0 : f.buttonRenderer) || void 0 === g ? void 0 : g.serviceEndpoint) || void 0 === k ? void 0 : k.adInfoDialogEndpoint) || void 0 === l ? void 0 : l.dialog) || void 0 === m ? void 0 : m.adInfoDialogRenderer) ? L0(a, n, function(p) {
            e.executeCommand(p, d.layoutId)
        }, function(p) {
            V(p, c, d)
        }): V("Expected valid AdHoverTextButtonRenderer",
            c, d, {
                instreamSurveyAdPlayerOverlayRenderer: b
            })
    };

    function l4(a) {
        var b, c;
        if (!a.questions || 1 !== a.questions.length || !a.playbackCommands) return !1;
        a = (null === (b = a.questions[0].instreamSurveyAdMultiSelectQuestionRenderer) || void 0 === b ? void 0 : b.surveyAdQuestionCommon) || (null === (c = a.questions[0].instreamSurveyAdSingleSelectQuestionRenderer) || void 0 === c ? void 0 : c.surveyAdQuestionCommon);
        return Rqa(a) ? !0 : !1
    }

    function Sqa(a) {
        a = ((null === a || void 0 === a ? void 0 : a.playerOverlay) || {}).instreamSurveyAdRenderer;
        var b;
        a ? a.playbackCommands && a.questions && 1 === a.questions.length ? (a = null === (b = a.questions[0].instreamSurveyAdMultiSelectQuestionRenderer) || void 0 === b ? void 0 : b.surveyAdQuestionCommon, b = Rqa(a)) : b = !1 : b = !1;
        return b
    }

    function Rqa(a) {
        if (!a) return !1;
        var b = (a.instreamAdPlayerOverlay || {}).instreamSurveyAdPlayerOverlayRenderer;
        a = (null === b || void 0 === b ? void 0 : b.skipOrPreviewRenderer) || {};
        var c = a.skipAdRenderer;
        b = ((null === b || void 0 === b ? void 0 : b.adInfoRenderer) || {}).adHoverTextButtonRenderer;
        return (a.adPreviewRenderer || c) && b ? !0 : !1
    };

    function Tqa(a, b, c, d, e, f) {
        this.i = new N0(a, b, c, d, e, Uqa(f))
    }

    function Vqa(a, b) {
        var c = R0();
        c.instreamSurveyAdRenderer = b;
        c.executeCommand = function(d) {
            a.i.Qb(d)
        };
        b = h4(b);
        if (b.skipOrPreviewRenderer) switch (Object.keys(b.skipOrPreviewRenderer)[0]) {
            case "skipAdRenderer":
                O0(a.i, c, b.skipOrPreviewRenderer.skipAdRenderer)
        }
        if (b.adInfoRenderer) switch (Object.keys(b.adInfoRenderer)[0]) {
            case "adHoverTextButtonRenderer":
                P0(a.i, c, b.adInfoRenderer.adHoverTextButtonRenderer)
        }
        c.sendAdsPing = function(d) {
            a.i.sendAdsPing(d)
        };
        return c
    }
    Tqa.prototype.Qb = function(a) {
        this.i.Qb(a)
    };

    function Uqa(a) {
        var b = {};
        b.SURVEY_LOCAL_TIME_EPOCH_S = M_(function() {
            var c = new Date;
            return "" + (Math.round(c.valueOf() / 1E3) + -60 * c.getTimezoneOffset())
        });
        b.SURVEY_ELAPSED_MS = M_(a);
        return b
    };

    function m4(a, b, c) {
        S.call(this, !0);
        var d = this;
        this.D = b;
        this.C = c;
        this.l = a;
        this.wc = new Fh(200);
        this.wc.jd("tick", function() {
            var e = Date.now(),
                f = e - d.B;
            d.B = e;
            d.i += f;
            d.i >= d.l && (d.i = d.l, d.wc.stop());
            e = d.i / 1E3;
            d.C && d.C.md(e);
            Wqa(d, {
                current: e,
                duration: d.l / 1E3
            })
        });
        E(this, this.wc);
        this.i = 0;
        this.u = null;
        Qf(this, function() {
            d.u = null
        });
        this.B = 0
    }
    v(m4, S);
    m4.prototype.getProgressState = function() {
        return this.u
    };
    m4.prototype.start = function() {
        this.B = Date.now();
        Wqa(this, {
            current: this.i / 1E3,
            duration: this.l / 1E3
        });
        this.wc.start()
    };
    m4.prototype.stop = function() {
        this.wc.stop()
    };

    function Wqa(a, b) {
        a.D.Ja("onAdPlaybackProgress", b);
        a.u = b
    };

    function n4(a, b, c, d, e, f, g) {
        s0.call(this, a, b, c, d, e, 1);
        var k = this;
        this.C = b;
        this.B = new WF;
        E(this, this.B);
        this.B.Ga(this.S, "resize", function() {
            450 > k.S.Tb().Ye().width && (YF(k.B), k.Ee())
        });
        this.I = 0;
        this.G = g(this, function() {
            return "" + (Date.now() - k.I)
        });
        this.i = new m4(1E3 * b.l, a, f), E(this, this.i), this.B.Ga(a, "onAdPlaybackProgress", function(l) {
            l.current === l.duration && (l = k.C.i, (l = l.questions && l.questions[0]) ? (l = (l = l.instreamSurveyAdMultiSelectQuestionRenderer || l.instreamSurveyAdSingleSelectQuestionRenderer) && l.surveyAdQuestionCommon, k.G.Qb(l && l.timeoutCommands)) : ky(Error("Expected a survey question in InstreamSurveyAdRenderer.")))
        })
    }
    v(n4, s0);
    h = n4.prototype;
    h.Gl = function() {
        this.Od()
    };
    h.Od = function() {
        var a = this.C.i;
        R(this.S.Y().experiments, "validate_tvhtml5_instream_survey_ad_renderer_in_bulleit") && !l4(a) ? (ky(Error("Expected a valid VOD InstreamSurveyAdRenderer.")), this.lc("aderror")) : (a = Vqa(this.G, a), this.S.Ja("onAdInfoChange", a));
        this.I = Date.now();
        this.i && this.i.start();
        s0.prototype.Od.call(this)
    };
    h.getDuration = function() {
        return this.C.l
    };
    h.Si = function() {
        s0.prototype.Si.call(this);
        this.i && this.i.stop()
    };
    h.Ti = function() {
        s0.prototype.Ti.call(this);
        this.i && this.i.start()
    };
    h.Ee = function() {
        s0.prototype.Ee.call(this);
        this.lc("adabandoned")
    };
    h.Ui = function() {
        s0.prototype.Ui.call(this);
        this.lc("adended")
    };
    h.Ze = function(a) {
        s0.prototype.Ze.call(this, a);
        this.lc("aderror")
    };
    h.lc = function(a) {
        this.Gi();
        this.W(a)
    };
    h.Mt = function(a) {
        switch (a) {
            case "skip-button":
                this.Ui();
                break;
            case "survey-submit":
                this.lc("adended")
        }
    };
    h.Gi = function() {
        this.i && this.i.stop();
        this.S.Ja("onAdInfoChange", null)
    };

    function o4(a, b, c, d, e, f) {
        e = void 0 === e ? !1 : e;
        f = void 0 === f ? !1 : f;
        o0.call(this, "survey-interstitial", a, b, c, d);
        this.If = e;
        this.Hv = f
    }
    v(o4, o0);

    function p4(a, b, c, d, e) {
        s0.call(this, a, b, c, d, e, 1);
        this.i = b
    }
    v(p4, s0);
    p4.prototype.Gl = function() {
        this.Od()
    };
    p4.prototype.Od = function() {
        t0(this, [new o4(this.i.i, this.macros)]);
        s0.prototype.Od.call(this)
    };
    p4.prototype.Ee = function() {
        s0.prototype.Ee.call(this);
        this.lc("adabandoned")
    };
    p4.prototype.Ze = function(a) {
        s0.prototype.Ze.call(this, a);
        this.lc("aderror")
    };

    function q4(a, b, c, d, e, f, g, k, l, m, n) {
        s0.call(this, a, b, c, d, e, 1);
        var p = this;
        this.Zt = !0;
        this.K = l;
        this.i = b;
        this.B = f;
        this.X = new WF(this);
        E(this, this.X);
        this.C = new dr(function() {
            p.Ze("load_timeout")
        }, 1E4);
        E(this, this.C);
        this.J = !1;
        this.Z = k(this);
        this.U = g;
        this.G = m;
        this.I = n
    }
    v(q4, s0);
    h = q4.prototype;
    h.Qn = function() {
        return {
            currentTime: this.S.getCurrentTime(2, !1),
            duration: this.i.l,
            isPlaying: S_(this.S),
            isVpaid: !1,
            isYouTube: !0,
            volume: this.S.isMuted() ? 0 : this.S.getVolume() / 100
        }
    };
    h.Gl = function() {
        if (this.i.K) v0(this), this.lc("aderror");
        else {
            var a = this.i.i.legacyInfoCardVastExtension,
                b = this.i.C;
            a && b && this.S.Y().G.add(b, {
                Ox: a
            });
            try {
                var c = this.i.i.sodarExtensionData;
                if (c && c.siub && c.bgub && c.scs && c.bgp) try {
                    xl(c.siub, c.scs, c.bgub, c.bgp)
                } catch (k) {
                    var d = sc("//tpc.googlesyndication.com/sodar/%{path}");
                    ly(new lw("Load Sodar Error.", d instanceof nc, d.constructor === nc, {
                        Message: k.message,
                        "Escaped injector basename": Cd(c.siub),
                        "BG vm basename": c.bgub
                    }));
                    if (d.constructor === nc) throw k;
                }
            } catch (k) {
                ky(k)
            }
            V_(this.S,
                !1);
            a = A_(this.i);
            R(this.S.Y().experiments, "disable_force_iv_load_policy_on_bulleit") || (a.iv_load_policy = 3);
            b = this.S.getVideoData(1);
            b.Qe && (a.ctrl = b.Qe);
            b.Qd && (a.ytr = b.Qd);
            b.Eh && (a.ytrcc = b.Eh);
            b.isMdxPlayback && (a.mdx = "1");
            a.vvt && (a.vss_credentials_token = a.vvt, b.Kf && (a.vss_credentials_token_type = b.Kf), b.mdxEnvironment && (a.mdx_environment = b.mdxEnvironment));
            this.W("adunstarted", -1);
            if (!r4(this.G)) {
                b = this.i.i;
                (c = b.playerOverlay && b.playerOverlay.instreamAdPlayerOverlayRenderer) || (c = {});
                d = this.S.Y();
                if (EI(d) &&
                    !c.skipOrPreviewRenderer) {
                    var e = this.S.getDuration(2);
                    isFinite(e) && 33 < e && !this.i.isSkippable() && !EI(d) && ky(new lw("Instream ad is skippable by length, but was was marked nonskippable.", {
                        adLengthSecs: e,
                        IVAR: b
                    }));
                    d = {};
                    if (this.i.isSkippable() && !B_(this.i)) {
                        e = {
                            preskipRenderer: {}
                        };
                        e.preskipRenderer.adPreviewRenderer = Xqa(this, !0, !1);
                        e.skippableRenderer = {};
                        var f = e.skippableRenderer,
                            g = {
                                message: {}
                            };
                        g.message.text = "Skip Ad";
                        f.skipButtonRenderer = g;
                        d.skipAdRenderer = e
                    } else d.adPreviewRenderer = Xqa(this, !1, B_(this.i));
                    c.skipOrPreviewRenderer = d
                }
                c.skipOrPreviewRenderer && bc(c.skipOrPreviewRenderer) && ky(new lw("IAPOR.skipOrPreview was filled, but empty.", b));
                b = Iqa(this.Z, c, this.i.i.adNextParams || "");
                b.attributionInfo = M0(this.i.u, this.i.C || "");
                this.S.Ja("onAdInfoChange", b)
            }
            this.U ? this.C.start() : (this.S.cueVideoByPlayerVars(a, 2), this.C.start(), this.S.playVideo(2))
        }
    };
    h.Si = function() {
        s0.prototype.Si.call(this);
        this.W("adpause", 2)
    };
    h.Ti = function() {
        s0.prototype.Ti.call(this);
        this.W("adplay", 1)
    };
    h.Od = function() {
        s0.prototype.Od.call(this);
        this.C.stop();
        this.X.Ga(this.S, "crn_bltplayback", this.RC);
        var a = new TI(0x7ffffffffffff, 0x8000000000000, {
            id: "bltcompletion",
            namespace: "bltplayback",
            priority: 1
        });
        this.S.Mf([a], 2);
        a = s4(this);
        this.B.va = a;
        r4(this.G) || (a = (a = this.S.getVideoData(2)) && a.isListed ? {
            channelId: a.oi,
            channelThumbnailUrl: a.Xh || "",
            channelTitle: a.author,
            videoTitle: a.title,
            channelVideoCount: 0,
            showAdInfoIcon: !1,
            whyThisAdInfo: null,
            muteAdInfo: null
        } : null) && this.S.Ja("onAdMetadataAvailable", a);
        if (this.S.isMuted()) {
            a = this.l;
            var b = this.S.isMuted();
            d0(a) || h0(a, b ? "mute" : "unmute")
        }
        this.W("adplay", 1);
        if (null !== this.K) {
            a = null !== this.B.i.getVideoData(1) ? this.B.i.getVideoData(1).clientPlaybackNonce : "";
            b = Yqa(this);
            for (var c = this.i, d = Zqa(this), e = t(this.K.listeners), f = e.next(); !f.done; f = e.next()) {
                f = f.value;
                var g = b,
                    k = c,
                    l = d,
                    m = [],
                    n = k.C,
                    p = k.getVideoUrl();
                n && m.push(new c1(n));
                p && m.push(new d1(p));
                (n = (n = k.i) && n.playerOverlay && n.playerOverlay.instreamAdPlayerOverlayRenderer) ? (m.push(new f1(n)), (n = n.elementId) &&
                    m.push(new m1(n))) : V("instreamVideoAdRenderer without instreamAdPlayerOverlayRenderer");
                k.i.adNextParams && m.push(new U0(k.i.adNextParams || ""));
                (n = k.G) && m.push(new V0(n));
                (n = h_(f.G.get(), 2)) ? (m.push(new Z0({
                    channelId: n.oi,
                    channelThumbnailUrl: n.Xh,
                    channelTitle: n.author,
                    videoTitle: n.title
                })), m.push(new $0(n.isListed))) : V("Expected meaningful PlaybackData on ad started.");
                m.push(new b1(k.u));
                m.push(new t1(k.l));
                m.push(new e1(a));
                m.push(new p1({
                    current: this
                }));
                n = k.Fa;
                null != n.kind && m.push(new a1(n));
                (n =
                    k.U) && m.push(new a4(n));
                void 0 !== l && m.push(new b4(l));
                f.i ? V(f.i.layoutId === g ? "Received repeat AD_START event." : "Received a new AD_START event before received AD_ENDED event.") : $qa(f, g, m, !0, k.i.adLayoutLoggingData)
            }
        }
        this.I.qp = this;
        this.S.Ja("onAdStart", s4(this));
        a = t(this.i.i.impressionCommands || []);
        for (b = a.next(); !b.done; b = a.next()) this.B.executeCommand(b.value, this.macros)
    };

    function Zqa(a) {
        if (a.U && (R(a.S.Y().experiments, "enable_topsoil_wta_for_halftime") || R(a.S.Y().experiments, "enable_topsoil_wta_for_halftime_live_infra"))) {
            var b = a.i.u,
                c = b.B,
                d = b.l,
                e = b.i;
            b = b.C;
            if (void 0 === c) ky(Error("Expected ad break start time when a DAI ad starts"));
            else if (void 0 === d) ky(Error("Expected ad break end time when a DAI ad starts"));
            else return e = b.slice(0, e).reduce(function(f, g) {
                return f + g
            }, 0), Math.min(Math.max((d - c) / 1E3 - e, 0), a.i.l)
        }
    }
    h.RC = function(a) {
        "bltcompletion" == a.getId() && (this.S.Zh("bltplayback", 2), g0(this.l, this.getDuration()), t4(this, "adended"), u4(this.I, this))
    };

    function t4(a, b) {
        if (null !== a.K) {
            var c = Yqa(a);
            a = t(a.K.listeners);
            for (var d = a.next(); !d.done; d = a.next()) {
                d = d.value;
                var e = c;
                var f = b,
                    g = !1;
                if (!d.i && "aderror" === f) {
                    $qa(d, e, [], !1);
                    var k = d.u();
                    g = d.l;
                    v4(k.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_SCHEDULED", g);
                    k = t(k.Uc);
                    for (var l = k.next(); !l.done; l = k.next()) l.value.Yg(g);
                    k = d.u();
                    g = d.l;
                    v4(k.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_ENTERED", g);
                    k = t(k.Uc);
                    for (l = k.next(); !l.done; l = k.next()) l.value.gf(g);
                    g = !0
                }
                if (d.i && d.i.layoutId === e) {
                    switch (f) {
                        case "adabandoned":
                            e = "abandoned";
                            break;
                        case "aderror":
                            e = "error";
                            break;
                        default:
                            e = "normal"
                    }
                    w4(d.u(), d.l, d.i, e);
                    if (g) {
                        f = d.u();
                        e = d.l;
                        v4(f.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_UNSCHEDULED", e);
                        f = t(f.Uc);
                        for (g = f.next(); !g.done; g = f.next()) g.value.hj(e);
                        f = d.u();
                        e = d.l;
                        v4(f.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_EXITED", e);
                        f = t(f.Uc);
                        for (g = f.next(); !g.done; g = f.next()) g.value.hf(e)
                    }
                    d.l = null;
                    d.i = null
                }
            }
        }
    }

    function s4(a) {
        return (a = a.S.getVideoData(2)) ? a.clientPlaybackNonce : ""
    }

    function Yqa(a) {
        if (a = a.i.i.elementId) return a;
        ky(Error("No elementId on VideoAd InstreamVideoAdRenderer"));
        return ""
    }
    h.rf = function() {
        s0.prototype.rf.call(this);
        this.lc("adended");
        for (var a = t(this.i.i.completeCommands || []), b = a.next(); !b.done; b = a.next()) this.B.executeCommand(b.value, this.macros)
    };
    h.Ee = function() {
        s0.prototype.Ee.call(this);
        this.lc("adabandoned")
    };
    h.Kq = function() {
        this.Ui()
    };
    h.Ui = function() {
        s0.prototype.Ui.call(this);
        this.lc("adended")
    };
    h.Ze = function(a) {
        s0.prototype.Ze.call(this, a);
        this.lc("aderror")
    };
    h.lc = function(a) {
        this.C.stop();
        r4(this.G) || this.Gi();
        V_(this.S, !0);
        "adabandoned" != a && this.S.Ja("onAdComplete");
        t4(this, a);
        u4(this.I, this);
        this.S.Ja("onAdEnd", s4(this));
        this.W(a)
    };
    h.Gi = function() {
        var a = this.S.Y();
        EI(a) || R(a.experiments, "enable_topsoil_wta_for_halftime") || R(a.experiments, "enable_topsoil_wta_for_halftime_live_infra");
        this.S.Ja("onAdInfoChange", null)
    };

    function Xqa(a, b, c) {
        var d = a.S.getVideoData(1),
            e = {};
        if (b || c) {
            var f = {},
                g = {};
            c = c ? ZM("Your video will begin in $TIME_REMAINING", {
                NEW_LINE: "\n",
                TIME_REMAINING: "{TIME_REMAINING}"
            }) : ZM("You can skip to video in $TIME_REMAINING", {
                NEW_LINE: "\n",
                TIME_REMAINING: "{TIME_REMAINING}"
            });
            g.text = c;
            g.isTemplated = !0;
            f.templatedAdText = g;
            e.templatedCountdown = f
        } else f = {}, g = ZM("Video will play after ad", {
            NEW_LINE: "\n"
        }), f.text = g, f.isTemplated = !1, e.staticPreview = f;
        b && (e.durationMilliseconds = 5E3);
        e.thumbnail = {};
        b = e.thumbnail;
        f = {};
        f.url = wI(a.S.Y(), d.videoId, "mqdefault.jpg");
        f.width = 320;
        f.height = 180;
        b.thumbnail = {
            thumbnails: [f]
        };
        return e
    }
    h.Fu = function() {
        this.J || this.Vq()
    };
    h.Vq = function() {
        this.Ez && this.S.playVideo()
    };
    h.Ez = function() {
        return 2 == this.S.getPlayerState(2)
    };
    h.Mt = function(a) {
        if (!r4(this.G)) {
            var b = this.l;
            if (T_(b.i)) switch (a) {
                case "ad-title":
                    b.i.sendVideoStatsEngageEvent(14, void 0, 2);
                    break;
                case "ad-channel-thumbnail":
                case "advertiser-name":
                    b.i.sendVideoStatsEngageEvent(15, void 0, 2);
                    break;
                case "visit-advertiser":
                    b.i.sendVideoStatsEngageEvent(3, void 0, 2)
            }
            switch (a) {
                case "ad-mute-confirm-dialog-close-button":
                case "ad-feedback-undo-mute-button":
                case "ad-info-dialog-close-button":
                    this.J || this.Vq();
                    break;
                case "ad-info-icon-button":
                    (this.J = this.Ez()) || this.S.pauseVideo();
                    break;
                case "ad-channel-thumbnail":
                case "advertiser-name":
                    a = this.S.Y().protocol + "://" + uI(this.S.Y()) + "/channel/" + this.i.Z;
                    bN(a);
                    break;
                case "ad-title":
                    this.S.pauseVideo();
                    bN(this.S.getVideoUrl());
                    break;
                case "visit-advertiser":
                    this.S.pauseVideo();
                    if (EI(this.S.Y()) && (a = this.i.G)) {
                        b = this.l;
                        var c = a.loggingUrls || null;
                        if (c) {
                            c = t(c);
                            for (var d = c.next(); !d.done; d = c.next()) d = d.value, d.baseUrl && j0(b, d.baseUrl, {}, d.headers || [])
                        }
                        a.urlEndpoint && a.urlEndpoint.url && bN(a.urlEndpoint.url)
                    }
                    a = this.l;
                    b0(a) || l0(a, "clickthrough");
                    break;
                case "skip-button":
                    this.Ui()
            }
        }
    };
    h.qy = function(a, b) {
        if (this.i.K) return v0(this), this.lc("aderror"), "";
        if (!Number.isFinite(a)) return ky(Error("Playing the video after the current media has finished is not supported")), "";
        if (b <= a) return ky(Error("Start time is not earlier than end time")), "";
        var c = 1E3 * this.i.l,
            d = A_(this.i);
        d = this.S.Kl(d, 2, c, a, b);
        a + c > b && this.S.Nm(d, b - a);
        return d
    };
    h.dispose = function() {
        S_(this.S) && !this.U && this.S.stopVideo(2);
        t4(this, "adabandoned");
        u4(this.I, this);
        s0.prototype.dispose.call(this)
    };

    function ara(a) {
        function b(k, l) {
            k = a.XG;
            var m = Object.assign({}, {});
            m.FINAL = M_(fb("1"));
            m.SLOT_POS = M_(fb("0"));
            return R_(k, Q_(m), l)
        }

        function c(k) {
            return null == k ? {
                create: function() {
                    return null
                }
            } : {
                create: function(l, m, n) {
                    var p = b(l, m);
                    m = a.jr(l, p);
                    l = k(l, p, m, n);
                    E(l, m);
                    return l
                }
            }
        }
        var d = c(function(k, l, m) {
                return new y0(a.S, k, l, m, a.nk, a.Ia)
            }),
            e = c(function(k, l, m) {
                return new p4(a.S, k, l, m, a.nk)
            }),
            f = c(function(k, l, m) {
                return new E0(a.S, k, l, m, a.nk, a.Ia, a.Sg)
            }),
            g = c(function(k, l, m) {
                return new D0(a.S, k, l, m, a.nk, a.Ia)
            });
        this.GD = new C0({
            create: function(k, l) {
                var m = R_(b(k, l), Q_(Bqa(k)));
                l = a.jr(k, m);
                var n = new q4(a.S, k, m, l, a.nk, a.Ia, a.daiEnabled, function(p) {
                    return new Hqa(a.Ia, m, k, p, a.S, a.qg, a.daiEnabled)
                }, a.Tg, a.We, a.ED);
                E(n, l);
                return n
            }
        }, {
            create: function(k, l) {
                var m = a.jr(k, l);
                k = new n4(a.S, k, l, m, a.nk, a.Ia, function(n, p) {
                    return new Tqa(a.Ia, l, n, a.S, a.qg, p)
                });
                E(k, m);
                return k
            }
        }, d, e, f, g)
    };

    function x4(a, b) {
        this.l = a;
        this.i = {};
        this.u = void 0 === b ? !1 : b
    }
    x4.prototype.reduce = function(a) {
        switch (a.event) {
            case "start":
            case "continue":
            case "predictStart":
            case "stop":
                break;
            case "unknown":
                return;
            default:
                return
        }
        var b = a.identifier;
        var c = this.i[b];
        c ? b = c : (c = {
            Hn: null,
            Kz: -Infinity
        }, b = this.i[b] = c);
        c = a.startSecs + a.i / 1E3;
        if (!(c < b.Kz))
            if (b.Kz = c, b.Hn) {
                if (c < b.Hn.end) {
                    a: {
                        c = b.Hn;
                        switch (a.event) {
                            case "start":
                            case "continue":
                            case "stop":
                                break;
                            default:
                                a = null;
                                break a
                        }
                        a = c.start + a.durationSecs;a = a < c.start ? null : c.end <= a ? null : a
                    }
                    null !== a && (b.Hn.end = a, this.l.iA(a))
                }
            } else if (a =
            bra(a, this.u)) c = a.UE, b.Hn = a.ZD, this.l.Ou(c)
    };
    x4.prototype.updateTime = function() {};

    function bra(a, b) {
        var c = a.startSecs + a.durationSecs;
        c = 0 >= c ? null : c;
        if (null === c) return null;
        switch (a.event) {
            case "start":
            case "continue":
            case "stop":
                break;
            case "predictStart":
                if (b) break;
                return null;
            default:
                return null
        }
        b = Math.max(a.startSecs, 0);
        return {
            ZD: new Br(b, c),
            UE: new wD(b, c - b, a.context, a.identifier, a.event, a.i)
        }
    };

    function y4() {
        this.i = []
    }

    function cra(a, b, c) {
        var d = Gb(a.i, b);
        if (0 <= d) return b;
        b = -d - 1;
        return b >= a.i.length || a.i[b] > c ? null : a.i[b]
    };

    function dra() {
        this.i = new y4
    };

    function z4(a) {
        this.i = a
    }

    function era(a) {
        a = [a, a.u].filter(function(d) {
            return !!d
        });
        for (var b = t(a), c = b.next(); !c.done; c = b.next()) c.value.deactivate();
        return a
    }
    z4.prototype.qe = function(a) {
        var b = this.i;
        eh(function() {
            return b.qe(a, 1)
        })
    };

    function fra(a, b, c) {
        this.u = a;
        this.i = b;
        this.l = c;
        this.B = a.getCurrentTime()
    }

    function gra(a, b) {
        var c = void 0 === c ? Date.now() : c;
        b = t(b);
        for (var d = b.next(); !d.done; d = b.next()) {
            d = d.value;
            var e = c,
                f = a.i;
            A4({
                cuepointTrigger: {
                    type: "CUEPOINT_TYPE_AD",
                    event: hra(d.event),
                    cuepointId: d.identifier,
                    totalCueDurationMs: 1E3 * d.durationSecs,
                    playheadTimeMs: d.i,
                    cueStartTimeMs: 1E3 * d.startSecs,
                    cuepointReceivedTimeMs: e,
                    contentCpn: f
                }
            });
            a.l && ("unknown" === d.event && B4("DAI_ERROR_TYPE_CUEPOINT_WITH_INVALID_EVENT", a.i), d = d.startSecs + d.i / 1E3, d > a.B && a.u.getCurrentTime() > d && B4("DAI_ERROR_TYPE_LATE_CUEPOINT",
                a.i))
        }
    }

    function ira(a, b, c) {
        a.l && A4({
            daiStateTrigger: {
                totalCueDurationMs: b,
                filledAdsDurationMs: c,
                contentCpn: a.i
            }
        })
    }

    function jra(a, b) {
        a.l && A4({
            adTrimmingInfo: {
                contentCpn: a.i,
                cueIdentifier: b.cueIdentifier || void 0,
                adMediaInfo: b.QD
            }
        })
    }

    function B4(a, b) {
        A4({
            daiStateTrigger: {
                errorType: a,
                contentCpn: b
            }
        })
    }

    function A4(a) {
        iw("adsClientStateChange", a)
    }

    function hra(a) {
        switch (a) {
            case "unknown":
                return "CUEPOINT_EVENT_UNKNOWN";
            case "start":
                return "CUEPOINT_EVENT_START";
            case "continue":
                return "CUEPOINT_EVENT_CONTINUE";
            case "stop":
                return "CUEPOINT_EVENT_STOP";
            case "predictStart":
                return "CUEPOINT_EVENT_PREDICT_START"
        }
    };

    function C4(a) {
        this.S = a;
        this.adVideoId = this.videoId = this.adCpn = this.contentCpn = null;
        this.B = !0;
        this.C = this.i = this.l = !1;
        this.adFormat = null;
        this.u = "AD_PLACEMENT_KIND_UNKNOWN";
        this.actionType = "unknown_type";
        this.videoStreamType = "VIDEO_STREAM_TYPE_VOD"
    }
    C4.prototype.Cn = function(a, b, c, d, e) {
        kra(this);
        var f = this.S.getVideoData(1),
            g = this.S.getVideoData(2);
        f && (this.contentCpn = f.clientPlaybackNonce, this.videoId = f.videoId);
        g && (this.adCpn = g.clientPlaybackNonce, this.adVideoId = g.videoId, this.adFormat = g.adFormat);
        this.u = a;
        if (0 >= d) kra(this);
        else if (this.actionType = this.B ? b ? "unknown_type" : "video_to_ad" : b ? "ad_to_video" : "ad_to_ad", this.videoStreamType = e ? "VIDEO_STREAM_TYPE_LIVE" : "VIDEO_STREAM_TYPE_VOD", this.C = c + 1 === d, "unknown_type" !== this.actionType) this.l = !0, a = {
                adBreakType: lra(this.u),
                playerType: "LATENCY_PLAYER_HTML5",
                playerInfo: {
                    preloadType: "LATENCY_PLAYER_PRELOAD_TYPE_PREBUFFER"
                },
                videoStreamType: this.videoStreamType
            }, "ad_to_video" === this.actionType ? (this.contentCpn && (a.targetCpn = this.contentCpn), this.videoId && (a.targetVideoId = this.videoId)) : (this.adCpn && (a.targetCpn = this.adCpn), this.adVideoId && (a.targetVideoId = this.adVideoId)), this.adFormat && (a.adType = this.adFormat), this.contentCpn && (a.clientPlaybackNonce = this.contentCpn), this.videoId && (a.videoId = this.videoId),
            this.adCpn && (a.adClientPlaybackNonce = this.adCpn), this.adVideoId && (a.adVideoId = this.adVideoId), aA(a, this.actionType)
    };

    function kra(a) {
        a.contentCpn = null;
        a.adCpn = null;
        a.videoId = null;
        a.adVideoId = null;
        a.adFormat = null;
        a.u = "AD_PLACEMENT_KIND_UNKNOWN";
        a.actionType = "unknown_type";
        a.l = !1;
        a.i = !1
    }

    function mra(a) {
        a.i = !1;
        Wz("video_to_ad", ["apbs"], void 0, void 0)
    }

    function nra(a) {
        a.C ? ora(a) : (a.i = !1, Wz("ad_to_ad", ["apbs"], void 0, void 0))
    }

    function ora(a) {
        a.i = !1;
        Wz("ad_to_video", ["pbresume"], void 0, void 0)
    }

    function pra(a) {
        a.l && !a.i && (a.B = !1, a.i = !0, "ad_to_video" !== a.actionType && (Zz("apbs", void 0, a.actionType), I("finalize_all_timelines") && (a = a.actionType, Xz(a), Iz(a), Vz(a))))
    }
    C4.prototype.reset = function() {
        return new C4(this.S)
    };

    function lra(a) {
        switch (a) {
            case "AD_PLACEMENT_KIND_START":
                return "LATENCY_AD_BREAK_TYPE_PREROLL";
            case "AD_PLACEMENT_KIND_MILLISECONDS":
            case "AD_PLACEMENT_KIND_COMMAND_TRIGGERED":
            case "AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED":
                return "LATENCY_AD_BREAK_TYPE_MIDROLL";
            case "AD_PLACEMENT_KIND_END":
                return "LATENCY_AD_BREAK_TYPE_POSTROLL";
            default:
                return "LATENCY_AD_BREAK_TYPE_UNKNOWN"
        }
    };

    function D4(a, b, c, d, e, f, g, k) {
        S.call(this);
        this.Yd = a;
        this.S = b;
        this.i = d;
        this.G = this.i.l instanceof t_ ? this.i.l : null;
        this.l = null;
        this.K = !1;
        this.C = c;
        this.J = (a = b.getVideoData(1)) && a.isLivePlayback || !1;
        this.T = 0;
        this.X = !1;
        this.Fh = e;
        this.Ql = f;
        this.Sj = g;
        this.U = !1;
        this.daiEnabled = k
    }
    v(D4, S);
    h = D4.prototype;
    h.Dk = function() {
        var a = this.i;
        return a.l instanceof z_ || a.l instanceof I_ || a.l instanceof C_
    };
    h.Or = function() {
        return this.i.l.zj()
    };
    h.Ww = function() {
        return this.i.i
    };
    h.Pr = function() {
        return "AD_PLACEMENT_KIND_START" == this.i.i.i
    };
    h.Xw = function() {
        return K_(this.i)
    };
    h.cz = function(a) {
        if (!p_(a)) {
            this.J && (this.X = this.S.isAtLiveHead(), this.T = Math.ceil(Va() / 1E3));
            var b = new z4(this.Yd);
            a = era(a);
            b.qe(a)
        }
        this.Yw()
    };
    h.Cz = function() {
        return !0
    };
    h.bj = function() {
        return this.G instanceof I_
    };
    h.qo = function() {
        return this.G instanceof z_
    };
    h.Yw = function() {
        var a = this.Yd;
        this.Cz() && (a.l && E4(a, !1), a.l = this, this.Dk() && qra(a));
        if (!this.i.C.hasOwnProperty("ad_placement_start")) {
            a = t(this.i.U);
            for (var b = a.next(); !b.done; b = a.next()) rra(b.value);
            this.i.C.ad_placement_start = !0
        }
        mra(this.C);
        this.EA()
    };
    h.EA = function() {
        this.G ? this.un(this.G) : F4(this)
    };
    h.Ok = function(a, b) {
        a = void 0 === a ? !1 : a;
        b = void 0 === b ? !1 : b;
        this.Wf(0);
        F4(this, a, b)
    };
    h.bA = function() {
        this.Ok()
    };
    h.mF = function() {
        h0(this.l.l, "active_view_measurable")
    };
    h.nF = function() {
        var a = this.l.l;
        b0(a) || n0(a) || h0(a, "active_view_fully_viewable_audible_half_duration")
    };
    h.qF = function() {};
    h.rF = function() {};
    h.sF = function() {};
    h.tF = function() {};
    h.vF = function() {
        var a = this.l.l;
        b0(a) || n0(a) || h0(a, "active_view_viewable")
    };
    h.Iy = function() {
        return this.qo() ? [this.Vp()] : []
    };

    function sra(a) {
        if (T_(a.S)) {
            var b = a.S.getVideoData(2);
            (b = a.i.J[b.Zb] || null) ? (!a.l || a.l && a.l.ad !== b) && a.un(b): a.Eg()
        } else 1 === a.S.getPresentingPlayerType() && a.l && a.Eg()
    }
    h.resume = function() {
        this.l && this.l.Vq()
    };
    h.Ji = function() {
        this.l && this.l.lc("adended")
    };
    h.Eg = function() {
        this.Ji()
    };
    h.Wf = function(a) {
        this.Yd.Wf(a)
    };
    h.SC = function(a) {
        this.Yd.i.Ja("onAdUxUpdate", a)
    };
    h.onAdUxClicked = function(a) {
        this.l.Mt(a)
    };

    function rra(a) {
        (a = a.baseUrl) && Lu(a, void 0, Xq(a))
    }

    function tra(a, b) {
        a.C.Cn(a.i.i.i, b, a.Gy(), a.Hy(), a.isLiveStream())
    }
    h.Gy = function() {
        return 0
    };
    h.Hy = function() {
        return 1
    };

    function G4(a) {
        ura(a.Yd, a.i.i, a);
        a.daiEnabled && !a.i.G && (vra(a, a.Iy()), a.i.G = !0)
    }

    function vra(a, b) {
        for (var c = H4(a), d = a.i.i.start, e = [], f = t(b), g = f.next(); !g.done; g = f.next()) {
            g = g.value;
            if (c <= d) break;
            var k = wra(g);
            e.push({
                externalVideoId: g.C,
                originalMediaDurationMs: (1E3 * g.l).toString(),
                trimmedMediaDurationMs: (parseInt(g.i.trimmedMaxNonSkippableAdDurationMs, 10) || 0).toString()
            });
            k = d + k;
            var l = Math.min(k, c);
            g.u.B = a.i.i.start;
            g.u.l = c;
            if (!xra(a, g, d, l) || k !== l) break;
            d = k
        }
        b = b.reduce(function(m, n) {
            return m + wra(n)
        }, 0);
        ira(a.Fh, a.i.i.Pn(), b);
        jra(a.Fh, {
            cueIdentifier: a.i.B && a.i.B.identifier,
            QD: e
        })
    }

    function wra(a) {
        var b = 1E3 * a.l;
        return 0 < parseInt(a.i.trimmedMaxNonSkippableAdDurationMs, 10) && parseInt(a.i.trimmedMaxNonSkippableAdDurationMs, 10) < b ? parseInt(a.i.trimmedMaxNonSkippableAdDurationMs, 10) : b
    }
    h.dw = function(a) {
        this.daiEnabled && this.i.G && this.i.i.start <= a && a < H4(this) && this.S.ek(a, this.i.i.end)
    };

    function H4(a) {
        var b = a.i.i.end;
        a = cra(a.Ql, a.i.i.start, b);
        return Math.min(b, null === a ? Infinity : a)
    }

    function xra(a, b, c, d) {
        var e = a.Sj.create(b, Q_(O_(a.i)), a.i.i.i);
        c = e.qy(c, d);
        Of(e);
        if (!c) return !1;
        a.i.J[c] = b;
        return !0
    }
    h.un = function(a) {
        Of(this.l);
        this.l = a = this.Sj.create(a, Q_(O_(this.i)), this.i.i.i);
        a.subscribe("adabandoned", Ta(this.Ok, !0), this);
        a.subscribe("adabandonedreset", Ta(this.Ok, !0, !0), this);
        a.subscribe("adactiveviewmeasurable", this.mF, this);
        a.subscribe("adended", this.Ok, this);
        a.subscribe("aderror", this.bA, this);
        a.subscribe("adfullyviewableaudiblehalfdurationimpression", this.nF, this);
        a.subscribe("adoverlaymeasurableimpression", this.qF, this);
        a.subscribe("adoverlayunviewableimpression", this.rF, this);
        a.subscribe("adoverlayviewableendofsessionimpression",
            this.sF, this);
        a.subscribe("adoverlayviewableimmediateimpression", this.tF, this);
        a.subscribe("adpause", this.Ot, this);
        a.subscribe("adplay", this.Ot, this);
        a.subscribe("adunstarted", this.Ot, this);
        a.subscribe("onAdUxUpdate", this.SC, this);
        a.subscribe("adviewableimpression", this.vF, this);
        a.ea ? a.Ze("ui_unstable") : a.Gl();
        tra(this, !1)
    };

    function F4(a, b, c) {
        b = void 0 === b ? !1 : b;
        c = void 0 === c ? !1 : c;
        a.K = !0;
        Of(a.l);
        nra(a.C);
        b ? b = !1 : a.daiEnabled ? (b = a.S.getCurrentTime(2, !0), b = 1 >= Math.abs(b - a.i.i.end / 1E3)) : b = !0;
        if (b && !a.i.C.hasOwnProperty("ad_placement_end")) {
            b = t(a.i.K);
            for (var d = b.next(); !d.done; d = b.next()) rra(d.value);
            a.i.C.ad_placement_end = !0
        }
        b = a.i.I;
        if (null !== b) {
            d = a.Fh;
            var e = a.i.B && a.i.B.identifier,
                f = a.i.i.start,
                g = H4(a);
            d.l && A4({
                driftRecoveryInfo: {
                    contentCpn: d.i,
                    cueIdentifier: e || void 0,
                    driftRecoveryMs: b.toString(),
                    breakDurationMs: Math.round(g -
                        f).toString(),
                    driftFromHeadMs: Math.round(1E3 * d.u.Mi()).toString()
                }
            });
            a.i.I = null
        }
        c || a.daiEnabled ? E4(a.Yd, !0) : a.J && a.Xw() && a.qo() ? E4(a.Yd, !1, yra(a)) : E4(a.Yd, !1);
        tra(a, !0)
    }

    function yra(a) {
        if (a.X) return function(c) {
            c.seekTo(Infinity, !0, void 0, 1)
        };
        var b = Math.floor(Va() / 1E3) - a.T;
        return function(c) {
            c.seekTo(c.getCurrentTime() + b, !0, void 0, 1)
        }
    }
    h.Ot = function(a) {
        this.Wf(a)
    };
    h.Vp = function() {
        return this.G
    };
    h.isLiveStream = function() {
        return this.J
    };
    h.reset = function() {
        return new D4(this.Yd, this.S, this.C.reset(), this.i, this.Fh, this.Ql, this.Sj, this.daiEnabled)
    };
    h.Da = function() {
        Of(this.l);
        this.l = null;
        S.prototype.Da.call(this)
    };

    function zra(a, b, c) {
        this.i = a;
        this.l = b;
        this.u = c
    }
    zra.prototype.create = function(a) {
        return (a.l instanceof C_ ? this.u : "" === a.D ? this.i : this.l)(a)
    };
    var Ara = /[&\?]action_proxy=1/,
        Bra = /[&\?]token=([\w-]*)/,
        Cra = /[&\?]video_id=([\w-]*)/,
        Dra = /[&\?]index=([\d-]*)/,
        Era = /[&\?]m_pos_ms=([\d-]*)/,
        Fra = /[&\?]vvt=([\w-]*)/,
        Gra = "ca_type dt el flash u_tz u_his u_h u_w u_ah u_aw u_cd u_nplug u_nmime frm u_java bc bih biw brdim vis wgl".split(" "),
        Hra = "www.youtube-nocookie.com youtube-nocookie.com www.youtube-nocookie.com:443 youtube.googleapis.com www.youtubeedu.com www.youtubeeducation.com video.google.com redirector.gvt1.com".split(" "),
        Ira = {
            android: "ANDROID",
            "android.k": "ANDROID_KIDS",
            "android.m": "ANDROID_MUSIC",
            "android.up": "ANDROID_UNPLUGGED",
            youtube: "WEB",
            ytios: "IOS",
            "ytios.k": "IOS_KIDS",
            "ytios.m": "IOS_MUSIC",
            "ytios.up": "IOS_UNPLUGGED"
        },
        Jra = {
            desktop: "DESKTOP",
            phone: "MOBILE",
            tablet: "TABLET"
        },
        Kra = {
            FLAG_AUTO_CAPTIONS_DEFAULT_ON: 66,
            FLAG_AUTOPLAY_DISABLED: 140,
            FLAG_AUTOPLAY_EXPLICITLY_SET: 141
        };

    function Lra(a) {
        return a.isTimeout ? "NO_BID" : "ERR_BID"
    }

    function Mra() {
        var a = null;
        iH().then(function(b) {
            return a = b
        }, function(b) {
            return a = Lra(b)
        });
        return a
    }

    function Nra() {
        var a = Hh(1E3, "NO_BID");
        return vh(xh(sba([iH(), a]), Lra), function() {
            return a.cancel()
        })
    }

    function Ora(a) {
        return a.cf ? Av(xv.getInstance(), 140) ? "STATE_OFF" : "STATE_ON" : "STATE_NONE"
    }

    function I4(a) {
        this.player = a;
        this.l = this.i = 1
    }
    I4.prototype.nm = function(a) {
        this.player.Ul().tick(a)
    };
    I4.prototype.fetch = function(a, b) {
        var c = this;
        if (!a.match(/\[BISCOTTI_ID\]/g)) return J4(this, a, b);
        var d = 1 === this.i;
        d && this.nm("a_bid_s");
        var e = Mra();
        if (null !== e) return d && this.nm("a_bid_f"), J4(this, a, b, e);
        e = Nra();
        d && vh(e, function() {
            c.nm("a_bid_f")
        });
        return e.then(function(f) {
            return J4(c, a, b, f)
        })
    };

    function J4(a, b, c, d) {
        c = void 0 === c ? {} : c;
        var e = c.Gn,
            f = c.Vc;
        d = void 0 === d ? "" : d;
        c = a.player.getVideoData(1);
        var g = a.player.Y().rg,
            k = {
                AD_BLOCK: a.i++,
                AD_BREAK_LENGTH: e ? e.durationSecs : 0,
                AUTONAV_STATE: Ora(a.player.Y()),
                CA_TYPE: "image",
                CPN: c.clientPlaybackNonce,
                DRIFT_FROM_HEAD_MS: 1E3 * a.player.Mi(),
                LACT: jt(),
                LIVE_INDEX: e ? a.l++ : 1,
                LIVE_TARGETING_CONTEXT: e && e.context ? e.context : "",
                MIDROLL_POS: f ? Math.round(f.start / 1E3) : 0,
                MIDROLL_POS_MS: f ? Math.round(f.start) : 0,
                VIS: a.player.getVisibilityState(),
                P_H: a.player.Tb().Ye().height,
                P_W: a.player.Tb().Ye().width,
                YT_REMOTE: g ? g.join(",") : ""
            },
            l = hu(gu);
        Object.keys(l).forEach(function(n) {
            null != l[n] && (k[n.toUpperCase()] = l[n].toString())
        });
        "" !== d && (k.BISCOTTI_ID = d);
        d = {};
        eu(b) && (d.sts = "18795", (e = a.player.Y().T) && (d.forced_experiments = e));
        b = vt(Yq(b, k), d);
        a.player.getVideoData();
        if (2 !== b.split("?").length) return qh(Error("Invalid AdBreakInfo URL"));
        if ((d = null === c || void 0 === c ? void 0 : c.oauthToken) && xt()) {
            var m = qX();
            rX(m, d)
        }
        m = a.player.wt(m);
        a = Pra(a, b, k, c.isMdxPlayback);
        return Py(m, a, "/youtubei/v1/player/ad_break")
    }
    I4.prototype.reset = function() {
        this.l = this.i = 1
    };

    function Qra(a, b, c, d) {
        a.client || (a.client = {});
        a.client.originalUrl = b;
        var e = wt(b),
            f = tu(b, "X-YouTube-Time-Zone");
        (e || f) && "undefined" !== typeof Intl && (a.client.timeZone = (new Intl.DateTimeFormat).resolvedOptions().timeZone);
        f = tu(b, "X-YouTube-Ad-Signals");
        if (e || f || "" !== c) {
            var g = {};
            b = ot(fu(c)).split("&");
            var k = new Map;
            b.forEach(function(l) {
                l = l.split("=");
                1 < l.length && k.set(l[0].toString(), decodeURIComponent(l[1].toString()))
            });
            k.has("bid") && (g.bid = k.get("bid"));
            g.params = [];
            Gra.forEach(function(l) {
                k.has(l) && (l = {
                    key: l,
                    value: k.get(l)
                }, g.params.push(l))
            });
            a.adSignalsInfo = g
        }
        a.client.unpluggedAppInfo || (a.client.unpluggedAppInfo = {});
        a.client.unpluggedAppInfo.enableFilterMode = !1;
        b = d.deviceParams.cosver;
        null != b && "cosver" !== b && (a.client.osVersion = b);
        b = d.deviceParams.cplatform;
        null != b && "cplatform" !== b && "" !== b && (a.client.platform = b);
        b = d.deviceParams.cmodel;
        null != b && "cmodel" !== b && (a.client.deviceModel = b);
        b = d.deviceParams.cplayer;
        null != b && "cplayer" !== b && (a.client.playerType = b);
        d = d.deviceParams.cbrand;
        null != d && "cbrand" !== d && (a.client.deviceMake = d);
        a.user || (a.user = {});
        a.user.lockedSafetyMode = !1
    }

    function Rra(a, b) {
        var c = !1;
        if ("" === b) return c;
        b.split(",").forEach(function(d) {
            var e = {},
                f = {
                    clientName: "UNKNOWN_INTERFACE",
                    platform: "UNKNOWN_PLATFORM",
                    clientVersion: ""
                },
                g = "ACTIVE";
            "!" === d[0] && (d = d.substring(1), g = "INACTIVE");
            d = d.split("-");
            3 > d.length || (d[0] in Ira && (f.clientName = Ira[d[0]]), d[1] in Jra && (f.platform = Jra[d[1]]), f.applicationState = g, f.clientVersion = 2 < d.length ? d[2] : "", e.remoteClient = f, a.remoteContexts ? a.remoteContexts.push(e) : a.remoteContexts = [e], c = !0)
        });
        return c
    }

    function Pra(a, b, c, d) {
        var e = c.DRIFT_FROM_HEAD_MS && !Number.isNaN(c.DRIFT_FROM_HEAD_MS) ? Math.trunc(c.DRIFT_FROM_HEAD_MS) : 0,
            f = Bra.exec(b);
        f = null != f && 2 <= f.length ? f[1] : "";
        var g = Ara.test(b),
            k = Cra.exec(b);
        k = null != k && 2 <= k.length ? k[1] : "";
        var l = Dra.exec(b);
        l = null != l && 2 <= l.length && !Number.isNaN(Number(l[1])) ? Number(l[1]) : 1;
        var m = Era.exec(b);
        m = null != m && 2 <= m.length ? m[1] : "0";
        var n = uI(a.player.Y()),
            p = Gy(a.player.getVideoData(1).Fa, !0),
            q = "BISCOTTI_ID" in c ? c.BISCOTTI_ID : "";
        Qra(p, b, q.toString(), a.player.Y());
        a = {
            splay: !1,
            lactMilliseconds: c.LACT.toString(),
            playerHeightPixels: Math.trunc(c.P_H),
            playerWidthPixels: Math.trunc(c.P_W),
            vis: Math.trunc(c.VIS),
            signatureTimestamp: 18795,
            autonavState: Ora(a.player.Y())
        };
        d && (d = {}, Rra(d, c.YT_REMOTE) && (a.mdxContext = d));
        if (d = Hra.includes(n) ? void 0 : vv("PREF")) {
            for (var r = d.split(/[:&]/), u = 0, x = r.length; u < x; u++) {
                var z = r[u].split("=");
                if (("SML" === z[0].toUpperCase() || "GSML" === z[0].toUpperCase()) && 1 < z.length && "TRUE" === z[1].toUpperCase()) {
                    p.user.lockedSafetyMode = !0;
                    break
                }
            }
            a: {
                if ("FLAG_AUTO_CAPTIONS_DEFAULT_ON" in
                    Kra)
                    for (d = d.split(/[:&]/), u = Kra.FLAG_AUTO_CAPTIONS_DEFAULT_ON, r = "f" + (1 + Math.floor(u / 31)).toString(), u = 1 << Math.floor(u % 31), x = 0, z = d.length; x < z; x++) {
                        var D = d[x].split("=");
                        if (D[0] === r && parseInt("0x" + D[1], 16) & u) {
                            d = !0;
                            break a
                        }
                    }
                d = !1
            }
            a.autoCaptionsDefaultOn = d
        }
        b = Fra.exec(b);
        (b = null != b && 2 <= b.length ? b[1] : "") && k && (p.user.credentialTransferTokens = [{
            token: b,
            scope: "VIDEO"
        }]);
        b = {
            contentPlaybackContext: a
        };
        f = {
            adBlock: Math.trunc(c.AD_BLOCK),
            params: f,
            breakIndex: l,
            breakPositionMs: m,
            clientPlaybackNonce: c.CPN,
            topLevelDomain: n,
            isProxyAdTagRequest: g,
            context: p,
            adSignalsInfoString: ot(fu(q.toString())),
            overridePlaybackContext: b
        };
        k && (f.videoId = k);
        c.LIVE_TARGETING_CONTEXT && (f.liveTargetingParams = c.LIVE_TARGETING_CONTEXT);
        c.AD_BREAK_LENGTH && (f.breakLengthMs = Math.trunc(1E3 * c.AD_BREAK_LENGTH).toString());
        e && (f.driftFromHeadMs = e.toString());
        return f
    };

    function K4(a, b, c, d, e, f) {
        S.call(this);
        this.D = a;
        this.l = b;
        this.u = c;
        this.C = d;
        this.i = e;
        this.B = f;
        R(this.u.Y().experiments, "html5_pacf_enable_non_dai_live_video_ads") || Sra(this)
    }
    v(K4, S);
    h = K4.prototype;
    h.Ww = function() {
        return this.i.i
    };
    h.Pr = function() {
        return "AD_PLACEMENT_KIND_START" == this.i.i.i
    };
    h.Xw = function() {
        return K_(this.i)
    };
    h.Dk = function() {
        return !1
    };
    h.Or = function() {
        return !1
    };
    h.onAdUxClicked = function() {};
    h.cz = function(a) {
        var b = this;
        R(this.u.Y().experiments, "html5_pacf_enable_non_dai_live_video_ads") && V("Fetching logic is still in use while live midroll is on PACF");
        if (1 !== this.i.u && 2 !== this.i.u) {
            var c = [];
            this.Pr() || (c = era(a));
            this.i.u = 1;
            vh(this.C.fetch(this.i.D, {
                Gn: this.i.B || void 0,
                Vc: this.i.i
            }).then(function(d) {
                if (!b.Ea()) {
                    var e = c;
                    b.u.isFullscreen();
                    d = Tra(b, d);
                    var f = b.B;
                    f.l && d.isEmpty && B4("DAI_ERROR_TYPE_NO_AD_BREAK_RENDERER", f.i);
                    d.Dz || (b.i.u = 2, (new z4(b.l)).qe(e), d.isEmpty || g_(b.D, d.Bh))
                }
            }, function() {
                (new z4(b.l)).qe(c);
                var d = b.B;
                d.l && B4("DAI_ERROR_TYPE_AD_REQUEST_FAIL", d.i)
            }), function() {
                2 !== b.i.u && (b.i.u = 0);
                b.Pr() && L4(b.l, [])
            })
        }
    };

    function Tra(a, b) {
        var c = {
            isEmpty: !0,
            Dz: !1,
            Bh: []
        };
        if (!b) return c;
        b && b.trackingParams && oR(nR(), b.trackingParams);
        if (b && b.adThrottled) return c.Dz = !0, c;
        b = b.playerAds;
        if (!b || !b.length) return c;
        b = b.map(function(e) {
            return e.adPlacementRenderer
        }).filter(function(e) {
            return e && null != e.renderer
        });
        if (0 == b.length) return c;
        if (0 < a.i.i.end) {
            var d = a.i.i.end.toString();
            b.forEach(function(e) {
                (e = e.config && e.config.adPlacementConfig) && "AD_PLACEMENT_KIND_MILLISECONDS" == e.kind && "-1" == e.adTimeOffset.offsetEndMilliseconds && e.adTimeOffset.offsetEndMilliseconds != d && (e.adTimeOffset.offsetEndMilliseconds = d)
            })
        }
        c.Bh = b;
        c.isEmpty = !1;
        return c
    }
    h.Yw = function() {};

    function Sra(a) {
        [a.i.T, a.i.i].filter(function(b) {
            return null != b
        }).forEach(function(b) {
            ura(a.l, b, a)
        })
    }
    h.dw = function() {};
    var Ura = Object.freeze([w0, z0, I_, B0, z_]);

    function M4(a, b, c, d, e, f, g, k) {
        D4.call(this, a, b, c, d, e, f, g, k);
        this.u = d.l;
        this.B = -1;
        this.D = null;
        this.I = Vra(this.Vp())
    }
    v(M4, D4);
    h = M4.prototype;
    h.Iy = function() {
        for (var a = this.u.i, b = t(a), c = b.next(); !c.done; c = b.next());
        return a
    };
    h.Cz = function() {
        return (0 >= this.B ? this.u.i : this.u.i.slice(this.B)).some(function(a) {
            return a.hm()
        })
    };
    h.bj = function() {
        return this.D instanceof I_ || this.D instanceof B0
    };
    h.qo = function() {
        return this.D instanceof z_ || this.D instanceof z0
    };
    h.EA = function() {
        this.daiEnabled ? T_(this.S) && sra(this) : Wra(this)
    };
    h.un = function(a) {
        var b = Vra(a);
        this.D && b && this.I !== b && (b ? qra(this.Yd) : Xra(this.Yd), this.I = b);
        this.D = a;
        this.daiEnabled && (this.B = this.u.i.findIndex(function(c) {
            return c === a
        }));
        D4.prototype.un.call(this, a)
    };

    function Wra(a) {
        a.B++;
        var b = a.Vp();
        b ? a.un(b) : F4(a)
    }
    h.Eg = function() {
        this.B = this.u.i.length;
        this.l && this.l.lc("adended");
        F4(this)
    };
    h.Ji = function() {
        this.Ok()
    };
    h.Ok = function(a, b) {
        a = void 0 === a ? !1 : a;
        b = void 0 === b ? !1 : b;
        this.daiEnabled || (this.Wf(0), a ? F4(this, a, b) : Wra(this))
    };
    h.bA = function() {
        1 == this.u.l ? F4(this) : this.Ok()
    };
    h.Vp = function() {
        var a = 0 >= this.B ? this.u.i : this.u.i.slice(this.B);
        return 0 < a.length ? a[0] : null
    };
    h.Dk = function() {
        return this.I
    };
    h.Or = function() {
        return this.u.i.every(function(a) {
            return a.zj()
        })
    };
    h.reset = function() {
        return new M4(this.Yd, this.S, this.C.reset(), this.i, this.Fh, this.Ql, this.Sj, this.daiEnabled)
    };

    function Vra(a) {
        return a ? Ura.some(function(b) {
            return a instanceof b
        }) : !1
    }
    h.Gy = function() {
        return this.B
    };
    h.Hy = function() {
        return this.u.i.length
    };

    function Yra(a) {
        this.i = new zra(function(b) {
            b = new D4(a.Yd, a.S, a.ey(), b, a.Fh, a.Ql, a.Sj, a.daiEnabled);
            G4(b);
            return b
        }, function(b) {
            return new K4(a.ys, a.Yd, a.S, a.Ai, b, a.Fh)
        }, function(b) {
            b = new M4(a.Yd, a.S, a.ey(), b, a.Fh, a.Ql, a.Sj, a.daiEnabled);
            G4(b);
            return b
        })
    }
    Yra.prototype.Ey = function() {
        return this.i
    };

    function Zra(a, b) {
        C_.call(this);
        a.adStart && a.adStart.adMessageRenderer && (iw("adNotifyFilled", {
            notifyCompositeType: "COMPOSITE_AD_TYPE_LINEAR_AD_SEQUENCE"
        }), D_(this, new A0(a.adStart.adMessageRenderer)));
        if (a.linearAds) {
            var c = [];
            a = t(a.linearAds);
            for (var d = a.next(); !d.done; d = a.next()) {
                d = d.value;
                if (d.instreamVideoAdRenderer) {
                    var e = b(d.instreamVideoAdRenderer);
                    D_(this, e);
                    c.push(e.l);
                    d.instreamVideoAdRenderer.isCritical && (this.l = 1)
                } else d.adActionInterstitialRenderer ? (d = new w0(d.adActionInterstitialRenderer),
                    D_(this, d)) : d.adIntroRenderer && (d = new z0(d.adIntroRenderer), D_(this, d), this.l = 1);
                this.i.filter(function(f) {
                    return f instanceof z_
                }).forEach(function(f, g) {
                    f instanceof z_ && (g = new x_(g, c), f.u = g)
                })
            }
        }
    }
    v(Zra, C_);

    function $ra(a, b) {
        C_.call(this);
        D_(this, asa(this, a.adVideoStart));
        a: {
            var c = a.linearAd;
            if (c) {
                if (c.instreamVideoAdRenderer) {
                    b = b(c.instreamVideoAdRenderer);
                    break a
                }
                if (c.instreamSurveyAdRenderer) {
                    b = new I_(c.instreamSurveyAdRenderer);
                    break a
                }
            }
            b = null
        }
        D_(this, b);
        (a = a.adVideoEnd) ? a.adActionInterstitialRenderer ? (this.l = 1, a = new w0(a.adActionInterstitialRenderer)) : a = null: a = null;
        D_(this, a)
    }
    v($ra, C_);

    function asa(a, b) {
        return null == b ? null : b.adActionInterstitialRenderer ? (a.l = 1, new w0(b.adActionInterstitialRenderer)) : b.adMessageRenderer ? (iw("adNotifyFilled", {
            notifyCompositeType: "COMPOSITE_AD_TYPE_SANDWICHED_LINEAR_AD"
        }), new A0(b.adMessageRenderer)) : b.surveyTextInterstitialRenderer ? new B0(b.surveyTextInterstitialRenderer) : null
    };

    function bsa(a, b, c) {
        this.u = a;
        this.i = b;
        this.l = c
    }
    bsa.prototype.create = function(a, b) {
        function c(k) {
            return new z_(k, d.u, b, d.i, d.l)
        }
        var d = this,
            e = a.instreamVideoAdRenderer,
            f = a.instreamSurveyAdRenderer,
            g = a.sandwichedLinearAdRenderer;
        a = a.linearAdSequenceRenderer;
        return null != e && e.playerVars ? c(e) : null != f ? new I_(f) : null != g ? new $ra(g, c, this.i) : null != a ? new Zra(a, c) : null
    };

    function csa(a) {
        this.i = a
    }
    csa.prototype.create = function(a, b, c, d) {
        d = void 0 === d ? null : d;
        var e = [];
        c = void 0 === c ? 0 : c;
        if (d) {
            d = t(d);
            for (var f = d.next(); !f.done; f = d.next()) {
                f = f.value;
                var g = b,
                    k = new n_(g.u, g.l, g.daiEnabled, g.B),
                    l = g.Jc;
                l && (k.Jc = new wD(l.startSecs, l.durationSecs, l.context, l.identifier, l.event, l.i));
                g.i && (k.i = g.i);
                k.visible = g.visible;
                g = k;
                g.Jc = f;
                e.push(dsa(this, a[0], c, g));
                c++
            }
        } else
            for (a = t(a), d = a.next(); !d.done; d = a.next()) e.push(dsa(this, d.value, c, b)), c++;
        return e
    };

    function dsa(a, b, c, d) {
        try {
            var e = b.renderer,
                f = b.config && b.config.adPlacementConfig,
                g = e ? a.i.create(e, f) : null;
            return new J_(b, c, g, d)
        } catch (k) {
            Cs(k)
        }
    };

    function esa(a) {
        var b = new csa(a.ID);
        return {
            Fy: function() {
                return b
            }
        }
    };

    function fsa(a) {
        C.call(this);
        this.i = a;
        this.l = new Dqa(a.S)
    }
    v(fsa, C);

    function gsa(a) {
        return function() {
            return new C4(a.i.S)
        }
    }

    function hsa(a) {
        return function(b, c) {
            return new $_(b, a.l, c, a.i.S, a.i.qg, a.i.daiEnabled)
        }
    };

    function N4(a) {
        C.call(this);
        var b = this;
        this.l = a;
        this.i = null;
        Qf(this, function() {
            return b.i = null
        });
        var c = rs(a);
        if (c) {
            var d = function() {
                b.i && b.i(!!qs())
            };
            this.l.addEventListener(c, d);
            Qf(this, function() {
                b.l.removeEventListener(c, d)
            })
        }
    }
    v(N4, C);
    N4.prototype.addEventListener = function(a, b) {
        this.i = b
    };
    N4.prototype.removeEventListener = function() {
        this.i = null
    };

    function O4(a) {
        C.call(this);
        this.i = a
    }
    v(O4, C);
    O4.prototype.addEventListener = function(a, b, c) {
        this.i.addEventListener(a, b, c)
    };
    O4.prototype.removeEventListener = function(a, b) {
        this.i.removeEventListener(a, b)
    };

    function isa(a) {
        var b = window.document;
        return EI(a.Y()) ? new N4(b) : new O4(a)
    };

    function jsa(a) {
        C.call(this);
        this.TC = new fra(a.S, a.contentCpn, a.daiEnabled)
    }
    v(jsa, C);
    var P4 = null,
        ksa = null,
        Q4 = null,
        R4 = null,
        S4 = null;

    function lsa(a) {
        P4 = a && a.data
    }

    function msa(a) {
        ksa = a && a.data
    }

    function nsa(a) {
        Q4 = a && a.data
    }

    function osa(a) {
        R4 = a && a.data
    }

    function psa(a) {
        S4 = a && a.data
    }

    function qsa() {
        S4 = R4 = Q4 = P4 = null
    }
    Ia("yt.www.ads.eventcache.getLastCompanionData", function() {
        return P4
    }, void 0);
    Ia("yt.www.ads.eventcache.getLastPlaShelfData", function() {
        return ksa
    }, void 0);
    Ia("yt.www.ads.eventcache.getLastUpdateEngagementPanelAction", function() {
        return Q4
    }, void 0);
    Ia("yt.www.ads.eventcache.getLastChangeEngagementPanelVisibilityAction", function() {
        return R4
    }, void 0);
    Ia("yt.www.ads.eventcache.getLastScrollToEngagementPanelCommand", function() {
        return S4
    }, void 0);
    var rsa = {
        clickTrackingParams: !0,
        commandMetadata: !0,
        loggingUrls: !0
    };

    function T4(a) {
        C.call(this);
        var b = this;
        this.Eb = a;
        this.yc = new Map;
        this.i = new Map;
        U4(this, "commandExecutorCommand", function(c, d, e) {
            b.Qb(c.commands, d, e)
        });
        V4(this, "commandExecutorCommand", function(c, d) {
            ssa(b, c.commands, d)
        });
        U4(this, "clickTrackingParams", function() {});
        V4(this, "clickTrackingParams", function() {})
    }
    v(T4, C);
    T4.prototype.Da = function() {
        this.yc.clear();
        C.prototype.Da.call(this)
    };

    function tsa(a, b) {
        U4(a, b.Hg(), function(c, d, e) {
            d = void 0 === d ? {} : d;
            e = void 0 === e ? {} : e;
            b.handle(c, d, e)
        })
    }

    function usa(a, b) {
        V4(a, b.Hg(), function(c, d) {
            b.Oh(c, d)
        })
    }

    function U4(a, b, c) {
        a.Ea();
        a.yc.get(b) && ky(Error("Extension name " + b + " already registered"));
        a.yc.set(b, c)
    }

    function V4(a, b, c) {
        a.Ea();
        a.i.get(b) && ky(Error("Extension name " + b + " already registered"));
        a.i.set(b, c)
    }
    T4.prototype.Qb = function(a, b, c) {
        a = void 0 === a ? [] : a;
        b = void 0 === b ? {} : b;
        c = void 0 === c ? {} : c;
        this.Ea();
        a = t(a);
        for (var d = a.next(); !d.done; d = a.next()) this.executeCommand(d.value, b, c)
    };

    function ssa(a, b, c) {
        b = void 0 === b ? [] : b;
        a.Ea();
        var d = [],
            e = [],
            f = t(b);
        for (b = f.next(); !b.done; b = f.next()) b = b.value, b.hasOwnProperty("pingingEndpoint") || b.hasOwnProperty("adPingingEndpoint") ? d.push(b) : e.push(b);
        d = t(d);
        for (b = d.next(); !b.done; b = d.next()) W4(a, b.value, c);
        e = t(e);
        for (b = e.next(); !b.done; b = e.next()) W4(a, b.value, c)
    }

    function vsa(a, b) {
        a.Eb.get().Ja("innertubeCommand", {
            openPopupAction: b
        })
    }

    function wsa(a, b) {
        a.Eb.get().Ja("innertubeCommand", {
            confirmDialogEndpoint: b
        })
    }
    T4.prototype.executeCommand = function(a, b, c) {
        b = void 0 === b ? {} : b;
        c = void 0 === c ? {} : c;
        this.Ea();
        a.loggingUrls && xsa(this, "loggingUrls", a.loggingUrls, b, c);
        a = t(Object.entries(a));
        for (var d = a.next(); !d.done; d = a.next()) {
            var e = t(d.value);
            d = e.next().value;
            e = e.next().value;
            "openPopupAction" === d ? vsa(this, e) : "confirmDialogEndpoint" === d ? wsa(this, e) : rsa.hasOwnProperty(d) || xsa(this, d, e, b, c)
        }
    };

    function W4(a, b, c) {
        a.Ea();
        b.loggingUrls && ysa(a, "loggingUrls", b.loggingUrls, c);
        b = t(Object.entries(b));
        for (var d = b.next(); !d.done; d = b.next()) {
            var e = t(d.value);
            d = e.next().value;
            e = e.next().value;
            "openPopupAction" === d ? vsa(a, e) : "confirmDialogEndpoint" === d ? wsa(a, e) : rsa.hasOwnProperty(d) || ysa(a, d, e, c)
        }
    }

    function xsa(a, b, c, d, e) {
        e = void 0 === e ? {} : e;
        if ((a = a.yc.get(b)) && "function" === typeof a) try {
            a(c, d, e)
        } catch (f) {
            ky(f)
        } else b = new lw("Unhandled field", b), ly(b)
    }

    function ysa(a, b, c, d) {
        (a = a.i.get(b)) || new lw("Unhandled field", b);
        try {
            a(c, d)
        } catch (e) {
            ky(e)
        }
    };

    function zsa(a, b, c, d) {
        for (var e = !1, f = t(b.rj.entries()), g = f.next(); !g.done; g = f.next()) g = t(g.value).next().value, "SLOT_TYPE_PLAYER_BYTES" === g.Za && "core" === g.Ra && (e = !0);
        e ? (d = Asa(b, d)) ? c.iz(d) : V("No triggering layout ID available when attempting to mute.") : eh(function() {
            a.Eg()
        })
    }

    function Asa(a, b) {
        if (b) return b;
        a = t(a.rj.entries());
        for (b = a.next(); !b.done; b = a.next()) {
            var c = t(b.value);
            b = c.next().value;
            c = c.next().value;
            if ("SLOT_TYPE_IN_PLAYER" === b.Za && "core" === b.Ra) return c.layoutId
        }
    };

    function Bsa(a) {
        var b = new Y_(a.gk),
            c = new Z_(b);
        return {
            rE: function() {
                return b
            },
            Dt: function() {
                return c
            }
        }
    };

    function X4(a, b, c, d, e, f) {
        S.call(this);
        var g = this;
        this.i = c;
        this.va = null;
        this.Qa = d;
        this.K = f.We;
        this.J = f.Vh;
        this.l = null;
        this.u = new Map;
        d = this.i.Y().experiments;
        var k = Bsa({
                gk: c.getVideoData(1)
            }),
            l = new fsa({
                qg: k.Dt(),
                S: c,
                daiEnabled: !1
            });
        E(this, l);
        this.Tj = new Set;
        this.iq = -1;
        this.U = [];
        this.D = null;
        this.T = new Map;
        this.G = new Map;
        this.I = new Set;
        this.B = new WF(this);
        E(this, this.B);
        this.C = new WF(this);
        E(this, this.C);
        this.ea = this.Ma = this.Z = !1;
        this.X = EI(c.Y());
        this.Sa = e;
        e = new jsa({
            contentCpn: this.i.getVideoData(1).clientPlaybackNonce,
            vU: this,
            daiEnabled: !1,
            S: this.i
        });
        E(this, e);
        this.ra = e.TC;
        this.Ha = (new dra({
            wU: this,
            YU: R(d, "html5_recognize_predict_start_cue_point"),
            UU: R(d, "html5_persist_cue_range_killswitch")
        })).i;
        var m = kc(Q_(L_(this.i)));
        b = new ara({
            Ia: this,
            nk: w_(),
            qg: k.Dt(),
            S: this.i,
            XG: m,
            jr: hsa(l),
            daiEnabled: !1,
            Tg: f.Tg,
            We: this.K,
            Sg: f.Sg,
            ED: b
        });
        this.ya = (new Yra({
            Ai: this.Qa,
            Sj: b.GD,
            ys: a,
            Yd: this,
            nk: w_(),
            ey: gsa(l),
            Fh: this.ra,
            Ql: this.Ha,
            S: this.i,
            cV: m,
            jr: function(n) {
                return hsa(l)(n, m)
            },
            daiEnabled: !1
        })).Ey();
        this.Fa = esa({
            ID: new bsa(new rqa(c), d, function(n) {
                return g.G.has(n) ? g.G.get(n) : null
            })
        }).Fy();
        this.Ka = isa(this.i);
        E(this, this.Ka);
        this.Ta = R(this.i.Y().experiments, "align_ad_to_video_player_lifecycle_for_bulleit_living_room")
    }
    v(X4, S);

    function Csa(a, b, c) {
        var d = a.i.getVideoData(1);
        if (d.dk || G("SERVED_VIA_SPF_HISTORY")) R(a.i.Y().experiments, "directly_unlock_preroll_on_cached_playbacks_for_bulleit") ? a.J.Dg() : L4(a, c);
        else {
            if (U_(a.i)) {
                var e = zB(a.i);
                e.addEventListener("updateKevlarOrC3Companion", lsa);
                e.addEventListener("onPlaShelfInfoCardsReady", msa);
                e.addEventListener("updateEngagementPanelAction", nsa);
                e.addEventListener("changeEngagementPanelVisibility", osa);
                e.addEventListener("scrollToEngagementPanel", psa);
                window.addEventListener("yt-navigate-start", qsa)
            }
            a.B.Ga(a.i,
                "applicationplayerstatechange", a.HF);
            a.B.Ga(a.i, "crn_ad", a.Ku, a);
            a.B.Ga(a.i, "crx_ad", a.JF, a);
            a.B.Ga(a.i, "aduxclicked", a.uF);
            a.B.Ga(a.i, "videodatachange", a.MG);
            b = Dsa(a, b);
            b = Esa(a, b);
            b = Fsa(a, b);
            0 < b.length && Y4(a, b);
            a.D && d.subscribe("cuepointupdated", a.hA, a);
            m_(a.K, c) || L4(a, c);
            eh(a.KH, a)
        }
    }

    function Dsa(a, b) {
        return b.filter(function(c) {
            if ("AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED" == (c.config && c.config.adPlacementConfig && c.config.adPlacementConfig.kind || null)) {
                if (R(a.i.Y().experiments, "html5_pacf_enable_non_dai_live_video_ads")) return V("Tries to extract CuePoint triggered AdPlacementRenderer."), !1;
                EI(a.i.Y()) && a.i.getVideoData(1).Rf() || (a.D = c);
                return !1
            }
            return !0
        })
    }

    function Esa(a, b) {
        a.T = new Map;
        return b.filter(function(c) {
            return "AD_PLACEMENT_KIND_COMMAND_TRIGGERED" == (c.config && c.config.adPlacementConfig && c.config.adPlacementConfig.kind || null) && c.elementId ? (a.T.set(c.elementId, c), !1) : !0
        })
    }

    function Fsa(a, b) {
        a.G = new Map;
        return b.filter(function(c) {
            return (c = c.renderer.remoteSlotsRenderer) && c.hostElementId ? (a.G.set(c.hostElementId, c), !1) : !0
        })
    }
    h = X4.prototype;
    h.Qt = function() {
        return !Gsa(this, Hsa(this))
    };

    function Gsa(a, b) {
        return b.every(function(c) {
            c = a.u.get(c);
            return null == c ? (Cs(Error("AdCueRange without a corresponding AdPlacement.")), !0) : c instanceof K4 ? !1 : c instanceof D4 ? !c.Dk() : !0
        })
    }

    function L4(a, b) {
        var c = Isa(a);
        0 < c.length ? (m_(a.K, b) || Gsa(a, c) && a.J.Dg(), b = U(a.i.Y().experiments, "delay_ads_gvi_call_on_bulleit_living_room_ms"), 0 < b && !a.X ? (b = new dr(function() {
            Jsa(a, c)
        }, b), E(a, b), b.start()) : eh(function() {
            Jsa(a, c)
        })) : m_(a.K, b) || a.J.Dg()
    }
    h.Np = function() {
        return this.va
    };

    function Isa(a) {
        for (var b = Hsa(a), c = t(b), d = c.next(); !d.done; d = c.next()) a.Tj.delete(d.value);
        return b
    }

    function Hsa(a) {
        var b = [];
        a = t(a.Tj);
        for (var c = a.next(); !c.done; c = a.next()) c = c.value, p_(c) && b.push(c);
        return b
    }

    function Ksa(a, b, c) {
        c = void 0 === c ? null : c;
        var d = a.Fa,
            e = d.create;
        var f = 1E3 * a.i.getDuration(1);
        f = new n_(f, 1E3 * a.i.getCurrentTime(1) || 0, !1, R(a.i.Y().experiments, "html5_recognize_predict_start_cue_point"));
        b = e.call(d, b, f, a.U.length, c);
        a.U = a.U.concat(b);
        return b
    }

    function Jsa(a, b) {
        if (!a.Ea()) {
            b = t(b);
            for (var c = b.next(); !c.done; c = b.next()) a.Ku(c.value)
        }
    }
    h.Da = function() {
        this.ea = !0;
        YF(this.B);
        this.D && this.i.getVideoData(1).unsubscribe("cuepointupdated", this.hA, this);
        if (U_(this.i)) {
            var a = zB(this.i);
            a.removeEventListener("updateKevlarOrC3Companion", lsa);
            a.removeEventListener("onPlaShelfInfoCardsReady", msa);
            a.removeEventListener("updateEngagementPanelAction", nsa);
            a.removeEventListener("changeEngagementPanelVisibility", osa);
            a.removeEventListener("scrollToEngagementPanel", psa);
            window.removeEventListener("yt-navigate-start", qsa);
            S4 = R4 = Q4 = P4 = null
        }
        a = t(this.u.values());
        for (var b = a.next(); !b.done; b = a.next()) Lsa(this, b.value);
        E4(this, !1);
        this.Tj.clear();
        this.U = [];
        this.I.clear();
        Of(this.T);
        this.T = new Map;
        Of(this.G);
        this.G = new Map;
        this.u.clear();
        S.prototype.Da.call(this)
    };
    h.Ku = function(a) {
        if (a instanceof o_ && !a.l && (!q_(a) || a.contains(1E3 * this.i.getCurrentTime(1) || 0)))
            if (Q(this.i.Nd(1), 32)) this.I.add(a);
            else {
                var b = this.u.get(a);
                b && ((R(this.i.Y().experiments, "enable_eviction_protection_for_bulleit") ? this.l ? this.l.Or() : 1 : 1) ? b.cz(a) : a.deactivate())
            }
    };
    h.JF = function(a) {
        a instanceof o_ && (a.l && (a.l = !1), this.I.delete(a))
    };
    h.hA = function(a) {
        gra(this.ra, a);
        null == this.D ? Cs(Error("Dynamically inserted ad was requested, but no cuepoint AdPlacementRenderer was present to fulfill the request.")) : 0 != (this.i.getCurrentTime(1) || 0) && (a = a.filter(function(b) {
            return "start" == b.event
        }), Y4(this, [this.D], a))
    };
    h.Ou = function(a) {
        Y4(this, [this.D], [a])
    };
    h.iA = function(a) {
        var b = 1E3 * a;
        this.l && this.l.dw(b);
        for (var c = t(this.u.values()), d = c.next(); !d.done; d = c.next()) d.value.dw(b);
        Mb(this.Ha.i, 1E3 * a)
    };

    function Y4(a, b, c) {
        b = Ksa(a, b, void 0 === c ? null : c);
        0 == b.length || b.map(function(d) {
            return a.ya.create(d)
        })
    }

    function qra(a) {
        a.Z || (a.C.Ga(a.i, "presentingplayerstatechange", a.UC), a.C.Ga(a.i, "internalAbandon", a.lF), a.C.Ga(a.i, "progresssync", a.QG), a.C.Ga(a.i, "onVolumeChange", a.SG), a.C.Ga(a.Ka, "fullscreentoggled", a.PF), a.Z = !0);
        rr(a.i.getRootNode(), "ad-showing");
        rr(a.i.getRootNode(), "ad-interrupting");
        R(a.i.Y().experiments, "enable_html5_teal_ad_badge") && U_(a.i) && rr(a.i.getRootNode(), "ad-teal-design");
        a.i.gi(2)
    }
    h.Rh = function(a) {
        switch (a) {
            case "control_play":
                this.l && (a = this.l, a.qo() ? a.S.hc().playVideo() : a.bj() && a.l.Ti());
                break;
            case "control_pause":
                this.l && (a = this.l, a.qo() ? a.S.hc().pauseVideo() : a.bj() && a.l.Si())
        }
    };

    function E4(a, b, c) {
        var d = !!a.l && a.l || null,
            e = d && d.Dk() && (T_(a.i) || !1);
        d = b && d && d.reset() || null;
        a.l && Lsa(a, a.l);
        a.l = null;
        a.iq = -1;
        e && Xra(a, c);
        a.ea || a.J.Dg();
        b && d && (d.Ww().l = !1, G4(d))
    }

    function Xra(a, b) {
        YF(a.C);
        a.Z = !1;
        sr(a.i.getRootNode(), "ad-showing");
        a.Ta ? (a.ea || a.J.Dg(), Msa(a), a.i.cueVideoByPlayerVars({}, 2)) : (a.i.cueVideoByPlayerVars({}, 2), Msa(a));
        sr(a.i.getRootNode(), "ad-interrupting");
        R(a.i.Y().experiments, "enable_html5_teal_ad_badge") && sr(a.i.getRootNode(), "ad-teal-design");
        b && b(a.i)
    }

    function Msa(a) {
        if (a.Ma) !a.X && (R(a.i.Y().experiments, "release_player_on_abandon_for_bulleit_living_room") || R(a.i.Y().experiments, "release_player_on_abandon_for_bulleit_lr_ads_frontend")) && a.i.lj(2);
        else if (a.i.lj(2), !a.X) {
            var b = a.i.Nd(1);
            Q(b, 4) && !Q(b, 2) && a.i.playVideo()
        }
    }
    h.UC = function(a) {
        if (this.l) {
            var b = this.l;
            if (null !== b.l) {
                b.U || (a = new vP(a.state, new tQ), b.U = !0);
                var c = a.state;
                if (iN(a, 2)) b.l.rf();
                else {
                    var d = a;
                    (R(b.S.Y().experiments, "html5_bulleit_handle_gained_playing_state") ? d.state.Kc() && !d.Nk.Kc() : d.state.Kc()) ? (pra(b.C), b.l.Ti()) : c.isError() ? b.l.Ze(c.getData().errorCode) : iN(a, 4) && (b.K || b.l.Si())
                }
                if (null !== b.l) {
                    if (iN(a, 16) && (c = b.l.l, !(b0(c) || .5 > c.i.getCurrentTime(2, !1) && !R(c.i.Y().experiments, "html5_dai_pseudogapless_seek_killswitch")))) {
                        d = c.l;
                        if (d.oo()) {
                            var e =
                                R(c.G.i.Y().experiments, "html5_dai_enable_active_view_creating_completed_adblock");
                            Vq(d.I, e)
                        }
                        c.l.D.seek = !0
                    }
                    0 > wP(a, 4) && !(0 > wP(a, 2)) && (c = b.l.l, b0(c) || (d0(c) ? l0(c, "resume") : h0(c, "resume")));
                    !R(b.S.Y().experiments, "html5_dai_handle_suspended_state_killswitch") && b.daiEnabled && iN(a, 512) && !AQ(a.state) && ora(b.C)
                }
            }
        }
    };
    h.HF = function(a) {
        0 > wP(a, 16) && (this.I.forEach(this.Ku, this), this.I.clear())
    };
    h.MG = function() {
        if (this.l) {
            var a = this.l;
            a.daiEnabled && sra(a)
        }
    };
    h.QG = function() {
        if (T_(this.i) && this.l) {
            var a = this.i.getCurrentTime(2, !1),
                b = this.l;
            b.l && (b = b.l, b.D && a0(b.l, a, b.getDuration()))
        }
    };
    h.lF = function() {
        this.Ma = !0;
        if (this.l) {
            var a = this.l;
            a.l && a.l.Ee()
        }
    };
    h.uF = function(a) {
        if (this.l) this.l.onAdUxClicked(a)
    };
    h.SG = function() {
        if (2 == this.i.getPresentingPlayerType() && this.l) {
            var a = this.l.l,
                b = a.l;
            a = a.S.isMuted();
            d0(b) || h0(b, a ? "mute" : "unmute")
        }
    };
    h.PF = function(a) {
        if (this.l) {
            var b = this.l.l.l;
            b0(b) || l0(b, a ? "fullscreen" : "end_fullscreen")
        }
    };

    function ura(a, b, c) {
        if (b instanceof o_) {
            if (a.X && q_(b) && Q(a.i.Nd(1), 64)) {
                var d = 1E3 * a.i.getCurrentTime(1) || 0;
                d != b.start && b.contains(d) && b.deactivate()
            }
            a.u.has(b) ? Cs(Error(b.toString() + " has already been seen")) : (a.Tj.add(b), a.u.set(b, c), p_(b) || a.i.Mf([b], 1))
        } else Cs(Error("Should use AdCueRange instead of CueRange"))
    }
    h.qe = function(a, b) {
        this.i.qe(a, b);
        a = t(a);
        for (b = a.next(); !b.done; b = a.next()) b = b.value, this.Tj.delete(b), this.u.delete(b)
    };
    h.KH = function() {
        for (var a = [], b = t(this.Tj), c = b.next(); !c.done; c = b.next()) c = c.value, p_(c) || a.push(c);
        b = this.i.app;
        1 !== b.getPresentingPlayerType() || OB(b, "cuerangemarkersupdated", a)
    };

    function Lsa(a, b) {
        a = a.u;
        for (var c = t(a), d = c.next(); !d.done; d = c.next()) {
            d = t(d.value);
            var e = d.next().value;
            if (d.next().value == b) {
                a.delete(e);
                break
            }
        }
        Of(b)
    }
    h.Wf = function(a) {
        this.i.Wf(a);
        switch (a) {
            case 1:
                this.iq = 1;
                break;
            case 0:
                this.iq = 0
        }
    };
    h.Ji = function() {
        this.l && this.l.Dk() && this.l.Ji()
    };
    h.Eg = function() {
        this.l && this.l.Dk() && this.l.Eg()
    };
    h.Ip = function() {};
    h.Ap = function() {};
    h.md = function(a) {
        if (this.l) {
            var b = this.l;
            b.l && (b = b.l, b.D && a0(b.l, a, b.getDuration()))
        }
    };
    h.bj = function() {
        return T_(this.i) && !!this.l && this.l.bj()
    };
    h.executeCommand = function(a, b, c) {
        var d = this.Sa,
            e = d.executeCommand;
        if (c = void 0 === c ? null : c) {
            var f = !!this.l && this.l || null;
            f ? (f = f.l, c = f.ad.oo() ? i0(f.l, c) : {}) : c = {}
        } else c = {};
        e.call(d, a, b, c)
    };
    h.Ey = function() {
        return this.ya
    };
    h.Fy = function() {
        return this.Fa
    };
    var Nsa = {
        uR: "replaceUrlMacros",
        HM: "isExternalShelfAllowedFor",
        xQ: "onAboutThisAdPopupClosed"
    };

    function Z4(a) {
        this.controller = a
    }
    Z4.prototype.Hg = function() {
        return "adLifecycleCommand"
    };
    Z4.prototype.handle = function(a) {
        var b = this;
        switch (a.action) {
            case "END_LINEAR_AD":
                eh(function() {
                    b.controller.Ji()
                });
                break;
            case "END_LINEAR_AD_PLACEMENT":
                eh(function() {
                    b.controller.Eg()
                });
                break;
            case "FILL_ABOVE_FEED_SLOT":
                eh(function() {
                    a.elementId && b.controller.Ip(a.elementId)
                });
                break;
            case "CLEAR_ABOVE_FEED_SLOT":
                eh(function() {
                    b.controller.Ap()
                })
        }
    };
    Z4.prototype.Oh = function(a) {
        this.handle(a)
    };

    function $4(a) {
        this.Qs = a
    }
    $4.prototype.Hg = function() {
        return "clearCueRangesCommand"
    };
    $4.prototype.handle = function() {
        var a = this.Qs();
        eh(function() {
            a.qe(Array.from(a.Tj))
        })
    };
    $4.prototype.Oh = function(a) {
        this.handle(a)
    };

    function a5(a, b, c) {
        this.Qs = a;
        this.Je = b;
        this.Cf = c
    }
    a5.prototype.Hg = function() {
        return "muteAdEndpoint"
    };
    a5.prototype.handle = function(a) {
        Osa(this, a)
    };

    function Osa(a, b, c) {
        var d = a.Qs();
        switch (b.type) {
            case "SKIP":
                zsa(d, a.Je, a.Cf, c)
        }
    }
    a5.prototype.Oh = function(a, b) {
        Osa(this, a, b)
    };

    function b5() {}
    b5.prototype.Hg = function() {
        return "openPopupAction"
    };
    b5.prototype.handle = function() {};
    b5.prototype.Oh = function(a) {
        this.handle(a)
    };

    function c5() {}
    c5.prototype.Hg = function() {
        return "pingingEndpoint"
    };
    c5.prototype.handle = function() {};
    c5.prototype.Oh = function(a) {
        this.handle(a)
    };

    function d5() {}
    d5.prototype.Hg = function() {
        return "urlEndpoint"
    };
    d5.prototype.handle = function(a, b) {
        b = Yq(a.url, b);
        var c, d, e;
        if ((null === (c = a.browserConversionApiData) || void 0 === c ? 0 : c.impressiondata) && (null === (d = a.browserConversionApiData) || void 0 === d ? 0 : d.conversiondestination)) {
            if (null === (e = a.browserConversionApiData) || void 0 === e ? 0 : e.originTrialToken) c = document.createElement("meta"), c.setAttribute("http-equiv", "origin-trial"), c.setAttribute("content", a.browserConversionApiData.originTrialToken), document.head.appendChild(c);
            a = {
                impressionData: a.browserConversionApiData.impressiondata,
                conversionDestination: a.browserConversionApiData.conversiondestination,
                reportingOrigin: a.browserConversionApiData.reportingorigin,
                impressionExpiry: Number(a.browserConversionApiData.impressionexpiry) || void 0
            }
        } else a = void 0;
        bN(b, void 0, void 0, a)
    };
    d5.prototype.Oh = function() {
        V("Trying to handle UrlEndpoint with no macro in controlflow")
    };

    function e5(a, b) {
        this.Uj = a;
        this.Pa = b
    }
    e5.prototype.Hg = function() {
        return "adPingingEndpoint"
    };
    e5.prototype.handle = function(a, b, c) {
        b = void 0 === b ? {} : b;
        c = void 0 === c ? {} : c;
        this.Uj.send(a, b, c)
    };
    e5.prototype.Oh = function(a, b) {
        f5(this.Pa.get(), a, b, void 0)
    };

    function g5(a) {
        this.S = a
    }
    g5.prototype.Hg = function() {
        return "changeEngagementPanelVisibilityAction"
    };
    g5.prototype.handle = function(a) {
        this.S.Ja("changeEngagementPanelVisibility", {
            changeEngagementPanelVisibilityAction: a
        })
    };
    g5.prototype.Oh = function(a) {
        this.handle(a)
    };

    function h5(a, b) {
        this.qg = a;
        this.Pa = b
    }
    h5.prototype.Hg = function() {
        return "loggingUrls"
    };
    h5.prototype.handle = function(a, b, c) {
        b = void 0 === b ? {} : b;
        c = void 0 === c ? {} : c;
        a = t(a);
        for (var d = a.next(); !d.done; d = a.next()) d = d.value, this.qg.send(d.baseUrl, b, c, d.headers)
    };
    h5.prototype.Oh = function(a, b) {
        a = t(a);
        for (var c = a.next(); !c.done; c = a.next()) c = c.value, f5(this.Pa.get(), c.baseUrl, b, c.headers)
    };

    function Psa(a) {
        C.call(this);
        this.i = a;
        this.VC = Qsa(this)
    }
    v(Psa, C);

    function Qsa(a) {
        var b = new T4(a.i.Eb);
        E(a, b);
        a = t([new Z4(a.i.KD), new e5(a.i.Uj, a.i.Pa), new g5(a.i.S), new h5(a.i.qg, a.i.Pa), new a5(a.i.jF, a.i.Je, a.i.Cf), new $4(a.i.VD), new c5, new d5, new b5]);
        for (var c = a.next(); !c.done; c = a.next()) c = c.value, tsa(b, c), usa(b, c);
        a = t(["adInfoDialogEndpoint", "adFeedbackEndpoint"]);
        for (c = a.next(); !c.done; c = a.next()) U4(b, c.value, function() {});
        return b
    };

    function i5(a, b, c) {
        if (c && !c.includes(a.layoutType)) return !1;
        b = t(b);
        for (c = b.next(); !c.done; c = b.next())
            if (!a.xa.i.has(c.value)) return !1;
        return !0
    }
    var Rsa = new Map([
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_NORMAL", "normal"],
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_USER_SKIPPED", "skipped"],
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_USER_MUTED", "muted"],
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_USER_INPUT_SUBMITTED", "user_input_submitted"],
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_USER_CANCELLED", "user_cancelled"]
    ]);

    function Ssa(a, b) {
        switch (a) {
            case "TRIGGER_CATEGORY_LAYOUT_EXIT_NORMAL":
                return 0;
            case "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_SKIPPED":
                return 1;
            case "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_MUTED":
                return 2;
            case "TRIGGER_CATEGORY_SLOT_EXPIRATION":
                return 3;
            case "TRIGGER_CATEGORY_SLOT_FULFILLMENT":
                return 4;
            case "TRIGGER_CATEGORY_SLOT_ENTRY":
                return 5;
            case "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_INPUT_SUBMITTED":
                return 6;
            case "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_CANCELLED":
                return 7;
            default:
                return b(a), 8
        }
    }
    var Tsa = new Map([
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_NORMAL", "trigger_category_layout_exit_normal"],
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_USER_SKIPPED", "trigger_category_layout_exit_user_skipped"],
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_USER_MUTED", "trigger_category_layout_exit_user_muted"],
        ["TRIGGER_CATEGORY_SLOT_EXPIRATION", "trigger_category_slot_expiration"],
        ["TRIGGER_CATEGORY_SLOT_FULFILLMENT", "trigger_category_slot_fulfillment"],
        ["TRIGGER_CATEGORY_SLOT_ENTRY", "trigger_category_slot_entry"],
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_USER_INPUT_SUBMITTED",
            "trigger_category_layout_exit_user_input_submitted"
        ],
        ["TRIGGER_CATEGORY_LAYOUT_EXIT_USER_CANCELLED", "trigger_category_layout_exit_user_cancelled"]
    ]);

    function j5(a) {
        var b = new Map;
        a.forEach(function(c) {
            b.set(c.tb(), c)
        });
        this.i = b
    }

    function W(a, b) {
        a = a.i.get(b);
        if (void 0 !== a) return a.get()
    }

    function k5(a) {
        return Array.from(a.i.keys())
    };
    var Usa = new Map([
            ["unspecified", "CONTROL_FLOW_MANAGER_LAYER_UNSPECIFIED"],
            ["core", "CONTROL_FLOW_MANAGER_LAYER_CORE"],
            ["adapter", "CONTROL_FLOW_MANAGER_LAYER_ADAPTER"],
            ["surface", "CONTROL_FLOW_MANAGER_LAYER_SURFACE"],
            ["external", "CONTROL_FLOW_MANAGER_LAYER_EXTERNAL"]
        ]),
        Vsa = new Map([
            ["normal", {
                Am: "ADS_CLIENT_EVENT_TYPE_NORMAL_EXIT_LAYOUT_REQUESTED",
                Hm: "ADS_CLIENT_EVENT_TYPE_LAYOUT_EXITED_NORMALLY"
            }],
            ["skipped", {
                Am: "ADS_CLIENT_EVENT_TYPE_SKIP_EXIT_LAYOUT_REQUESTED",
                Hm: "ADS_CLIENT_EVENT_TYPE_LAYOUT_EXITED_SKIP"
            }],
            ["muted", {
                Am: "ADS_CLIENT_EVENT_TYPE_MUTE_EXIT_LAYOUT_REQUESTED",
                Hm: "ADS_CLIENT_EVENT_TYPE_LAYOUT_EXITED_MUTE"
            }],
            ["abandoned", {
                Am: "ADS_CLIENT_EVENT_TYPE_ABANDON_EXIT_LAYOUT_REQUESTED",
                Hm: "ADS_CLIENT_EVENT_TYPE_LAYOUT_EXITED_ABANDON"
            }],
            ["user_input_submitted", {
                Am: "ADS_CLIENT_EVENT_TYPE_USER_INPUT_SUBMITTED_EXIT_LAYOUT_REQUESTED",
                Hm: "ADS_CLIENT_EVENT_TYPE_LAYOUT_EXITED_USER_INPUT_SUBMITTED"
            }],
            ["user_cancelled", {
                Am: "ADS_CLIENT_EVENT_TYPE_USER_CANCELLED_EXIT_LAYOUT_REQUESTED",
                Hm: "ADS_CLIENT_EVENT_TYPE_LAYOUT_EXITED_USER_CANCELLED"
            }]
        ]);

    function Wsa(a) {
        var b;
        return (null === (b = Vsa.get(a)) || void 0 === b ? void 0 : b.Hm) || "ADS_CLIENT_EVENT_TYPE_UNSPECIFIED"
    }

    function l5(a, b) {
        var c = {
            type: b.Za,
            controlFlowManagerLayer: Usa.get(b.Ra) || "CONTROL_FLOW_MANAGER_LAYER_UNSPECIFIED"
        };
        b.Gb && (c.entryTriggerType = b.Gb.triggerType);
        1 !== b.slotPhysicalPosition && (c.slotPhysicalPosition = b.slotPhysicalPosition);
        if (a) {
            c.debugData = {
                slotId: b.slotId
            };
            if (a = b.Gb) c.debugData.slotEntryTriggerData = m5(a);
            a = b.Lb;
            c.debugData.fulfillmentTriggerData = [];
            a = t(a);
            for (var d = a.next(); !d.done; d = a.next()) c.debugData.fulfillmentTriggerData.push(m5(d.value));
            b = b.Kb;
            c.debugData.expirationTriggerData = [];
            b = t(b);
            for (a = b.next(); !a.done; a = b.next()) c.debugData.expirationTriggerData.push(m5(a.value))
        }
        return c
    }

    function Xsa(a, b) {
        var c = {
            type: b.layoutType,
            controlFlowManagerLayer: Usa.get(b.Ra) || "CONTROL_FLOW_MANAGER_LAYER_UNSPECIFIED"
        };
        a && (c.debugData = {
            layoutId: b.layoutId
        });
        return c
    }

    function m5(a, b) {
        var c = {
            type: a.triggerType
        };
        null != b && (c.category = b);
        null != a.Se && (c.triggerSourceData || (c.triggerSourceData = {}), c.triggerSourceData.associatedSlotId = a.Se);
        null != a.Td && (c.triggerSourceData || (c.triggerSourceData = {}), c.triggerSourceData.associatedLayoutId = a.Td);
        return c
    }

    function Ysa(a, b, c, d) {
        b = {
            opportunityType: b
        };
        a && (d || c) && (d = pb(d || [], function(e) {
            return l5(a, e)
        }), b.debugData = Object.assign(Object.assign({}, c && 0 < c.length ? {
            associatedSlotId: c
        } : {}), 0 < d.length ? {
            slots: d
        } : {}));
        return b
    }

    function n5(a, b) {
        return function(c) {
            return Zsa(o5(a), b.slotId, b.Za, b.slotPhysicalPosition, b.Ra, b.Gb, b.Lb, b.Kb, c.layoutId, c.layoutType, c.Ra)
        }
    }

    function Zsa(a, b, c, d, e, f, g, k, l, m, n) {
        return {
            adClientDataEntry: {
                slotData: l5(a, {
                    slotId: b,
                    Za: c,
                    slotPhysicalPosition: d,
                    Ra: e,
                    Gb: f,
                    Lb: g,
                    Kb: k,
                    xa: new j5([])
                }),
                layoutData: Xsa(a, {
                    layoutId: l,
                    layoutType: m,
                    Ra: n,
                    Ec: [],
                    Vb: [],
                    Rb: [],
                    Wb: [],
                    ac: new Map,
                    xa: new j5([]),
                    Yb: {}
                })
            }
        }
    }

    function p5(a) {
        this.ma = a;
        this.i = .1 > Math.random()
    }

    function o5(a) {
        return a.i || R(a.ma.get().S.Y().experiments, "html5_force_debug_data_for_client_tmp_logs")
    };

    function q5(a, b, c, d) {
        C.call(this);
        this.Uc = b;
        this.Bb = c;
        this.ma = d;
        this.i = a(this, this, this, this, this);
        E(this, this.i);
        a = t(b);
        for (b = a.next(); !b.done; b = a.next()) E(this, b.value)
    }
    v(q5, C);
    h = q5.prototype;
    h.Ft = function(a, b) {
        return this.i.Ft(a, b)
    };
    h.Sh = function(a, b) {
        r5(this.Bb, "ADS_CLIENT_EVENT_TYPE_OPPORTUNITY_RECEIVED", a, b, void 0);
        for (var c = t(this.Uc), d = c.next(); !d.done; d = c.next()) d.value.Sh(a, b)
    };
    h.gf = function(a) {
        if (s5(this.i, a)) {
            v4(this.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_ENTERED", a);
            this.i.gf(a);
            for (var b = t(this.Uc), c = b.next(); !c.done; c = b.next()) c.value.gf(a);
            $sa(this, a)
        }
    };
    h.hf = function(a) {
        if (s5(this.i, a)) {
            v4(this.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_EXITED", a);
            this.i.hf(a);
            for (var b = t(this.Uc), c = b.next(); !c.done; c = b.next()) c.value.hf(a);
            s5(this.i, a) && t5(this.i, a).C && u5(this, a, !1)
        }
    };

    function v5(a, b, c) {
        V(c, b, void 0, void 0, c.Wj);
        u5(a, b, !0)
    }

    function ata(a, b, c) {
        if (s5(a.i, b))
            if (t5(a.i, b).B = c ? "filled" : "not_filled", null === c) {
                w5(a.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_FULFILLED_EMPTY", b);
                c = t(a.Uc);
                for (var d = c.next(); !d.done; d = c.next()) d.value.Uk(b);
                u5(a, b, !1)
            } else {
                w5(a.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_FULFILLED_NON_EMPTY", b, c);
                var e = t(a.Uc);
                for (d = e.next(); !d.done; d = e.next()) d.value.Vk(b);
                if (!bta(a.ma.get()) || s5(a.i, b))
                    if (t5(a.i, b).C) u5(a, b, !1);
                    else {
                        w5(a.Bb, "ADS_CLIENT_EVENT_TYPE_SCHEDULE_LAYOUT_REQUESTED", b, c);
                        try {
                            var f = a.i;
                            if (!t5(f, b)) throw new x5("Unknown slotState for onLayout");
                            if (!f.yc.Qg.get(b.Za)) throw new x5("No LayoutRenderingAdapterFactory registered for slot of type: " + b.Za);
                            if (0 == c.Ec.length && 0 == c.Vb.length && 0 == c.Rb.length && 0 == c.Wb.length) throw new x5("Layout has no exit triggers.");
                            y5(f, "TRIGGER_CATEGORY_LAYOUT_EXIT_NORMAL", c.Ec);
                            y5(f, "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_SKIPPED", c.Vb);
                            y5(f, "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_MUTED", c.Rb);
                            y5(f, "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_INPUT_SUBMITTED", c.Wb)
                        } catch (m) {
                            a.uc(b, c, m);
                            u5(a, b, !0);
                            return
                        }
                        t5(a.i, b).D = !0;
                        try {
                            var g =
                                a.i,
                                k = t5(g, b),
                                l = g.yc.Qg.get(b.Za).get().ge(g.B, g.l, b, c);
                            l.init();
                            k.layout = c;
                            if (k.u) throw new x5("Already had LayoutRenderingAdapter registered for slot");
                            k.u = l;
                            z5(g, k, "TRIGGER_CATEGORY_LAYOUT_EXIT_NORMAL", c.Ec);
                            z5(g, k, "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_SKIPPED", c.Vb);
                            z5(g, k, "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_MUTED", c.Rb);
                            z5(g, k, "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_INPUT_SUBMITTED", c.Wb)
                        } catch (m) {
                            A5(a, b, !0);
                            u5(a, b, !0);
                            a.uc(b, c, m);
                            return
                        }
                        w5(a.Bb, "ADS_CLIENT_EVENT_TYPE_LAYOUT_SCHEDULED", b, c);
                        e = t(a.Uc);
                        for (d = e.next(); !d.done; d = e.next()) d.value.ej(b, c);
                        A5(a, b, !1);
                        $sa(a, b)
                    }
            }
    }

    function B5(a, b, c) {
        w5(a.Bb, "ADS_CLIENT_EVENT_TYPE_LAYOUT_SCHEDULED", b, c);
        a = t(a.Uc);
        for (var d = a.next(); !d.done; d = a.next()) d.value.ej(b, c)
    }
    h.Lq = function(a) {
        v4(this.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_FULFILLMENT_CANCELLED", a);
        s5(this.i, a) && (this.i.Lq(a), u5(this, a, !1))
    };
    h.tc = function(a, b) {
        if (s5(this.i, a)) {
            w5(this.Bb, "ADS_CLIENT_EVENT_TYPE_LAYOUT_ENTERED", a, b);
            for (var c = t(this.Uc), d = c.next(); !d.done; d = c.next()) d.value.tc(a, b)
        }
    };

    function C5(a, b, c) {
        w5(a.Bb, "ADS_CLIENT_EVENT_TYPE_LAYOUT_ENTERED", b, c);
        a = t(a.Uc);
        for (var d = a.next(); !d.done; d = a.next()) d.value.tc(b, c)
    }
    h.Pb = function(a, b, c) {
        if (s5(this.i, a)) {
            w5(this.Bb, Wsa(c), a, b);
            this.i.Pb(a, b);
            for (var d = t(this.Uc), e = d.next(); !e.done; e = d.next()) e.value.Pb(a, b, c);
            (c = D5(this.i, a)) && b.layoutId === c.layoutId && cta(this, a, !1)
        }
    };

    function w4(a, b, c, d) {
        w5(a.Bb, Wsa(d), b, c);
        a = t(a.Uc);
        for (var e = a.next(); !e.done; e = a.next()) e.value.Pb(b, c, d)
    }
    h.uc = function(a, b, c) {
        V(c, a, b, void 0, c.Wj);
        u5(this, a, !0)
    };

    function A5(a, b, c) {
        if (s5(a.i, b) && (t5(a.i, b).D = !1, !bta(a.ma.get()) || !c)) {
            c = k4;
            b = t5(a.i, b);
            var d = [].concat(ha(b.I));
            yb(b.I);
            c(a, d)
        }
    }

    function k4(a, b) {
        b.sort(function(f, g) {
            function k(l) {
                V("TriggerCategoryOrder enum does not contain trigger category: " + l)
            }
            return f.category === g.category ? f.trigger.triggerId.localeCompare(g.trigger.triggerId) : Ssa(f.category, k) - Ssa(g.category, k)
        });
        var c = new Map;
        b = t(b);
        for (var d = b.next(); !d.done; d = b.next())
            if (d = d.value, s5(a.i, d.slot))
                if (t5(a.i, d.slot).D) t5(a.i, d.slot).I.push(d);
                else {
                    dta(a.Bb, d.slot, d, d.layout);
                    var e = c.get(d.category);
                    e || (e = []);
                    e.push(d);
                    c.set(d.category, e)
                } b = t(Rsa);
        for (d = b.next(); !d.done; d = b.next()) e = t(d.value), d = e.next().value, e = e.next().value, (d = c.get(d)) && eta(a, d, e);
        (b = c.get("TRIGGER_CATEGORY_SLOT_EXPIRATION")) && fta(a, b);
        (b = c.get("TRIGGER_CATEGORY_SLOT_FULFILLMENT")) && gta(a, b);
        (c = c.get("TRIGGER_CATEGORY_SLOT_ENTRY")) && hta(a,
            c)
    }
    h.Da = function() {
        var a = ita(this.i);
        a = t(a);
        for (var b = a.next(); !b.done; b = a.next()) u5(this, b.value, !1);
        C.prototype.Da.call(this)
    };

    function eta(a, b, c) {
        b = t(b);
        for (var d = b.next(); !d.done; d = b.next()) d = d.value, d.layout && E5(a.i, d.slot) && jta(a, d.slot, d.layout, c)
    }

    function fta(a, b) {
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) u5(a, c.value.slot, !1)
    }

    function gta(a, b) {
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) {
            c = c.value;
            a: switch (t5(a.i, c.slot).B) {
                case "not_filled":
                    var d = !0;
                    break a;
                default:
                    d = !1
            }
            d && (v4(a.Bb, "ADS_CLIENT_EVENT_TYPE_FULFILL_SLOT_REQUESTED", c.slot), a.i.Ln(c.slot))
        }
    }

    function hta(a, b) {
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) {
            c = c.value;
            v4(a.Bb, "ADS_CLIENT_EVENT_TYPE_ENTER_SLOT_REQUESTED", c.slot);
            for (var d = t(a.Uc), e = d.next(); !e.done; e = d.next()) e.value.Tk(c.slot);
            try {
                var f = a.i,
                    g = c.slot,
                    k = t5(f, g);
                if (!k) throw new X("Got enter request for unknown slot");
                if (!k.l) throw new X("Tried to enter slot with no assigned slotAdapter");
                if ("scheduled" !== k.i) throw new X("Tried to enter a slot from stage: " + k.i);
                if (F5(k)) throw new X("Got enter request for already active slot");
                for (var l = t(G5(f, g.Za + "_" + g.slotPhysicalPosition).values()), m = l.next(); !m.done; m = l.next()) {
                    var n = m.value;
                    if (k !== n && F5(n)) throw new X("Trying to enter a slot when a slot of same type is already active.", {
                        activeSlotStatus: n.i
                    });
                }
            } catch (p) {
                V(p, c.slot, D5(a.i, c.slot), void 0, p.Wj);
                u5(a, c.slot, !0);
                continue
            }
            c = t5(a.i, c.slot);
            "scheduled" !== c.i && H5(c.slot, c.i, "enterSlot");
            c.i = "enter_requested";
            c.l.Xs()
        }
    }

    function $sa(a, b) {
        var c;
        s5(a.i, b) && F5(t5(a.i, b)) && D5(a.i, b) && !E5(a.i, b) && (w5(a.Bb, "ADS_CLIENT_EVENT_TYPE_ENTER_LAYOUT_REQUESTED", b, null !== (c = D5(a.i, b)) && void 0 !== c ? c : void 0), a = t5(a.i, b), "entered" !== a.i && H5(a.slot, a.i, "enterLayoutForSlot"), a.i = "rendering", a.u.startRendering(a.layout))
    }

    function jta(a, b, c, d) {
        if (s5(a.i, b)) {
            var e = a.Bb,
                f;
            var g = (null === (f = Vsa.get(d)) || void 0 === f ? void 0 : f.Am) || "ADS_CLIENT_EVENT_TYPE_UNSPECIFIED";
            w5(e, g, b, c);
            a = t5(a.i, b);
            "rendering" !== a.i && H5(a.slot, a.i, "exitLayout");
            a.i = "rendering_stop_requested";
            a.u.Sd(c, d)
        }
    }

    function u5(a, b, c) {
        if (s5(a.i, b)) {
            a: switch (t5(a.i, b).i) {
                case "exit_requested":
                    var d = !0;
                    break a;
                default:
                    d = !1
            }
            if (!d) a: switch (t5(a.i, b).i) {
                case "rendering_stop_requested":
                    d = !0;
                    break a;
                default:
                    d = !1
            }
            if (d && (t5(a.i, b).C = !0, !c)) return;
            if (F5(t5(a.i, b))) t5(a.i, b).C = !0,
            cta(a, b, c);
            else {
                a: switch (t5(a.i, b).B) {
                    case "fill_requested":
                        c = !0;
                        break a;
                    default:
                        c = !1
                }
                if (c) t5(a.i, b).C = !0,
                s5(a.i, b) && (v4(a.Bb, "ADS_CLIENT_EVENT_TYPE_CANCEL_SLOT_FULFILLMENT_REQUESTED", b), b = t5(a.i, b), b.B = "fill_cancel_requested", b.G.Is());
                else {
                    c =
                        D5(a.i, b);
                    v4(a.Bb, "ADS_CLIENT_EVENT_TYPE_UNSCHEDULE_SLOT_REQUESTED", b);
                    d = t5(a.i, b);
                    var e = b.Gb,
                        f = d.T.get(e.triggerId);
                    f && (f.ag(e), d.T.delete(e.triggerId));
                    e = t(b.Lb);
                    for (f = e.next(); !f.done; f = e.next()) {
                        f = f.value;
                        var g = d.K.get(f.triggerId);
                        g && (g.ag(f), d.K.delete(f.triggerId))
                    }
                    e = t(b.Kb);
                    for (f = e.next(); !f.done; f = e.next())
                        if (f = f.value, g = d.J.get(f.triggerId)) g.ag(f), d.J.delete(f.triggerId);
                    null != d.layout && (e = d.layout, I5(d, e.Ec), I5(d, e.Vb), I5(d, e.Rb), I5(d, e.Wb));
                    d.G = void 0;
                    null != d.l && (d.l.release(), d.l = void 0);
                    null != d.u && (d.u.release(), d.u = void 0);
                    d = a.i;
                    t5(d, b) && (d = G5(d, b.Za + "_" + b.slotPhysicalPosition)) && d.delete(b.slotId);
                    v4(a.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_UNSCHEDULED", b);
                    a = t(a.Uc);
                    for (d = a.next(); !d.done; d = a.next()) d = d.value, d.hj(b), c && d.Qk(b, c)
                }
            }
        }
    }

    function cta(a, b, c) {
        if (s5(a.i, b) && F5(t5(a.i, b))) {
            var d = D5(a.i, b);
            if (d && E5(a.i, b)) jta(a, b, d, c ? "error" : "abandoned");
            else {
                v4(a.Bb, "ADS_CLIENT_EVENT_TYPE_EXIT_SLOT_REQUESTED", b);
                try {
                    var e = t5(a.i, b);
                    if (!e) throw new X("Cannot exit slot it is unregistered");
                    "enter_requested" !== e.i && "entered" !== e.i && "rendering" !== e.i && H5(e.slot, e.i, "exitSlot");
                    e.i = "exit_requested";
                    if (void 0 === e.l) throw e.i = "scheduled", new X("Cannot exit slot because adapter is not defined");
                    e.l.gt()
                } catch (f) {
                    V(f, b, void 0, void 0, f.Wj)
                }
            }
        }
    };

    function kta(a) {
        this.slot = a;
        this.T = new Map;
        this.K = new Map;
        this.J = new Map;
        this.U = new Map;
        this.u = this.layout = this.l = this.G = void 0;
        this.D = this.C = !1;
        this.I = [];
        this.i = "not_scheduled";
        this.B = "not_filled"
    }

    function F5(a) {
        return "enter_requested" === a.i || a.isActive()
    }
    kta.prototype.isActive = function() {
        switch (this.i) {
            case "entered":
            case "rendering":
            case "rendering_stop_requested":
            case "exit_requested":
                return !0;
            default:
                return !1
        }
    };

    function x5(a, b, c) {
        c = void 0 === c ? !1 : c;
        Za.call(this, a);
        this.Wj = c;
        this.args = [];
        b && this.args.push(b)
    }
    v(x5, Za);

    function X(a, b, c) {
        c = void 0 === c ? !1 : c;
        Za.call(this, a);
        this.Wj = c;
        this.args = [];
        b && this.args.push(b)
    }
    v(X, Za);

    function J5(a, b, c, d, e) {
        C.call(this);
        this.yc = a;
        this.u = b;
        this.C = c;
        this.B = d;
        this.l = e;
        this.i = new Map
    }
    v(J5, C);

    function G5(a, b) {
        return (a = a.i.get(b)) ? a : new Map
    }
    h = J5.prototype;
    h.Ft = function(a, b) {
        b = G5(this, a + "_" + b);
        a = [];
        b = t(b.values());
        for (var c = b.next(); !c.done; c = b.next()) a.push(c.value.slot);
        return a
    };

    function t5(a, b) {
        return G5(a, b.Za + "_" + b.slotPhysicalPosition).get(b.slotId)
    }

    function ita(a) {
        var b = [];
        a.i.forEach(function(c) {
            c = t(c.values());
            for (var d = c.next(); !d.done; d = c.next()) b.push(d.value.slot)
        });
        return b
    }
    h.Yg = function(a) {
        a = t5(this, a);
        "not_scheduled" !== a.i && H5(a.slot, a.i, "onSlotScheduled");
        a.i = "scheduled"
    };
    h.Ln = function(a) {
        a = t5(this, a);
        a.B = "fill_requested";
        a.G.Ln()
    };
    h.gf = function(a) {
        a = t5(this, a);
        "enter_requested" !== a.i && H5(a.slot, a.i, "onSlotEntered");
        a.i = "entered"
    };

    function s5(a, b) {
        return null != t5(a, b)
    }
    h.Lq = function(a) {
        t5(this, a).B = "fill_canceled"
    };

    function E5(a, b) {
        a = t5(a, b);
        if (b = null != a.layout) a: switch (a.i) {
            case "rendering":
            case "rendering_stop_requested":
                b = !0;
                break a;
            default:
                b = !1
        }
        return b
    }

    function D5(a, b) {
        a = t5(a, b);
        return null != a.layout ? a.layout : null
    }
    h.hf = function(a) {
        a = t5(this, a);
        "exit_requested" !== a.i && H5(a.slot, a.i, "onSlotExited");
        a.i = "scheduled"
    };
    h.Pb = function(a, b) {
        a = t5(this, a);
        null != a.layout && a.layout.layoutId === b.layoutId && ("rendering_stop_requested" !== a.i && H5(a.slot, a.i, "onLayoutExited"), a.i = "entered")
    };

    function K5(a, b, c) {
        if (0 == c.length) throw new X("No " + Tsa.get(b) + " triggers found for slot.");
        c = t(c);
        for (var d = c.next(); !d.done; d = c.next())
            if (d = d.value, !a.yc.mf.get(d.triggerType)) throw new X("No trigger adapter registered for " + b + " trigger of type: " + d.triggerType);
    }

    function y5(a, b, c) {
        c = t(c);
        for (var d = c.next(); !d.done; d = c.next())
            if (d = d.value, !a.yc.mf.get(d.triggerType)) throw new x5("No trigger adapter registered for " + Tsa.get(b) + " trigger of type: " + d.triggerType);
    }

    function z5(a, b, c, d) {
        d = t(d);
        for (var e = d.next(); !e.done; e = d.next()) {
            e = e.value;
            var f = a.yc.mf.get(e.triggerType);
            f.Xf(c, e, b.slot, b.layout ? b.layout : null);
            b.U.set(e.triggerId, f)
        }
    }

    function I5(a, b) {
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) {
            c = c.value;
            var d = a.U.get(c.triggerId);
            d && (d.ag(c), a.U.delete(c.triggerId))
        }
    }

    function H5(a, b, c) {
        V("Slot stage was " + b + " when calling method " + c, a)
    };

    function lta(a) {
        return L5(a.ij).concat(L5(a.mf)).concat(L5(a.Gg)).concat(L5(a.jh)).concat(L5(a.Qg))
    }

    function L5(a) {
        var b = [];
        a = t(a.values());
        for (var c = a.next(); !c.done; c = a.next()) c = c.value, c.Zi && b.push(c);
        return b
    };

    function M5(a) {
        C.call(this);
        this.i = a;
        this.l = mta(this)
    }
    v(M5, C);
    M5.prototype.u = function() {
        return this.l
    };

    function mta(a) {
        var b = new q5(function(c, d, e, f) {
            return new J5(a.i.yc, c, d, e, f)
        }, new Set(lta(a.i.yc).concat(a.i.listeners)), a.i.Bb, a.i.ma);
        E(a, b);
        return b
    };

    function N5(a) {
        C.call(this);
        var b = this;
        this.l = a;
        this.i = null;
        Qf(this, function() {
            Of(b.i);
            b.i = null
        })
    }
    v(N5, C);

    function Y(a) {
        return new N5(a)
    }
    N5.prototype.get = function() {
        this.Ea() && V("Tried to retrieve object during dispose", void 0, void 0, {
            type: typeof this.i
        });
        this.i || (this.i = this.l());
        return this.i
    };

    function nta(a) {
        var b, c = null === (b = a.config) || void 0 === b ? void 0 : b.adPlacementConfig;
        a = a.renderer;
        return !(!c || null == c.kind || !a)
    };

    function ota(a) {
        return null != a.linearAd && null != a.adVideoStart
    };

    function pta(a, b, c, d, e, f, g) {
        b = qta(b, f, Number(d.prefetchMilliseconds) || 0, g);
        a = b instanceof X ? b : rta(a, d, e, b, c);
        return a instanceof X ? a : [a]
    }

    function sta(a) {
        var b, c;
        return void 0 !== (null === (c = null === (b = a.renderer) || void 0 === b ? void 0 : b.adBreakServiceRenderer) || void 0 === c ? void 0 : c.getAdBreakUrl)
    };

    function tta(a, b, c) {
        if (b = uta(b)) {
            b = t(b);
            for (var d = b.next(); !d.done; d = b.next())
                if ((d = d.value) && d.externalVideoId) {
                    var e = vta(a, d.externalVideoId);
                    e.instreamVideoAdRenderer || (e.instreamVideoAdRenderer = d, e.TE = c)
                } else V("InstreamVideoAdRenderer without externalVideoId")
        }
    }

    function uta(a) {
        var b = [],
            c = a.sandwichedLinearAdRenderer && a.sandwichedLinearAdRenderer.linearAd && a.sandwichedLinearAdRenderer.linearAd.instreamVideoAdRenderer;
        if (c) return b.push(c), b;
        if (a.instreamVideoAdRenderer) return b.push(a.instreamVideoAdRenderer), b;
        if (a.linearAdSequenceRenderer && a.linearAdSequenceRenderer.linearAds) {
            a = t(a.linearAdSequenceRenderer.linearAds);
            for (c = a.next(); !c.done; c = a.next()) c = c.value, c.instreamVideoAdRenderer && b.push(c.instreamVideoAdRenderer);
            return b
        }
        return null
    }

    function vta(a, b) {
        a.has(b) || a.set(b, {
            instreamVideoAdRenderer: void 0,
            TE: void 0,
            adVideoId: b,
            LD: []
        });
        return a.get(b)
    }

    function O5(a, b, c, d, e, f, g) {
        d ? vta(a, d).LD.push({
            mU: b,
            nU: c,
            lU: e,
            adSlotLoggingData: f,
            uU: g
        }) : V("Companion AdPlacementSupportedRenderer without adVideoId")
    };

    function P5(a) {
        var b, c = 0;
        a = t(a.questions);
        for (var d = a.next(); !d.done; d = a.next())
            if (d = d.value, d = d.instreamSurveyAdMultiSelectQuestionRenderer || d.instreamSurveyAdSingleSelectQuestionRenderer) c += (null === (b = d.surveyAdQuestionCommon) || void 0 === b ? void 0 : b.durationMilliseconds) || 0;
        return c
    }

    function Q5(a) {
        var b, c, d, e, f, g, k, l, m, n, p, q, r, u, x, z, D, H, O, M, J, ka = (null === (c = null === (b = a.questions) || void 0 === b ? void 0 : b[0].instreamSurveyAdMultiSelectQuestionRenderer) || void 0 === c ? void 0 : c.surveyAdQuestionCommon) || (null === (e = null === (d = a.questions) || void 0 === d ? void 0 : d[0].instreamSurveyAdSingleSelectQuestionRenderer) || void 0 === e ? void 0 : e.surveyAdQuestionCommon);
        ka = [].concat(ha((null === (f = a.playbackCommands) || void 0 === f ? void 0 : f.instreamAdCompleteCommands) || []), ha((null === ka || void 0 === ka ? void 0 : ka.timeoutCommands) || []));
        return {
            impressionCommands: null === (g = a.playbackCommands) || void 0 === g ? void 0 : g.impressionCommands,
            errorCommands: null === (k = a.playbackCommands) || void 0 === k ? void 0 : k.errorCommands,
            muteCommands: null === (l = a.playbackCommands) || void 0 === l ? void 0 : l.muteCommands,
            unmuteCommands: null === (m = a.playbackCommands) || void 0 === m ? void 0 : m.unmuteCommands,
            pauseCommands: null === (n = a.playbackCommands) || void 0 === n ? void 0 : n.pauseCommands,
            rewindCommands: null === (p = a.playbackCommands) || void 0 === p ? void 0 : p.rewindCommands,
            resumeCommands: null ===
                (q = a.playbackCommands) || void 0 === q ? void 0 : q.resumeCommands,
            skipCommands: null === (r = a.playbackCommands) || void 0 === r ? void 0 : r.skipCommands,
            progressCommands: null === (u = a.playbackCommands) || void 0 === u ? void 0 : u.progressCommands,
            rU: null === (x = a.playbackCommands) || void 0 === x ? void 0 : x.clickthroughCommands,
            fullscreenCommands: null === (z = a.playbackCommands) || void 0 === z ? void 0 : z.fullscreenCommands,
            activeViewViewableCommands: null === (D = a.playbackCommands) || void 0 === D ? void 0 : D.activeViewViewableCommands,
            activeViewMeasurableCommands: null ===
                (H = a.playbackCommands) || void 0 === H ? void 0 : H.activeViewMeasurableCommands,
            activeViewFullyViewableAudibleHalfDurationCommands: null === (O = a.playbackCommands) || void 0 === O ? void 0 : O.activeViewFullyViewableAudibleHalfDurationCommands,
            endFullscreenCommands: null === (M = a.playbackCommands) || void 0 === M ? void 0 : M.endFullscreenCommands,
            abandonCommands: null === (J = a.playbackCommands) || void 0 === J ? void 0 : J.abandonCommands,
            completeCommands: ka
        }
    }

    function wta(a, b, c, d, e, f, g) {
        return function(k, l) {
            return xta(a, l.slotId, k, f, function(m, n) {
                m = g(m);
                return R5(b, l.layoutId, n, e, m, "LAYOUT_TYPE_SURVEY", [new j1(c), d])
            })
        }
    };

    function yta(a, b, c, d, e, f, g) {
        if (!zta(a)) return new X("Invalid InstreamVideoAdRenderer for SlidingText.", {
            instreamVideoAdRenderer: a
        });
        var k = a.additionalPlayerOverlay.slidingTextPlayerOverlayRenderer;
        return [Ata(f, b, c, d, function(l) {
            var m = g(l);
            l = l.slotId;
            l = S5(e.l.get(), "LAYOUT_TYPE_SLIDING_TEXT_PLAYER_OVERLAY", l);
            var n = {
                    layoutId: l,
                    layoutType: "LAYOUT_TYPE_SLIDING_TEXT_PLAYER_OVERLAY",
                    Ra: "core"
                },
                p = new T5(e.i, d);
            return {
                layoutId: l,
                layoutType: "LAYOUT_TYPE_SLIDING_TEXT_PLAYER_OVERLAY",
                ac: new Map,
                Ec: [p],
                Vb: [],
                Rb: [],
                Wb: [],
                Ra: "core",
                xa: new j5([new k1(k)]),
                Yb: m(n)
            }
        })]
    }

    function zta(a) {
        a = ((null === a || void 0 === a ? void 0 : a.additionalPlayerOverlay) || {}).slidingTextPlayerOverlayRenderer;
        if (!a) return !1;
        var b = a.slidingMessages;
        return a.title && b && 0 !== b.length ? !0 : !1
    };

    function Bta(a, b, c, d, e) {
        var f;
        if (null === (f = a.playerOverlay) || void 0 === f || !f.instreamSurveyAdRenderer) return function() {
            return []
        };
        if (!Sqa(a)) return function() {
            return new X("Received invalid InstreamVideoAdRenderer for DAI survey.", {
                instreamVideoAdRenderer: a
            })
        };
        var g = a.playerOverlay.instreamSurveyAdRenderer,
            k = P5(g);
        return 0 >= k ? function() {
            return new X("InstreamSurveyAdRenderer should have valid duration.", {
                instreamSurveyAdRenderer: g
            })
        } : function(l, m) {
            var n = Cta(l, c, d, function(p) {
                var q = m(p),
                    r = p.slotId;
                p = Q5(g);
                r = S5(e.l.get(), "LAYOUT_TYPE_SURVEY", r);
                var u = {
                        layoutId: r,
                        layoutType: "LAYOUT_TYPE_SURVEY",
                        Ra: "core"
                    },
                    x = new T5(e.i, d),
                    z = new U5(e.i, r),
                    D = new j4(e.i, r),
                    H = new V5(e.i);
                return {
                    layoutId: r,
                    layoutType: "LAYOUT_TYPE_SURVEY",
                    ac: new Map,
                    Ec: [x, H],
                    Vb: [z],
                    Rb: [],
                    Wb: [D],
                    Ra: "core",
                    xa: new j5([new i1(g), new a1(b), new b4(k / 1E3), new e4(p)]),
                    Yb: q(u),
                    adLayoutLoggingData: g.adLayoutLoggingData
                }
            });
            l = yta(a, c, n.slotId, d, e, l, m);
            return l instanceof X ? l : [n].concat(ha(l))
        }
    };

    function Dta(a, b, c, d, e) {
        var f = [];
        try {
            var g = [],
                k = Eta(a, d, function(q) {
                    q = Fta(q.slotId, c, b, e(q), d);
                    g = q.uH;
                    return q.cE
                });
            f.push(k);
            for (var l = t(g), m = l.next(); !m.done; m = l.next()) {
                var n = m.value,
                    p = n(a, e);
                if (p instanceof X) return p;
                f.push.apply(f, ha(p))
            }
        } catch (q) {
            return new X(q, {
                errorMessage: q.message,
                AdPlacementRenderer: c
            })
        }
        return f
    }

    function Fta(a, b, c, d, e) {
        var f = b.config.adPlacementConfig,
            g = f.adTimeOffset || {},
            k = g.offsetEndMilliseconds;
        g = Number(g.offsetStartMilliseconds);
        if (isNaN(g)) throw new TypeError("Expected valid start offset");
        var l = Number(k);
        if (isNaN(l)) throw new TypeError("Expected valid end offset");
        k = (b.renderer.linearAdSequenceRenderer || {}).linearAds;
        if (null === k || void 0 === k || !k.length) throw new TypeError("Expected linear ads");
        var m = [],
            n = {
                nB: g,
                oB: 0,
                rH: m
            };
        k = k.map(function(q) {
            return Gta(a, q, n, c, d, f, e, l)
        }).map(function(q,
            r) {
            r = new x_(r, m, l);
            return q(r)
        });
        var p = k.map(function(q) {
            return q.dE
        });
        return {
            cE: Hta(c, a, g, p, f, new Map([
                ["ad_placement_start", b.placementStartPings || []],
                ["ad_placement_end", b.placementEndPings || []]
            ]), Ita(b), d, l),
            uH: k.map(function(q) {
                return q.tH
            })
        }
    }

    function Gta(a, b, c, d, e, f, g, k) {
        var l = b.instreamVideoAdRenderer;
        if (!l) throw new TypeError("Expected instream video ad renderer");
        if (!l.playerVars) throw new TypeError("Expected player vars in url encoded string");
        var m = pt(l.playerVars);
        b = Number(m.length_seconds);
        if (isNaN(b)) throw new TypeError("Expected valid length seconds in player vars");
        var n = Jta(m, l);
        if (!n) throw new TypeError("Expected valid video id in IVAR");
        var p = c.nB,
            q = c.oB,
            r = Number(l.trimmedMaxNonSkippableAdDurationMs),
            u = isNaN(r) ? b : Math.min(b,
                r / 1E3),
            x = Math.min(p + 1E3 * u, k);
        c.nB = x;
        c.oB++;
        c.rH.push(u);
        var z = l.pings ? y_(l.pings) : new Map;
        c = l.playerOverlay || {};
        var D = void 0 === c.instreamAdPlayerOverlayRenderer ? null : c.instreamAdPlayerOverlayRenderer;
        return function(H) {
            2 <= H.u && (m.slot_pos = H.i);
            m.autoplay = "1";
            var O = l.adLayoutLoggingData,
                M = l.sodarExtensionData,
                J = S5(d.l.get(), "LAYOUT_TYPE_MEDIA", a),
                ka = {
                    layoutId: J,
                    layoutType: "LAYOUT_TYPE_MEDIA",
                    Ra: "adapter"
                };
            H = {
                layoutId: J,
                layoutType: "LAYOUT_TYPE_MEDIA",
                ac: z,
                Ec: [],
                Vb: [],
                Rb: [],
                Wb: [],
                Ra: "adapter",
                xa: new j5([new e1(g),
                    new t1(u), new u1(m), new w1(p), new N3(x), new O3(q), new p1({
                        current: null
                    }), D && new f1(D), new a1(f), new c1(n), new b1(H), M && new v1(M)
                ].filter(Kta)),
                Yb: e(ka),
                adLayoutLoggingData: O
            };
            O = Bta(l, f, g, H.layoutId, d);
            return {
                dE: H,
                tH: O
            }
        }
    }

    function Jta(a, b) {
        if (a = a.video_id) return a;
        if (b = b.externalVideoId) return b
    }

    function Ita(a) {
        a = Number(a.driftRecoveryMs);
        return isNaN(a) || 0 >= a ? null : a
    };

    function Lta(a, b, c, d, e, f, g, k) {
        a = Mta(a, c, f, g, d, function(l) {
            var m = l.slotId;
            l = k(l);
            m = S5(b.l.get(), "LAYOUT_TYPE_FORECASTING", m);
            var n = {
                    layoutId: m,
                    layoutType: "LAYOUT_TYPE_FORECASTING",
                    Ra: "core"
                },
                p = new Map,
                q = e.impressionUrls;
            q && p.set("impression", q);
            return {
                layoutId: m,
                layoutType: "LAYOUT_TYPE_FORECASTING",
                ac: p,
                Ec: [new W5(b.i, m)],
                Vb: [],
                Rb: [],
                Wb: [],
                Ra: "core",
                xa: new j5([new W3(e), new a1(c)]),
                Yb: l(n)
            }
        });
        return a instanceof X ? a : [a]
    };

    function Nta(a, b, c, d, e, f, g, k) {
        a = Ota(a, c, f, g, d, function(l, m) {
            var n = l.slotId;
            l = k(l);
            var p = e.contentSupportedRenderer;
            p ? p.textOverlayAdContentRenderer ? (p = S5(b.l.get(), "LAYOUT_TYPE_IN_VIDEO_TEXT_OVERLAY", n), m = X5(b, p, "LAYOUT_TYPE_IN_VIDEO_TEXT_OVERLAY", e, c, l, Y5(b, m, n))) : p.enhancedTextOverlayAdContentRenderer ? (p = S5(b.l.get(), "LAYOUT_TYPE_IN_VIDEO_ENHANCED_TEXT_OVERLAY", n), m = X5(b, p, "LAYOUT_TYPE_IN_VIDEO_ENHANCED_TEXT_OVERLAY", e, c, l, Y5(b, m, n))) : p.imageOverlayAdContentRenderer ? (p = S5(b.l.get(), "LAYOUT_TYPE_IN_VIDEO_IMAGE_OVERLAY",
                n), m = Y5(b, m, n), m.push(new Pta(b.i, p)), m = X5(b, p, "LAYOUT_TYPE_IN_VIDEO_IMAGE_OVERLAY", e, c, l, m)) : m = new x5("InvideoOverlayAdRenderer without appropriate sub renderer") : m = new x5("InvideoOverlayAdRenderer without contentSupportedRenderer");
            return m
        });
        return a instanceof X ? a : [a]
    };

    function Qta(a, b, c, d, e, f, g) {
        var k = Number(d.durationMilliseconds);
        return isNaN(k) ? new X("Expected valid duration for AdActionInterstitialRenderer.") : function(l) {
            return Rta(b, l.slotId, c, k, {
                impressionCommands: void 0,
                abandonCommands: d.abandonCommands ? [{
                    commandExecutorCommand: d.abandonCommands
                }] : void 0,
                completeCommands: d.completionCommands
            }, d.skipPings ? new Map([
                ["skip", d.skipPings]
            ]) : new Map, g(l), function(m) {
                return Sta(a, m, e, function(n, p) {
                    var q = n.slotId;
                    n = g(n);
                    q = S5(b.l.get(), "LAYOUT_TYPE_ENDCAP", q);
                    return R5(b,
                        q, p, c, n, "LAYOUT_TYPE_ENDCAP", [new g1(d)])
                })
            }, d.adLayoutLoggingData, f)
        }
    };

    function Tta(a, b, c, d) {
        if (!c.playerVars) return new X("No playerVars available in AdIntroRenderer.");
        var e = pt(c.playerVars);
        e.autoplay = "1";
        return function(f) {
            var g = f.slotId;
            f = d(f);
            g = S5(a.l.get(), "LAYOUT_TYPE_MEDIA", g);
            var k = {
                layoutId: g,
                layoutType: "LAYOUT_TYPE_MEDIA",
                Ra: "adapter"
            };
            return {
                dl: {
                    layoutId: g,
                    layoutType: "LAYOUT_TYPE_MEDIA",
                    ac: new Map,
                    Ec: [],
                    Vb: [],
                    Rb: [],
                    Wb: [],
                    Ra: "adapter",
                    xa: new j5([new V3({}), new a1(b), new p1({
                        current: null
                    }), new u1(e)]),
                    Yb: f(k)
                },
                Ol: [new Z5(a.i, g)],
                fk: [],
                Cp: []
            }
        }
    };

    function Uta(a, b, c, d, e, f, g, k) {
        var l = P5(e);
        if (!l4(e)) return new X("Received invalid InstreamSurveyAdRenderer for VOD composite survey.", {
            InstreamSurveyAdRenderer: e
        });
        if (0 >= l) return new X("InstreamSurveyAdRenderer should have valid duration.", {
            instreamSurveyAdRenderer: e
        });
        var m = wta(a, b, e, f, c, d, g);
        return m instanceof X ? m : function(n) {
            return Vta(b, n.slotId, c, l, Q5(e), g(n), m, k)
        }
    };

    function Wta(a, b, c, d, e, f, g) {
        function k(n) {
            return Sta(a, n, d, l)
        }

        function l(n, p) {
            var q = n.slotId;
            n = g(n);
            q = S5(b.l.get(), "LAYOUT_TYPE_VIDEO_INTERSTITIAL_BUTTONED_LEFT", q);
            return R5(b, q, p, c, n, "LAYOUT_TYPE_VIDEO_INTERSTITIAL_BUTTONED_LEFT", [new h1(e), f])
        }
        if (!(!isNaN(Number(e.timeoutSeconds)) && e.text && e.ctaButton && e.ctaButton.buttonRenderer && e.brandImage && e.backgroundImage && e.backgroundImage.thumbnailLandscapePortraitRenderer && e.backgroundImage.thumbnailLandscapePortraitRenderer.landscape)) return new X("Received invalid SurveyTextInterstitialRenderer.", {
            SurveyTextInterstitialRenderer: e
        });
        var m = 1E3 * e.timeoutSeconds;
        return function(n) {
            var p = {
                    impressionCommands: e.impressionCommands,
                    completeCommands: e.timeoutCommands,
                    skipCommands: e.dismissCommands
                },
                q =
                g(n);
            n = $5(b, n.slotId, c, m, p, new Map, q, k);
            p = new m1(n.Tu);
            return {
                dl: {
                    layoutId: n.layoutId,
                    layoutType: n.layoutType,
                    ac: n.ac,
                    Ec: [],
                    Vb: [],
                    Rb: [],
                    Wb: [],
                    Ra: n.Ra,
                    xa: new j5([].concat(ha(n.Dn), [p])),
                    Yb: n.Yb,
                    adLayoutLoggingData: n.adLayoutLoggingData
                },
                Ol: [],
                fk: n.Rb,
                Cp: n.Wb,
                jf: n.jf
            }
        }
    };

    function Xta(a, b, c, d, e, f, g, k, l, m, n) {
        function p(r) {
            var u = new x_(0, [q.vp]),
                x = Yta(q.playerVars, q.SA, k, n, u);
            r = l(r);
            var z = m.get(q.rr.externalVideoId);
            u = Zta(b, "core", q.rr, c, x, q.vp, f, u, r, z);
            return {
                layout: {
                    layoutId: u.layoutId,
                    layoutType: u.layoutType,
                    ac: u.ac,
                    Ec: u.Ec,
                    Vb: u.Vb,
                    Rb: u.Rb,
                    Wb: u.Wb,
                    Ra: u.Ra,
                    xa: u.xa,
                    Yb: u.Yb,
                    adLayoutLoggingData: u.adLayoutLoggingData
                },
                Th: [],
                Kb: []
            }
        }
        var q = a6(e);
        if (q instanceof x5) return new X(q);
        if (p instanceof X) return p;
        a = $ta(a, c, f, g, d, p);
        return a instanceof X ? a : a.Th.concat(a.Yu)
    }

    function a6(a) {
        if (!a.playerVars) return new x5("No playerVars available in InstreamVideoAdRenderer.");
        var b;
        if (null == a.elementId || null == a.playerVars || null == a.playerOverlay || null == (null === (b = a.playerOverlay) || void 0 === b ? void 0 : b.instreamAdPlayerOverlayRenderer) || null == a.pings || null == a.externalVideoId) return new x5("Received invalid VOD InstreamVideoAdRenderer", {
            instreamVideoAdRenderer: a
        });
        b = pt(a.playerVars);
        var c = Number(b.length_seconds);
        return isNaN(c) ? new x5("Expected valid length seconds in player vars") : {
            rr: a,
            playerVars: b,
            SA: a.playerVars,
            vp: c
        }
    }

    function Yta(a, b, c, d, e) {
        a.iv_load_policy = d;
        b = pt(b);
        if (b.cta_conversion_urls) try {
            a.cta_conversion_urls = JSON.parse(b.cta_conversion_urls)
        } catch (f) {
            V(f)
        }
        c.Qe && (a.ctrl = c.Qe);
        c.Qd && (a.ytr = c.Qd);
        c.Eh && (a.ytrcc = c.Eh);
        c.isMdxPlayback && (a.mdx = "1");
        a.vvt && (a.vss_credentials_token = a.vvt, c.Kf && (a.vss_credentials_token_type = c.Kf), c.mdxEnvironment && (a.mdx_environment = c.mdxEnvironment));
        2 <= e.u && (a.slot_pos = e.i);
        a.autoplay = "1";
        return a
    };

    function aua(a, b, c, d, e, f, g, k, l, m, n) {
        b = bua(a, b, c, e, f, k, l, m, n);
        a: {
            e = t(e);
            for (k = e.next(); !k.done; k = e.next())
                if (k.value.instreamSurveyAdRenderer) {
                    e = !0;
                    break a
                } e = !1
        }
        e ? (c = cua(a, c, f, g), c instanceof X ? d = c : (f = b6(a.l.get(), "SLOT_TYPE_IN_PLAYER"), g = S5(a.l.get(), "LAYOUT_TYPE_SURVEY", f), c.Kb.push(new c6(a.i, g)), a = b({
            slotId: c.slotId,
            Za: c.Za,
            slotPhysicalPosition: c.slotPhysicalPosition,
            Ra: c.Ra,
            Gb: c.Gb,
            Lb: c.Lb,
            Kb: c.Kb
        }, {
            slotId: f,
            layoutId: g
        }), d = a instanceof X ? a : {
            Yu: {
                slotId: c.slotId,
                Za: c.Za,
                slotPhysicalPosition: c.slotPhysicalPosition,
                Gb: c.Gb,
                Lb: c.Lb,
                Kb: c.Kb,
                Ra: c.Ra,
                xa: new j5([new Y3(a.layout)]),
                adSlotLoggingData: d
            },
            Th: a.Th
        })) : d = $ta(a, c, f, g, d, b);
        return d instanceof X ? d : d.Th.concat(d.Yu)
    }

    function bua(a, b, c, d, e, f, g, k, l) {
        return function(m, n) {
            a: {
                b: {
                    var p = [];
                    for (var q = t(d), r = q.next(); !r.done; r = q.next())
                        if (r = r.value, r.instreamVideoAdRenderer) {
                            r = a6(r.instreamVideoAdRenderer);
                            if (r instanceof x5) {
                                p = new X(r);
                                break b
                            }
                            p.push(r.vp)
                        }
                }
                if (p instanceof X) n = p;
                else {
                    q = 0;
                    r = [];
                    for (var u = [], x = [], z = [], D = [], H = new q1({
                            current: null
                        }), O = [], M = t(d), J = M.next(); !J.done; J = M.next())
                        if (J = J.value, J.adIntroRenderer) {
                            J = Tta(b, c, J.adIntroRenderer, g);
                            if (J instanceof X) {
                                n = J;
                                break a
                            }
                            J = J(m);
                            r.push(J.dl);
                            u = [].concat(ha(J.Ol),
                                ha(u));
                            x = [].concat(ha(J.fk), ha(x));
                            J.jf && (O = [J.jf].concat(ha(O)))
                        } else if (J.instreamVideoAdRenderer) {
                        var ka = a6(J.instreamVideoAdRenderer);
                        if (ka instanceof x5) {
                            n = new X(ka);
                            break a
                        }
                        var Qa = new x_(q, p);
                        J = b;
                        var za = ka.rr,
                            ve = Yta(ka.playerVars, ka.SA, f, l, Qa),
                            Gf = g(m),
                            Kh = k.get(ka.rr.externalVideoId);
                        ka = Zta(J, "adapter", za, c, ve, ka.vp, e, Qa, Gf, Kh);
                        Qa = ka.Vb;
                        za.isCritical && (Qa = [new Z5(J.i, ka.layoutId)].concat(ha(Qa)));
                        J = {
                            layoutId: ka.layoutId,
                            layoutType: ka.layoutType,
                            ac: ka.ac,
                            Ec: [],
                            Vb: [],
                            Rb: [],
                            Wb: [],
                            Ra: ka.Ra,
                            xa: ka.xa,
                            Yb: ka.Yb,
                            adLayoutLoggingData: ka.adLayoutLoggingData
                        };
                        za = Qa;
                        ka = ka.Rb;
                        q++;
                        r.push(J);
                        u = [].concat(ha(za), ha(u));
                        x = [].concat(ha(ka), ha(x))
                    } else if (J.adActionInterstitialRenderer) {
                        J = Qta(a, b, c, J.adActionInterstitialRenderer, e, q, g);
                        if (J instanceof X) {
                            n = J;
                            break a
                        }
                        J = J(m);
                        r.push(J.dl);
                        u = [].concat(ha(J.Ol), ha(u));
                        x = [].concat(ha(J.fk), ha(x));
                        J.jf && (O = [J.jf].concat(ha(O)))
                    } else if (J.instreamSurveyAdRenderer) {
                        if (void 0 === n) {
                            n = new X("Composite Survey must already have a Survey Bundle with required metadata.", {
                                instreamSurveyAdRenderer: J.instreamSurveyAdRenderer
                            });
                            break a
                        }
                        J = Uta(a, b, c, e, J.instreamSurveyAdRenderer, H, g, n);
                        if (J instanceof X) {
                            n = J;
                            break a
                        }
                        J = J(m);
                        r.push(J.dl);
                        J.jf && O.push(J.jf);
                        u = [].concat(ha(J.Ol), ha(u));
                        x = [].concat(ha(J.fk), ha(x));
                        z = [].concat(ha(J.Cp), ha(z));
                        D = [H].concat(ha(D))
                    } else if (J.surveyTextInterstitialRenderer) {
                        J = Wta(a, b, c, e, J.surveyTextInterstitialRenderer, H, g);
                        if (J instanceof X) {
                            n = J;
                            break a
                        }
                        J = J(m);
                        r.push(J.dl);
                        J.jf && O.push(J.jf);
                        x = [].concat(ha(J.fk), ha(x))
                    } else {
                        n = new X("Unsupported linearAd found in LinearAdSequenceRenderer.");
                        break a
                    }
                    n = {
                        sH: r,
                        Vb: u,
                        Wb: z,
                        Rb: x,
                        Dn: D,
                        Th: O
                    }
                }
            }
            n instanceof X ? m = n : (z = m.slotId, p = n.sH, q = n.Vb, r = n.Rb, u = n.Wb, x = n.Dn, m = g(m), z = S5(b.l.get(), "LAYOUT_TYPE_COMPOSITE_PLAYER_BYTES", z), D = {
                layoutId: z,
                layoutType: "LAYOUT_TYPE_COMPOSITE_PLAYER_BYTES",
                Ra: "core"
            }, m = {
                layout: {
                    layoutId: z,
                    layoutType: "LAYOUT_TYPE_COMPOSITE_PLAYER_BYTES",
                    ac: new Map,
                    Ec: [new W5(b.i, z)],
                    Vb: q,
                    Rb: r,
                    Wb: u,
                    Ra: "core",
                    xa: new j5([new r1(p)].concat(ha(x))),
                    Yb: m(D)
                },
                Th: n.Th
            });
            return m
        }
    };

    function dua(a, b, c, d, e, f, g) {
        if (!l4(c)) return new X("Received invalid InstreamSurveyAdRenderer for VOD single survey.", {
            InstreamSurveyAdRenderer: c
        });
        var k = P5(c);
        if (0 >= k) return new X("InstreamSurveyAdRenderer should have valid duration.", {
            instreamSurveyAdRenderer: c
        });
        var l = new q1({
                current: null
            }),
            m = wta(a, b, c, l, d, f, g);
        return eua(a, d, f, k, e, function(n, p) {
            var q = n.slotId,
                r = Q5(c);
            n = g(n);
            q = S5(b.l.get(), "LAYOUT_TYPE_MEDIA_BREAK", q);
            var u = {
                    layoutId: q,
                    layoutType: "LAYOUT_TYPE_MEDIA_BREAK",
                    Ra: "core"
                },
                x = m(q, p);
            W(x.xa,
                "metadata_type_fulfilled_layout") || V("Could not retrieve overlay layout ID during VodMediaBreakLayout for survey creation. This should never happen.");
            r = [new a1(d), new c4(k), new e4(r), new f4(!0), l];
            return {
                bF: {
                    layoutId: q,
                    layoutType: "LAYOUT_TYPE_MEDIA_BREAK",
                    ac: new Map,
                    Ec: [new W5(b.i, q)],
                    Vb: [new U5(b.i, p.layoutId)],
                    Rb: [],
                    Wb: [new j4(b.i, p.layoutId)],
                    Ra: "core",
                    xa: new j5(r),
                    Yb: n(u)
                },
                QE: x
            }
        })
    };

    function d6(a, b, c, d, e, f) {
        this.l = a;
        this.i = b;
        this.ma = c;
        this.u = d;
        this.B = e;
        this.loadPolicy = void 0 === f ? 1 : f
    }

    function i_(a, b, c, d, e, f) {
        var g, k, l, m, n, p, q, r = [];
        if (0 === b.length) return r;
        b = b.filter(nta);
        for (var u = new Map, x = new Map, z = t(b), D = z.next(); !D.done; D = z.next())(D = D.value.renderer.remoteSlotsRenderer) && D.hostElementId && x.set(D.hostElementId, D);
        z = t(b);
        for (D = z.next(); !D.done; D = z.next()) {
            D = D.value;
            var H = fua(a, u, D, c, d, e, f, x);
            H instanceof X ? V(H, void 0, void 0, {
                renderer: D.renderer,
                config: D.config.adPlacementConfig,
                kind: D.config.adPlacementConfig.kind,
                contentCpn: c,
                daiEnabled: e
            }) : r.push.apply(r, ha(H))
        }
        a = e && 1 ===
            b.length && "AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED" === (null === (k = null === (g = b[0].config) || void 0 === g ? void 0 : g.adPlacementConfig) || void 0 === k ? void 0 : k.kind) && (null === (l = b[0].renderer) || void 0 === l ? void 0 : l.adBreakServiceRenderer);
        r.length || a || V("Expected slots parsed from AdPlacementRenderers", void 0, void 0, {
            "AdPlacementRenderer count": b.length,
            contentCpn: c,
            daiEnabled: e,
            "first APR kind": null === (p = null === (n = null === (m = b[0]) || void 0 === m ? void 0 : m.config) || void 0 === n ? void 0 : n.adPlacementConfig) || void 0 === p ?
                void 0 : p.kind,
            renderer: null === (q = b[0]) || void 0 === q ? void 0 : q.renderer
        });
        return r
    }

    function fua(a, b, c, d, e, f, g, k) {
        function l(r) {
            return n5(a.u.get(), r)
        }
        var m = c.renderer,
            n = c.config.adPlacementConfig,
            p = n.kind,
            q = c.adSlotLoggingData;
        if (null != m.actionCompanionAdRenderer) O5(b, c.elementId, p, m.actionCompanionAdRenderer.adVideoId, n, q, function(r, u, x) {
            var z = a.i.get(),
                D = m.actionCompanionAdRenderer,
                H = n5(a.u.get(), r);
            return e6(z, r.slotId, "LAYOUT_TYPE_COMPANION_WITH_ACTION_BUTTON", new T0(D), u, x, D.impressionPings, H, m.actionCompanionAdRenderer.adLayoutLoggingData)
        });
        else if (m.imageCompanionAdRenderer) O5(b, c.elementId, p, m.imageCompanionAdRenderer.adVideoId, n, q, function(r, u, x) {
            var z = a.i.get(),
                D = m.imageCompanionAdRenderer,
                H = n5(a.u.get(), r);
            return e6(z, r.slotId, "LAYOUT_TYPE_COMPANION_WITH_IMAGE", new X0(D), u, x, D.impressionPings, H, m.imageCompanionAdRenderer.adLayoutLoggingData)
        });
        else if (m.shoppingCompanionCarouselRenderer) O5(b, c.elementId, p, m.shoppingCompanionCarouselRenderer.adVideoId, n, q, function(r, u, x) {
            var z = a.i.get(),
                D = m.shoppingCompanionCarouselRenderer,
                H = n5(a.u.get(), r);
            return e6(z, r.slotId, "LAYOUT_TYPE_COMPANION_WITH_SHOPPING", new Y0(D), u, x, D.impressionPings, H, m.shoppingCompanionCarouselRenderer.adLayoutLoggingData)
        });
        else {
            if (m.adBreakServiceRenderer) {
                if (!sta(c)) return [];
                if (f && "AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED" === n.kind) {
                    if (!a.B) return new X("Received AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED with no CuePointOpportunityAdapter set for interface");
                    gua(a.B, {
                        adPlacementRenderer: c,
                        contentCpn: d,
                        Xx: e
                    });
                    return []
                }
                return pta(a.l.get(), n, q, c.renderer.adBreakServiceRenderer, d, e, f)
            }
            if (m.clientForecastingAdRenderer) return Lta(a.l.get(), a.i.get(), n, q, m.clientForecastingAdRenderer, d, e, l);
            if (m.invideoOverlayAdRenderer) return Nta(a.l.get(),
                a.i.get(), n, q, m.invideoOverlayAdRenderer, d, e, l);
            if (m.linearAdSequenceRenderer) {
                if (f) return Dta(a.l.get(), a.i.get(), c, d, l);
                tta(b, m, p);
                return null != m.linearAdSequenceRenderer.linearAds ? aua(a.l.get(), a.i.get(), n, q, m.linearAdSequenceRenderer.linearAds, d, e, g, l, k, a.loadPolicy) : new X("Received invalid LinearAdSequenceRenderer.")
            }
            if (!m.remoteSlotsRenderer || f) {
                if (m.instreamVideoAdRenderer && !f) return tta(b, m, p), Xta(a.l.get(), a.i.get(), n, q, m.instreamVideoAdRenderer, d, e, g, l, k, a.loadPolicy);
                if (m.instreamSurveyAdRenderer) return dua(a.l.get(),
                    a.i.get(), m.instreamSurveyAdRenderer, n, q, d, l);
                if (null != m.sandwichedLinearAdRenderer) return ota(m.sandwichedLinearAdRenderer) ? aua(a.l.get(), a.i.get(), n, q, [m.sandwichedLinearAdRenderer.adVideoStart, m.sandwichedLinearAdRenderer.linearAd], d, e, g, l, k, a.loadPolicy) : new X("Received invalid SandwichedLinearAdRenderer.")
            }
        }
        return []
    };

    function f6(a) {
        C.call(this);
        this.i = a
    }
    v(f6, C);

    function f_(a, b, c, d) {
        a.i().Sh(b, d);
        c = c();
        a = a.i();
        r5(a.Bb, "ADS_CLIENT_EVENT_TYPE_OPPORTUNITY_PROCESSED", b, d, c);
        b = t(c);
        for (c = b.next(); !c.done; c = b.next()) a: {
            d = a;c = c.value;v4(d.Bb, "ADS_CLIENT_EVENT_TYPE_SCHEDULE_SLOT_REQUESTED", c);
            try {
                var e = d.i;
                if (Ec(c.slotId)) throw new X("Slot ID was empty");
                if (t5(e, c)) throw new X("Duplicate registration for slot.", {
                    slotId: c.slotId,
                    slotEntryTriggerType: c.Gb.triggerType
                });
                if (!e.yc.Gg.has(c.Za)) throw new X("No fulfillment adapter factory registered for slot of type: " + c.Za);
                if (!e.yc.jh.has(c.Za)) throw new X("No SlotAdapterFactory registered for slot of type: " + c.Za);
                K5(e, "TRIGGER_CATEGORY_SLOT_ENTRY", c.Gb ? [c.Gb] : []);
                K5(e, "TRIGGER_CATEGORY_SLOT_FULFILLMENT", c.Lb);
                K5(e, "TRIGGER_CATEGORY_SLOT_EXPIRATION", c.Kb);
                var f = d.i,
                    g = c.Za + "_" + c.slotPhysicalPosition,
                    k = G5(f, g);
                if (t5(f, c)) throw new X("Duplicate slots not supported");
                k.set(c.slotId, new kta(c));
                f.i.set(g, k)
            } catch (za) {
                V(za, c, void 0, void 0, za.Wj);
                break a
            }
            t5(d.i, c).D = !0;
            try {
                var l = d.i,
                    m = t5(l, c),
                    n = c.Gb,
                    p = l.yc.mf.get(n.triggerType);
                p && (p.Xf("TRIGGER_CATEGORY_SLOT_ENTRY", n, c, null), m.T.set(n.triggerId, p));
                for (var q = t(c.Lb), r = q.next(); !r.done; r = q.next()) {
                    var u = r.value,
                        x = l.yc.mf.get(u.triggerType);
                    x && (x.Xf("TRIGGER_CATEGORY_SLOT_FULFILLMENT", u, c, null), m.K.set(u.triggerId, x))
                }
                for (var z = t(c.Kb), D = z.next(); !D.done; D = z.next()) {
                    var H = D.value,
                        O = l.yc.mf.get(H.triggerType);
                    O && (O.Xf("TRIGGER_CATEGORY_SLOT_EXPIRATION", H, c, null), m.J.set(H.triggerId, O))
                }
                var M = l.yc.Gg.get(c.Za).get().ge(l.u, c);
                m.G = M;
                var J = l.yc.jh.get(c.Za).get().ge(l.C, c);
                J.init();
                m.l = J
            } catch (za) {
                V(za, c, void 0, void 0, za.Wj);
                u5(d, c, !0);
                break a
            }
            v4(d.Bb, "ADS_CLIENT_EVENT_TYPE_SLOT_SCHEDULED", c);d.i.Yg(c);
            for (var ka = t(d.Uc), Qa = ka.next(); !Qa.done; Qa = ka.next()) Qa.value.Yg(c);A5(d, c, !1)
        }
    };

    function g6(a, b, c, d) {
        this.sj = b;
        this.i = c;
        this.visible = d;
        this.triggerType = "TRIGGER_TYPE_MEDIA_TIME_RANGE";
        this.triggerId = a(this.triggerType)
    };

    function h6(a, b, c, d) {
        C.call(this);
        var e = this;
        this.u = a;
        this.B = b;
        this.l = c;
        this.i = new Map;
        d.get().addListener(this);
        Qf(this, function() {
            d.get().removeListener(e)
        })
    }
    v(h6, C);

    function mqa(a, b) {
        var c = 0x8000000000000;
        for (var d = 0, e = t(b.Lb), f = e.next(); !f.done; f = e.next()) f = f.value, f instanceof g6 ? (c = Math.min(c, f.i.start), d = Math.max(d, f.i.end)) : V("Found unexpected fulfillment trigger for throttled slot.", b, null, {
            fulfillmentTrigger: f
        });
        c = new Br(c, d);
        d = "throttledadcuerange:" + b.slotId;
        a.i.set(d, b);
        a.l.get().addCueRange(d, c.start, c.end, !1, a)
    }
    h6.prototype.Hd = function() {};
    h6.prototype.Uf = function(a) {
        var b = this,
            c = this.i.get(a);
        c && (this.i.delete(a), this.l.get().removeCueRange(a), f_(this.u.get(), "OPPORTUNITY_TYPE_THROTTLED_AD_BREAK_REQUEST_SLOT_REENTRY", function() {
            var d = b.B.get();
            d = b6(d.l.get(), "SLOT_TYPE_AD_BREAK_REQUEST");
            return [Object.assign(Object.assign({}, c), {
                slotId: d,
                Gb: c.Gb ? hua(c.slotId, d, c.Gb) : void 0,
                Lb: iua(c.slotId, d, c.Lb),
                Kb: iua(c.slotId, d, c.Kb)
            })]
        }, c.slotId))
    };
    h6.prototype.Df = function() {
        for (var a = t(this.i.keys()), b = a.next(); !b.done; b = a.next()) b = b.value, this.l.get().removeCueRange(b);
        this.i.clear()
    };
    h6.prototype.Vg = function() {};

    function i6() {
        C.apply(this, arguments);
        this.Zi = !0;
        this.rj = new Map;
        this.i = new Map
    }
    v(i6, C);

    function jua(a, b) {
        a = t(a.i.values());
        for (var c = a.next(); !c.done; c = a.next()) {
            c = t(c.value);
            for (var d = c.next(); !d.done; d = c.next())
                if (d = d.value, d.layoutId === b) return d
        }
        V("Trying to retrieve an unknown layout", void 0, void 0, {
            isEmpty: String(Ec(b)),
            layoutId: b
        })
    }
    h = i6.prototype;
    h.Yg = function() {};
    h.hj = function() {};
    h.gf = function() {};
    h.Tk = function() {};
    h.hf = function() {};
    h.Uk = function() {};
    h.Vk = function() {};
    h.ej = function(a, b) {
        this.i.has(a) || this.i.set(a, new Set);
        this.i.get(a).add(b)
    };
    h.Qk = function(a, b) {
        this.rj.has(a) && this.rj.get(a) === b && V("Unscheduled a Layout that is currently entered.", a, b);
        if (this.i.has(a)) {
            var c = this.i.get(a);
            c.has(b) ? (c.delete(b), 0 === c.size && this.i.delete(a)) : V("Trying to unscheduled a Layout that was not scheduled.", a, b)
        } else V("Trying to unscheduled a Layout that was not scheduled.", a, b)
    };
    h.tc = function(a, b) {
        this.rj.set(a, b)
    };
    h.Pb = function(a) {
        this.rj.delete(a)
    };
    h.Sh = function() {};

    function j6() {
        this.l = new Map;
        this.i = new Map;
        this.u = new Map
    }

    function b6(a, b) {
        if (G("GENERATE_DETERMINSTIC_ADS_CONTROL_FLOW_IDS")) {
            var c = a.l.get(b) || 0;
            c++;
            a.l.set(b, c);
            return b + "_" + c
        }
        return Mx()
    }

    function S5(a, b, c) {
        if (G("GENERATE_DETERMINSTIC_ADS_CONTROL_FLOW_IDS")) {
            var d = a.i.get(b) || 0;
            d++;
            a.i.set(b, d);
            return c + "_" + b + "_" + d
        }
        return Mx()
    }

    function k6(a, b) {
        if (G("GENERATE_DETERMINSTIC_ADS_CONTROL_FLOW_IDS")) {
            var c = a.u.get(b) || 0;
            c++;
            a.u.set(b, c);
            return b + "_" + c
        }
        return Mx()
    };

    function c6(a, b) {
        this.i = b;
        this.triggerType = "TRIGGER_TYPE_CLOSE_REQUESTED";
        this.triggerId = a(this.triggerType)
    };

    function Z5(a, b) {
        this.Td = b;
        this.triggerType = "TRIGGER_TYPE_LAYOUT_EXITED_FOR_REASON";
        this.triggerId = a(this.triggerType)
    };

    function T5(a, b) {
        this.Td = b;
        this.triggerType = "TRIGGER_TYPE_LAYOUT_ID_EXITED";
        this.triggerId = a(this.triggerType)
    };

    function kua(a) {
        this.triggerType = "TRIGGER_TYPE_LIVE_STREAM_BREAK_ENDED";
        this.triggerId = a(this.triggerType)
    };

    function l6(a, b) {
        this.i = b;
        this.Za = "SLOT_TYPE_PLAYER_BYTES";
        this.layoutType = "LAYOUT_TYPE_MEDIA";
        this.triggerType = "TRIGGER_TYPE_ON_DIFFERENT_LAYOUT_ID_ENTERED";
        this.triggerId = a(this.triggerType)
    };

    function m6(a, b) {
        this.i = b;
        this.Za = "SLOT_TYPE_IN_PLAYER";
        this.triggerType = "TRIGGER_TYPE_ON_DIFFERENT_SLOT_ID_ENTER_REQUESTED";
        this.triggerId = a(this.triggerType)
    };

    function W5(a, b) {
        this.layoutId = b;
        this.triggerType = "TRIGGER_TYPE_ON_LAYOUT_SELF_EXIT_REQUESTED";
        this.triggerId = a(this.triggerType)
    };

    function lua(a, b) {
        this.opportunityType = "OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED";
        this.associatedSlotId = b;
        this.triggerType = "TRIGGER_TYPE_ON_OPPORTUNITY_TYPE_RECEIVED";
        this.triggerId = a(this.triggerType)
    };

    function V5(a) {
        this.triggerType = "TRIGGER_TYPE_PLAYBACK_MINIMIZED";
        this.triggerId = a(this.triggerType)
    };

    function U5(a, b) {
        this.Td = b;
        this.triggerType = "TRIGGER_TYPE_SKIP_REQUESTED";
        this.triggerId = a(this.triggerType)
    };

    function j4(a, b) {
        this.Td = b;
        this.triggerType = "TRIGGER_TYPE_SURVEY_SUBMITTED";
        this.triggerId = a(this.triggerType)
    };

    function Pta(a, b) {
        this.durationMs = 45E3;
        this.Td = b;
        this.triggerType = "TRIGGER_TYPE_TIME_RELATIVE_TO_LAYOUT_ENTER";
        this.triggerId = a(this.triggerType)
    };

    function mua(a, b, c, d, e, f) {
        a = c.nz ? c.nz : S5(f, "LAYOUT_TYPE_MEDIA_LAYOUT_PLAYER_OVERLAY", a);
        var g = {
            layoutId: a,
            layoutType: "LAYOUT_TYPE_MEDIA_LAYOUT_PLAYER_OVERLAY",
            Ra: b
        };
        return {
            layoutId: a,
            layoutType: "LAYOUT_TYPE_MEDIA_LAYOUT_PLAYER_OVERLAY",
            ac: new Map,
            Ec: [new T5(function(k) {
                return k6(f, k)
            }, c.cw)],
            Vb: [],
            Rb: [],
            Wb: [],
            Ra: b,
            xa: d,
            Yb: e(g),
            adLayoutLoggingData: c.instreamAdPlayerOverlayRenderer.adLayoutLoggingData
        }
    }

    function n6(a) {
        var b = this;
        this.l = a;
        this.i = function(c) {
            return k6(b.l.get(), c)
        }
    }

    function o6(a, b, c, d, e) {
        var f = [new l1(d.cw), new f1(d.instreamAdPlayerOverlayRenderer), new o1(d.WG), new a1(d.adPlacementConfig), new t1(d.videoLengthSeconds), new b4(d.cF)];
        d.adNextParams && f.push(new U0(d.adNextParams));
        d.clickthroughEndpoint && f.push(new V0(d.clickthroughEndpoint));
        d.Bx && f.push(new b1(d.Bx));
        d.adVideoId && f.push(new c1(d.adVideoId));
        f.push(new Z0(d.JD));
        f.push(new $0(d.MD));
        d.remoteSlotsData && f.push(new a4(d.remoteSlotsData));
        d.daiEnabled && f.push(new P3({}));
        return mua(b, c, d, new j5(f),
            e, a.l.get())
    }

    function e6(a, b, c, d, e, f, g, k, l) {
        b = S5(a.l.get(), c, b);
        var m = {
                layoutId: b,
                layoutType: c,
                Ra: "core"
            },
            n = new Map;
        g && n.set("impression", g);
        return {
            layoutId: b,
            layoutType: c,
            ac: n,
            Ec: [new W5(a.i, b), new l6(a.i, e)],
            Vb: [],
            Rb: [],
            Wb: [],
            Ra: "core",
            xa: new j5([d, new a1(f), new l1(e)]),
            Yb: k(m),
            adLayoutLoggingData: l
        }
    }

    function Y5(a, b, c) {
        var d = [];
        d.push(new m6(a.i, c));
        b && d.push(b);
        return d
    }

    function X5(a, b, c, d, e, f, g) {
        var k = {
            layoutId: b,
            layoutType: c,
            Ra: "core"
        };
        return {
            layoutId: b,
            layoutType: c,
            ac: new Map,
            Ec: g,
            Vb: [new c6(a.i, b)],
            Rb: [],
            Wb: [],
            Ra: "core",
            xa: new j5([new W0(d), new a1(e)]),
            Yb: f(k),
            adLayoutLoggingData: d.adLayoutLoggingData
        }
    }

    function R5(a, b, c, d, e, f, g) {
        var k = {
            layoutId: b,
            layoutType: f,
            Ra: "core"
        };
        return {
            layoutId: b,
            layoutType: f,
            ac: new Map,
            Ec: [new T5(a.i, c)],
            Vb: [],
            Rb: [],
            Wb: [],
            Ra: "core",
            xa: new j5([new a1(d)].concat(ha(g))),
            Yb: e(k)
        }
    }

    function Rta(a, b, c, d, e, f, g, k, l, m) {
        a = $5(a, b, c, d, e, f, g, k, l, m);
        return {
            dl: {
                layoutId: a.layoutId,
                layoutType: a.layoutType,
                ac: a.ac,
                Ec: [],
                Vb: [],
                Rb: [],
                Wb: [],
                Ra: a.Ra,
                xa: new j5(a.Dn),
                Yb: a.Yb,
                adLayoutLoggingData: a.adLayoutLoggingData
            },
            Ol: a.Vb,
            fk: a.Rb,
            Cp: a.Wb,
            jf: a.jf
        }
    }

    function Vta(a, b, c, d, e, f, g, k) {
        b = $5(a, b, c, d, e, new Map, f, function(l) {
            return g(l, k)
        }, void 0);
        a = new j4(a.i, b.Tu);
        c = new m1(b.Tu);
        return {
            dl: {
                layoutId: b.layoutId,
                layoutType: b.layoutType,
                ac: b.ac,
                Ec: [],
                Vb: [],
                Rb: [],
                Wb: [],
                Ra: b.Ra,
                xa: new j5([].concat(ha(b.Dn), [c])),
                Yb: b.Yb,
                adLayoutLoggingData: b.adLayoutLoggingData
            },
            Ol: b.Vb,
            fk: b.Rb,
            Cp: [].concat(ha(b.Wb), [a]),
            jf: b.jf
        }
    }

    function $5(a, b, c, d, e, f, g, k, l, m) {
        b = S5(a.l.get(), "LAYOUT_TYPE_MEDIA_BREAK", b);
        var n = {
            layoutId: b,
            layoutType: "LAYOUT_TYPE_MEDIA_BREAK",
            Ra: "adapter"
        };
        k = k(b);
        var p = W(k.xa, "metadata_type_fulfilled_layout");
        p || V("Could not retrieve overlay layout ID during VodSkippableMediaBreakLayout creation. This should never happen.");
        p = p ? p.layoutId : "";
        c = [new a1(c), new c4(d), new e4(e)];
        m && c.push(new O3(m));
        return {
            layoutId: b,
            layoutType: "LAYOUT_TYPE_MEDIA_BREAK",
            ac: f,
            Ec: [],
            Vb: [new U5(a.i, p)],
            Rb: [],
            Wb: [],
            Ra: "adapter",
            Dn: c,
            Yb: g(n),
            adLayoutLoggingData: l,
            jf: k,
            Tu: p
        }
    }

    function Zta(a, b, c, d, e, f, g, k, l, m) {
        var n = c.elementId,
            p = {
                layoutId: n,
                layoutType: "LAYOUT_TYPE_MEDIA",
                Ra: b
            };
        d = [new a1(d), new b1(k), new c1(c.externalVideoId), new e1(g), new f1(c.playerOverlay.instreamAdPlayerOverlayRenderer), new e4({
            impressionCommands: c.impressionCommands,
            abandonCommands: c.onAbandonCommands,
            completeCommands: c.completeCommands
        }), new u1(e), new p1({
            current: null
        }), new t1(f)];
        e = b6(a.l.get(), "SLOT_TYPE_IN_PLAYER");
        f = (f = c.playerOverlay.instreamAdPlayerOverlayRenderer.elementId) ? f : S5(a.l.get(),
            "LAYOUT_TYPE_MEDIA_LAYOUT_PLAYER_OVERLAY", e);
        d.push(new m1(f));
        d.push(new n1(e));
        d.push(new O3(k.i));
        c.adNextParams && d.push(new U0(c.adNextParams));
        c.clickthroughEndpoint && d.push(new V0(c.clickthroughEndpoint));
        c.legacyInfoCardVastExtension && d.push(new d4(c.legacyInfoCardVastExtension));
        c.sodarExtensionData && d.push(new v1(c.sodarExtensionData));
        m && d.push(new a4(m));
        return {
            layoutId: n,
            layoutType: "LAYOUT_TYPE_MEDIA",
            ac: y_(c.pings),
            Ec: [new W5(a.i, n)],
            Vb: c.skipOffsetMilliseconds ? [new U5(a.i, f)] : [],
            Rb: [new U5(a.i,
                f)],
            Wb: [],
            Ra: b,
            xa: new j5(d),
            Yb: l(p),
            adLayoutLoggingData: c.adLayoutLoggingData
        }
    }

    function Hta(a, b, c, d, e, f, g, k, l) {
        d.every(function(n) {
            return i5(n, [], ["LAYOUT_TYPE_MEDIA"])
        }) || V("Unexpect subLayout type for DAI composite layout");
        b = S5(a.l.get(), "LAYOUT_TYPE_COMPOSITE_PLAYER_BYTES", b);
        var m = {
            layoutId: b,
            layoutType: "LAYOUT_TYPE_COMPOSITE_PLAYER_BYTES",
            Ra: "core"
        };
        return {
            layoutId: b,
            layoutType: "LAYOUT_TYPE_COMPOSITE_PLAYER_BYTES",
            ac: f,
            Ec: [new kua(a.i)],
            Vb: [],
            Rb: [],
            Wb: [],
            Ra: "core",
            xa: new j5([new w1(c), new N3(l), new r1(d), new a1(e), new X3(g)]),
            Yb: k(m)
        }
    }

    function Kta(a) {
        return null != a
    };

    function p6(a, b, c) {
        this.sj = b;
        this.visible = c;
        this.triggerType = "TRIGGER_TYPE_CONTENT_VIDEO_ID_ENDED";
        this.triggerId = a(this.triggerType)
    };

    function q6(a, b, c) {
        this.Td = b;
        this.slotId = c;
        this.triggerType = "TRIGGER_TYPE_LAYOUT_ID_ACTIVE_AND_SLOT_ID_HAS_EXITED";
        this.triggerId = a(this.triggerType)
    };

    function r6(a, b) {
        this.Td = b;
        this.triggerType = "TRIGGER_TYPE_LAYOUT_ID_ENTERED";
        this.triggerId = a(this.triggerType)
    };

    function nua(a) {
        this.triggerType = "TRIGGER_TYPE_LIVE_STREAM_BREAK_STARTED";
        this.triggerId = a(this.triggerType)
    };

    function s6(a, b, c) {
        this.sj = b;
        this.i = c;
        this.triggerType = "TRIGGER_TYPE_NOT_IN_MEDIA_TIME_RANGE";
        this.triggerId = a(this.triggerType)
    };

    function t6(a, b) {
        this.i = b;
        this.triggerType = "TRIGGER_TYPE_ON_NEW_PLAYBACK_AFTER_CONTENT_VIDEO_ID";
        this.triggerId = a(this.triggerType)
    };

    function u6(a, b) {
        this.Se = b;
        this.triggerType = "TRIGGER_TYPE_SLOT_ID_ENTERED";
        this.triggerId = a(this.triggerType)
    }
    u6.prototype.clone = function(a) {
        var b = this;
        return new u6(function() {
            return b.triggerId
        }, a)
    };

    function v6(a, b) {
        this.Se = b;
        this.triggerType = "TRIGGER_TYPE_SLOT_ID_EXITED";
        this.triggerId = a(this.triggerType)
    }
    v6.prototype.clone = function(a) {
        var b = this;
        return new v6(function() {
            return b.triggerId
        }, a)
    };

    function w6(a, b) {
        this.Se = b;
        this.triggerType = "TRIGGER_TYPE_SLOT_ID_FULFILLED_EMPTY";
        this.triggerId = a(this.triggerType)
    }
    w6.prototype.clone = function(a) {
        var b = this;
        return new w6(function() {
            return b.triggerId
        }, a)
    };

    function x6(a, b) {
        this.Se = b;
        this.triggerType = "TRIGGER_TYPE_SLOT_ID_FULFILLED_NON_EMPTY";
        this.triggerId = a(this.triggerType)
    }
    x6.prototype.clone = function(a) {
        var b = this;
        return new x6(function() {
            return b.triggerId
        }, a)
    };

    function y6(a, b) {
        this.Se = b;
        this.triggerType = "TRIGGER_TYPE_SLOT_ID_SCHEDULED";
        this.triggerId = a(this.triggerType)
    }
    y6.prototype.clone = function(a) {
        var b = this;
        return new y6(function() {
            return b.triggerId
        }, a)
    };

    function qta(a, b, c, d) {
        var e = a.kind;
        d = d ? !1 : !a.hideCueRangeMarker;
        switch (e) {
            case "AD_PLACEMENT_KIND_START":
                return d = {
                    bh: new Br(-0x8000000000000, -0x8000000000000),
                    Pq: d
                }, null != c && (d.Rl = new Br(-0x8000000000000, -0x8000000000000)), d;
            case "AD_PLACEMENT_KIND_END":
                return d = {
                    bh: new Br(0x7ffffffffffff, 0x8000000000000),
                    Pq: d
                }, null != c && (d.Rl = new Br(Math.max(0, b - c), 0x8000000000000)), d;
            case "AD_PLACEMENT_KIND_MILLISECONDS":
                e = a.adTimeOffset;
                e.offsetStartMilliseconds || V("AD_PLACEMENT_KIND_MILLISECONDS missing start milliseconds.");
                e.offsetEndMilliseconds || V("AD_PLACEMENT_KIND_MILLISECONDS missing end milliseconds.");
                a = Number(e.offsetStartMilliseconds);
                e = Number(e.offsetEndMilliseconds); - 1 === e && (e = b);
                if (Number.isNaN(a) || Number.isNaN(e) || a > e) return new X("AD_PLACEMENT_KIND_MILLISECONDS endMs needs to be >= startMs.", {
                    offsetStartMs: a,
                    offsetEndMs: e
                }, e === b && a - 500 <= e);
                d = {
                    bh: new Br(a, e),
                    Pq: d
                };
                if (null != c) {
                    a = Math.max(0, a - c);
                    if (a === e) return d;
                    d.Rl = new Br(a, e)
                }
                return d;
            default:
                return new X("AdPlacementKind not supported in convertToRange.", {
                    kind: e,
                    adPlacementConfig: a
                })
        }
    };

    function z6(a) {
        var b = this;
        this.l = a;
        this.i = function(c) {
            return k6(b.l.get(), c)
        }
    }

    function rta(a, b, c, d, e, f) {
        f = void 0 === f ? [] : f;
        var g = b6(a.l.get(), "SLOT_TYPE_AD_BREAK_REQUEST"),
            k = [];
        d.Rl && d.Rl.start !== d.bh.start && k.push(new g6(a.i, c, new Br(d.Rl.start, d.bh.start), !1));
        k.push(new g6(a.i, c, new Br(d.bh.start, d.bh.end), d.Pq));
        d = {
            getAdBreakUrl: b.getAdBreakUrl,
            RA: d.bh.start,
            QA: d.bh.end
        };
        b = new x6(a.i, g);
        f = [new Z3(d)].concat(ha(f));
        return {
            slotId: g,
            Za: "SLOT_TYPE_AD_BREAK_REQUEST",
            slotPhysicalPosition: 1,
            Gb: b,
            Lb: k,
            Kb: [new t6(a.i, c), new v6(a.i, g), new w6(a.i, g)],
            Ra: "core",
            xa: new j5(f),
            adSlotLoggingData: e
        }
    }

    function iua(a, b, c) {
        var d = [];
        c = t(c);
        for (var e = c.next(); !e.done; e = c.next()) d.push(hua(a, b, e.value));
        return d
    }

    function hua(a, b, c) {
        return null != c.Se && c.Se === a ? c.clone(b) : c
    }

    function xta(a, b, c, d, e) {
        return oua(a, b, c, d, e)
    }

    function Sta(a, b, c, d) {
        var e = b6(a.l.get(), "SLOT_TYPE_IN_PLAYER");
        return oua(a, e, b, c, d)
    }

    function oua(a, b, c, d, e) {
        var f = new r6(a.i, c),
            g = [new u6(a.i, b)];
        a = [new v6(a.i, b), new t6(a.i, d)];
        return {
            slotId: b,
            Za: "SLOT_TYPE_IN_PLAYER",
            slotPhysicalPosition: 1,
            Gb: f,
            Lb: g,
            Kb: a,
            Ra: "core",
            xa: new j5([new Y3(e({
                slotId: b,
                Za: "SLOT_TYPE_IN_PLAYER",
                slotPhysicalPosition: 1,
                Ra: "core",
                Gb: f,
                Lb: g,
                Kb: a
            }, c))]),
            adSlotLoggingData: void 0
        }
    }

    function eua(a, b, c, d, e, f) {
        var g = b6(a.l.get(), "SLOT_TYPE_PLAYER_BYTES"),
            k = b6(a.l.get(), "SLOT_TYPE_IN_PLAYER"),
            l = S5(a.l.get(), "LAYOUT_TYPE_SURVEY", k);
        b = A6(a, b, c, d);
        d = [new u6(a.i, g)];
        a = [new v6(a.i, g), new t6(a.i, c), new c6(a.i, l)];
        if (b instanceof X) return b;
        f = f({
            slotId: g,
            Za: "SLOT_TYPE_PLAYER_BYTES",
            slotPhysicalPosition: 1,
            Ra: "core",
            Gb: b,
            Lb: d,
            Kb: a
        }, {
            slotId: k,
            layoutId: l
        });
        k = f.QE;
        return [{
                slotId: g,
                Za: "SLOT_TYPE_PLAYER_BYTES",
                slotPhysicalPosition: 1,
                Gb: b,
                Lb: d,
                Kb: a,
                Ra: "core",
                xa: new j5([new Y3(f.bF)]),
                adSlotLoggingData: e
            },
            k
        ]
    }

    function pua(a, b, c, d, e) {
        e = e ? e : b6(a.l.get(), "SLOT_TYPE_IN_PLAYER");
        c = new r6(a.i, c);
        var f = [new u6(a.i, e)];
        a = [new t6(a.i, b), new v6(a.i, e)];
        return {
            slotId: e,
            Za: "SLOT_TYPE_IN_PLAYER",
            slotPhysicalPosition: 1,
            Gb: c,
            Lb: f,
            Kb: a,
            Ra: "core",
            xa: new j5([new Y3(d({
                slotId: e,
                Za: "SLOT_TYPE_IN_PLAYER",
                slotPhysicalPosition: 1,
                Ra: "core",
                Gb: c,
                Lb: f,
                Kb: a
            }))])
        }
    }

    function Ota(a, b, c, d, e, f) {
        b = A6(a, b, c, d);
        if (b instanceof X) return b;
        var g = b instanceof g6 ? new s6(a.i, c, b.i) : null;
        d = b6(a.l.get(), "SLOT_TYPE_IN_PLAYER");
        var k = [new u6(a.i, d)];
        a = [new t6(a.i, c), new v6(a.i, d)];
        f = f({
            slotId: d,
            Za: "SLOT_TYPE_IN_PLAYER",
            slotPhysicalPosition: 1,
            Ra: "core",
            Gb: b,
            Lb: k,
            Kb: a
        }, g);
        return f instanceof x5 ? new X(f) : {
            slotId: d,
            Za: "SLOT_TYPE_IN_PLAYER",
            slotPhysicalPosition: 1,
            Gb: b,
            Lb: k,
            Kb: a,
            Ra: "core",
            xa: new j5([new Y3(f)]),
            adSlotLoggingData: e
        }
    }

    function Cta(a, b, c, d) {
        var e = b6(a.l.get(), "SLOT_TYPE_IN_PLAYER");
        c = new r6(a.i, c);
        var f = [new u6(a.i, e)],
            g = [new v6(a.i, e), new t6(a.i, b)];
        f = {
            slotId: e,
            Za: "SLOT_TYPE_IN_PLAYER",
            slotPhysicalPosition: 1,
            Ra: "core",
            Gb: c,
            Lb: f,
            Kb: g
        };
        return {
            slotId: e,
            Za: "SLOT_TYPE_IN_PLAYER",
            slotPhysicalPosition: 1,
            Gb: c,
            Lb: [new u6(a.i, e)],
            Kb: [new t6(a.i, b), new v6(a.i, e)],
            Ra: "core",
            xa: new j5([new Y3(d(f))])
        }
    }

    function Ata(a, b, c, d, e) {
        var f = b6(a.l.get(), "SLOT_TYPE_IN_PLAYER");
        c = new q6(a.i, d, c);
        d = [new u6(a.i, f)];
        a = [new t6(a.i, b)];
        return {
            slotId: f,
            Za: "SLOT_TYPE_IN_PLAYER",
            slotPhysicalPosition: 1,
            Gb: c,
            Lb: d,
            Kb: a,
            Ra: "core",
            xa: new j5([new Y3(e({
                slotId: f,
                Za: "SLOT_TYPE_IN_PLAYER",
                slotPhysicalPosition: 1,
                Ra: "core",
                Gb: c,
                Lb: d,
                Kb: a
            }))])
        }
    }

    function Eta(a, b, c) {
        var d = b6(a.l.get(), "SLOT_TYPE_PLAYER_BYTES"),
            e = new nua(a.i),
            f = [new y6(a.i, d)];
        a = [new t6(a.i, b)];
        return {
            slotId: d,
            Za: "SLOT_TYPE_PLAYER_BYTES",
            slotPhysicalPosition: 1,
            Gb: e,
            Lb: f,
            Kb: a,
            Ra: "core",
            xa: new j5([new Y3(c({
                slotId: d,
                Za: "SLOT_TYPE_PLAYER_BYTES",
                slotPhysicalPosition: 1,
                Ra: "core",
                Gb: e,
                Lb: f,
                Kb: a
            })), new P3({})])
        }
    }

    function $ta(a, b, c, d, e, f) {
        a = cua(a, b, c, d);
        if (a instanceof X) return a;
        f = f({
            slotId: a.slotId,
            Za: a.Za,
            slotPhysicalPosition: a.slotPhysicalPosition,
            Gb: a.Gb,
            Lb: a.Lb,
            Kb: a.Kb,
            Ra: a.Ra
        });
        return f instanceof X ? f : {
            Yu: {
                slotId: a.slotId,
                Za: a.Za,
                slotPhysicalPosition: a.slotPhysicalPosition,
                Gb: a.Gb,
                Lb: a.Lb,
                Kb: a.Kb,
                Ra: a.Ra,
                xa: new j5([new Y3(f.layout)]),
                adSlotLoggingData: e
            },
            Th: f.Th
        }
    }

    function cua(a, b, c, d) {
        var e = b6(a.l.get(), "SLOT_TYPE_PLAYER_BYTES");
        b = A6(a, b, c, d);
        if (b instanceof X) return b;
        d = [new u6(a.i, e)];
        a = [new v6(a.i, e), new t6(a.i, c)];
        return {
            slotId: e,
            Za: "SLOT_TYPE_PLAYER_BYTES",
            slotPhysicalPosition: 1,
            Gb: b,
            Lb: d,
            Kb: a,
            Ra: "core"
        }
    }

    function Mta(a, b, c, d, e, f) {
        var g = b6(a.l.get(), "SLOT_TYPE_FORECASTING");
        b = A6(a, b, c, d);
        if (b instanceof X) return b;
        d = [new u6(a.i, g)];
        a = [new v6(a.i, g), new t6(a.i, c)];
        return {
            slotId: g,
            Za: "SLOT_TYPE_FORECASTING",
            slotPhysicalPosition: 1,
            Gb: b,
            Lb: d,
            Kb: a,
            Ra: "core",
            xa: new j5([new Y3(f({
                slotId: g,
                Za: "SLOT_TYPE_FORECASTING",
                slotPhysicalPosition: 1,
                Ra: "core",
                Gb: b,
                Lb: d,
                Kb: a
            }))]),
            adSlotLoggingData: e
        }
    }

    function qua(a, b, c, d, e) {
        var f = !b.hideCueRangeMarker;
        switch (b.kind) {
            case "AD_PLACEMENT_KIND_START":
                return new k_(a.i, c);
            case "AD_PLACEMENT_KIND_MILLISECONDS":
                return a = qta(b, d), a instanceof X ? a : e(a.bh, f);
            case "AD_PLACEMENT_KIND_END":
                return new p6(a.i, c, f);
            default:
                return new X("Cannot construct entry trigger", {
                    kind: b.kind
                })
        }
    }

    function A6(a, b, c, d) {
        return qua(a, b, c, d, function(e, f) {
            return new g6(a.i, c, e, f)
        })
    };

    function B6(a, b, c) {
        C.call(this);
        this.ma = a;
        this.l = b;
        this.i = c;
        this.eventCount = 0
    }
    v(B6, C);
    B6.prototype.logEvent = function(a) {
        r5(this, a)
    };

    function v4(a, b, c) {
        r5(a, b, void 0, void 0, void 0, c, void 0, void 0, c.adSlotLoggingData, void 0)
    }

    function w5(a, b, c, d) {
        r5(a, b, void 0, void 0, void 0, c, d ? d : void 0, void 0, void 0, d ? d.adLayoutLoggingData : void 0)
    }

    function dta(a, b, c, d) {
        R(a.ma.get().S.Y().experiments, "html5_control_flow_include_trigger_logging_in_tmp_logs") && r5(a, "ADS_CLIENT_EVENT_TYPE_TRIGGER_ACTIVATED", void 0, void 0, void 0, b, d ? d : void 0, c, void 0, d ? d.adLayoutLoggingData : void 0)
    }

    function r5(a, b, c, d, e, f, g, k, l, m) {
        if (R(a.ma.get().S.Y().experiments, "html5_enable_ads_client_monitoring_log") && !R(a.ma.get().S.Y().experiments, "html5_disable_client_tmp_logs") && "ADS_CLIENT_EVENT_TYPE_UNSPECIFIED" !== b) {
            var n = o5(a.l.get());
            b = {
                eventType: b,
                eventOrder: ++a.eventCount
            };
            var p, q = {
                organicPlaybackContext: {
                    contentCpn: h_(a.i.get(), 1).clientPlaybackNonce
                }
            };
            q.organicPlaybackContext.isLivePlayback = h_(a.i.get(), 1).Rf;
            var r = null === (p = h_(a.i.get(), 2)) || void 0 === p ? void 0 : p.clientPlaybackNonce;
            r && (q.adVideoPlaybackContext = {
                adVideoCpn: r
            });
            a = U(a.ma.get().S.Y().experiments, "html5_experiment_id_label");
            0 < a && (q.html5ExperimentContext = {
                ytExperimentId: a
            });
            a = {};
            f && (a.slotData = l5(n, f));
            g && (a.layoutData = Xsa(n, g));
            k && (a.triggerData = m5(k.trigger, k.category));
            c && (a.opportunityData = Ysa(n, c, d, e));
            q && (a.externalContext = q);
            b.adClientData = a;
            l && (b.serializedSlotAdServingData = l.serializedSlotAdServingDataEntry);
            m && (b.serializedAdServingData = m.serializedAdServingDataEntry);
            iw("adsClientStateChange", {
                adsClientEvent: b
            })
        }
    };

    function C6() {
        this.i = new Map
    };

    function D6(a, b, c, d) {
        C.call(this);
        this.S = a;
        this.u = b;
        this.Ba = c;
        this.l = d;
        this.listeners = [];
        var e = new WF(this);
        E(this, e);
        e.Ga(a, "internalAbandon", this.WC);
        Qf(this, function() {
            YF(e)
        })
    }
    v(D6, C);
    h = D6.prototype;
    h.addListener = function(a) {
        this.listeners.push(a)
    };
    h.removeListener = function(a) {
        this.listeners = this.listeners.filter(function(b) {
            return b !== a
        })
    };
    h.Df = function(a, b, c, d, e, f, g) {
        var k;
        if ("" === a) V("Received empty content video CPN in DefaultContentPlaybackLifecycleApi");
        else if (!R(this.S.Y().experiments, "html5_de_dupe_content_video_loads_in_lifecycle_api") || a !== this.i || c) {
            this.i = a;
            this.Ba.get().Df(a, b, c, d, e, f, g);
            null === (k = this.l) || void 0 === k ? void 0 : k.get().Df(a, b, c, d, e, f, g);
            this.u.Df(a, b, c, d, e, f, g);
            for (var l = t(this.listeners), m = l.next(); !m.done; m = l.next()) m.value.Df(a, b, c, d, e, f, g)
        }
    };
    h.WC = function() {
        this.i && this.Vg(this.i)
    };
    h.Vg = function(a) {
        this.i = void 0;
        for (var b = t(this.listeners), c = b.next(); !c.done; c = b.next()) c.value.Vg(a)
    };

    function E6(a) {
        C.call(this);
        this.S = a;
        this.i = new Map;
        this.l = new WF(this);
        E(this, this.l);
        this.l.Ga(this.S, "crn_ad", this.Hd, this);
        this.l.Ga(this.S, "crx_ad", this.Uf, this)
    }
    v(E6, C);
    E6.prototype.addCueRange = function(a, b, c, d, e, f, g) {
        f = void 0 === f ? 2 : f;
        g = void 0 === g ? 1 : g;
        this.i.has(a) ? V("Tried to register duplicate cue range", void 0, void 0, {
            CueRangeID: a
        }) : (a = new rua(a, b, c, d, f), this.i.set(a.id, {
            Vc: a,
            listener: e,
            xg: g
        }), this.S.Mf([a], g))
    };
    E6.prototype.removeCueRange = function(a) {
        var b = this.i.get(a);
        b ? (this.S.qe([b.Vc], b.xg), this.i.delete(a)) : V("Requested to remove unknown cue range", void 0, void 0, {
            CueRangeID: a
        })
    };
    E6.prototype.Hd = function(a) {
        this.i.has(a.id) && this.i.get(a.id).listener.Hd(a.id)
    };
    E6.prototype.Uf = function(a) {
        this.i.has(a.id) && this.i.get(a.id).listener.Uf(a.id)
    };

    function rua(a, b, c, d, e) {
        TI.call(this, b, c, {
            id: a,
            namespace: "ad",
            priority: e,
            visible: d
        })
    }
    v(rua, TI);

    function F6(a) {
        this.S = a
    }
    F6.prototype.Wf = function(a) {
        this.S.Wf(a)
    };
    F6.prototype.Ja = function(a, b) {
        for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
        this.S.Ja.apply(this.S, [a].concat(ha(c)))
    };

    function G6(a) {
        this.S = a
    }

    function r4(a) {
        return DI(a.S.Y()) || CI(a.S.Y()) ? R(a.S.Y().experiments, "tvhtml5_unplugged_pacf_enable_video_overlay_on_inplayer_slot") : !0
    }

    function H6(a) {
        return R(a.S.Y().experiments, "enable_server_stitched_dai")
    }

    function m_(a, b) {
        var c, d, e, f, g, k;
        b = t(b);
        for (var l = b.next(); !l.done; l = b.next())
            if (l = l.value, (null === (d = null === (c = l.renderer) || void 0 === c ? void 0 : c.instreamSurveyAdRenderer) || void 0 === d ? 0 : d.controlflowEnabled) || (null === (k = null === (g = null === (f = null === (e = l.renderer) || void 0 === e ? void 0 : e.sandwichedLinearAdRenderer) || void 0 === f ? void 0 : f.linearAd) || void 0 === g ? void 0 : g.instreamSurveyAdRenderer) || void 0 === k ? 0 : k.controlflowEnabled)) return !0;
        return R(a.S.Y().experiments, "html5_handle_preroll_lock_in_pacf")
    }

    function sua(a) {
        return R(a.S.Y().experiments, "html5_recognize_predict_start_cue_point")
    }

    function bta(a) {
        return R(a.S.Y().experiments, "html5_enable_deferred_trigger_fix")
    }

    function tua(a) {
        return R(a.S.Y().experiments, "html5_unlisten_to_control_flow_events_on_layout_exited")
    }

    function I6(a) {
        return R(a.S.Y().experiments, "html5_pacf_enable_non_dai_live_video_ads")
    };

    function J6(a, b) {
        this.Ba = a;
        this.S = b;
        this.i = new Map;
        w_().subscribe("adactiveviewmeasurable", this.Gq, this);
        w_().subscribe("adfullyviewableaudiblehalfdurationimpression", this.Fq, this);
        w_().subscribe("adviewableimpression", this.Hq, this)
    }

    function uua(a, b, c, d) {
        d = void 0 === d ? null : d;
        a.i.has(b) ? V("Unexpected registration of layout in LidarApi") : (a.i.set(b, d), qqa(w_(), b, {
            Qn: function() {
                return c ? {
                    currentTime: a.Ba.get().getCurrentTimeSec(2, !1),
                    duration: c,
                    Kc: 2 === a.Ba.get().getPresentingPlayerType() && 1 === K6(a.Ba.get(), 2),
                    HU: !1,
                    IU: !0,
                    volume: a.Ba.get().isMuted() ? 0 : a.Ba.get().getVolume() / 100
                } : {}
            }
        }))
    }

    function vua(a, b) {
        a.i.has(b) ? (a.i.delete(b), delete w_().i[b]) : V("Unexpected unregistration of layout in LidarApi")
    }
    J6.prototype.Kd = function(a, b) {
        if (!this.i.has(a)) return {};
        if ("seek" === b) {
            var c = R(this.S.Y().experiments, "html5_dai_enable_active_view_creating_completed_adblock");
            Vq(a, c);
            return {}
        }
        c = W_(b);
        if (null === c) return {};
        if (R(this.S.Y().experiments, "enable_server_stitched_dai") && 2 !== this.S.getPresentingPlayerType(!0)) return V("Unexpected call to Lidar API when the player is not playing ads", void 0, void 0, {
            layoutId: a,
            trackingType: b
        }), {};
        b = (b = this.S.hc()) && (R(this.S.Y().experiments, "enable_server_stitched_dai") ||
            2 === b.getPlayerType()) && zY(b);
        if (!b) return {};
        b = {
            opt_adElement: b,
            opt_fullscreen: this.Ba.get().isFullscreen()
        };
        return Uq(c, a, b)
    };
    J6.prototype.Gq = function(a) {
        var b;
        null === (b = this.i.get(a.queryId)) || void 0 === b ? void 0 : b.Gq()
    };
    J6.prototype.Fq = function(a) {
        var b;
        null === (b = this.i.get(a.queryId)) || void 0 === b ? void 0 : b.Fq()
    };
    J6.prototype.Hq = function(a) {
        var b;
        null === (b = this.i.get(a.queryId)) || void 0 === b ? void 0 : b.Hq()
    };

    function L6(a, b) {
        this.l = a;
        this.u = b
    }
    v(L6, X_);
    L6.prototype.Gd = function() {
        return this.l()
    };
    L6.prototype.i = function() {
        return this.u()
    };

    function M6(a, b, c, d) {
        var e = void 0 === e ? new L6(function() {
            var f = a.getVideoData(1);
            return f ? f.Gd() : ""
        }, function() {
            return a.Y().pageId
        }) : e;
        this.S = a;
        this.i = b;
        this.l = c;
        this.u = d;
        this.Uj = e;
        this.fl = null;
        this.tp = new Map;
        this.qg = new Z_(e)
    }

    function f5(a, b, c, d) {
        d = void 0 === d ? [] : d;
        var e = jua(a.i.get(), c);
        e ? (c = wua(a, xua(e), e), b.hasOwnProperty("baseUrl") ? a.Uj.send(b, c) : a.qg.send(b, c, {}, d)) : V("Trying to ping from an unknown layout", void 0, void 0, {
            layoutId: c
        })
    }

    function yua(a, b, c, d) {
        d = void 0 === d ? [] : d;
        var e = jua(a.i.get(), b);
        if (e)
            for (b = a.l.get().Kd(b, c), e = wua(a, xua(e), e), d = t(d), c = d.next(); !c.done; c = d.next()) c = c.value, c.baseUrl && a.qg.send(c.baseUrl, e, b, c.headers);
        else V("Trying to track from an unknown layout.", void 0, void 0, {
            layoutId: b,
            trackingType: c
        })
    }

    function N6(a, b) {
        iw("adsClientStateChange", b)
    }

    function xua(a) {
        var b = W(a.xa, "metadata_type_ad_placement_config");
        a = W(a.xa, "metadata_type_media_sub_layout_index");
        return {
            adPlacementConfig: b,
            dF: a
        }
    }

    function wua(a, b, c) {
        var d = c ? zua(a) : {};
        c = c ? Aua(a, c.layoutId) : {};
        var e = {},
            f = {};
        d = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, L_(a.S)), zqa(b.adPlacementConfig)), (e.SLOT_POS = M_(function() {
            return (b.dF || 0).toString()
        }), e)), c), d), (f.FINAL = M_(function() {
            return "1"
        }), f.AD_CPN = M_(function() {
            var k;
            return (null === (k = h_(a.u.get(), 2)) || void 0 === k ? void 0 : k.clientPlaybackNonce) || ""
        }), f));
        c = {};
        e = t(Object.values(wqa));
        for (f = e.next(); !f.done; f = e.next()) {
            f = f.value;
            var g = d[f];
            null != g && (c[f] = g.toString())
        }
        return c
    }

    function zua(a) {
        var b, c = {},
            d = null === (b = a.fl) || void 0 === b ? void 0 : b.My();
        null != d && (c.SURVEY_ELAPSED_MS = M_(function() {
            return Math.round(1E3 * d).toString()
        }));
        c.SURVEY_LOCAL_TIME_EPOCH_S = M_(function() {
            return Math.round(Date.now() / 1E3).toString()
        });
        return c
    }

    function Aua(a, b) {
        a = a.tp.get(b);
        if (!a) return {};
        a = a.HD;
        if (!a) return {};
        b = {};
        return b.YT_ERROR_CODE = a.xr.toString(), b.ERRORCODE = a.bp.toString(), b.ERROR_MSG = a.errorMessage, b
    };

    function O6(a, b, c) {
        C.call(this);
        this.S = a;
        this.i = b;
        this.ma = c;
        this.listeners = [];
        b = new NI(this);
        E(this, b);
        b.Ga(a, "videodatachange", this.NG);
        b.Ga(a, "serverstitchedvideochange", this.wG);
        this.jk = h_(this);
        this.contentCpn = h_(this, 1).clientPlaybackNonce
    }
    v(O6, C);
    h = O6.prototype;
    h.addListener = function(a) {
        this.listeners.push(a)
    };
    h.removeListener = function(a) {
        this.listeners = this.listeners.filter(function(b) {
            return b !== a
        })
    };

    function h_(a, b) {
        var c = a.S.getVideoData(b);
        return c ? Bua(a, c, b || a.S.getPresentingPlayerType(!0)) : null
    }
    h.NG = function(a, b, c) {
        H6(this.ma.get()) && "dataloaded" !== a || Cua(this, b, c)
    };
    h.wG = function(a) {
        var b = this.S.getPresentingPlayerType(!0),
            c = this.S.getVideoData(b);
        c ? Cua(this, c, b) : V("Expected video data on server stitched video changed", void 0, void 0, {
            cpn: this.S.getVideoData(1).clientPlaybackNonce,
            timelinePlaybackId: a
        })
    };

    function Cua(a, b, c) {
        var d = Bua(a, b, c);
        a.jk = d;
        a.listeners.forEach(function(e) {
            e.vA(d)
        });
        b = h_(a, 1);
        b.clientPlaybackNonce !== a.contentCpn && (a.contentCpn = b.clientPlaybackNonce, a.listeners.forEach(function() {}))
    }

    function Bua(a, b, c) {
        var d, e, f = b.author,
            g = b.clientPlaybackNonce,
            k = b.isListed,
            l = b.Zb,
            m = b.title,
            n = b.Qe,
            p = b.Qd,
            q = b.isMdxPlayback,
            r = b.Kf,
            u = b.mdxEnvironment,
            x = b.Lg,
            z = b.Uh,
            D = b.dk,
            H = b.videoId || "",
            O = b.Xh || "",
            M = b.oi || "";
        b = b.Eh || void 0;
        l = a.i.get().i.get(l) || {
            layoutId: null,
            slotId: null
        };
        var J = a.S.getVideoData(1),
            ka = J.Rf();
        J = J.getPlayerResponse();
        c = 1E3 * a.S.getDuration(c);
        a = 1E3 * a.S.getDuration(1);
        J = (null === (e = null === (d = null === J || void 0 === J ? void 0 : J.playerConfig) || void 0 === d ? void 0 : d.daiConfig) || void 0 === e ? void 0 :
            e.enableDai) || !1;
        return Object.assign(Object.assign({}, l), {
            videoId: H,
            author: f,
            clientPlaybackNonce: g,
            playbackDurationMs: c,
            Xx: a,
            daiEnabled: J,
            isListed: k,
            Rf: ka,
            Xh: O,
            title: m,
            oi: M,
            Qe: n,
            Qd: p,
            Eh: b,
            isMdxPlayback: q,
            Kf: r,
            mdxEnvironment: u,
            Lg: x,
            Uh: z,
            dk: D
        })
    }
    h.Da = function() {
        this.listeners.length = 0;
        this.jk = null;
        C.prototype.Da.call(this)
    };

    function P6(a) {
        C.call(this);
        this.S = a;
        this.listeners = [];
        this.Dg = function() {
            V("Called 'doUnlockPreroll' before it's initialized.")
        };
        var b = new WF(this);
        E(this, b);
        b.Ga(a, "progresssync", this.oG);
        b.Ga(a, "presentingplayerstatechange", this.lG);
        b.Ga(a, "fullscreentoggled", this.Ef);
        b.Ga(a, "onVolumeChange", this.Gf);
        b.Ga(a, "minimized", this.Ff);
        b.Ga(a, "resize", this.gj)
    }
    v(P6, C);
    h = P6.prototype;
    h.Df = function() {
        var a = this;
        this.Dg = jb(function() {
            a.S.Ea() || a.S.Bd("ad", 1)
        })
    };
    h.Vg = function() {};
    h.addListener = function(a) {
        this.listeners.push(a)
    };
    h.removeListener = function(a) {
        this.listeners = this.listeners.filter(function(b) {
            return b !== a
        })
    };
    h.playVideo = function() {
        this.S.playVideo()
    };
    h.pauseVideo = function() {
        this.S.pauseVideo()
    };
    h.resumeVideo = function(a) {
        this.Gk(a) && this.S.playVideo()
    };
    h.Gk = function(a) {
        return 2 === this.S.getPlayerState(a)
    };
    h.getCurrentTimeSec = function(a, b) {
        return this.S.getCurrentTime(a, b)
    };

    function K6(a, b) {
        return a.S.Nd(b)
    }
    h.getVolume = function() {
        return this.S.getVolume()
    };
    h.isMuted = function() {
        return this.S.isMuted()
    };
    h.getPresentingPlayerType = function() {
        return this.S.getPresentingPlayerType(!0)
    };
    h.getPlayerState = function(a) {
        return this.S.getPlayerState(a)
    };
    h.isFullscreen = function() {
        return this.S.isFullscreen()
    };

    function Dua(a, b) {
        var c = a.S.Y();
        eC(c) || "3" !== c.controlsType || a.S.Tb().Dv(b)
    }
    h.oG = function() {
        if (2 === this.S.getPresentingPlayerType(!0))
            for (var a = this.getCurrentTimeSec(2, !1), b = t(this.listeners), c = b.next(); !c.done; c = b.next()) c.value.Tf(a)
    };
    h.lG = function(a) {
        for (var b = t(this.listeners), c = b.next(); !c.done; c = b.next()) c.value.Xg(a, this.getPresentingPlayerType())
    };
    h.Ef = function(a) {
        for (var b = t(this.listeners), c = b.next(); !c.done; c = b.next()) c.value.Ef(a)
    };
    h.Gf = function() {
        for (var a = t(this.listeners), b = a.next(); !b.done; b = a.next()) b.value.Gf()
    };
    h.Ff = function() {
        for (var a = this.S.bf(), b = t(this.listeners), c = b.next(); !c.done; c = b.next()) c.value.Ff(a)
    };
    h.gj = function() {
        for (var a = this.S.Tb().Ye(), b = t(this.listeners), c = b.next(); !c.done; c = b.next()) c.value.pg(a)
    };

    function Eua(a, b, c) {
        C.call(this);
        var d = this;
        this.D = Y(function() {
            return new j6
        });
        E(this, this.D);
        this.J = Y(function() {
            return new n6(d.D)
        });
        E(this, this.J);
        this.G = Y(function() {
            return new i6
        });
        E(this, this.G);
        this.l = Y(function() {
            return new f6(a)
        });
        E(this, this.l);
        this.u = Y(function() {
            return new z6(d.D)
        });
        E(this, this.u);
        this.T = Y(function() {
            return new C6
        });
        E(this, this.T);
        this.I = Y(function() {
            return new E6(b)
        });
        E(this, this.I);
        this.Eb = Y(function() {
            return new F6(b)
        });
        E(this, this.Eb);
        this.ma = Y(function() {
            return new G6(b)
        });
        E(this, this.ma);
        this.B = Y(function() {
            return new p5(d.ma)
        });
        E(this, this.B);
        this.C = Y(function() {
            return new d6(d.u, d.J, d.ma, d.B, null)
        });
        E(this, this.C);
        this.i = Y(function() {
            return new O6(b, d.T, d.ma)
        });
        E(this, this.i);
        this.Bb = new B6(this.ma, this.B, this.i);
        E(this, this.Bb);
        this.Ba = Y(function() {
            return new P6(b)
        });
        E(this, this.Ba);
        this.K = Y(function() {
            return new J6(d.Ba, b)
        });
        E(this, this.K);
        this.Pa = Y(function() {
            return new M6(b, d.G, d.K, d.i)
        });
        E(this, this.Pa);
        this.xb = new l_(this.l, this.C, c, this.ma, a, this.i, this.Ba);
        E(this, this.xb);
        var e = new D6(b, this.xb, this.Ba);
        this.X = Y(function() {
            return e
        });
        this.Wg = e;
        this.U = new h6(this.l, this.u, this.I, this.X);
        E(this, this.U);
        this.Ab = new e_(this.l, this.u, this.C, this.i, this.U, c);
        E(this, this.Ab);
        this.yc = {
            ij: new Map,
            Gg: new Map,
            mf: new Map,
            jh: new Map,
            Qg: new Map
        };
        this.listeners = [];
        this.bd = {
            Ab: this.Ab,
            fg: null,
            Tg: null,
            We: this.ma.get(),
            Vh: this.Ba.get(),
            xb: this.xb,
            Sg: null,
            Cf: {
                iz: function() {}
            },
            Je: this.G.get()
        }
    }
    v(Eua, C);

    function Q6(a) {
        this.i = a
    }
    Q6.prototype.executeCommand = function(a, b) {
        W4(this.i(), a, b)
    };
    Q6.prototype.Qb = function(a, b) {
        ssa(this.i(), a, b)
    };

    function R6() {}

    function Fua(a, b) {
        b.siub && b.bgub && b.scs && b.bgp && xl(b.siub, b.scs, b.bgub, b.bgp)
    };

    function Gua(a, b, c, d) {
        this.callback = a;
        this.slot = b;
        this.u = c;
        this.l = d;
        this.i = null
    }

    function Hua(a, b, c) {
        a.i && V("Currently active request ongoing for slot. This should never happen", a.slot);
        a.i = b();
        a.i.then(function(d) {
            a.i = null;
            c && c(d);
            var e = d.Km ? "LAYOUT_TYPE_THROTTLED_AD_BREAK_RESPONSE" : "LAYOUT_TYPE_AD_BREAK_RESPONSE",
                f = a.u.get(),
                g = a.slot.slotId,
                k = n5(a.l.get(), {
                    slotId: a.slot.slotId,
                    Za: a.slot.Za,
                    slotPhysicalPosition: a.slot.slotPhysicalPosition,
                    Ra: a.slot.Ra,
                    Gb: a.slot.Gb,
                    Lb: a.slot.Lb,
                    Kb: a.slot.Kb
                }),
                l = S5(f.l.get(), e, g),
                m = {
                    layoutId: l,
                    layoutType: e,
                    Ra: "core"
                };
            d = {
                layoutId: l,
                layoutType: e,
                ac: new Map,
                Ec: [new lua(f.i, g)],
                Vb: [],
                Rb: [],
                Wb: [],
                Ra: "core",
                xa: new j5([new $3(d)]),
                Yb: k(m)
            };
            ata(a.callback, a.slot, d)
        }, function(d) {
            a.i = null;
            d instanceof yh || v5(a.callback, a.slot, new X(d, void 0, !0))
        })
    }

    function Iua(a) {
        if (null == a.i) a.callback.Lq(a.slot);
        else try {
            a.i.cancel(), a.i = null, a.callback.Lq(a.slot)
        } catch (b) {
            a.i = null, v5(a.callback, a.slot, new X(b))
        }
    };

    function S6(a, b, c, d, e, f) {
        this.callback = a;
        this.slot = b;
        this.l = c;
        this.u = f;
        this.i = new Gua(a, b, d, e)
    }
    S6.prototype.Ln = function() {
        var a = this;
        Hua(this.i, function() {
            var b = W(a.slot.xa, "metadata_type_ad_break_request_data");
            return a.l.get().fetch({
                FB: b.getAdBreakUrl,
                iy: new TI(b.RA, b.QA),
                Gn: W(a.slot.xa, "metadata_type_cue_point")
            })
        }, function(b) {
            var c;
            b = b.Bh;
            2 <= b.length && V("Unexpected ad placement renderers length", a.slot, null, {
                length: b.length
            });
            var d = W(a.slot.xa, "metadata_type_cue_point");
            b.some(function(e) {
                var f, g, k;
                return null === (k = null === (g = null === (f = e.renderer) || void 0 === f ? void 0 : f.linearAdSequenceRenderer) || void 0 === g ? void 0 : g.linearAds) || void 0 === k ? void 0 : k.length
            }) || (null === (c = a.u) || void 0 === c ? void 0 : c.get().Sk(d.identifier))
        })
    };
    S6.prototype.Is = function() {
        Iua(this.i)
    };

    function T6(a, b, c, d, e) {
        this.callback = a;
        this.slot = b;
        this.l = c;
        this.i = new Gua(a, b, d, e)
    }
    T6.prototype.Ln = function() {
        var a = this;
        Hua(this.i, function() {
            var b = W(a.slot.xa, "metadata_type_ad_break_request_data");
            return a.l.get().fetch({
                FB: b.getAdBreakUrl,
                iy: new TI(b.RA, b.QA)
            })
        })
    };
    T6.prototype.Is = function() {
        Iua(this.i)
    };

    function U6(a, b) {
        this.callback = a;
        this.slot = b
    }
    U6.prototype.Ln = function() {
        ata(this.callback, this.slot, W(this.slot.xa, "metadata_type_fulfilled_layout"))
    };
    U6.prototype.Is = function() {
        v5(this.callback, this.slot, new X("Got CancelSlotFulfilling request for " + this.slot.Za + " in DirectFulfillmentAdapter."))
    };

    function V6(a, b) {
        return j_(a, b.Md, b.Za) ? !0 : !1
    };

    function W6() {}
    W6.prototype.ge = function(a, b) {
        return V6(b, {
            Md: ["metadata_type_fulfilled_layout"]
        }) ? new U6(a, b) : this.B(a, b)
    };

    function X6(a, b, c, d) {
        this.i = a;
        this.u = b;
        this.l = c;
        this.C = d
    }
    v(X6, W6);
    X6.prototype.B = function(a, b) {
        if (V6(b, {
                Md: ["metadata_type_ad_break_request_data", "metadata_type_cue_point"],
                Za: "SLOT_TYPE_AD_BREAK_REQUEST"
            })) return new S6(a, b, this.i, this.u, this.l, this.C);
        if (V6(b, {
                Md: ["metadata_type_ad_break_request_data"],
                Za: "SLOT_TYPE_AD_BREAK_REQUEST"
            })) return new T6(a, b, this.i, this.u, this.l);
        throw new X("Unsupported slot with type: " + b.Za + " and client metadata: " + k5(b.xa) + " in AdBreakRequestSlotFulfillmentAdapterFactory.");
    };

    function Y6() {}
    v(Y6, W6);
    Y6.prototype.B = function(a, b) {
        throw new X("Unsupported slot with type: " + b.Za + " and client metadata: " + k5(b.xa) + " in DefaultFulfillmentAdapterFactory.");
    };

    function Jua(a, b, c, d) {
        this.callback = a;
        this.slot = b;
        this.layout = c;
        this.i = d
    }
    h = Jua.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.init = function() {};
    h.release = function() {};
    h.startRendering = function(a) {
        if (a.layoutId !== this.layout.layoutId) this.callback.uc(this.slot, a, new x5("Tried to start rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType)));
        else {
            var b = W(a.xa, "metadata_type_ad_break_response_data");
            "SLOT_TYPE_AD_BREAK_REQUEST" === this.slot.Za ? (this.callback.tc(this.slot, a), lqa(this.i, this.slot, b)) : V("Unexpected slot type in AdBreakResponseLayoutRenderingAdapter - this should never happen", this.slot,
                a)
        }
    };
    h.Sd = function(a, b) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to stop rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : this.callback.Pb(this.slot, a, b)
    };

    function Z6(a, b) {
        return i5(a, b.Md, b.Bf) ? !0 : !1
    };

    function $6(a) {
        this.i = a
    }
    $6.prototype.ge = function(a, b, c, d) {
        if (Z6(d, {
                Md: ["metadata_type_ad_break_response_data"],
                Bf: ["LAYOUT_TYPE_AD_BREAK_RESPONSE", "LAYOUT_TYPE_THROTTLED_AD_BREAK_RESPONSE"]
            })) return new Jua(a, c, d, this.i);
        throw new x5("Unsupported layout with type: " + d.layoutType + " and client metadata: " + k5(d.xa) + " in AdBreakRequestLayoutRenderingAdapterFactory.");
    };

    function a7(a, b, c) {
        this.B = a;
        this.Pa = b;
        this.layoutId = c;
        this.l = 0;
        this.i = new Set;
        this.u = Array.from(this.B.get("progress") || []);
        this.u.sort(function(d, e) {
            return (d.offsetMilliseconds || 0) - (e.offsetMilliseconds || 0)
        })
    }

    function b7() {
        return ["metadata_type_ad_placement_config"]
    }
    a7.prototype.Kd = function(a) {
        var b = this.B.get(a) || [];
        yua(this.Pa.get(), this.layoutId, a, b);
        this.i.add(a)
    };

    function c7(a, b) {
        a.i.has(b) || a.Kd(b)
    }

    function Kua(a, b, c) {
        for (c = void 0 === c ? !1 : c; a.l < a.u.length;) {
            var d = a.u[a.l];
            if (d.offsetMilliseconds <= b || c) {
                var e = a;
                d = [d];
                yua(e.Pa.get(), e.layoutId, "progress", d);
                a.l++
            } else break
        }
    };

    function Lua(a, b, c, d, e) {
        this.callback = a;
        this.slot = b;
        this.layout = c;
        this.Pa = d;
        this.i = e;
        W(this.layout.xa, "metadata_type_ad_placement_config");
        this.l = new a7(c.ac, this.Pa, c.layoutId)
    }
    h = Lua.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };

    function Mua() {
        var a = ["metadata_type_client_forecasting_ad_renderer"];
        b7().forEach(function(b) {
            a.push(b)
        });
        return {
            Md: a,
            Bf: ["LAYOUT_TYPE_FORECASTING"]
        }
    }
    h.init = function() {};
    h.release = function() {};
    h.startRendering = function(a) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to start rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : (this.callback.tc(this.slot, a), c7(this.l, "impression"), d7(this.i, a.layoutId))
    };
    h.Sd = function(a, b) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to stop rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : this.callback.Pb(this.slot, a, b)
    };

    function e7(a, b) {
        this.Pa = a;
        this.i = b
    }
    e7.prototype.ge = function(a, b, c, d) {
        if (Z6(d, Mua())) return new Lua(a, c, d, this.Pa, this.i);
        throw new x5("Unsupported layout with type: " + d.layoutType + " and client metadata: " + k5(d.xa) + " in ForecastingLayoutRenderingAdapterFactory.");
    };

    function f7(a, b, c, d, e, f) {
        C.call(this);
        this.callback = a;
        this.dc = b;
        this.Ba = c;
        this.Xb = d;
        this.Nf = e;
        this.ma = f;
        this.Zi = !0;
        this.Ut = !1
    }
    v(f7, C);
    h = f7.prototype;
    h.init = function() {
        var a = W(this.Fb().xa, "metadata_type_player_bytes_layout_controls_callback_ref");
        a && (a.current = this);
        this.Yn()
    };
    h.release = function() {
        var a = W(this.Fb().xa, "metadata_type_player_bytes_layout_controls_callback_ref");
        a && (a.current = null);
        this.Lo()
    };
    h.startRendering = function(a) {
        if (a.layoutId !== this.Fb().layoutId) this.callback.uc(this.Wc(), a, new x5("Tried to start rendering an unknown layout, this adapter requires LayoutId: " + this.Fb().layoutId + ("and LayoutType: " + this.Fb().layoutType)));
        else {
            this.Ba.get().addListener(this);
            var b = this.Nf();
            b.Uc.add(this);
            E(b, this);
            this.Ba.get().S.gi(2);
            mra(this.Xb.get());
            this.To(a)
        }
    };
    h.Sd = function(a, b) {
        this.Ut = !0;
        this.Uo(a, b);
        this.Ba.get().S.lj(2);
        this.dc.get().S.cueVideoByPlayerVars({}, 2);
        a = K6(this.Ba.get(), 1);
        Q(a, 4) && !Q(a, 2) && this.Ba.get().playVideo();
        this.Ba.get().removeListener(this);
        this.Ut && this.Qz();
        tua(this.ma.get()) || this.Nf().Uc.delete(this)
    };
    h.Pb = function(a, b) {
        b.layoutId === this.Fb().layoutId && (this.Ut = !1, tua(this.ma.get()) && this.Nf().Uc.delete(this))
    };
    h.Xg = function(a, b) {
        var c, d;
        if (a.state.isError()) {
            if (R(this.ma.get().S.Y().experiments, "html5_ignore_organic_playback_error_when_ads_presenting") && (V("Presenting player state error caught in PlayerBytes layout.", this.Wc(), this.Fb(), {
                    playerType: String(b)
                }), 1 === b)) return;
            this.uc(null === (c = a.state.getData()) || void 0 === c ? void 0 : c.errorCode, new x5("There was a player error during this media layout.", {
                playerErrorCode: null === (d = a.state.getData()) || void 0 === d ? void 0 : d.errorCode
            }), b)
        } else this.zA(a)
    };
    h.Yg = function() {};
    h.hj = function() {};
    h.Tk = function() {};
    h.gf = function() {};
    h.hf = function() {};
    h.Uk = function() {};
    h.Vk = function() {};
    h.ej = function() {};
    h.Qk = function() {};
    h.Sh = function() {};

    function g7(a, b, c, d, e, f, g, k, l, m) {
        f7.call(this, a, b, c, d, l, m);
        this.B = e;
        this.slot = f;
        this.layout = g;
        this.D = k;
        this.l = [];
        this.i = -1;
        this.u = !1
    }
    v(g7, f7);
    h = g7.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.Yn = function() {
        if (1 >= this.l.length) throw new X("Invalid sub layout rendering adapter length when scheduling composite layout.", {
            length: String(this.l.length)
        });
        for (var a = t(this.l), b = a.next(); !b.done; b = a.next()) b = b.value, b.init(), B5(this.B, this.slot, b.Fb())
    };
    h.Lo = function() {
        for (var a = t(this.l), b = a.next(); !b.done; b = a.next()) b.value.release()
    };
    h.Xk = function(a, b) {
        var c = this.l[this.i];
        b.layoutId !== h7(c, a, b) ? V("pauseLayout for a PlayerBytes layout that is not currently active", a, b) : c.Xk()
    };
    h.bl = function(a, b) {
        var c = this.l[this.i];
        b.layoutId !== h7(c, a, b) ? V("resumeLayout for a PlayerBytes layout that is not currently active", a, b) : c.bl()
    };
    h.Kq = function(a, b) {
        var c = this.l[this.i];
        b.layoutId !== h7(c, a, b) ? V("onSkipRequested for a PlayerBytes layout that is not currently active", c.Wc(), c.Fb(), {
            requestingSlot: a,
            requestingLayout: b
        }) : i7(this, c.Wc(), c.Fb(), "skipped")
    };

    function h7(a, b, c) {
        var d = W(a.Fb().xa, "metadata_type_linked_in_player_layout_id");
        return d ? d : (V("Tried to retrieve Linked InPlayer LayoutId but missing ClientMetadata", a.Wc(), a.Fb(), {
            requestingSlot: b,
            requestingLayout: c
        }), null)
    }
    h.To = function() {
        -1 === this.i && Nua(this)
    };
    h.DG = function(a, b) {
        C5(this.B, a, b)
    };
    h.Uo = function(a, b) {
        var c = this;
        this.i !== this.l.length ? (a = this.l[this.i], a.Sd(a.Fb(), b), this.C = function() {
            c.callback.Pb(c.slot, c.layout, b)
        }) : this.callback.Pb(this.slot, this.layout, b)
    };
    h.tc = function(a, b) {
        var c = this.l[this.i];
        c && c.tc(a, b)
    };
    h.Pb = function(a, b, c) {
        f7.prototype.Pb.call(this, a, b, c);
        var d = this.l[this.i];
        d && d.Pb(a, b, c)
    };
    h.Qz = function() {
        var a = this.l[this.i];
        a && a.eq()
    };
    h.Tf = function(a) {
        var b = this.l[this.i];
        b && b.Tf(a)
    };
    h.zA = function(a) {
        var b = this.l[this.i];
        b && b.Xg(a)
    };
    h.uc = function(a, b) {
        -1 === this.i && (this.callback.tc(this.slot, this.layout), this.i++);
        var c = this.l[this.i];
        c ? c.Do(a, b) : V("No active adapter found onLayoutError in PlayerBytesVodCompositeLayoutRenderingAdapter", void 0, void 0, {
            activeSubLayoutIndex: String(this.i),
            layoutId: this.Fb().layoutId
        })
    };
    h.Ef = function(a) {
        var b = this.l[this.i];
        b && b.Ef(a)
    };
    h.Ff = function(a) {
        var b = this.l[this.i];
        b && b.Ff(a)
    };
    h.pg = function(a) {
        var b = this.l[this.i];
        b && b.pg(a)
    };
    h.Gf = function() {
        var a = this.l[this.i];
        a && a.Gf()
    };
    h.FG = function(a, b, c) {
        i7(this, a, b, c)
    };
    h.EG = function(a, b) {
        i7(this, a, b, "error")
    };

    function i7(a, b, c, d) {
        if (!a.u) {
            var e = a.l[a.i];
            e ? (e.Fb().layoutId !== c.layoutId && V("SubLayout mismatch in exitSubLayoutAndPlayNext", b, c, {
                exitingSubLayout: c.layoutId,
                activeSubLayout: e.Fb().layoutId
            }), a.u = !0, e.Sd(e.Fb(), d), w4(a.B, b, c, d), a.u = !1, a.C ? a.C() : Nua(a)) : V("No active adapter when exitSubLayoutAndPlayNext in PlayerBytesVodCompositeLayoutRenderingAdapter. This should never happen.", b, c)
        }
    }

    function Nua(a) {
        a.i === a.l.length - 1 ? (a.i++, d7(a.D, a.layout.layoutId)) : (-1 === a.i && a.callback.tc(a.slot, a.layout), a.i++, a = a.l[a.i], a.startRendering(a.Fb()))
    };

    function j7(a) {
        return !a.Nk.Kc() && a.state.Kc()
    }

    function k7(a, b, c) {
        return a < b ? !1 : null != c ? c <= b : a <= b + 1
    };

    function Oua(a) {
        var b, c;
        return "AD_VIDEO_PROGRESS_KIND_PERCENT" !== (null === (b = a.adVideoOffset) || void 0 === b ? void 0 : b.kind) ? !1 : null != (null === (c = a.adVideoOffset) || void 0 === c ? void 0 : c.percent)
    }

    function Pua(a) {
        var b, c;
        return "AD_VIDEO_PROGRESS_KIND_MILLISECONDS" !== (null === (b = a.adVideoOffset) || void 0 === b ? void 0 : b.kind) ? !1 : null != (null === (c = a.adVideoOffset) || void 0 === c ? void 0 : c.milliseconds) && !isNaN(Number(a.adVideoOffset.milliseconds))
    }

    function Qua(a, b, c, d) {
        var e;
        this.C = a;
        this.layoutId = c;
        this.D = d;
        this.l = [];
        this.i = [];
        this.u = this.B = 0;
        a = t(b);
        for (b = a.next(); !b.done; b = a.next()) switch (b = b.value, null === (e = b.adVideoOffset) || void 0 === e ? void 0 : e.kind) {
            case "AD_VIDEO_PROGRESS_KIND_PERCENT":
                Oua(b) ? this.l.push(b) : V("Invalid AdVideoProgressPercentCommand");
                break;
            case "AD_VIDEO_PROGRESS_KIND_MILLISECONDS":
                Pua(b) ? this.i.push(b) : V("Invalid AdVideoProgressMillisecondsCommand");
                break;
            default:
                V("Unknown or invalid AdVideoProgressOffSet kind")
        }
        this.l.sort(function(f,
            g) {
            return f.adVideoOffset.percent - g.adVideoOffset.percent
        });
        this.i.sort(function(f, g) {
            return Number(f.adVideoOffset.milliseconds) - Number(g.adVideoOffset.milliseconds)
        })
    }

    function Rua(a, b) {
        var c = a.D();
        if (c) {
            for (; a.B < a.l.length;) {
                var d = a.l[a.B];
                if (d.adVideoOffset.percent * c <= b) a.C.get().executeCommand(d.command, a.layoutId), a.B++;
                else break
            }
            for (; a.u < a.i.length;)
                if (c = a.i[a.u], Number(c.adVideoOffset.milliseconds) <= b) a.C.get().executeCommand(c.command, a.layoutId), a.u++;
                else break
        }
    };

    function l7(a, b, c, d, e, f, g, k, l, m, n, p, q) {
        var r;
        C.call(this);
        var u = this;
        this.callback = a;
        this.slot = b;
        this.layout = c;
        this.Pa = d;
        this.K = e;
        this.Ba = f;
        this.Xb = g;
        this.ea = k;
        this.u = l;
        this.D = m;
        this.position = p;
        this.va = q;
        this.Zi = !0;
        this.X = !1;
        this.l = "not_rendering";
        W(this.layout.xa, "metadata_type_ad_placement_config");
        this.i = new a7(c.ac, this.Pa, c.layoutId);
        a = (null === (r = m7(this)) || void 0 === r ? void 0 : r.progressCommands) || [];
        this.Z = new Qua(l, a, c.layoutId, function() {
            return u.Zl()
        });
        this.T = jb(function() {
            u.callback.tc(u.slot, u.layout)
        });
        this.J = jb(function() {
            "rendering_stop_requested" !== u.l && n(u);
            u.G ? u.callback.Pb(u.slot, u.layout, u.G) : V("Received layout exit signal when not in layout exit flow.", u.slot, u.layout)
        })
    }
    v(l7, C);
    h = l7.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.init = function() {
        var a = W(this.layout.xa, "metadata_type_video_length_seconds");
        uua(this.K.get(), this.layout.layoutId, a, this);
        a = this.Pa.get();
        a.tp.has(this.layout.layoutId) ? V("Trying to register an existing AdErrorInfoSupplier.") : a.tp.set(this.layout.layoutId, this);
        this.Yn()
    };
    h.release = function() {
        vua(this.K.get(), this.layout.layoutId);
        this.Pa.get().tp.delete(this.layout.layoutId) || V("Trying to unregister a AdErrorInfoSupplier that has not been registered yet.");
        this.Lo()
    };
    h.Xk = function() {};
    h.bl = function() {};
    h.startRendering = function(a) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to start rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : (this.l = "rendering_start_requested", r0(this.ea.get(), 1) ? (this.Cn(!1), this.D(-1), this.To(a)) : this.Do("ui_unstable", new x5("Failed to render media layout because ad ui unstable.")))
    };
    h.tc = function(a, b) {
        var c, d, e;
        b.layoutId === this.layout.layoutId && (this.l = "rendering", c7(this.i, "impression"), c7(this.i, "start"), this.Ba.get().isMuted() && (this.i.Kd("mute"), a = (null === (c = m7(this)) || void 0 === c ? void 0 : c.muteCommands) || [], this.u.get().Qb(a, this.layout.layoutId)), this.Ba.get().isFullscreen() && (this.i.Kd("fullscreen"), a = (null === (d = m7(this)) || void 0 === d ? void 0 : d.fullscreenCommands) || [], this.u.get().Qb(a, this.layout.layoutId)), pra(this.Xb.get()), this.D(1), this.oA(), a = (null === (e = m7(this)) ||
            void 0 === e ? void 0 : e.impressionCommands) || [], this.u.get().Qb(a, this.layout.layoutId))
    };

    function m7(a) {
        return W(a.layout.xa, "METADATA_TYPE_INTERACTIONS_AND_PROGRESS_LAYOUT_COMMANDS")
    }
    h.Do = function(a, b, c) {
        this.HD = {
            xr: 3,
            bp: "load_timeout" === a ? 402 : 400,
            errorMessage: b.message
        };
        var d;
        W(this.layout.xa, "METADATA_TYPE_LOG_PLAYER_TYPE_ON_ERROR") && V("There is a player error in this survey ads", this.Wc(), this.Fb(), {
            playerType: String(c)
        });
        c7(this.i, "error");
        a = (null === (d = m7(this)) || void 0 === d ? void 0 : d.errorCommands) || [];
        this.u.get().Qb(a, this.layout.layoutId);
        this.callback.uc(this.slot, this.layout, b)
    };
    h.eq = function() {
        this.J()
    };
    h.ez = function() {
        var a;
        if ("rendering" === this.l) {
            this.i.Kd("pause");
            var b = (null === (a = m7(this)) || void 0 === a ? void 0 : a.pauseCommands) || [];
            this.u.get().Qb(b, this.layout.layoutId);
            this.D(2)
        }
    };
    h.fz = function() {
        var a;
        if ("rendering" === this.l) {
            this.i.Kd("resume");
            var b = (null === (a = m7(this)) || void 0 === a ? void 0 : a.resumeCommands) || [];
            this.u.get().Qb(b, this.layout.layoutId)
        }
    };

    function n7(a, b, c) {
        c = void 0 === c ? !1 : c;
        if ("rendering" === a.l) {
            Kua(a.i, 1E3 * b, c);
            var d = a.Zl();
            d && (d /= 1E3, (b >= .25 * d || c) && c7(a.i, "first_quartile"), (b >= .5 * d || c) && c7(a.i, "midpoint"), (b >= .75 * d || c) && c7(a.i, "third_quartile"), Rua(a.Z, 1E3 * b))
        }
    }
    h.Sd = function(a, b) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to stop rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : "rendering_stop_requested" !== this.l && (this.l = "rendering_stop_requested", this.G = b, this.Uo(a, b))
    };
    h.Pb = function(a, b, c) {
        if (b.layoutId === this.layout.layoutId) switch (this.l = "not_rendering", this.G = void 0, nra(this.Xb.get()), this.Cn(!0), this.pA(c), this.D(0), c) {
            case "abandoned":
                var d;
                if (this.i.i.has("impression")) {
                    c7(this.i, "abandon");
                    var e = (null === (d = m7(this)) || void 0 === d ? void 0 : d.abandonCommands) || [];
                    this.u.get().Qb(e, this.layout.layoutId)
                }
                break;
            case "normal":
                c7(this.i, "complete");
                d = (null === (e = m7(this)) || void 0 === e ? void 0 : e.completeCommands) || [];
                this.u.get().Qb(d, this.layout.layoutId);
                break;
            case "skipped":
                var f;
                c7(this.i, "skip");
                d = (null === (f = m7(this)) || void 0 === f ? void 0 : f.skipCommands) || [];
                this.u.get().Qb(d, this.layout.layoutId)
        }
    };
    h.Xg = function(a) {
        if ("not_rendering" !== this.l) {
            this.X || (a = new vP(a.state, new tQ), this.X = !0);
            var b = 2 === this.Ba.get().getPresentingPlayerType();
            "rendering_start_requested" === this.l ? b && j7(a) && this.T() : b ? iN(a, 2) ? this.Sw() : (j7(a) ? this.D(1) : iN(a, 4) && !iN(a, 2) && this.ez(), 0 > wP(a, 4) && !(0 > wP(a, 2)) && this.fz()) : this.eq()
        }
    };
    h.Gq = function() {
        var a;
        if ("rendering" === this.l) {
            c7(this.i, "active_view_measurable");
            var b = (null === (a = m7(this)) || void 0 === a ? void 0 : a.activeViewMeasurableCommands) || [];
            this.u.get().Qb(b, this.layout.layoutId)
        }
    };
    h.Fq = function() {
        var a;
        if ("rendering" === this.l) {
            c7(this.i, "active_view_fully_viewable_audible_half_duration");
            var b = (null === (a = m7(this)) || void 0 === a ? void 0 : a.activeViewFullyViewableAudibleHalfDurationCommands) || [];
            this.u.get().Qb(b, this.layout.layoutId)
        }
    };
    h.Hq = function() {
        var a;
        if ("rendering" === this.l) {
            c7(this.i, "active_view_viewable");
            var b = (null === (a = m7(this)) || void 0 === a ? void 0 : a.activeViewViewableCommands) || [];
            this.u.get().Qb(b, this.layout.layoutId)
        }
    };
    h.Cn = function(a) {
        this.Xb.get().Cn(W(this.layout.xa, "metadata_type_ad_placement_config").kind, a, this.position, this.va, !1)
    };
    h.Ef = function(a) {
        var b, c;
        "rendering" === this.l && (a ? (this.i.Kd("fullscreen"), a = (null === (b = m7(this)) || void 0 === b ? void 0 : b.fullscreenCommands) || [], this.u.get().Qb(a, this.layout.layoutId)) : (this.i.Kd("end_fullscreen"), a = (null === (c = m7(this)) || void 0 === c ? void 0 : c.endFullscreenCommands) || [], this.u.get().Qb(a, this.layout.layoutId)))
    };
    h.Gf = function() {
        var a, b;
        if ("rendering" === this.l)
            if (this.Ba.get().isMuted()) {
                this.i.Kd("mute");
                var c = (null === (a = m7(this)) || void 0 === a ? void 0 : a.muteCommands) || [];
                this.u.get().Qb(c, this.layout.layoutId)
            } else this.i.Kd("unmute"), c = (null === (b = m7(this)) || void 0 === b ? void 0 : b.unmuteCommands) || [], this.u.get().Qb(c, this.layout.layoutId)
    };
    h.Ff = function() {};
    h.pg = function() {};

    function o7(a, b, c, d, e, f, g, k, l, m, n, p, q, r, u) {
        l7.call(this, a, b, c, d, e, f, g, l, m, n, p, q, r, u);
        var x = this;
        this.Eb = k;
        this.Zt = !0;
        this.I = this.B = 0;
        this.C = new Fh(200);
        this.C.jd("tick", function() {
            x.md()
        });
        E(this, this.C)
    }
    v(o7, l7);

    function Sua() {
        for (var a = ["METADATA_TYPE_MEDIA_BREAK_LAYOUT_DURATION_MILLISECONDS"], b = t(b7()), c = b.next(); !c.done; c = b.next()) a.push(c.value);
        return {
            Md: a,
            Bf: ["LAYOUT_TYPE_MEDIA_BREAK"]
        }
    }
    h = o7.prototype;
    h.Yn = function() {};
    h.Lo = function() {
        var a = this.Pa.get();
        a.fl === this && (a.fl = null)
    };
    h.To = function() {
        this.Pa.get().fl = this;
        this.T()
    };
    h.oA = function() {
        Tua(this)
    };
    h.Sw = function() {};
    h.Xk = function() {
        this.C.stop();
        l7.prototype.ez.call(this)
    };
    h.bl = function() {
        Tua(this);
        l7.prototype.fz.call(this)
    };

    function Tua(a) {
        a.I = Date.now();
        p7(a, a.B);
        a.C.start()
    }
    h.Zl = function() {
        return W(this.Fb().xa, "METADATA_TYPE_MEDIA_BREAK_LAYOUT_DURATION_MILLISECONDS")
    };
    h.My = function() {
        return this.B / 1E3
    };
    h.Uo = function() {
        this.C.stop()
    };
    h.md = function() {
        var a = Date.now(),
            b = a - this.I;
        this.I = a;
        this.B += b;
        this.B >= this.Zl() ? (this.B = this.Zl(), n7(this, this.B / 1E3, !0), p7(this, this.B), this.J()) : (n7(this, this.B / 1E3), p7(this, this.B))
    };

    function p7(a, b) {
        b = {
            current: b / 1E3,
            duration: a.Zl() / 1E3
        };
        a.Eb.get().Ja("onAdPlaybackProgress", b)
    }
    h.pA = function() {};
    h.Tf = function() {};

    function q7(a, b, c, d, e, f, g, k, l, m, n, p, q, r, u, x, z, D, H, O) {
        l7.call(this, a, b, c, d, e, l, n, q, r, x, z, D, H, O);
        var M = this;
        this.ra = f;
        this.dc = g;
        this.U = k;
        this.I = m;
        this.Eb = p;
        this.ya = u;
        this.adCpn = "";
        this.C = new dr(function() {
            M.Do("load_timeout", new x5("Media layout load timeout.", {}, !0))
        }, 1E4)
    }
    v(q7, l7);

    function Uua() {
        for (var a = ["metadata_type_player_vars", "metadata_type_player_bytes_callback_ref"], b = t(b7()), c = b.next(); !c.done; c = b.next()) a.push(c.value);
        return {
            Md: a,
            Bf: ["LAYOUT_TYPE_MEDIA"]
        }
    }
    h = q7.prototype;
    h.Yn = function() {
        W(this.Fb().xa, "metadata_type_player_bytes_callback_ref").current = this
    };
    h.Lo = function() {
        W(this.Fb().xa, "metadata_type_player_bytes_callback_ref").current = null;
        this.B && this.I.get().removeCueRange(this.B);
        this.B = void 0;
        this.C.dispose()
    };
    h.To = function(a) {
        var b = W(a.xa, "metadata_type_ad_video_id"),
            c = W(a.xa, "metadata_type_legacy_info_card_vast_extension");
        b && c && this.ya.get().S.Y().G.add(b, {
            Ox: c
        });
        (b = W(a.xa, "metadata_type_sodar_extension_data")) && Fua(this.ra.get(), b);
        Dua(this.Ba.get(), !1);
        b = this.dc.get();
        a = W(a.xa, "metadata_type_player_vars");
        b.S.cueVideoByPlayerVars(a, 2);
        this.C.start();
        this.dc.get().S.playVideo(2)
    };
    h.oA = function() {
        var a;
        this.C.stop();
        this.B = "adcompletioncuerange:" + this.Fb().layoutId;
        this.I.get().addCueRange(this.B, 0x7ffffffffffff, 0x8000000000000, !1, this, 1, 2);
        (this.adCpn = (null === (a = h_(this.U.get(), 2)) || void 0 === a ? void 0 : a.clientPlaybackNonce) || "") || V("Media layout confirmed started, but ad CPN not set.");
        this.Eb.get().Ja("onAdStart", this.adCpn)
    };
    h.Sw = function() {
        this.J()
    };
    h.Zl = function() {
        var a;
        return null === (a = h_(this.U.get(), 2)) || void 0 === a ? void 0 : a.playbackDurationMs
    };
    h.Uo = function() {
        this.C.stop();
        Dua(this.Ba.get(), !0)
    };
    h.Hd = function(a) {
        a !== this.B ? V("Received CueRangeEnter signal for unknown layout.", this.Wc(), this.Fb(), {
            cueRangeId: a
        }) : (this.I.get().removeCueRange(this.B), this.B = void 0, a = W(this.Fb().xa, "metadata_type_video_length_seconds"), n7(this, a, !0), c7(this.i, "complete"))
    };
    h.pA = function(a) {
        "abandoned" !== a && this.Eb.get().Ja("onAdComplete");
        this.Eb.get().Ja("onAdEnd", this.adCpn)
    };
    h.Uf = function() {};
    h.Tf = function(a) {
        "rendering" === this.l && n7(this, a)
    };

    function r7(a, b, c, d, e, f, g) {
        f7.call(this, a, b, c, d, f, g);
        this.i = e
    }
    v(r7, f7);
    h = r7.prototype;
    h.Wc = function() {
        return this.i.Wc()
    };
    h.Fb = function() {
        return this.i.Fb()
    };
    h.Yn = function() {
        this.i.init()
    };
    h.Lo = function() {
        this.i.release()
    };
    h.Xk = function() {
        this.i.Xk()
    };
    h.bl = function() {
        this.i.bl()
    };
    h.Kq = function(a, b) {
        V("Unexpected onSkipRequested from PlayerBytesVodSingleLayoutRenderingAdapter.  Skip should be handled by Triggers", this.Wc(), this.Fb(), {
            requestingSlot: a,
            requestingLayout: b
        })
    };
    h.To = function(a) {
        this.i.startRendering(a)
    };
    h.Uo = function(a, b) {
        this.i.Sd(a, b)
    };
    h.tc = function(a, b) {
        this.i.tc(a, b)
    };
    h.Pb = function(a, b, c) {
        f7.prototype.Pb.call(this, a, b, c);
        this.i.Pb(a, b, c)
    };
    h.Qz = function() {
        this.i.eq()
    };
    h.Tf = function(a) {
        this.i.Tf(a)
    };
    h.zA = function(a) {
        this.i.Xg(a)
    };
    h.uc = function(a, b, c) {
        this.i.Do(a, b, c)
    };
    h.Ef = function(a) {
        this.i.Ef(a)
    };
    h.Ff = function(a) {
        this.i.Ff(a)
    };
    h.pg = function(a) {
        this.i.pg(a)
    };
    h.Gf = function() {
        this.i.Gf()
    };

    function Vua(a, b, c, d, e, f, g, k, l, m, n, p, q, r, u, x, z, D, H) {
        if (Z6(d, {
                Md: ["metadata_type_sub_layouts"],
                Bf: ["LAYOUT_TYPE_COMPOSITE_PLAYER_BYTES"]
            })) {
            var O = W(d.xa, "metadata_type_sub_layouts");
            a = new g7(a, m, p, r, b, c, d, f, e, H);
            e = [];
            for (b = {
                    vj: 0
                }; b.vj < O.length; b = {
                    vj: b.vj
                }, b.vj++) {
                var M = Wua({
                    tc: a.DG.bind(a),
                    Pb: a.FG.bind(a),
                    uc: a.EG.bind(a)
                }, c, O[b.vj], g, k, l, m, n, p, q, r, u, x, z, D, function(J) {
                    return function(ka) {
                        ka.Sd(O[J.vj], "normal")
                    }
                }(b), b.vj, O.length, H);
                if (!M) return;
                e.push(M)
            }
            a.l = e;
            return a
        }
        if (Z6(d, {
                Md: [],
                Bf: ["LAYOUT_TYPE_MEDIA", "LAYOUT_TYPE_MEDIA_BREAK"]
            })) return (c = Wua({
            tc: a.tc.bind(a),
            Pb: a.Pb.bind(a),
            uc: a.uc.bind(a)
        }, c, d, g, k, l, m, n, p, q, r, u, x, z, D, function() {
            d7(f, d.layoutId)
        }, 0, 1, H)) ? new r7(a, m, p, r, c, e, H) : c
    }

    function Wua(a, b, c, d, e, f, g, k, l, m, n, p, q, r, u, x, z, D, H) {
        if (Z6(c, Sua())) return new o7(a, b, c, d, e, l, n, p, q, r, function() {}, x, z, D, H);
        if (Z6(c, Uua())) return c.xa.i.has("metadata_type_ad_intro") ? new q7(a, b, c, d, e, f, g, k, l, m, n, p, q, r, u, function(O) {
            p.get().Ja("onAdIntroStateChange", O)
        }, x, z, D, H) : new q7(a, b, c, d, e, f, g, k, l, m, n, p, q, r, u, function(O) {
            p.get().Wf(O)
        }, x, z, D, H)
    };

    function s7(a, b, c, d, e, f, g, k, l, m, n, p, q, r, u) {
        this.Nf = a;
        this.D = b;
        this.Pa = c;
        this.C = d;
        this.I = e;
        this.dc = f;
        this.G = g;
        this.Ba = k;
        this.u = l;
        this.Xb = m;
        this.Eb = n;
        this.i = p;
        this.l = q;
        this.B = r;
        this.ma = u
    }
    s7.prototype.ge = function(a, b, c, d) {
        if (a = Vua(a, b, c, d, this.Nf, this.D, this.Pa, this.C, this.I, this.dc, this.G, this.Ba, this.u, this.Xb, this.Eb, this.i, this.l, this.B, this.ma)) return a;
        throw new x5("Unsupported layout with type: " + d.layoutType + " and client metadata: " + k5(d.xa) + " in PlayerBytesVodOnlyLayoutRenderingAdapterFactory.");
    };

    function t7(a, b, c, d, e, f, g, k) {
        C.call(this);
        this.C = a;
        this.G = b;
        this.D = c;
        this.u = d;
        this.B = e;
        this.l = f;
        this.ma = g;
        this.i = k;
        this.Zi = !0
    }
    v(t7, C);
    h = t7.prototype;
    h.tc = function(a, b) {
        var c = this;
        if (Xua(this) && "LAYOUT_TYPE_MEDIA" === b.layoutType && i5(b, this.G)) {
            var d = h_(this.i.get(), 2),
                e = this.C(b, d);
            e ? f_(this.u.get(), "OPPORTUNITY_TYPE_PLAYER_BYTES_MEDIA_LAYOUT_ENTERED", function() {
                return [pua(c.B.get(), e.contentCpn, e.cw, function(f) {
                    return c.D(f.slotId, "core", e, n5(c.l.get(), f))
                }, e.RE)]
            }) : V("Expected MediaLayout to carry valid opportunity on entered", a, b)
        }
    };
    h.Yg = function() {};
    h.hj = function() {};
    h.gf = function() {};
    h.Tk = function() {};
    h.hf = function() {};
    h.Uk = function() {};
    h.Vk = function() {};
    h.ej = function() {};
    h.Qk = function() {};
    h.Sh = function() {};
    h.Pb = function() {};

    function Xua(a) {
        var b;
        return r4(a.ma.get()) ? !0 : !(null === (b = h_(a.i.get())) || void 0 === b || !b.daiEnabled)
    };

    function Yua(a, b) {
        this.callback = a;
        this.slot = b
    }
    h = Yua.prototype;
    h.init = function() {};
    h.Wc = function() {
        return this.slot
    };
    h.Xs = function() {
        this.callback.gf(this.slot)
    };
    h.gt = function() {
        this.callback.hf(this.slot)
    };
    h.release = function() {};

    function u7() {}
    u7.prototype.ge = function(a, b) {
        return new Yua(a, b)
    };

    function Zua(a, b, c) {
        this.callback = a;
        this.slot = b;
        this.Ba = c
    }
    h = Zua.prototype;
    h.init = function() {};
    h.Wc = function() {
        return this.slot
    };
    h.Xs = function() {
        var a = this.Ba.get();
        rr(a.S.getRootNode(), "ad-showing");
        this.callback.gf(this.slot)
    };
    h.gt = function() {
        this.callback.hf(this.slot);
        var a = this.Ba.get();
        sr(a.S.getRootNode(), "ad-showing")
    };
    h.release = function() {};

    function $ua(a, b, c) {
        this.callback = a;
        this.slot = b;
        this.Ba = c
    }
    h = $ua.prototype;
    h.init = function() {};
    h.Wc = function() {
        return this.slot
    };
    h.Xs = function() {
        var a = this.Ba.get();
        rr(a.S.getRootNode(), "ad-showing");
        a = this.Ba.get();
        rr(a.S.getRootNode(), "ad-interrupting");
        this.callback.gf(this.slot)
    };
    h.gt = function() {
        this.Ba.get().Dg();
        var a = this.Ba.get();
        sr(a.S.getRootNode(), "ad-showing");
        a = this.Ba.get();
        sr(a.S.getRootNode(), "ad-interrupting");
        this.callback.hf(this.slot)
    };
    h.release = function() {
        this.Ba.get().Dg()
    };

    function v7(a) {
        this.Ba = a
    }
    v7.prototype.ge = function(a, b) {
        if (j_(b, ["metadata_type_dai"], "SLOT_TYPE_PLAYER_BYTES")) return new Zua(a, b, this.Ba);
        if (j_(b, [], "SLOT_TYPE_PLAYER_BYTES")) return new $ua(a, b, this.Ba);
        throw new X("Unsupported slot with type " + b.Za + " and client metadata: " + (k5(b.xa) + " in PlayerBytesSlotAdapterFactory."));
    };

    function w7(a, b, c, d) {
        this.category = a;
        this.trigger = b;
        this.slot = c;
        this.layout = d
    };

    function x7(a) {
        C.call(this);
        this.Mr = a;
        this.Hl = new Map
    }
    v(x7, C);

    function Lqa(a, b) {
        for (var c = [], d = t(a.Hl.values()), e = d.next(); !e.done; e = d.next()) {
            e = e.value;
            var f = e.trigger;
            f instanceof U5 && "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_SKIPPED" === e.category && f.Td === b && c.push(e)
        }
        c.length && k4(a.Mr(), c)
    }
    x7.prototype.i = function(a) {
        for (var b = [], c = t(this.Hl.values()), d = c.next(); !d.done; d = c.next()) {
            d = d.value;
            var e = d.trigger;
            e instanceof U5 && "TRIGGER_CATEGORY_LAYOUT_EXIT_USER_MUTED" === d.category && e.Td === a && b.push(d)
        }
        b.length ? k4(this.Mr(), b) : V("Mute requested but no registered triggers can be activated.")
    };

    function y7(a) {
        C.call(this);
        this.i = a;
        this.Zi = !0;
        this.l = new Map;
        this.D = new Set;
        this.B = new Set;
        this.C = new Set;
        this.G = new Set;
        this.u = new Set
    }
    v(y7, C);
    h = y7.prototype;
    h.Xf = function(a, b, c, d) {
        if (this.l.has(b.triggerId)) throw new X("Tried to register duplicate trigger for slot.");
        if (!(b instanceof u6 || b instanceof v6 || b instanceof w6 || b instanceof x6 || b instanceof y6 || b instanceof m6 || b instanceof r6 || b instanceof T5 || b instanceof Z5 || b instanceof l6 || b instanceof q6)) throw new X("Incorrect TriggerType: Tried to register trigger of type " + b.triggerType + " in AdsControlFlowEventTriggerAdapter");
        a = new w7(a, b, c, d);
        this.l.set(b.triggerId, a);
        b instanceof y6 && this.D.has(b.Se) &&
            k4(this.i(), [a]);
        b instanceof u6 && this.B.has(b.Se) && k4(this.i(), [a]);
        b instanceof r6 && this.u.has(b.Td) && k4(this.i(), [a])
    };
    h.ag = function(a) {
        this.l.delete(a.triggerId)
    };
    h.Yg = function(a) {
        this.D.add(a.slotId);
        for (var b = [], c = t(this.l.values()), d = c.next(); !d.done; d = c.next()) d = d.value, d.trigger instanceof y6 && a.slotId === d.trigger.Se && b.push(d);
        0 < b.length && k4(this.i(), b)
    };
    h.hj = function(a) {
        this.D.delete(a.slotId)
    };
    h.Tk = function(a) {
        for (var b = [], c = t(this.l.values()), d = c.next(); !d.done; d = c.next()) {
            d = d.value;
            var e = d.trigger;
            e instanceof m6 && e.Za === a.Za && e.i !== a.slotId && b.push(d)
        }
        0 < b.length && k4(this.i(), b)
    };
    h.gf = function(a) {
        this.B.add(a.slotId);
        for (var b = [], c = t(this.l.values()), d = c.next(); !d.done; d = c.next()) d = d.value, d.trigger instanceof u6 && a.slotId === d.trigger.Se && b.push(d);
        0 < b.length && k4(this.i(), b)
    };
    h.hf = function(a) {
        this.B.delete(a.slotId);
        this.C.add(a.slotId);
        for (var b = [], c = t(this.l.values()), d = c.next(); !d.done; d = c.next())
            if (d = d.value, d.trigger instanceof v6) a.slotId === d.trigger.Se && b.push(d);
            else if (d.trigger instanceof q6) {
            var e = d.trigger;
            a.slotId === e.slotId && this.u.has(e.Td) && b.push(d)
        }
        0 < b.length && k4(this.i(), b)
    };
    h.Uk = function(a) {
        for (var b = [], c = t(this.l.values()), d = c.next(); !d.done; d = c.next()) d = d.value, d.trigger instanceof w6 && a.slotId === d.trigger.Se && b.push(d);
        0 < b.length && k4(this.i(), b)
    };
    h.Vk = function(a) {
        for (var b = [], c = t(this.l.values()), d = c.next(); !d.done; d = c.next()) d = d.value, d.trigger instanceof x6 && a.slotId === d.trigger.Se && b.push(d);
        0 < b.length && k4(this.i(), b)
    };
    h.ej = function(a, b) {
        this.G.add(b.layoutId)
    };
    h.Qk = function(a, b) {
        this.G.delete(b.layoutId)
    };
    h.tc = function(a, b) {
        this.u.add(b.layoutId);
        for (var c = [], d = t(this.l.values()), e = d.next(); !e.done; e = d.next())
            if (e = e.value, e.trigger instanceof r6) b.layoutId === e.trigger.Td && c.push(e);
            else if (e.trigger instanceof l6) {
            var f = e.trigger;
            a.Za === f.Za && b.layoutType === f.layoutType && b.layoutId !== f.i && c.push(e)
        } else e.trigger instanceof q6 && (f = e.trigger, b.layoutId === f.Td && this.C.has(f.slotId) && c.push(e));
        0 < c.length && k4(this.i(), c)
    };
    h.Pb = function(a, b, c) {
        this.u.delete(b.layoutId);
        a = [];
        for (var d = t(this.l.values()), e = d.next(); !e.done; e = d.next()) e = e.value, e.trigger instanceof T5 && b.layoutId === e.trigger.Td && a.push(e), e.trigger instanceof Z5 && b.layoutId === e.trigger.Td && "error" === c && a.push(e);
        0 < a.length && k4(this.i(), a)
    };
    h.Sh = function() {};
    h.Df = function() {
        this.C.clear()
    };
    h.Vg = function() {};

    function z7(a, b, c) {
        C.call(this);
        var d = this;
        this.l = a;
        this.ma = c;
        this.i = new Map;
        b.get().addListener(this);
        Qf(this, function() {
            b.get().removeListener(d)
        })
    }
    v(z7, C);
    z7.prototype.Xf = function(a, b, c, d) {
        if (this.i.has(b.triggerId)) throw new X("Tried to register duplicate trigger for slot.");
        if (!(b instanceof k_ || b instanceof t6)) throw new X("Incorrect TriggerType: Tried to register trigger of type " + b.triggerType + " in ContentPlaybackLifecycleTriggerAdapter");
        this.i.set(b.triggerId, new w7(a, b, c, d))
    };
    z7.prototype.ag = function(a) {
        this.i.delete(a.triggerId)
    };
    z7.prototype.Df = function(a, b, c, d) {
        b = [];
        for (var e = b.push, f = e.apply, g = [], k = t(this.i.values()), l = k.next(); !l.done; l = k.next()) l = l.value, l.trigger instanceof k_ && l.trigger.sj === a && g.push(l);
        f.call(e, b, ha(g));
        b.push.apply(b, ha(ava(this.ma, d, this.i, a, !1, c)));
        b.length && k4(this.l(), b)
    };
    z7.prototype.Vg = function(a) {
        var b = [];
        b.push.apply(b, ha(ava(this.ma, [], this.i, a, !0, !1)));
        b.length && k4(this.l(), b)
    };

    function ava(a, b, c, d, e, f) {
        var g = [];
        a = m_(a.get(), b);
        c = t(c.values());
        for (b = c.next(); !b.done; b = c.next())
            if (b = b.value, b.trigger instanceof t6) {
                var k = b.trigger.i === d;
                k === e ? g.push(b) : a && f && k && (V("Firing OnNewPlaybackAfterContentVideoIdTrigger from presumed cached playback CPN match.", void 0, void 0, {
                    cpn: d
                }), g.push(b))
            } return g
    };

    function A7(a, b, c, d) {
        C.call(this);
        var e = this;
        this.u = a;
        this.B = b;
        this.Ba = c;
        this.C = d;
        this.i = new Map;
        this.l = new Set;
        c.get().addListener(this);
        Qf(this, function() {
            c.get().removeListener(e)
        })
    }
    v(A7, C);
    h = A7.prototype;
    h.Xf = function(a, b, c, d) {
        if (this.i.has(b.triggerId)) throw new X("Tried to register duplicate trigger for slot.");
        var e = "adtriggercuerange:" + b.triggerId;
        if (b instanceof g6) B7(this, a, b, c, d, e, b.i.start, b.i.end, b.sj, b.visible);
        else if (b instanceof s6) B7(this, a, b, c, d, e, b.i.start, b.i.end, b.sj, !1);
        else if (b instanceof p6) B7(this, a, b, c, d, e, 0x7ffffffffffff, 0x8000000000000, b.sj, b.visible);
        else throw new X("Incorrect TriggerType: Tried to register trigger of type " + b.triggerType + " in CueRangeTriggerAdapter");
    };
    h.ag = function(a) {
        var b = this.i.get(a.triggerId);
        b && this.B.get().removeCueRange(b.Dp);
        this.i.delete(a.triggerId)
    };
    h.Hd = function(a) {
        if (a = bva(this, a))
            if (a = this.i.get(a))
                if (Q(K6(this.Ba.get()), 32)) this.l.add(a.Dp);
                else {
                    var b = null === a || void 0 === a ? void 0 : a.bundle.trigger;
                    (b instanceof g6 || b instanceof p6) && k4(this.u(), [a.bundle])
                }
    };
    h.Uf = function(a) {
        if (a = bva(this, a))
            if (a = this.i.get(a)) this.l.delete(a.Dp), a.bundle.trigger instanceof s6 && k4(this.u(), [a.bundle])
    };
    h.Xg = function(a) {
        if (0 > wP(a, 16)) {
            a = t(this.l);
            for (var b = a.next(); !b.done; b = a.next()) this.Hd(b.value);
            this.l.clear()
        }
    };

    function B7(a, b, c, d, e, f, g, k, l, m) {
        if (h_(a.C.get(), 1).clientPlaybackNonce !== l) throw new X("Cannot register CueRange-based trigger for different content CPN", {
            trigger: c
        });
        a.i.set(c.triggerId, {
            bundle: new w7(b, c, d, e),
            Dp: f
        });
        a.B.get().addCueRange(f, g, k, m, a)
    }

    function bva(a, b) {
        a = t(a.i.entries());
        for (var c = a.next(); !c.done; c = a.next()) {
            var d = t(c.value);
            c = d.next().value;
            d = d.next().value;
            if (b === d.Dp) return c
        }
        return ""
    }
    h.Tf = function() {};
    h.Ef = function() {};
    h.Ff = function() {};
    h.pg = function() {};
    h.Gf = function() {};

    function C7(a) {
        C.call(this);
        this.B = a;
        this.Zi = !0;
        this.i = new Map;
        this.u = this.l = null
    }
    v(C7, C);
    h = C7.prototype;
    h.Xf = function(a, b, c, d) {
        if (this.i.has(b.triggerId)) throw new X("Tried to register duplicate trigger for slot.");
        if (!(b instanceof W5)) throw new X("Incorrect TriggerType: Tried to register trigger of type " + b.triggerType + " in OnLayoutSelfRequestedTriggerAdapter");
        this.i.set(b.triggerId, new w7(a, b, c, d))
    };
    h.ag = function(a) {
        this.i.delete(a.triggerId)
    };
    h.Ji = function() {};
    h.Eg = function() {};
    h.tc = function(a, b) {
        "SLOT_TYPE_ABOVE_FEED" === a.Za && (null != this.l ? V("called onLayoutEntered with AboveFeedSlot but there is already a layout entered") : this.l = b.layoutId)
    };
    h.Pb = function(a) {
        "SLOT_TYPE_ABOVE_FEED" === a.Za && (this.l = null)
    };
    h.Yg = function() {};
    h.hj = function() {};
    h.Tk = function() {};
    h.gf = function(a) {
        "SLOT_TYPE_ABOVE_FEED" === a.Za && (null != this.u ? V("called onSlotEntered with AboveFeedSlot but there is already a slot entered") : this.u = a.slotId)
    };
    h.hf = function(a) {
        "SLOT_TYPE_ABOVE_FEED" === a.Za && (null === this.u ? V("called onSlotExited with AboveFeedSlot but there is no entered slot") : this.u = null)
    };
    h.Uk = function() {};
    h.Vk = function() {};
    h.ej = function() {};
    h.Qk = function() {};
    h.Sh = function() {};
    h.Ap = function() {
        null != this.l && d7(this, this.l)
    };
    h.Ip = function() {
        if (null === this.u) {
            for (var a = [], b = t(this.i.values()), c = b.next(); !c.done; c = b.next());
            a.length && k4(this.B(), a)
        }
    };

    function d7(a, b) {
        for (var c = [], d = t(a.i.values()), e = d.next(); !e.done; e = d.next())
            if (e = e.value, e.trigger instanceof W5) {
                var f;
                if (f = e.trigger.layoutId === b) f = (f = Rsa.get(e.category)) ? "normal" === f : !1;
                f && c.push(e)
            } c.length && k4(a.B(), c)
    };

    function D7(a) {
        C.call(this);
        this.l = a;
        this.Zi = !0;
        this.i = new Map
    }
    v(D7, C);
    h = D7.prototype;
    h.Sh = function(a, b) {
        for (var c = [], d = t(this.i.values()), e = d.next(); !e.done; e = d.next()) {
            e = e.value;
            var f = e.trigger;
            f.opportunityType === a && (f.associatedSlotId && f.associatedSlotId !== b || c.push(e))
        }
        c.length && k4(this.l(), c)
    };
    h.Xf = function(a, b, c, d) {
        if (this.i.has(b.triggerId)) throw new X("Tried to register duplicate trigger for slot.");
        if (!(b instanceof lua)) throw new X("Incorrect TriggerType: Tried to register trigger of type " + b.triggerType + " in OpportunityEventTriggerAdapter");
        this.i.set(b.triggerId, new w7(a, b, c, d))
    };
    h.ag = function(a) {
        this.i.delete(a.triggerId)
    };
    h.Yg = function() {};
    h.hj = function() {};
    h.Tk = function() {};
    h.gf = function() {};
    h.hf = function() {};
    h.Uk = function() {};
    h.Vk = function() {};
    h.ej = function() {};
    h.Qk = function() {};
    h.tc = function() {};
    h.Pb = function() {};

    function E7(a, b, c, d, e, f) {
        C.call(this);
        this.u = a;
        this.B = b;
        this.C = c;
        this.G = d;
        this.ma = e;
        this.D = f;
        this.i = this.l = null;
        this.B.get().addListener(this)
    }
    v(E7, C);
    E7.prototype.Da = function() {
        this.B.get().removeListener(this);
        C.prototype.Da.call(this)
    };

    function $qa(a, b, c, d, e) {
        var f = b6(a.D.get(), "SLOT_TYPE_PLAYER_BYTES");
        a.l = {
            slotId: f,
            Za: "SLOT_TYPE_PLAYER_BYTES",
            slotPhysicalPosition: 1,
            Gb: void 0,
            Lb: [],
            Kb: [],
            Ra: "surface",
            xa: new j5([])
        };
        a.i = {
            layoutId: b,
            layoutType: "LAYOUT_TYPE_MEDIA",
            ac: new Map,
            Ec: [],
            Vb: [],
            Rb: [],
            Wb: [],
            Ra: "surface",
            xa: new j5(c),
            Yb: Zsa(o5(a.C.get()), f, "SLOT_TYPE_PLAYER_BYTES", 1, "surface", void 0, [], [], b, "LAYOUT_TYPE_MEDIA", "surface"),
            adLayoutLoggingData: e
        };
        d && (B5(a.u(), a.l, a.i), C5(a.u(), a.l, a.i))
    };

    function F7(a) {
        this.Ai = a
    }
    F7.prototype.fetch = function(a) {
        var b = a.iy;
        return this.Ai.fetch(a.FB, {
            Gn: void 0 === a.Gn ? void 0 : a.Gn,
            Vc: b
        }).then(function(c) {
            return cva(c, b)
        })
    };

    function cva(a, b) {
        if (!a) return {
            Bh: [],
            Km: !0
        };
        a.trackingParams && oR(nR(), a.trackingParams);
        if (a.adThrottled) return {
            Bh: [],
            Km: !0
        };
        a = a.playerAds;
        if (!a || !a.length) return {
            Bh: [],
            Km: !1
        };
        a = a.map(function(d) {
            return d.adPlacementRenderer
        }).filter(function(d) {
            return !(!d || !d.renderer)
        });
        if (!a.length) return {
            Bh: [],
            Km: !1
        };
        if (0 < b.end) {
            var c = b.end.toString();
            a.forEach(function(d) {
                (d = d.config && d.config.adPlacementConfig) && "AD_PLACEMENT_KIND_MILLISECONDS" === d.kind && d.adTimeOffset && "-1" === d.adTimeOffset.offsetEndMilliseconds && d.adTimeOffset.offsetEndMilliseconds !== c && (d.adTimeOffset.offsetEndMilliseconds = c)
            })
        }
        return {
            Bh: a,
            Km: !1
        }
    };

    function G7(a) {
        this.S = a
    };

    function H7(a) {
        this.S = a
    };

    function I7() {
        this.listeners = []
    }
    I7.prototype.addListener = function(a) {
        this.listeners.push(a)
    };
    I7.prototype.removeListener = function(a) {
        this.listeners = this.listeners.filter(function(b) {
            return b !== a
        })
    };

    function dva(a, b, c, d, e, f, g, k, l) {
        this.slot = a;
        this.layout = b;
        this.callback = c;
        this.D = d;
        this.B = e;
        this.G = f;
        this.l = g;
        this.Pa = k;
        this.ma = l;
        this.C = this.i = null;
        this.u = !1
    }
    h = dva.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.init = function() {
        var a = this,
            b, c, d = W(this.layout.xa, "metadata_type_instream_ad_player_overlay_renderer"),
            e = null === (b = d.skipOrPreviewRenderer) || void 0 === b ? void 0 : b.skipAdRenderer;
        this.i = Object.assign(Object.assign(Object.assign({}, Jqa(this.layout, this.ma.get())), i4(this.l.get(), this.layout.layoutId)), Kqa(this.slot, this.layout, this.l.get(), this.D, function() {
            return a.u
        }, e));
        if (d = null === (c = d.adInfoRenderer) || void 0 === c ? void 0 : c.adHoverTextButtonRenderer) K0(this.i, d, function(f) {
            a.l.get().executeCommand(f, a.layout.layoutId)
        }, function(f) {
            f5(a.Pa.get(), f, a.layout.layoutId)
        }, function(f) {
            V(f, a.slot, a.layout)
        }), d = W(this.layout.xa, "metadata_type_ad_pod_info"), e = W(this.layout.xa, "metadata_type_ad_video_id"), this.i.attributionInfo = M0(d, e), this.C = W(this.layout.xa, "metadata_type_ad_info_ad_metadata")
    };
    h.release = function() {
        this.i = null
    };
    h.startRendering = function(a) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to start rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : null == this.i ? this.callback.uc(this.slot, a, new x5("Tried to start rendering before AdInfo is initialized.")) : (J7(this.B.get(), this.i), W(this.layout.xa, "metadata_ad_video_is_listed") && this.G.get().S.Ja("onAdMetadataAvailable", this.C), this.callback.tc(this.slot,
            a))
    };
    h.Sd = function(a, b) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to stop rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : (K7(this.B.get()), this.u = !0, this.callback.Pb(this.slot, a, b))
    };

    function eva(a, b, c, d, e, f, g, k) {
        this.slot = a;
        this.layout = b;
        this.callback = c;
        this.D = d;
        this.u = e;
        this.G = f;
        this.C = g;
        this.ma = k;
        this.B = this.i = null;
        this.l = !1
    }
    h = eva.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.init = function() {
        var a = this,
            b, c = null === (b = W(this.layout.xa, "metadata_type_instream_ad_player_overlay_renderer").skipOrPreviewRenderer) || void 0 === b ? void 0 : b.skipAdRenderer;
        this.i = Object.assign(Object.assign(Object.assign({}, Jqa(this.layout, this.ma.get())), i4(this.C.get(), this.layout.layoutId)), Kqa(this.slot, this.layout, this.C.get(), this.D, function() {
            return a.l
        }, c));
        this.B = W(this.layout.xa, "metadata_type_ad_info_ad_metadata")
    };
    h.release = function() {
        this.i = null
    };
    h.startRendering = function(a) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to start rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : this.i ? (J7(this.u.get(), this.i), W(this.layout.xa, "metadata_ad_video_is_listed") && this.G.get().S.Ja("onAdMetadataAvailable", this.B), this.callback.tc(this.slot, a)) : this.callback.uc(this.slot, a, new x5("Tried to start rendering before AdInfo is initialized."))
    };
    h.Sd = function(a, b) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to stop rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : (K7(this.u.get()), this.l = !0, this.callback.Pb(this.slot, a, b))
    };

    function L7(a, b, c, d, e, f, g, k, l, m) {
        if (m && Z6(c, {
                Md: ["metadata_type_ad_pod_info", "metadata_type_ad_video_id", "metadata_type_instream_ad_player_overlay_renderer", "metadata_type_player_bytes_callback", "metadata_type_linked_player_bytes_layout_id"],
                Bf: ["LAYOUT_TYPE_MEDIA_LAYOUT_PLAYER_OVERLAY"]
            })) return new eva(b, c, a, l, d, e, f, k);
        if (!m && Z6(c, {
                Md: ["metadata_type_ad_pod_info", "metadata_type_ad_video_id", "metadata_type_instream_ad_player_overlay_renderer", "metadata_type_player_bytes_callback", "metadata_type_linked_player_bytes_layout_id"],
                Bf: ["LAYOUT_TYPE_MEDIA_LAYOUT_PLAYER_OVERLAY"]
            })) return new dva(b, c, a, l, d, e, f, g, k)
    };

    function M7(a, b, c, d, e, f, g) {
        this.l = a;
        this.u = b;
        this.Pa = c;
        this.B = d;
        this.ma = e;
        this.i = f;
        this.isTectonic = g
    }
    M7.prototype.ge = function(a, b, c, d) {
        if (a = L7(a, c, d, this.l, this.u, this.B, this.Pa, this.ma, this.i, this.isTectonic)) return a;
        throw new x5("Unsupported layout with type: " + d.layoutType + " and client metadata: " + k5(d.xa) + " in OtherTvInPlayerLayoutRenderingAdapterFactory.");
    };
    var N7 = ["metadata_type_content_cpn", "metadata_type_player_bytes_callback_ref", "metadata_type_instream_ad_player_overlay_renderer", "metadata_type_ad_placement_config", "metadata_type_video_length_seconds"];

    function O7(a, b) {
        var c, d = null === (c = W(a.xa, "metadata_type_player_bytes_callback_ref")) || void 0 === c ? void 0 : c.current;
        if (!d) return null;
        if (a.xa.i.has("metadata_ad_video_is_listed")) var e = W(a.xa, "metadata_ad_video_is_listed");
        else b ? e = b.isListed : (V("No layout metadata nor AdPlayback specified for ad video isListed"), e = !1);
        if (a.xa.i.has("metadata_type_ad_info_ad_metadata")) var f = W(a.xa, "metadata_type_ad_info_ad_metadata");
        else b ? f = {
                channelId: b.oi,
                channelThumbnailUrl: b.Xh,
                channelTitle: b.author,
                videoTitle: b.title
            } :
            (V("No layout metadata nor AdPlayback specified for AdMetaData"), f = {
                channelId: "",
                channelThumbnailUrl: "",
                channelTitle: "",
                videoTitle: ""
            });
        return {
            cw: a.layoutId,
            contentCpn: W(a.xa, "metadata_type_content_cpn"),
            WG: d,
            instreamAdPlayerOverlayRenderer: W(a.xa, "metadata_type_instream_ad_player_overlay_renderer"),
            adPlacementConfig: W(a.xa, "metadata_type_ad_placement_config"),
            adNextParams: W(a.xa, "metadata_type_ad_next_params"),
            clickthroughEndpoint: W(a.xa, "metadata_type_ad_video_clickthrough_endpoint"),
            videoLengthSeconds: W(a.xa,
                "metadata_type_video_length_seconds"),
            Bx: W(a.xa, "metadata_type_ad_pod_info"),
            adVideoId: W(a.xa, "metadata_type_ad_video_id"),
            MD: e,
            JD: f,
            remoteSlotsData: W(a.xa, "metadata_type_remote_slots_data"),
            cF: void 0,
            RE: W(a.xa, "metadata_type_linked_in_player_slot_id"),
            nz: W(a.xa, "metadata_type_linked_in_player_layout_id"),
            daiEnabled: (null === b || void 0 === b ? void 0 : b.daiEnabled) || !1
        }
    };

    function P7(a) {
        x7.call(this, a)
    }
    v(P7, x7);
    P7.prototype.iz = function(a) {
        x7.prototype.i.call(this, a)
    };
    P7.prototype.Xf = function(a, b, c, d) {
        if (this.Hl.has(b.triggerId)) throw new X("Tried to register duplicate trigger for slot.");
        if (!(b instanceof U5 || b instanceof j4)) throw new X("Incorrect TriggerType: Tried to register trigger of type " + b.triggerType + " in AdInfoUxApiTriggerAdapter.");
        this.Hl.set(b.triggerId, new w7(a, b, c, d))
    };
    P7.prototype.ag = function(a) {
        this.Hl.delete(a.triggerId)
    };

    function Q7(a) {
        this.S = a
    }

    function J7(a, b) {
        a.S.Ja("onAdInfoChange", b)
    }

    function K7(a) {
        a.S.Ja("onAdInfoChange", null)
    };

    function R7(a) {
        this.S = a
    };

    function fva(a, b, c, d, e) {
        C.call(this);
        var f = this;
        this.U = Y(function() {
            return new j6
        });
        E(this, this.U);
        this.T = Y(function() {
            return new n6(f.U)
        });
        E(this, this.T);
        this.X = Y(function() {
            return new i6
        });
        E(this, this.X);
        this.C = Y(function() {
            return new f6(a)
        });
        E(this, this.C);
        this.D = Y(function() {
            return new z6(f.U)
        });
        E(this, this.D);
        this.Cb = Y(function() {
            return new C6
        });
        E(this, this.Cb);
        this.Sa = Y(function() {
            return new Q7(b)
        });
        E(this, this.Sa);
        this.Ta = Y(function() {
            return new R7(b)
        });
        E(this, this.Ta);
        this.bb = Y(function() {
            return new q0(b.Y())
        });
        E(this, this.bb);
        this.Z = Y(function() {
            return new Q6(e)
        });
        E(this, this.Z);
        this.Xb = Y(function() {
            return new C4(b)
        });
        E(this, this.Xb);
        this.I = Y(function() {
            return new E6(b)
        });
        E(this, this.I);
        this.dc = Y(function() {
            return new G7(b)
        });
        E(this, this.dc);
        this.Eb = Y(function() {
            return new F6(b)
        });
        E(this, this.Eb);
        this.ma = Y(function() {
            return new G6(b)
        });
        E(this, this.ma);
        this.Ka = Y(function() {
            return new F7(d)
        });
        E(this, this.Ka);
        this.u = Y(function() {
            return new p5(f.ma)
        });
        E(this, this.u);
        this.ea = Y(function() {
            return new d6(f.D, f.T, f.ma, f.u, null, 3)
        });
        E(this, this.ea);
        this.kb = Y(function() {
            return new H7(b)
        });
        E(this, this.kb);
        this.va = Y(function() {
            return new I7
        });
        E(this, this.va);
        this.l = Y(function() {
            return new O6(b, f.Cb, f.ma)
        });
        E(this, this.l);
        this.Bb = new B6(this.ma, this.u, this.l);
        E(this, this.Bb);
        this.Ba = Y(function() {
            return new P6(b)
        });
        E(this, this.Ba);
        this.Fa = Y(function() {
            return new J6(f.Ba, b)
        });
        E(this, this.Fa);
        this.Pa = Y(function() {
            return new M6(b, f.X, f.Fa, f.l)
        });
        E(this, this.Pa);
        this.zb = Y(function() {
            return new R6
        });
        E(this, this.zb);
        this.vb = new t7(O7, N7, function(k, l, m, n) {
            return o6(f.T.get(), k, l, m, n)
        }, this.C, this.D, this.u, this.ma, this.l);
        E(this, this.vb);
        this.xb = new l_(this.C, this.ea, c, this.ma, a, this.l, this.Ba);
        E(this, this.xb);
        var g = new D6(b, this.xb, this.Ba);
        this.fb = Y(function() {
            return g
        });
        this.Wg = g;
        this.Ha = new h6(this.C, this.D, this.I, this.fb);
        E(this, this.Ha);
        this.Ab = new e_(this.C, this.D, this.ea, this.l, this.Ha, c);
        E(this, this.Ab);
        this.Qa = Y(function() {
            return new X6(f.Ka, f.T, f.u)
        });
        E(this, this.Qa);
        this.J = Y(function() {
            return new Y6
        });
        E(this, this.J);
        this.G = new P7(a);
        E(this, this.G);
        this.i = new y7(a);
        E(this, this.i);
        this.ya = new z7(a, this.fb, this.ma);
        E(this, this.ya);
        this.ra = new A7(a, this.I, this.Ba, this.l);
        E(this, this.ra);
        this.B = new C7(a);
        E(this, this.B);
        this.ob = new D7(a);
        E(this, this.ob);
        this.K = Y(function() {
            return new u7
        });
        E(this, this.K);
        this.yb = Y(function() {
            return new v7(f.Ba)
        });
        E(this, this.yb);
        this.rb = Y(function() {
            return new M7(f.Sa, f.Ta, f.Pa, f.Z, f.ma, f.G, b.Y().isTectonic)
        });
        E(this, this.rb);
        this.Ma = Y(function() {
            return new $6(f.Ab)
        });
        E(this, this.Ma);
        this.jb = Y(function() {
            return new e7(f.Pa, f.B)
        });
        E(this, this.jb);
        this.ub = Y(function() {
            return new s7(a, f.B, f.Pa, f.Fa, f.zb, f.dc, f.l, f.Ba, f.I, f.Xb, f.Eb, f.bb, f.Z, f.kb, f.ma)
        });
        E(this, this.ub);
        this.Jb = new E7(a, this.va, this.u, this.l, this.ma, this.U);
        E(this, this.Jb);
        this.yc = {
            ij: new Map([
                ["OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED", this.Ab],
                ["OPPORTUNITY_TYPE_PLAYER_BYTES_MEDIA_LAYOUT_ENTERED", this.vb],
                ["OPPORTUNITY_TYPE_PLAYER_RESPONSE_RECEIVED", this.xb],
                ["OPPORTUNITY_TYPE_THROTTLED_AD_BREAK_REQUEST_SLOT_REENTRY", this.Ha]
            ]),
            Gg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.Qa],
                ["SLOT_TYPE_FORECASTING", this.J],
                ["SLOT_TYPE_IN_PLAYER", this.J],
                ["SLOT_TYPE_PLAYER_BYTES",
                    this.J
                ]
            ]),
            mf: new Map([
                ["TRIGGER_TYPE_SKIP_REQUESTED", this.G],
                ["TRIGGER_TYPE_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_LAYOUT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_LAYOUT_EXITED_FOR_REASON", this.i],
                ["TRIGGER_TYPE_ON_DIFFERENT_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_NON_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_SCHEDULED", this.i],
                ["TRIGGER_TYPE_BEFORE_CONTENT_VIDEO_ID_STARTED",
                    this.ya
                ],
                ["TRIGGER_TYPE_CONTENT_VIDEO_ID_ENDED", this.ra],
                ["TRIGGER_TYPE_MEDIA_TIME_RANGE", this.ra],
                ["TRIGGER_TYPE_ON_LAYOUT_SELF_EXIT_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_SLOT_SELF_ENTER_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_NEW_PLAYBACK_AFTER_CONTENT_VIDEO_ID", this.ya],
                ["TRIGGER_TYPE_ON_OPPORTUNITY_TYPE_RECEIVED", this.ob]
            ]),
            jh: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.K],
                ["SLOT_TYPE_FORECASTING", this.K],
                ["SLOT_TYPE_IN_PLAYER", this.K],
                ["SLOT_TYPE_PLAYER_BYTES", this.yb]
            ]),
            Qg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST",
                    this.Ma
                ],
                ["SLOT_TYPE_FORECASTING", this.jb],
                ["SLOT_TYPE_IN_PLAYER", this.rb],
                ["SLOT_TYPE_PLAYER_BYTES", this.ub]
            ])
        };
        this.listeners = [this.X.get()];
        this.bd = {
            Ab: this.Ab,
            fg: null,
            Tg: this.va.get(),
            We: this.ma.get(),
            Vh: this.Ba.get(),
            xb: this.xb,
            Sg: null,
            Cf: this.G,
            Je: this.X.get()
        }
    }
    v(fva, C);

    function gva(a, b, c, d, e) {
        C.call(this);
        var f = this;
        this.U = Y(function() {
            return new j6
        });
        E(this, this.U);
        this.T = Y(function() {
            return new n6(f.U)
        });
        E(this, this.T);
        this.X = Y(function() {
            return new i6
        });
        E(this, this.X);
        this.C = Y(function() {
            return new f6(a)
        });
        E(this, this.C);
        this.D = Y(function() {
            return new z6(f.U)
        });
        E(this, this.D);
        this.Cb = Y(function() {
            return new C6
        });
        E(this, this.Cb);
        this.Sa = Y(function() {
            return new Q7(b)
        });
        E(this, this.Sa);
        this.Ta = Y(function() {
            return new R7(b)
        });
        E(this, this.Ta);
        this.bb = Y(function() {
            return new q0(b.Y())
        });
        E(this, this.bb);
        this.Z = Y(function() {
            return new Q6(e)
        });
        E(this, this.Z);
        this.Xb = Y(function() {
            return new C4(b)
        });
        E(this, this.Xb);
        this.I = Y(function() {
            return new E6(b)
        });
        E(this, this.I);
        this.dc = Y(function() {
            return new G7(b)
        });
        E(this, this.dc);
        this.Eb = Y(function() {
            return new F6(b)
        });
        E(this, this.Eb);
        this.ma = Y(function() {
            return new G6(b)
        });
        E(this, this.ma);
        this.Ka = Y(function() {
            return new F7(d)
        });
        E(this, this.Ka);
        this.u = Y(function() {
            return new p5(f.ma)
        });
        E(this, this.u);
        this.ea = Y(function() {
            return new d6(f.D, f.T, f.ma, f.u, null, 3)
        });
        E(this, this.ea);
        this.kb = Y(function() {
            return new H7(b)
        });
        E(this, this.kb);
        this.va = Y(function() {
            return new I7
        });
        E(this, this.va);
        this.l = Y(function() {
            return new O6(b, f.Cb, f.ma)
        });
        E(this, this.l);
        this.Bb = new B6(this.ma, this.u, this.l);
        E(this, this.Bb);
        this.Ba = Y(function() {
            return new P6(b)
        });
        E(this, this.Ba);
        this.Fa = Y(function() {
            return new J6(f.Ba, b)
        });
        E(this, this.Fa);
        this.Pa = Y(function() {
            return new M6(b, f.X, f.Fa, f.l)
        });
        E(this, this.Pa);
        this.zb = Y(function() {
            return new R6
        });
        E(this, this.zb);
        this.vb = new t7(O7, N7, function(k, l, m, n) {
            return o6(f.T.get(), k, l, m, n)
        }, this.C, this.D, this.u, this.ma, this.l);
        E(this, this.vb);
        this.xb = new l_(this.C, this.ea, c, this.ma, a, this.l, this.Ba);
        E(this, this.xb);
        var g = new D6(b, this.xb, this.Ba);
        this.fb = Y(function() {
            return g
        });
        this.Wg = g;
        this.Ha = new h6(this.C, this.D, this.I, this.fb);
        E(this, this.Ha);
        this.Ab = new e_(this.C, this.D, this.ea, this.l, this.Ha, c);
        E(this, this.Ab);
        this.Qa = Y(function() {
            return new X6(f.Ka, f.T, f.u)
        });
        E(this, this.Qa);
        this.J = Y(function() {
            return new Y6
        });
        E(this, this.J);
        this.G = new P7(a);
        E(this, this.G);
        this.i = new y7(a);
        E(this, this.i);
        this.ya = new z7(a, this.fb, this.ma);
        E(this, this.ya);
        this.ra = new A7(a, this.I, this.Ba, this.l);
        E(this, this.ra);
        this.B = new C7(a);
        E(this, this.B);
        this.ob = new D7(a);
        E(this, this.ob);
        this.K = Y(function() {
            return new u7
        });
        E(this, this.K);
        this.yb = Y(function() {
            return new v7(f.Ba)
        });
        E(this, this.yb);
        this.Ma = Y(function() {
            return new $6(f.Ab)
        });
        E(this, this.Ma);
        this.jb = Y(function() {
            return new e7(f.Pa, f.B)
        });
        E(this, this.jb);
        this.rb = Y(function() {
            return new M7(f.Sa, f.Ta, f.Pa, f.Z, f.ma, f.G, b.Y().isTectonic)
        });
        E(this, this.rb);
        this.ub = Y(function() {
            return new s7(a, f.B, f.Pa, f.Fa, f.zb, f.dc, f.l, f.Ba, f.I, f.Xb, f.Eb, f.bb, f.Z, f.kb, f.ma)
        });
        E(this, this.ub);
        this.Jb = new E7(a, this.va, this.u, this.l, this.ma, this.U);
        E(this, this.Jb);
        this.yc = {
            ij: new Map([
                ["OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED", this.Ab],
                ["OPPORTUNITY_TYPE_PLAYER_BYTES_MEDIA_LAYOUT_ENTERED", this.vb],
                ["OPPORTUNITY_TYPE_PLAYER_RESPONSE_RECEIVED", this.xb],
                ["OPPORTUNITY_TYPE_THROTTLED_AD_BREAK_REQUEST_SLOT_REENTRY", this.Ha]
            ]),
            Gg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.Qa],
                ["SLOT_TYPE_FORECASTING", this.J],
                ["SLOT_TYPE_IN_PLAYER", this.J],
                ["SLOT_TYPE_PLAYER_BYTES",
                    this.J
                ]
            ]),
            mf: new Map([
                ["TRIGGER_TYPE_SKIP_REQUESTED", this.G],
                ["TRIGGER_TYPE_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_LAYOUT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_LAYOUT_EXITED_FOR_REASON", this.i],
                ["TRIGGER_TYPE_ON_DIFFERENT_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_NON_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_SCHEDULED", this.i],
                ["TRIGGER_TYPE_BEFORE_CONTENT_VIDEO_ID_STARTED",
                    this.ya
                ],
                ["TRIGGER_TYPE_CONTENT_VIDEO_ID_ENDED", this.ra],
                ["TRIGGER_TYPE_MEDIA_TIME_RANGE", this.ra],
                ["TRIGGER_TYPE_ON_LAYOUT_SELF_EXIT_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_SLOT_SELF_ENTER_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_NEW_PLAYBACK_AFTER_CONTENT_VIDEO_ID", this.ya],
                ["TRIGGER_TYPE_ON_OPPORTUNITY_TYPE_RECEIVED", this.ob]
            ]),
            jh: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.K],
                ["SLOT_TYPE_FORECASTING", this.K],
                ["SLOT_TYPE_IN_PLAYER", this.K],
                ["SLOT_TYPE_PLAYER_BYTES", this.yb]
            ]),
            Qg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST",
                    this.Ma
                ],
                ["SLOT_TYPE_FORECASTING", this.jb],
                ["SLOT_TYPE_IN_PLAYER", this.rb],
                ["SLOT_TYPE_PLAYER_BYTES", this.ub]
            ])
        };
        this.listeners = [this.X.get()];
        this.bd = {
            Ab: this.Ab,
            fg: null,
            Tg: this.va.get(),
            We: this.ma.get(),
            Vh: this.Ba.get(),
            xb: this.xb,
            Sg: null,
            Cf: this.G,
            Je: this.X.get()
        }
    }
    v(gva, C);

    function hva(a, b, c, d, e) {
        C.call(this);
        var f = this;
        this.U = Y(function() {
            return new j6
        });
        E(this, this.U);
        this.T = Y(function() {
            return new n6(f.U)
        });
        E(this, this.T);
        this.X = Y(function() {
            return new i6
        });
        E(this, this.X);
        this.C = Y(function() {
            return new f6(a)
        });
        E(this, this.C);
        this.D = Y(function() {
            return new z6(f.U)
        });
        E(this, this.D);
        this.Cb = Y(function() {
            return new C6
        });
        E(this, this.Cb);
        this.Sa = Y(function() {
            return new Q7(b)
        });
        E(this, this.Sa);
        this.Ta = Y(function() {
            return new R7(b)
        });
        E(this, this.Ta);
        this.bb = Y(function() {
            return new q0(b.Y())
        });
        E(this, this.bb);
        this.Z = Y(function() {
            return new Q6(e)
        });
        E(this, this.Z);
        this.Xb = Y(function() {
            return new C4(b)
        });
        E(this, this.Xb);
        this.I = Y(function() {
            return new E6(b)
        });
        E(this, this.I);
        this.dc = Y(function() {
            return new G7(b)
        });
        E(this, this.dc);
        this.Eb = Y(function() {
            return new F6(b)
        });
        E(this, this.Eb);
        this.ma = Y(function() {
            return new G6(b)
        });
        E(this, this.ma);
        this.Ka = Y(function() {
            return new F7(d)
        });
        E(this, this.Ka);
        this.u = Y(function() {
            return new p5(f.ma)
        });
        E(this, this.u);
        this.ea = Y(function() {
            return new d6(f.D, f.T, f.ma, f.u, null, 3)
        });
        E(this, this.ea);
        this.kb = Y(function() {
            return new H7(b)
        });
        E(this, this.kb);
        this.va = Y(function() {
            return new I7
        });
        E(this, this.va);
        this.l = Y(function() {
            return new O6(b, f.Cb, f.ma)
        });
        E(this, this.l);
        this.Bb = new B6(this.ma, this.u, this.l);
        E(this, this.Bb);
        this.Ba = Y(function() {
            return new P6(b)
        });
        E(this, this.Ba);
        this.Fa = Y(function() {
            return new J6(f.Ba, b)
        });
        E(this, this.Fa);
        this.Pa = Y(function() {
            return new M6(b, f.X, f.Fa, f.l)
        });
        E(this, this.Pa);
        this.zb = Y(function() {
            return new R6
        });
        E(this, this.zb);
        this.vb = new t7(O7, N7, function(k, l, m, n) {
            return o6(f.T.get(), k, l, m, n)
        }, this.C, this.D, this.u, this.ma, this.l);
        E(this, this.vb);
        this.xb = new l_(this.C, this.ea, c, this.ma, a, this.l, this.Ba);
        E(this, this.xb);
        var g = new D6(b, this.xb, this.Ba);
        this.fb = Y(function() {
            return g
        });
        this.Wg = g;
        this.Ha = new h6(this.C, this.D, this.I, this.fb);
        E(this, this.Ha);
        this.Ab = new e_(this.C, this.D, this.ea, this.l, this.Ha, c);
        E(this, this.Ab);
        this.Qa = Y(function() {
            return new X6(f.Ka, f.T, f.u)
        });
        E(this, this.Qa);
        this.J = Y(function() {
            return new Y6
        });
        E(this, this.J);
        this.G = new P7(a);
        E(this, this.G);
        this.i = new y7(a);
        E(this, this.i);
        this.ya = new z7(a, this.fb, this.ma);
        E(this, this.ya);
        this.ra = new A7(a, this.I, this.Ba, this.l);
        E(this, this.ra);
        this.B = new C7(a);
        E(this, this.B);
        this.ob = new D7(a);
        E(this, this.ob);
        this.K = Y(function() {
            return new u7
        });
        E(this, this.K);
        this.yb = Y(function() {
            return new v7(f.Ba)
        });
        E(this, this.yb);
        this.Ma = Y(function() {
            return new $6(f.Ab)
        });
        E(this, this.Ma);
        this.jb = Y(function() {
            return new e7(f.Pa, f.B)
        });
        E(this, this.jb);
        this.rb = Y(function() {
            return new M7(f.Sa, f.Ta, f.Pa, f.Z, f.ma, f.G, b.Y().isTectonic)
        });
        E(this, this.rb);
        this.ub = Y(function() {
            return new s7(a, f.B, f.Pa, f.Fa, f.zb, f.dc, f.l, f.Ba, f.I, f.Xb, f.Eb, f.bb, f.Z, f.kb, f.ma)
        });
        E(this, this.ub);
        this.Jb = new E7(a, this.va, this.u, this.l, this.ma, this.U);
        E(this, this.Jb);
        this.yc = {
            ij: new Map([
                ["OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED", this.Ab],
                ["OPPORTUNITY_TYPE_PLAYER_BYTES_MEDIA_LAYOUT_ENTERED", this.vb],
                ["OPPORTUNITY_TYPE_PLAYER_RESPONSE_RECEIVED", this.xb],
                ["OPPORTUNITY_TYPE_THROTTLED_AD_BREAK_REQUEST_SLOT_REENTRY", this.Ha]
            ]),
            Gg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.Qa],
                ["SLOT_TYPE_FORECASTING", this.J],
                ["SLOT_TYPE_IN_PLAYER", this.J],
                ["SLOT_TYPE_PLAYER_BYTES",
                    this.J
                ]
            ]),
            mf: new Map([
                ["TRIGGER_TYPE_SKIP_REQUESTED", this.G],
                ["TRIGGER_TYPE_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_LAYOUT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_LAYOUT_EXITED_FOR_REASON", this.i],
                ["TRIGGER_TYPE_ON_DIFFERENT_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_NON_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_SCHEDULED", this.i],
                ["TRIGGER_TYPE_BEFORE_CONTENT_VIDEO_ID_STARTED",
                    this.ya
                ],
                ["TRIGGER_TYPE_CONTENT_VIDEO_ID_ENDED", this.ra],
                ["TRIGGER_TYPE_MEDIA_TIME_RANGE", this.ra],
                ["TRIGGER_TYPE_ON_LAYOUT_SELF_EXIT_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_SLOT_SELF_ENTER_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_NEW_PLAYBACK_AFTER_CONTENT_VIDEO_ID", this.ya],
                ["TRIGGER_TYPE_ON_OPPORTUNITY_TYPE_RECEIVED", this.ob]
            ]),
            jh: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.K],
                ["SLOT_TYPE_FORECASTING", this.K],
                ["SLOT_TYPE_IN_PLAYER", this.K],
                ["SLOT_TYPE_PLAYER_BYTES", this.yb]
            ]),
            Qg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST",
                    this.Ma
                ],
                ["SLOT_TYPE_FORECASTING", this.jb],
                ["SLOT_TYPE_IN_PLAYER", this.rb],
                ["SLOT_TYPE_PLAYER_BYTES", this.ub]
            ])
        };
        this.listeners = [this.X.get()];
        this.bd = {
            Ab: this.Ab,
            fg: null,
            Tg: this.va.get(),
            We: this.ma.get(),
            Vh: this.Ba.get(),
            xb: this.xb,
            Sg: null,
            Cf: this.G,
            Je: this.X.get()
        }
    }
    v(hva, C);

    function iva(a, b, c, d, e, f, g, k, l, m) {
        this.callback = a;
        this.slot = b;
        this.layout = c;
        this.l = d;
        this.C = e;
        this.u = f;
        this.Ba = g;
        this.D = k;
        this.Pa = l;
        this.B = m;
        this.i = null;
        this.driftRecoveryMs = W(c.xa, "metadata_type_drift_recovery_ms") || null
    }
    h = iva.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.init = function() {
        var a;
        this.l.get().addListener(this);
        this.u.get().addListener(this);
        this.Ba.get().addListener(this);
        this.B.forEach(function(f) {
            f.init()
        });
        var b = W(this.layout.xa, "metadata_type_layout_enter_ms"),
            c = W(this.layout.xa, "metadata_type_layout_exit_ms"),
            d = null === (a = this.l.get().jk) || void 0 === a ? void 0 : a.clientPlaybackNonce;
        N6(this.Pa.get(), {
            daiStateTrigger: {
                filledAdsDurationMs: c - b,
                contentCpn: d,
                adClientData: this.layout.Yb.adClientDataEntry
            }
        });
        var e = jva(this.u.get(), b, c);
        null !== e && (N6(this.Pa.get(), {
                daiStateTrigger: {
                    filledAdsDurationMs: e - b,
                    contentCpn: d,
                    cueDurationChange: "DAI_CUE_DURATION_CHANGE_SHORTER",
                    adClientData: this.layout.Yb.adClientDataEntry
                }
            }),
            this.C.get().ek(e, c))
    };
    h.release = function() {
        this.i = null;
        this.B.forEach(function(a) {
            a.release()
        });
        this.l.get().removeListener(this);
        this.u.get().removeListener(this);
        this.Ba.get().removeListener(this)
    };
    h.startRendering = function() {
        var a;
        if (this.i) V("Failed to restart rendering", this.slot, this.layout);
        else {
            var b = null === (a = this.l.get().jk) || void 0 === a ? void 0 : a.layoutId;
            kva(this, b);
            this.callback.tc(this.slot, this.layout);
            c7(this.D, "ad_placement_start")
        }
    };
    h.Sd = function(a, b) {
        var c, d, e, f;
        null === (d = null === (c = this.i) || void 0 === c ? void 0 : c.yn) || void 0 === d ? void 0 : d.Sd(null === (f = null === (e = this.i) || void 0 === e ? void 0 : e.yn) || void 0 === f ? void 0 : f.Fb(), b);
        this.i = null;
        null !== this.driftRecoveryMs && (S7(this, {
            driftRecoveryMs: this.driftRecoveryMs.toString(),
            breakDurationMs: Math.round(lva(this) - W(this.layout.xa, "metadata_type_layout_enter_ms")).toString(),
            driftFromHeadMs: Math.round(1E3 * this.Ba.get().S.Mi()).toString()
        }), this.driftRecoveryMs = null);
        this.callback.Pb(this.slot,
            this.layout, b);
        "normal" !== b ? a = !1 : (a = this.Ba.get().getCurrentTimeSec(2, !0), b = W(this.layout.xa, "metadata_type_layout_exit_ms") / 1E3, a = 1 >= Math.abs(a - b));
        a && c7(this.D, "ad_placement_end")
    };
    h.vA = function(a) {
        a = a.layoutId;
        var b, c, d;
        this.i && (null === (b = this.i.yn) || void 0 === b ? void 0 : b.Fb().layoutId) !== a && (null === (c = this.i.yn) || void 0 === c ? void 0 : c.Sd(null === (d = this.i.yn) || void 0 === d ? void 0 : d.Fb(), "normal"), kva(this, a))
    };
    h.rA = function() {};
    h.gA = function(a) {
        var b, c = W(this.layout.xa, "metadata_type_layout_enter_ms"),
            d = W(this.layout.xa, "metadata_type_layout_exit_ms");
        a *= 1E3;
        c <= a && a < d && (N6(this.Pa.get(), {
            daiStateTrigger: {
                filledAdsDurationMs: a - c,
                contentCpn: null === (b = this.l.get().jk) || void 0 === b ? void 0 : b.clientPlaybackNonce,
                cueDurationChange: "DAI_CUE_DURATION_CHANGE_SHORTER",
                adClientData: this.layout.Yb.adClientDataEntry
            }
        }), this.C.get().ek(a, d))
    };
    h.Tf = function() {
        var a = this.Ba.get().getCurrentTimeSec(2, !0);
        if (this.i) {
            var b = W(this.layout.xa, "metadata_type_layout_enter_ms"),
                c = this.driftRecoveryMs;
            if (!(null === c || 1E3 * a < b + c)) {
                this.driftRecoveryMs = null;
                var d = lva(this),
                    e = this.Ba.get().S.Mi(),
                    f = Math.min(a + e, d / 1E3);
                f <= a ? S7(this, {
                    driftRecoveryMs: c.toString(),
                    breakDurationMs: Math.round(d - b).toString(),
                    driftFromHeadMs: Math.round(1E3 * e).toString()
                }) : (S7(this, {
                    driftRecoveryMs: c.toString(),
                    breakDurationMs: Math.round(d - b).toString(),
                    driftFromHeadMs: Math.round(1E3 *
                        e).toString(),
                    appliedDriftRecoveryMs: Math.round(1E3 * a - b).toString(),
                    destinationMs: Math.round(1E3 * f - b).toString()
                }), this.Ba.get().S.seekTo(f, void 0, void 0, 1))
            }
        }
    };
    h.Xg = function() {};
    h.Ef = function() {};
    h.Ff = function() {};
    h.pg = function() {};
    h.Gf = function() {};

    function kva(a, b) {
        b = mva(a, b);
        a.i = {
            yn: b
        };
        b && b.startRendering(b.Fb())
    }

    function lva(a) {
        var b = W(a.layout.xa, "metadata_type_layout_enter_ms"),
            c = W(a.layout.xa, "metadata_type_layout_exit_ms");
        a = jva(a.u.get(), b, c);
        return Math.min(c, null !== a ? a : Infinity)
    }

    function mva(a, b) {
        return null == b ? null : a.B.find(function(c) {
            return c.Fb().layoutId === b
        }) || null
    }

    function S7(a, b) {
        var c;
        N6(a.Pa.get(), {
            driftRecoveryInfo: Object.assign({
                contentCpn: null === (c = a.l.get().jk) || void 0 === c ? void 0 : c.clientPlaybackNonce,
                adClientData: a.layout.Yb.adClientDataEntry
            }, b)
        })
    };

    function nva(a, b, c, d, e, f, g, k, l, m) {
        this.callback = a;
        this.slot = b;
        this.layout = c;
        this.u = d;
        this.i = e;
        this.Ba = f;
        this.D = g;
        this.B = k;
        this.C = l;
        this.ma = m;
        this.Zt = !0;
        this.l = null
    }
    h = nva.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.init = function() {
        W(this.layout.xa, "metadata_type_player_bytes_callback_ref").current = this;
        var a = W(this.layout.xa, "metadata_type_video_length_seconds"),
            b = W(this.layout.xa, "metadata_type_player_vars"),
            c = W(this.layout.xa, "metadata_type_layout_enter_ms"),
            d = W(this.layout.xa, "metadata_type_layout_exit_ms"),
            e = 1E3 * a;
        if (d - c)
            if (b = this.u.get().Kl(b, 2, e, c, d, this.slot.slotId)) {
                var f = this.D.get(),
                    g = this.slot.slotId,
                    k = this.layout.layoutId;
                b ? (f.i.has(b) && V("Unexpected remap of timeline playback"), f.i.set(b, {
                    slotId: g,
                    layoutId: k
                })) : V("Invalid timeline playback ID");
                c + e > d && (c = d - c, this.u.get().Nm(b, c))
            } else c = this.slot, d = this.layout, e = Object, b = e.assign, f = Object.assign({}, T7(this.layout)), g = W(this.slot.xa, "metadata_type_fulfilled_layout"), g = Object.assign(Object.assign({}, T7(g)), {
                adPlacementConfig: W(g.xa, "metadata_type_ad_placement_config"),
                subLayouts: W(g.xa, "metadata_type_sub_layouts").map(T7)
            }), V("Unexpected failure to add to playback timeline", c, d, b.call(e, f, {
                compositeLayout: g
            }));
        else this.u.get().Zn(b, 2, e, c, d,
            this.slot.slotId);
        this.Ba.get().addListener(this);
        uua(this.B.get(), this.layout.layoutId, a, this);
        B5(this.callback, this.slot, this.layout)
    };
    h.release = function() {
        this.Ba.get().removeListener(this);
        vua(this.B.get(), this.layout.layoutId)
    };
    h.startRendering = function() {
        if (this.l) V("Expected the layout not to be entered before start rendering", this.slot, this.layout);
        else {
            this.l = {
                qq: null,
                bB: !1
            };
            var a = W(this.layout.xa, "metadata_type_sodar_extension_data");
            if (a) try {
                Fua(this.C.get(), a)
            } catch (b) {
                V("Unexpected error when loading Sodar", this.slot, this.layout, {
                    error: b
                })
            }
            c7(this.i, "start");
            H6(this.ma.get()) && (a = K6(this.Ba.get()), a = new vP(a, new tQ), ova(this, this.l, a));
            C5(this.callback, this.slot, this.layout)
        }
    };
    h.Sd = function(a, b) {
        this.l ? (H6(this.ma.get()) && pva(this, null, this.l), this.l = null, w4(this.callback, this.slot, this.layout, b)) : V("Expected the layout to be entered before stop rendering", this.slot, this.layout)
    };
    h.Do = function() {};
    h.eq = function() {};
    h.Tf = function(a) {
        if (this.l) {
            if (this.i.i.has("impression")) {
                var b = K6(this.Ba.get());
                qva(this, b, a, this.l.qq)
            }
            this.l.qq = a
        }
    };
    h.Xg = function(a) {
        this.l && (H6(this.ma.get()) || this.l.bB || (this.l.bB = !0, a = new vP(a.state, new tQ)), ova(this, this.l, a))
    };

    function ova(a, b, c) {
        var d = a.Ba.get().getCurrentTimeSec(2, !1);
        j7(c) && k7(d, 0, null) && c7(a.i, "impression");
        a.i.i.has("impression") && (iN(c, 4) && !iN(c, 2) && a.i.Kd("pause"), 0 > wP(c, 4) && !(0 > wP(c, 2)) && a.i.Kd("resume"), iN(c, 16) && .5 <= a.Ba.get().getCurrentTimeSec(2, !1) && a.i.Kd("seek"), iN(c, 2) && pva(a, c.state, b))
    }

    function pva(a, b, c) {
        var d, e = W(a.layout.xa, "metadata_type_video_length_seconds"),
            f = H6(a.ma.get()) ? null !== (d = c.qq) && void 0 !== d ? d : 0 : a.Ba.get().getCurrentTimeSec(2, !1),
            g = 1 >= Math.abs(e - f);
        qva(a, b, g ? e : f, c.qq);
        g && c7(a.i, "complete")
    }
    h.Ef = function(a) {
        this.i.i.has("impression") && this.i.Kd(a ? "fullscreen" : "end_fullscreen")
    };
    h.Ff = function() {};
    h.pg = function() {};
    h.Kq = function() {};
    h.Gf = function() {};
    h.tc = function() {};
    h.Pb = function() {};
    h.Xk = function() {};
    h.bl = function() {};
    h.Gq = function() {
        this.i.Kd("active_view_measurable")
    };
    h.Fq = function() {
        this.i.i.has("impression") && !this.i.i.has("seek") && this.i.Kd("active_view_fully_viewable_audible_half_duration")
    };
    h.Hq = function() {
        this.i.i.has("impression") && !this.i.i.has("seek") && this.i.Kd("active_view_viewable")
    };

    function qva(a, b, c, d) {
        Kua(a.i, 1E3 * c);
        var e = W(a.layout.xa, "metadata_type_video_length_seconds");
        0 >= e || 0 >= c || (null === b || void 0 === b ? 0 : Q(b, 16)) || (null === b || void 0 === b ? 0 : Q(b, 32)) || (k7(c, .25 * e, d) && c7(a.i, "first_quartile"), k7(c, .5 * e, d) && c7(a.i, "midpoint"), k7(c, .75 * e, d) && c7(a.i, "third_quartile"))
    }

    function T7(a) {
        return {
            enterMs: W(a.xa, "metadata_type_layout_enter_ms"),
            exitMs: W(a.xa, "metadata_type_layout_exit_ms")
        }
    };

    function U7(a, b, c, d, e, f, g, k, l, m, n, p, q, r, u, x, z, D) {
        this.Nf = a;
        this.K = b;
        this.l = c;
        this.u = d;
        this.Ba = e;
        this.Pa = f;
        this.U = g;
        this.G = k;
        this.i = l;
        this.B = m;
        this.dc = n;
        this.I = p;
        this.Xb = q;
        this.Eb = r;
        this.C = u;
        this.D = x;
        this.J = z;
        this.ma = D
    }
    U7.prototype.ge = function(a, b, c, d) {
        if (c.xa.i.has("metadata_type_dai")) {
            a: {
                var e = W(d.xa, "metadata_type_sub_layouts"),
                    f = W(d.xa, "metadata_type_ad_placement_config");
                if (Z6(d, {
                        Md: ["metadata_type_layout_enter_ms", "metadata_type_drift_recovery_ms", "metadata_type_layout_exit_ms"],
                        Bf: ["LAYOUT_TYPE_COMPOSITE_PLAYER_BYTES"]
                    }) && void 0 !== e && void 0 !== f) {
                    f = [];
                    e = t(e);
                    for (var g = e.next(); !g.done; g = e.next()) {
                        g = g.value;
                        var k = W(g.xa, "metadata_type_media_sub_layout_index");
                        if (!Z6(g, {
                                Md: ["metadata_type_video_length_seconds",
                                    "metadata_type_player_vars", "metadata_type_layout_enter_ms", "metadata_type_layout_exit_ms", "metadata_type_player_bytes_callback_ref"
                                ],
                                Bf: ["LAYOUT_TYPE_MEDIA"]
                            }) || void 0 === k) {
                            a = null;
                            break a
                        }
                        k = new a7(g.ac, this.Pa, g.layoutId);
                        f.push(new nva(b, c, g, this.u, k, this.Ba, this.U, this.i, this.B, this.ma))
                    }
                    b = new a7(d.ac, this.Pa, d.layoutId);
                    a = new iva(a, c, d, this.l, this.u, this.G, this.Ba, b, this.Pa, f)
                } else a = null
            }
            if (a) return a
        }
        else if (a = Vua(a, b, c, d, this.Nf, this.K, this.Pa, this.i, this.B, this.dc, this.l, this.Ba, this.I, this.Xb,
                this.Eb, this.C, this.D, this.J, this.ma)) return a;
        throw new x5("Unsupported layout with type: " + d.layoutType + " and client metadata: " + k5(d.xa) + " in PlayerBytesLayoutRenderingAdapterFactory.");
    };

    function rva(a, b, c, d, e, f, g, k) {
        this.slot = a;
        this.layout = b;
        this.callback = c;
        this.i = d;
        this.Ba = e;
        this.l = f;
        this.B = g;
        this.u = k
    }
    h = rva.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.init = function() {
        this.Ba.get().addListener(this)
    };
    h.release = function() {
        this.Ba.get().removeListener(this)
    };
    h.startRendering = function(a) {
        if (a.layoutId !== this.layout.layoutId) this.callback.uc(this.slot, a, new x5("Tried to start rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType)));
        else {
            var b = W(a.xa, "METADATA_TYPE_VALID_INSTREAM_SURVEY_AD_RENDERER_FOR_VOD");
            b = Nqa(b, this.slot, a, this.B.get(), this.l);
            J7(this.i.get(), b);
            this.callback.tc(this.slot, a)
        }
    };
    h.Sd = function(a, b) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to stop rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType + ", but got LayoutId: " + a.layoutId + " and LayoutType: " + a.layoutType))) : (K7(this.i.get()), this.callback.Pb(this.slot, a, b))
    };
    h.pg = function(a) {
        if (450 > a.width) {
            V("Survey terminated due to player resized below minimum width.");
            a = this.u;
            for (var b = this.layout, c = [], d = t(a.i.values()), e = d.next(); !e.done; e = d.next()) e = e.value, e.trigger.i === b.layoutId && c.push(e);
            c.length && k4(a.l(), c)
        }
    };
    h.Gf = function() {};
    h.Tf = function() {};
    h.Ef = function() {};
    h.Ff = function() {};
    h.Xg = function() {};

    function sva(a, b, c, d, e, f, g, k, l) {
        this.l = a;
        this.B = b;
        this.Pa = c;
        this.u = d;
        this.Ba = e;
        this.ma = f;
        this.i = g;
        this.C = k;
        this.isTectonic = l
    }
    sva.prototype.ge = function(a, b, c, d) {
        if (b = L7(a, c, d, this.l, this.B, this.u, this.Pa, this.ma, this.i, this.isTectonic)) return b;
        if (Z6(d, {
                Md: ["METADATA_TYPE_VALID_INSTREAM_SURVEY_AD_RENDERER_FOR_VOD", "metadata_type_ad_placement_config", "metadata_type_player_bytes_layout_controls_callback_ref"],
                Bf: ["LAYOUT_TYPE_SURVEY"]
            })) return new rva(c, d, a, this.l, this.Ba, this.i, this.u, this.C);
        throw new x5("Unsupported layout with type: " + d.layoutType + " and client metadata: " + k5(d.xa) + " in TvMainInPlayerLayoutRenderingAdapterFactory.");
    };

    function V7(a, b, c, d, e, f, g) {
        C.call(this);
        var k = this;
        this.B = a;
        this.C = b;
        this.u = c;
        this.l = e;
        this.Ba = f;
        this.ma = g;
        this.i = null;
        d.get().addListener(this);
        Qf(this, function() {
            d.get().removeListener(k)
        });
        e.get().addListener(this);
        Qf(this, function() {
            e.get().removeListener(k)
        })
    }
    v(V7, C);

    function gua(a, b) {
        if (h_(a.u.get(), 1).daiEnabled && "AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED" === b.adPlacementRenderer.config.adPlacementConfig.kind)
            if (a.i) V("Unexpected multiple fetch instructions for the current content");
            else {
                a.i = b;
                b = t(a.l.get().lr);
                for (var c = b.next(); !c.done; c = b.next()) tva(a, a.i, c.value)
            }
    }
    h = V7.prototype;
    h.rA = function(a) {
        this.i && tva(this, this.i, a)
    };
    h.gA = function() {};
    h.Df = function(a) {
        this.i && this.i.contentCpn !== a && (V("Fetch instructions carried over from previous content video", void 0, void 0, {
            contentCpn: a,
            fetchInstructionsCpn: this.i.contentCpn
        }), this.i = null)
    };
    h.Vg = function(a) {
        this.i && this.i.contentCpn !== a && V("Expected content video of the current fetch instructions to end", void 0, void 0, {
            contentCpn: a,
            fetchInstructionsCpn: this.i.contentCpn
        }, !0);
        this.i = null
    };

    function tva(a, b, c) {
        var d = a.Ba.get().getCurrentTimeSec(1, !1);
        f_(a.B.get(), "OPPORTUNITY_TYPE_LIVE_STREAM_BREAK_SIGNAL", function() {
            var e = a.C.get(),
                f = H6(a.ma.get());
            var g = 1E3 * c.startSecs;
            g = {
                bh: new Br(g, g + 1E3 * c.durationSecs),
                Pq: !1
            };
            var k = c.startSecs + c.durationSecs;
            if (c.startSecs <= d) f = new Br(1E3 * (c.startSecs - 4), 1E3 * k);
            else {
                var l = Math.max(0, c.startSecs - d - 10);
                f = new Br(1E3 * Math.floor(d + Math.random() * (f ? 0 === d ? 0 : Math.min(l, 5) : l)), 1E3 * k)
            }
            g.Rl = f;
            return [rta(e, b.adPlacementRenderer.renderer.adBreakServiceRenderer,
                b.contentCpn, g, b.adPlacementRenderer.adSlotLoggingData, [new s1(c)])]
        })
    }
    h.Da = function() {
        C.prototype.Da.call(this);
        this.i = null
    };

    function W7(a) {
        C.call(this);
        this.l = a;
        this.i = new Map
    }
    v(W7, C);
    W7.prototype.Xf = function(a, b, c, d) {
        if (this.i.has(b.triggerId)) throw new X("Tried to register duplicate trigger for slot.");
        if (!(b instanceof c6)) throw new X("Incorrect TriggerType: Tried to register trigger of type " + b.triggerType + " in CloseRequestedTriggerAdapter");
        this.i.set(b.triggerId, new w7(a, b, c, d))
    };
    W7.prototype.ag = function(a) {
        this.i.delete(a.triggerId)
    };

    function X7(a, b) {
        var c;
        C.call(this);
        var d = this;
        this.B = a;
        this.l = new Map;
        this.u = new Map;
        this.i = null;
        b.get().addListener(this);
        Qf(this, function() {
            b.get().removeListener(d)
        });
        this.i = (null === (c = b.get().jk) || void 0 === c ? void 0 : c.slotId) || null
    }
    v(X7, C);
    X7.prototype.Xf = function(a, b, c, d) {
        if (this.l.has(b.triggerId) || this.u.has(b.triggerId)) throw new X("Tried to re-register the trigger.");
        a = new w7(a, b, c, d);
        if (a.trigger instanceof nua) this.l.set(a.trigger.triggerId, a);
        else if (a.trigger instanceof kua) this.u.set(a.trigger.triggerId, a);
        else throw new X("Incorrect TriggerType: Tried to register trigger of type " + a.trigger.triggerType + " in LiveStreamBreakTransitionTriggerAdapter");
        this.l.has(a.trigger.triggerId) && a.slot.slotId === this.i && k4(this.B(), [a])
    };
    X7.prototype.ag = function(a) {
        this.l.delete(a.triggerId);
        this.u.delete(a.triggerId)
    };
    X7.prototype.vA = function(a) {
        a = a.slotId;
        if (this.i !== a) {
            var b = [];
            null != this.i && b.push.apply(b, ha(uva(this.u, this.i)));
            null != a && b.push.apply(b, ha(uva(this.l, a)));
            this.i = a;
            b.length && k4(this.B(), b)
        }
    };

    function uva(a, b) {
        var c = [];
        a = t(a.values());
        for (var d = a.next(); !d.done; d = a.next()) d = d.value, d.slot.slotId === b && c.push(d);
        return c
    };

    function Y7(a, b, c, d) {
        C.call(this);
        this.S = a;
        this.B = b;
        this.ma = c;
        this.Pa = d;
        this.listeners = [];
        this.i = new Set;
        this.lr = [];
        this.u = new x4(this, sua(c.get()));
        this.l = new y4;
        vva(this)
    }
    v(Y7, C);
    h = Y7.prototype;
    h.Df = function() {
        this.u = new x4(this, sua(this.ma.get()));
        this.l = new y4;
        vva(this)
    };
    h.Vg = function() {};
    h.addListener = function(a) {
        this.listeners.push(a)
    };
    h.removeListener = function(a) {
        this.listeners = this.listeners.filter(function(b) {
            return b !== a
        })
    };

    function jva(a, b, c) {
        return cra(a.l, b, c)
    }
    h.Ou = function(a) {
        this.lr.push(a);
        for (var b = t(this.listeners), c = b.next(); !c.done; c = b.next()) c.value.rA(a)
    };
    h.iA = function(a) {
        Mb(this.l.i, 1E3 * a);
        for (var b = t(this.listeners), c = b.next(); !c.done; c = b.next()) c.value.gA(a)
    };

    function vva(a) {
        var b, c = a.S.getVideoData(1);
        c.subscribe("cuepointupdated", a.Ju, a);
        a.i.clear();
        a.lr.length = 0;
        c = (null === (b = c.i) || void 0 === b ? void 0 : OG(b, 0)) || [];
        a.Ju(c)
    }
    h.Ju = function(a) {
        var b = h_(this.B.get(), 1),
            c = b.clientPlaybackNonce;
        b = b.daiEnabled;
        var d = Date.now();
        a = t(a);
        for (var e = a.next(); !e.done; e = a.next()) e = e.value, (b || I6(this.ma.get())) && N6(this.Pa.get(), {
            cuepointTrigger: {
                event: wva(e.event),
                cuepointId: e.identifier,
                totalCueDurationMs: 1E3 * e.durationSecs,
                playheadTimeMs: e.i,
                cueStartTimeMs: 1E3 * e.startSecs,
                cuepointReceivedTimeMs: d,
                contentCpn: c
            }
        }), this.i.add(e), b ? this.u.reduce(e) : I6(this.ma.get()) && 0 !== this.S.getCurrentTime(1) && "start" === e.event && this.Ou(e)
    };
    h.Da = function() {
        this.S.getVideoData(1).unsubscribe("cuepointupdated", this.Ju, this);
        this.listeners.length = 0;
        this.i.clear();
        this.lr.length = 0;
        C.prototype.Da.call(this)
    };

    function wva(a) {
        switch (a) {
            case "unknown":
                return "CUEPOINT_EVENT_UNKNOWN";
            case "start":
                return "CUEPOINT_EVENT_START";
            case "continue":
                return "CUEPOINT_EVENT_CONTINUE";
            case "stop":
                return "CUEPOINT_EVENT_STOP";
            case "predictStart":
                return "CUEPOINT_EVENT_PREDICT_START";
            default:
                throw Error("Unexpected cuepoint event");
        }
    };

    function Z7(a) {
        this.S = a
    }
    h = Z7.prototype;
    h.Kl = function(a, b, c, d, e, f) {
        return this.S.Kl(a, b, c, d, e, f)
    };
    h.ek = function(a, b) {
        this.S.ek(a, b)
    };
    h.Nm = function(a, b, c) {
        this.S.Nm(a, b, c)
    };
    h.Sk = function(a) {
        this.S.Sk(a)
    };
    h.Zn = function(a, b, c, d, e, f) {
        this.S.Zn(a, b, c, d, e, f)
    };

    function xva(a, b, c, d, e) {
        C.call(this);
        var f = this;
        this.T = Y(function() {
            return new j6
        });
        E(this, this.T);
        this.X = Y(function() {
            return new n6(f.T)
        });
        E(this, this.X);
        this.ea = Y(function() {
            return new i6
        });
        E(this, this.ea);
        this.B = Y(function() {
            return new f6(a)
        });
        E(this, this.B);
        this.C = Y(function() {
            return new z6(f.T)
        });
        E(this, this.C);
        this.bb = Y(function() {
            return new C6
        });
        E(this, this.bb);
        this.rb = Y(function() {
            return new Q7(b)
        });
        E(this, this.rb);
        this.ub = Y(function() {
            return new R7(b)
        });
        E(this, this.ub);
        this.vb = Y(function() {
            return new q0(b.Y())
        });
        E(this, this.vb);
        this.ya = Y(function() {
            return new Q6(e)
        });
        E(this, this.ya);
        this.Xb = Y(function() {
            return new C4(b)
        });
        E(this, this.Xb);
        this.J = Y(function() {
            return new E6(b)
        });
        E(this, this.J);
        this.dc = Y(function() {
            return new G7(b)
        });
        E(this, this.dc);
        this.Eb = Y(function() {
            return new F6(b)
        });
        E(this, this.Eb);
        this.ma = Y(function() {
            return new G6(b)
        });
        E(this, this.ma);
        this.jb = Y(function() {
            return new F7(d)
        });
        E(this, this.jb);
        this.u = Y(function() {
            return new p5(f.ma)
        });
        E(this, this.u);
        this.Z = Y(function() {
            return new d6(f.C, f.X, f.ma, f.u, f.Fa, 3)
        });
        E(this, this.Z);
        this.zb = Y(function() {
            return new H7(b)
        });
        E(this, this.zb);
        this.Ka = Y(function() {
            return new I7
        });
        E(this, this.Ka);
        this.i = Y(function() {
            return new O6(b, f.bb, f.ma)
        });
        E(this, this.i);
        this.Bb = new B6(this.ma, this.u, this.i);
        E(this, this.Bb);
        this.I = Y(function() {
            return new Y7(b, f.i, f.ma, f.Pa)
        });
        E(this, this.I);
        this.Sa = Y(function() {
            return new Z7(b)
        });
        E(this, this.Sa);
        this.Ba = Y(function() {
            return new P6(b)
        });
        E(this, this.Ba);
        this.Tc = Y(function() {
            return new R6
        });
        this.Ma = Y(function() {
            return new J6(f.Ba, b)
        });
        E(this, this.Ma);
        this.Pa = Y(function() {
            return new M6(b, f.ea, f.Ma, f.i)
        });
        E(this, this.Pa);
        this.qc = new t7(O7, N7, function(k, l, m, n) {
            return o6(f.X.get(), k, l, m, n)
        }, this.B, this.C, this.u, this.ma, this.i);
        E(this, this.qc);
        this.xb = new l_(this.B, this.Z, c, this.ma, a, this.i, this.Ba);
        E(this, this.xb);
        var g = new D6(b, this.xb, this.Ba, this.I);
        this.ra = Y(function() {
            return g
        });
        this.Wg = g;
        this.Fa = new V7(this.B, this.C, this.i, this.ra, this.I, this.Ba, this.ma);
        E(this, this.Fa);
        this.Ta = new h6(this.B, this.C, this.J, this.ra);
        E(this, this.Ta);
        this.Ab = new e_(this.B, this.C, this.Z, this.i, this.Ta, c);
        E(this, this.Ab);
        this.ob = Y(function() {
            return new X6(f.jb, f.X, f.u, f.Sa)
        });
        E(this, this.ob);
        this.K = Y(function() {
            return new Y6
        });
        E(this, this.K);
        this.D = new P7(a);
        E(this, this.D);
        this.l = new y7(a);
        E(this, this.l);
        this.fb = new W7(a);
        E(this, this.fb);
        this.va = new z7(a, this.ra, this.ma);
        E(this, this.va);
        this.Ha = new A7(a, this.J, this.Ba, this.i);
        E(this, this.Ha);
        this.Qa = new X7(a, this.i);
        E(this, this.Qa);
        this.G = new C7(a);
        E(this, this.G);
        this.Cb = new D7(a);
        E(this, this.Cb);
        this.U = Y(function() {
            return new u7
        });
        E(this, this.U);
        this.Bc = Y(function() {
            return new v7(f.Ba)
        });
        E(this, this.Bc);
        this.kb = Y(function() {
            return new $6(f.Ab)
        });
        E(this, this.kb);
        this.yb = Y(function() {
            return new e7(f.Pa, f.G)
        });
        E(this, this.yb);
        this.Jb = Y(function() {
            return new U7(a, f.G, f.i, f.Sa, f.Ba, f.Pa, f.bb, f.I, f.Ma, f.Tc, f.dc, f.J, f.Xb, f.Eb, f.vb, f.ya, f.zb, f.ma)
        });
        E(this, this.Jb);
        this.Ic = Y(function() {
            return new sva(f.rb, f.ub, f.Pa, f.ya, f.Ba, f.ma, f.D, f.fb, b.Y().isTectonic)
        });
        E(this, this.Ic);
        this.Sc = new E7(a, this.Ka, this.u, this.i, this.ma, this.T);
        E(this, this.Sc);
        this.yc = {
            ij: new Map([
                ["OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED", this.Ab],
                ["OPPORTUNITY_TYPE_LIVE_STREAM_BREAK_SIGNAL", this.Fa],
                ["OPPORTUNITY_TYPE_PLAYER_BYTES_MEDIA_LAYOUT_ENTERED", this.qc],
                ["OPPORTUNITY_TYPE_PLAYER_RESPONSE_RECEIVED", this.xb],
                ["OPPORTUNITY_TYPE_THROTTLED_AD_BREAK_REQUEST_SLOT_REENTRY", this.Ta]
            ]),
            Gg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.ob],
                ["SLOT_TYPE_FORECASTING", this.K],
                ["SLOT_TYPE_IN_PLAYER",
                    this.K
                ],
                ["SLOT_TYPE_PLAYER_BYTES", this.K]
            ]),
            mf: new Map([
                ["TRIGGER_TYPE_CLOSE_REQUESTED", this.fb],
                ["TRIGGER_TYPE_SKIP_REQUESTED", this.D],
                ["TRIGGER_TYPE_SURVEY_SUBMITTED", this.D],
                ["TRIGGER_TYPE_LAYOUT_ID_ENTERED", this.l],
                ["TRIGGER_TYPE_LAYOUT_ID_EXITED", this.l],
                ["TRIGGER_TYPE_LAYOUT_EXITED_FOR_REASON", this.l],
                ["TRIGGER_TYPE_ON_DIFFERENT_LAYOUT_ID_ENTERED", this.l],
                ["TRIGGER_TYPE_SLOT_ID_ENTERED", this.l],
                ["TRIGGER_TYPE_SLOT_ID_EXITED", this.l],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_EMPTY", this.l],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_NON_EMPTY",
                    this.l
                ],
                ["TRIGGER_TYPE_SLOT_ID_SCHEDULED", this.l],
                ["TRIGGER_TYPE_BEFORE_CONTENT_VIDEO_ID_STARTED", this.va],
                ["TRIGGER_TYPE_CONTENT_VIDEO_ID_ENDED", this.Ha],
                ["TRIGGER_TYPE_MEDIA_TIME_RANGE", this.Ha],
                ["TRIGGER_TYPE_LIVE_STREAM_BREAK_STARTED", this.Qa],
                ["TRIGGER_TYPE_LIVE_STREAM_BREAK_ENDED", this.Qa],
                ["TRIGGER_TYPE_ON_LAYOUT_SELF_EXIT_REQUESTED", this.G],
                ["TRIGGER_TYPE_ON_SLOT_SELF_ENTER_REQUESTED", this.G],
                ["TRIGGER_TYPE_ON_NEW_PLAYBACK_AFTER_CONTENT_VIDEO_ID", this.va],
                ["TRIGGER_TYPE_ON_OPPORTUNITY_TYPE_RECEIVED",
                    this.Cb
                ]
            ]),
            jh: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.U],
                ["SLOT_TYPE_FORECASTING", this.U],
                ["SLOT_TYPE_IN_PLAYER", this.U],
                ["SLOT_TYPE_PLAYER_BYTES", this.Bc]
            ]),
            Qg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.kb],
                ["SLOT_TYPE_FORECASTING", this.yb],
                ["SLOT_TYPE_IN_PLAYER", this.Ic],
                ["SLOT_TYPE_PLAYER_BYTES", this.Jb]
            ])
        };
        this.listeners = [this.ea.get()];
        this.bd = {
            Ab: this.Ab,
            fg: null,
            Tg: this.Ka.get(),
            We: this.ma.get(),
            Vh: this.Ba.get(),
            xb: this.xb,
            Sg: null,
            Cf: this.D,
            Je: this.ea.get()
        }
    }
    v(xva, C);

    function yva(a, b, c, d, e) {
        C.call(this);
        var f = this;
        this.U = Y(function() {
            return new j6
        });
        E(this, this.U);
        this.T = Y(function() {
            return new n6(f.U)
        });
        E(this, this.T);
        this.X = Y(function() {
            return new i6
        });
        E(this, this.X);
        this.C = Y(function() {
            return new f6(a)
        });
        E(this, this.C);
        this.D = Y(function() {
            return new z6(f.U)
        });
        E(this, this.D);
        this.Cb = Y(function() {
            return new C6
        });
        E(this, this.Cb);
        this.Sa = Y(function() {
            return new Q7(b)
        });
        E(this, this.Sa);
        this.Ta = Y(function() {
            return new R7(b)
        });
        E(this, this.Ta);
        this.bb = Y(function() {
            return new q0(b.Y())
        });
        E(this, this.bb);
        this.Z = Y(function() {
            return new Q6(e)
        });
        E(this, this.Z);
        this.Xb = Y(function() {
            return new C4(b)
        });
        E(this, this.Xb);
        this.I = Y(function() {
            return new E6(b)
        });
        E(this, this.I);
        this.dc = Y(function() {
            return new G7(b)
        });
        E(this, this.dc);
        this.Eb = Y(function() {
            return new F6(b)
        });
        E(this, this.Eb);
        this.ma = Y(function() {
            return new G6(b)
        });
        E(this, this.ma);
        this.Ka = Y(function() {
            return new F7(d)
        });
        E(this, this.Ka);
        this.u = Y(function() {
            return new p5(f.ma)
        });
        E(this, this.u);
        this.ea = Y(function() {
            return new d6(f.D, f.T, f.ma, f.u, null, 3)
        });
        E(this, this.ea);
        this.kb = Y(function() {
            return new H7(b)
        });
        E(this, this.kb);
        this.va = Y(function() {
            return new I7
        });
        E(this, this.va);
        this.l = Y(function() {
            return new O6(b, f.Cb, f.ma)
        });
        E(this, this.l);
        this.Bb = new B6(this.ma, this.u, this.l);
        E(this, this.Bb);
        this.Ba = Y(function() {
            return new P6(b)
        });
        E(this, this.Ba);
        this.Fa = Y(function() {
            return new J6(f.Ba, b)
        });
        E(this, this.Fa);
        this.Pa = Y(function() {
            return new M6(b, f.X, f.Fa, f.l)
        });
        E(this, this.Pa);
        this.zb = Y(function() {
            return new R6
        });
        E(this, this.zb);
        this.vb = new t7(O7, N7, function(k, l, m, n) {
            return o6(f.T.get(), k, l, m, n)
        }, this.C, this.D, this.u, this.ma, this.l);
        E(this, this.vb);
        this.xb = new l_(this.C, this.ea, c, this.ma, a, this.l, this.Ba);
        E(this, this.xb);
        var g = new D6(b, this.xb, this.Ba);
        this.fb = Y(function() {
            return g
        });
        this.Wg = g;
        this.Ha = new h6(this.C, this.D, this.I, this.fb);
        E(this, this.Ha);
        this.Ab = new e_(this.C, this.D, this.ea, this.l, this.Ha, c);
        E(this, this.Ab);
        this.Qa = Y(function() {
            return new X6(f.Ka, f.T, f.u)
        });
        E(this, this.Qa);
        this.J = Y(function() {
            return new Y6
        });
        E(this, this.J);
        this.G = new P7(a);
        E(this, this.G);
        this.i = new y7(a);
        E(this, this.i);
        this.ya = new z7(a, this.fb, this.ma);
        E(this, this.ya);
        this.ra = new A7(a, this.I, this.Ba, this.l);
        E(this, this.ra);
        this.B = new C7(a);
        E(this, this.B);
        this.ob = new D7(a);
        E(this, this.ob);
        this.K = Y(function() {
            return new u7
        });
        E(this, this.K);
        this.yb = Y(function() {
            return new v7(f.Ba)
        });
        E(this, this.yb);
        this.Ma = Y(function() {
            return new $6(f.Ab)
        });
        E(this, this.Ma);
        this.jb = Y(function() {
            return new e7(f.Pa, f.B)
        });
        E(this, this.jb);
        this.rb = Y(function() {
            return new M7(f.Sa, f.Ta, f.Pa, f.Z, f.ma, f.G, b.Y().isTectonic)
        });
        E(this, this.rb);
        this.ub = Y(function() {
            return new s7(a, f.B, f.Pa, f.Fa, f.zb, f.dc, f.l, f.Ba, f.I, f.Xb, f.Eb, f.bb, f.Z, f.kb, f.ma)
        });
        E(this, this.ub);
        this.Jb = new E7(a, this.va, this.u, this.l, this.ma, this.U);
        E(this, this.Jb);
        this.yc = {
            ij: new Map([
                ["OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED", this.Ab],
                ["OPPORTUNITY_TYPE_PLAYER_BYTES_MEDIA_LAYOUT_ENTERED", this.vb],
                ["OPPORTUNITY_TYPE_PLAYER_RESPONSE_RECEIVED", this.xb],
                ["OPPORTUNITY_TYPE_THROTTLED_AD_BREAK_REQUEST_SLOT_REENTRY", this.Ha]
            ]),
            Gg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.Qa],
                ["SLOT_TYPE_FORECASTING", this.J],
                ["SLOT_TYPE_IN_PLAYER", this.J],
                ["SLOT_TYPE_PLAYER_BYTES",
                    this.J
                ]
            ]),
            mf: new Map([
                ["TRIGGER_TYPE_SKIP_REQUESTED", this.G],
                ["TRIGGER_TYPE_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_LAYOUT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_LAYOUT_EXITED_FOR_REASON", this.i],
                ["TRIGGER_TYPE_ON_DIFFERENT_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_NON_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_SCHEDULED", this.i],
                ["TRIGGER_TYPE_BEFORE_CONTENT_VIDEO_ID_STARTED",
                    this.ya
                ],
                ["TRIGGER_TYPE_CONTENT_VIDEO_ID_ENDED", this.ra],
                ["TRIGGER_TYPE_MEDIA_TIME_RANGE", this.ra],
                ["TRIGGER_TYPE_ON_LAYOUT_SELF_EXIT_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_SLOT_SELF_ENTER_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_NEW_PLAYBACK_AFTER_CONTENT_VIDEO_ID", this.ya],
                ["TRIGGER_TYPE_ON_OPPORTUNITY_TYPE_RECEIVED", this.ob]
            ]),
            jh: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.K],
                ["SLOT_TYPE_FORECASTING", this.K],
                ["SLOT_TYPE_IN_PLAYER", this.K],
                ["SLOT_TYPE_PLAYER_BYTES", this.yb]
            ]),
            Qg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST",
                    this.Ma
                ],
                ["SLOT_TYPE_FORECASTING", this.jb],
                ["SLOT_TYPE_IN_PLAYER", this.rb],
                ["SLOT_TYPE_PLAYER_BYTES", this.ub]
            ])
        };
        this.listeners = [this.X.get()];
        this.bd = {
            Ab: this.Ab,
            fg: null,
            Tg: this.va.get(),
            We: this.ma.get(),
            Vh: this.Ba.get(),
            xb: this.xb,
            Sg: null,
            Cf: this.G,
            Je: this.X.get()
        }
    }
    v(yva, C);

    function zva(a, b, c, d, e) {
        C.call(this);
        var f = this;
        this.U = Y(function() {
            return new j6
        });
        E(this, this.U);
        this.T = Y(function() {
            return new n6(f.U)
        });
        E(this, this.T);
        this.X = Y(function() {
            return new i6
        });
        E(this, this.X);
        this.C = Y(function() {
            return new f6(a)
        });
        E(this, this.C);
        this.D = Y(function() {
            return new z6(f.U)
        });
        E(this, this.D);
        this.Cb = Y(function() {
            return new C6
        });
        E(this, this.Cb);
        this.Sa = Y(function() {
            return new Q7(b)
        });
        E(this, this.Sa);
        this.Ta = Y(function() {
            return new R7(b)
        });
        E(this, this.Ta);
        this.bb = Y(function() {
            return new q0(b.Y())
        });
        E(this, this.bb);
        this.Z = Y(function() {
            return new Q6(e)
        });
        E(this, this.Z);
        this.Xb = Y(function() {
            return new C4(b)
        });
        E(this, this.Xb);
        this.I = Y(function() {
            return new E6(b)
        });
        E(this, this.I);
        this.dc = Y(function() {
            return new G7(b)
        });
        E(this, this.dc);
        this.Eb = Y(function() {
            return new F6(b)
        });
        E(this, this.Eb);
        this.ma = Y(function() {
            return new G6(b)
        });
        E(this, this.ma);
        this.Ka = Y(function() {
            return new F7(d)
        });
        E(this, this.Ka);
        this.u = Y(function() {
            return new p5(f.ma)
        });
        E(this, this.u);
        this.ea = Y(function() {
            return new d6(f.D, f.T, f.ma, f.u, null, 3)
        });
        E(this, this.ea);
        this.kb = Y(function() {
            return new H7(b)
        });
        E(this, this.kb);
        this.va = Y(function() {
            return new I7
        });
        E(this, this.va);
        this.l = Y(function() {
            return new O6(b, f.Cb, f.ma)
        });
        E(this, this.l);
        this.Bb = new B6(this.ma, this.u, this.l);
        E(this, this.Bb);
        this.Ba = Y(function() {
            return new P6(b)
        });
        E(this, this.Ba);
        this.Fa = Y(function() {
            return new J6(f.Ba, b)
        });
        E(this, this.Fa);
        this.Pa = Y(function() {
            return new M6(b, f.X, f.Fa, f.l)
        });
        E(this, this.Pa);
        this.zb = Y(function() {
            return new R6
        });
        E(this, this.zb);
        this.vb = new t7(O7, N7, function(k, l, m, n) {
            return o6(f.T.get(), k, l, m, n)
        }, this.C, this.D, this.u, this.ma, this.l);
        E(this, this.vb);
        this.xb = new l_(this.C, this.ea, c, this.ma, a, this.l, this.Ba);
        E(this, this.xb);
        var g = new D6(b, this.xb, this.Ba);
        this.fb = Y(function() {
            return g
        });
        this.Wg = g;
        this.Ha = new h6(this.C, this.D, this.I, this.fb);
        E(this, this.Ha);
        this.Ab = new e_(this.C, this.D, this.ea, this.l, this.Ha, c);
        E(this, this.Ab);
        this.Qa = Y(function() {
            return new X6(f.Ka, f.T, f.u)
        });
        E(this, this.Qa);
        this.J = Y(function() {
            return new Y6
        });
        E(this, this.J);
        this.G = new P7(a);
        E(this, this.G);
        this.i = new y7(a);
        E(this, this.i);
        this.ya = new z7(a, this.fb, this.ma);
        E(this, this.ya);
        this.ra = new A7(a, this.I, this.Ba, this.l);
        E(this, this.ra);
        this.B = new C7(a);
        E(this, this.B);
        this.ob = new D7(a);
        E(this, this.ob);
        this.K = Y(function() {
            return new u7
        });
        E(this, this.K);
        this.yb = Y(function() {
            return new v7(f.Ba)
        });
        E(this, this.yb);
        this.Ma = Y(function() {
            return new $6(f.Ab)
        });
        E(this, this.Ma);
        this.jb = Y(function() {
            return new e7(f.Pa, f.B)
        });
        E(this, this.jb);
        this.rb = Y(function() {
            return new M7(f.Sa, f.Ta, f.Pa, f.Z, f.ma, f.G, b.Y().isTectonic)
        });
        E(this, this.rb);
        this.ub = Y(function() {
            return new s7(a, f.B, f.Pa, f.Fa, f.zb, f.dc, f.l, f.Ba, f.I, f.Xb, f.Eb, f.bb, f.Z, f.kb, f.ma)
        });
        E(this, this.ub);
        this.Jb = new E7(a, this.va, this.u, this.l, this.ma, this.U);
        E(this, this.Jb);
        this.yc = {
            ij: new Map([
                ["OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED", this.Ab],
                ["OPPORTUNITY_TYPE_PLAYER_BYTES_MEDIA_LAYOUT_ENTERED", this.vb],
                ["OPPORTUNITY_TYPE_PLAYER_RESPONSE_RECEIVED", this.xb],
                ["OPPORTUNITY_TYPE_THROTTLED_AD_BREAK_REQUEST_SLOT_REENTRY", this.Ha]
            ]),
            Gg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.Qa],
                ["SLOT_TYPE_FORECASTING", this.J],
                ["SLOT_TYPE_IN_PLAYER", this.J],
                ["SLOT_TYPE_PLAYER_BYTES",
                    this.J
                ]
            ]),
            mf: new Map([
                ["TRIGGER_TYPE_SKIP_REQUESTED", this.G],
                ["TRIGGER_TYPE_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_LAYOUT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_LAYOUT_EXITED_FOR_REASON", this.i],
                ["TRIGGER_TYPE_ON_DIFFERENT_LAYOUT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_ENTERED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_EXITED", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_NON_EMPTY", this.i],
                ["TRIGGER_TYPE_SLOT_ID_SCHEDULED", this.i],
                ["TRIGGER_TYPE_BEFORE_CONTENT_VIDEO_ID_STARTED",
                    this.ya
                ],
                ["TRIGGER_TYPE_CONTENT_VIDEO_ID_ENDED", this.ra],
                ["TRIGGER_TYPE_MEDIA_TIME_RANGE", this.ra],
                ["TRIGGER_TYPE_ON_LAYOUT_SELF_EXIT_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_SLOT_SELF_ENTER_REQUESTED", this.B],
                ["TRIGGER_TYPE_ON_NEW_PLAYBACK_AFTER_CONTENT_VIDEO_ID", this.ya],
                ["TRIGGER_TYPE_ON_OPPORTUNITY_TYPE_RECEIVED", this.ob]
            ]),
            jh: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.K],
                ["SLOT_TYPE_FORECASTING", this.K],
                ["SLOT_TYPE_IN_PLAYER", this.K],
                ["SLOT_TYPE_PLAYER_BYTES", this.yb]
            ]),
            Qg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST",
                    this.Ma
                ],
                ["SLOT_TYPE_FORECASTING", this.jb],
                ["SLOT_TYPE_IN_PLAYER", this.rb],
                ["SLOT_TYPE_PLAYER_BYTES", this.ub]
            ])
        };
        this.listeners = [this.X.get()];
        this.bd = {
            Ab: this.Ab,
            fg: null,
            Tg: this.va.get(),
            We: this.ma.get(),
            Vh: this.Ba.get(),
            xb: this.xb,
            Sg: null,
            Cf: this.G,
            Je: this.X.get()
        }
    }
    v(zva, C);

    function $7(a, b, c, d, e, f, g, k, l, m) {
        var n;
        C.call(this);
        this.callback = a;
        this.slot = b;
        this.layout = c;
        this.B = d;
        this.l = e;
        this.Ba = f;
        this.u = g;
        this.Pa = k;
        this.Eb = l;
        this.Nf = m;
        this.i = null;
        this.Zi = !0;
        a = (null === (n = W(this.layout.xa, "METADATA_TYPE_INTERACTIONS_AND_PROGRESS_LAYOUT_COMMANDS")) || void 0 === n ? void 0 : n.progressCommands) || [];
        var p = W(c.xa, "METADATA_TYPE_MEDIA_LAYOUT_DURATION_seconds");
        this.C = new Qua(g, a, c.layoutId, function() {
            return 1E3 * p
        })
    }
    v($7, C);
    h = $7.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.init = function() {
        this.Ba.get().addListener(this);
        this.Pa.get().fl = this;
        var a = this.Nf();
        a.Uc.add(this);
        E(a, this)
    };
    h.release = function() {
        this.Ba.get().removeListener(this);
        var a = this.Pa.get();
        a.fl === this && (a.fl = null);
        this.Nf().Uc.delete(this)
    };
    h.startRendering = function(a) {
        if (a.layoutId !== this.layout.layoutId) this.callback.uc(this.slot, a, new x5("Tried to start rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType)));
        else {
            var b = W(a.xa, "METADATA_TYPE_VALID_INSTREAM_SURVEY_AD_RENDERER_FOR_DAI"),
                c = this.slot,
                d = this.u.get(),
                e = Oqa(b, c, a, d, this.B);
            Qqa(e, b, c, a, d);
            J7(this.l.get(), e);
            this.callback.tc(this.slot, a)
        }
    };
    h.Sd = function(a, b) {
        var c;
        if (a.layoutId !== this.layout.layoutId) this.callback.uc(this.slot, a, new x5("Tried to stop rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType)));
        else {
            if ("normal" !== b) var d = !1;
            else d = W(this.layout.xa, "METADATA_TYPE_MEDIA_LAYOUT_DURATION_seconds"), d = null != this.i && 1 > Math.abs(this.i - d);
            d && (d = (null === (c = W(this.layout.xa, "METADATA_TYPE_INTERACTIONS_AND_PROGRESS_LAYOUT_COMMANDS")) || void 0 === c ? void 0 : c.completeCommands) || [], this.Qb(d));
            K7(this.l.get());
            this.callback.Pb(this.slot, a, b)
        }
    };
    h.Tf = function(a) {
        var b = W(this.layout.xa, "METADATA_TYPE_MEDIA_LAYOUT_DURATION_seconds");
        this.i === a || 0 >= a || a >= b + 1 || (Rua(this.C, 1E3 * a), this.Eb.get().Ja("onAdPlaybackProgress", {
            current: a,
            duration: b
        }), this.i = a)
    };
    h.My = function() {
        return null === this.i ? 0 : this.i
    };
    h.tc = function(a, b) {
        var c;
        b.layoutId === this.layout.layoutId && (a = (null === (c = W(this.layout.xa, "METADATA_TYPE_INTERACTIONS_AND_PROGRESS_LAYOUT_COMMANDS")) || void 0 === c ? void 0 : c.impressionCommands) || [], this.Qb(a))
    };
    h.Pb = function(a, b, c) {
        var d, e;
        b.layoutId === this.layout.layoutId && ("skipped" === c ? (a = (null === (d = W(this.layout.xa, "METADATA_TYPE_INTERACTIONS_AND_PROGRESS_LAYOUT_COMMANDS")) || void 0 === d ? void 0 : d.skipCommands) || [], this.Qb(a)) : "error" === c && (a = (null === (e = W(this.layout.xa, "METADATA_TYPE_INTERACTIONS_AND_PROGRESS_LAYOUT_COMMANDS")) || void 0 === e ? void 0 : e.errorCommands) || [], this.Qb(a)))
    };
    h.Qb = function(a) {
        a = t(a);
        for (var b = a.next(); !b.done; b = a.next()) b = b.value, this.u.get().executeCommand(b, this.layout.layoutId)
    };
    h.Xg = function() {};
    h.Ef = function() {};
    h.Ff = function() {};
    h.pg = function() {};
    h.Gf = function() {};
    h.Yg = function() {};
    h.hj = function() {};
    h.Tk = function() {};
    h.gf = function() {};
    h.hf = function() {};
    h.Uk = function() {};
    h.Vk = function() {};
    h.ej = function() {};
    h.Qk = function() {};
    h.Sh = function() {};

    function Ava(a, b, c, d) {
        this.callback = a;
        this.slot = b;
        this.layout = c;
        this.i = d
    }
    h = Ava.prototype;
    h.Wc = function() {
        return this.slot
    };
    h.Fb = function() {
        return this.layout
    };
    h.init = function() {};
    h.release = function() {};
    h.startRendering = function(a) {
        if (a.layoutId !== this.layout.layoutId) this.callback.uc(this.slot, a, new x5("Tried to start rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType)));
        else {
            var b = W(a.xa, "metadata_type_sliding_text_player_overlay_renderer"),
                c = g4();
            c.slidingTextPlayerOverlayRenderer = b;
            J7(this.i.get(), c);
            this.callback.tc(this.slot, a)
        }
    };
    h.Sd = function(a, b) {
        a.layoutId !== this.layout.layoutId ? this.callback.uc(this.slot, a, new x5("Tried to stop rendering an unknown layout, this adapter requires LayoutId: " + this.layout.layoutId + ("and LayoutType: " + this.layout.layoutType))) : (K7(this.i.get()), this.callback.Pb(this.slot, a, b))
    };

    function Bva(a, b, c, d, e, f, g, k, l, m) {
        this.i = a;
        this.B = b;
        this.Pa = c;
        this.u = d;
        this.ma = e;
        this.Ba = f;
        this.Eb = g;
        this.Nf = k;
        this.l = l;
        this.isTectonic = m
    }
    Bva.prototype.ge = function(a, b, c, d) {
        if (b = L7(a, c, d, this.i, this.B, this.u, this.Pa, this.ma, this.l, this.isTectonic)) return b;
        if (Z6(d, {
                Md: ["METADATA_TYPE_VALID_INSTREAM_SURVEY_AD_RENDERER_FOR_DAI", "metadata_type_ad_placement_config", "METADATA_TYPE_MEDIA_LAYOUT_DURATION_seconds", "METADATA_TYPE_INTERACTIONS_AND_PROGRESS_LAYOUT_COMMANDS"],
                Bf: ["LAYOUT_TYPE_SURVEY"]
            })) return new $7(a, c, d, this.l, this.i, this.Ba, this.u, this.Pa, this.Eb, this.Nf);
        if (Z6(d, {
                Md: ["metadata_type_sliding_text_player_overlay_renderer"],
                Bf: ["LAYOUT_TYPE_SLIDING_TEXT_PLAYER_OVERLAY"]
            })) return new Ava(a,
            c, d, this.i);
        throw new x5("Unsupported layout with type: " + d.layoutType + " and client metadata: " + k5(d.xa) + " in TvUnpluggedInPlayerLayoutRenderingAdapterFactory.");
    };

    function a8(a, b) {
        C.call(this);
        var c = this;
        this.l = a;
        this.i = new Map;
        b.get().addListener(this);
        Qf(this, function() {
            b.get().removeListener(c)
        })
    }
    v(a8, C);
    h = a8.prototype;
    h.Xf = function(a, b, c, d) {
        if (this.i.has(b.triggerId)) throw new X("Tried to register duplicate trigger for slot.");
        if (!(b instanceof V5)) throw new X("Incorrect TriggerType: Tried to register trigger of type " + b.triggerType + " in PlayerControlsTriggerAdapter.");
        this.i.set(b.triggerId, new w7(a, b, c, d))
    };
    h.ag = function(a) {
        this.i.delete(a.triggerId)
    };
    h.Ff = function(a) {
        if (a) {
            a = [];
            for (var b = t(this.i.values()), c = b.next(); !c.done; c = b.next()) c = c.value, c.trigger instanceof V5 && a.push(c);
            a.length && k4(this.l(), a)
        }
    };
    h.Tf = function() {};
    h.Xg = function() {};
    h.Ef = function() {};
    h.pg = function() {};
    h.Gf = function() {};

    function Cva(a, b, c, d, e) {
        C.call(this);
        var f = this;
        this.T = Y(function() {
            return new j6
        });
        E(this, this.T);
        this.X = Y(function() {
            return new n6(f.T)
        });
        E(this, this.X);
        this.ea = Y(function() {
            return new i6
        });
        E(this, this.ea);
        this.B = Y(function() {
            return new f6(a)
        });
        E(this, this.B);
        this.C = Y(function() {
            return new z6(f.T)
        });
        E(this, this.C);
        this.bb = Y(function() {
            return new C6
        });
        E(this, this.bb);
        this.ub = Y(function() {
            return new q0(b.Y())
        });
        E(this, this.ub);
        this.ya = Y(function() {
            return new Q6(e)
        });
        E(this, this.ya);
        this.Xb = Y(function() {
            return new C4(b)
        });
        E(this, this.Xb);
        this.J = Y(function() {
            return new E6(b)
        });
        E(this, this.J);
        this.dc = Y(function() {
            return new G7(b)
        });
        E(this, this.dc);
        this.Eb = Y(function() {
            return new F6(b)
        });
        E(this, this.Eb);
        this.ma = Y(function() {
            return new G6(b)
        });
        E(this, this.ma);
        this.fb = Y(function() {
            return new F7(d)
        });
        E(this, this.fb);
        this.u = Y(function() {
            return new p5(f.ma)
        });
        E(this, this.u);
        this.ob = Y(function() {
            return new Q7(b)
        });
        E(this, this.ob);
        this.rb = Y(function() {
            return new R7(b)
        });
        E(this, this.rb);
        this.Z = Y(function() {
            return new d6(f.C, f.X, f.ma, f.u, f.Fa, 3)
        });
        E(this, this.Z);
        this.yb = Y(function() {
            return new H7(b)
        });
        E(this, this.yb);
        this.Ka = Y(function() {
            return new I7
        });
        E(this, this.Ka);
        this.i = Y(function() {
            return new O6(b, f.bb, f.ma)
        });
        E(this, this.i);
        this.Bb = new B6(this.ma, this.u, this.i);
        E(this, this.Bb);
        this.I = Y(function() {
            return new Y7(b, f.i, f.ma, f.Pa)
        });
        E(this, this.I);
        this.Sa = Y(function() {
            return new Z7(b)
        });
        E(this, this.Sa);
        this.Ba = Y(function() {
            return new P6(b)
        });
        E(this, this.Ba);
        this.Tc = Y(function() {
            return new R6
        });
        this.Ma = Y(function() {
            return new J6(f.Ba, b)
        });
        E(this, this.Ma);
        this.Pa = Y(function() {
            return new M6(b, f.ea, f.Ma, f.i)
        });
        E(this, this.Pa);
        this.xb = new l_(this.B, this.Z, c, this.ma, a, this.i, this.Ba);
        E(this, this.xb);
        var g = new D6(b, this.xb, this.Ba, this.I);
        this.ra = Y(function() {
            return g
        });
        this.Wg = g;
        this.Fa = new V7(this.B, this.C, this.i, this.ra, this.I, this.Ba, this.ma);
        E(this, this.Fa);
        this.Jb = new t7(O7, N7, function(k, l, m, n) {
            return o6(f.X.get(), k, l, m, n)
        }, this.B, this.C, this.u, this.ma, this.i);
        E(this, this.Jb);
        this.Ta = new h6(this.B, this.C, this.J, this.ra);
        E(this, this.Ta);
        this.Ab = new e_(this.B, this.C, this.Z, this.i, this.Ta, c);
        E(this, this.Ab);
        this.kb = Y(function() {
            return new X6(f.fb, f.X, f.u, f.Sa)
        });
        E(this, this.kb);
        this.K = Y(function() {
            return new Y6
        });
        E(this, this.K);
        this.D = new P7(a);
        E(this, this.D);
        this.l = new y7(a);
        E(this, this.l);
        this.va = new z7(a, this.ra, this.ma);
        E(this, this.va);
        this.Ha = new A7(a, this.J, this.Ba, this.i);
        E(this, this.Ha);
        this.Qa = new X7(a, this.i);
        E(this, this.Qa);
        this.G = new C7(a);
        E(this, this.G);
        this.zb = new D7(a);
        E(this, this.zb);
        this.Bc = new a8(a, this.Ba);
        E(this, this.Bc);
        this.U = Y(function() {
            return new u7
        });
        E(this, this.U);
        this.qc = Y(function() {
            return new v7(f.Ba)
        });
        E(this, this.qc);
        this.jb = Y(function() {
            return new $6(f.Ab)
        });
        E(this, this.jb);
        this.vb = Y(function() {
            return new e7(f.Pa, f.G)
        });
        E(this, this.vb);
        this.Cb = Y(function() {
            return new U7(a, f.G, f.i, f.Sa, f.Ba, f.Pa, f.bb, f.I, f.Ma, f.Tc, f.dc, f.J, f.Xb, f.Eb, f.ub, f.ya, f.yb, f.ma)
        });
        E(this, this.Cb);
        this.Ic = Y(function() {
            return new Bva(f.ob, f.rb, f.Pa, f.ya, f.ma, f.Ba, f.Eb, a, f.D, b.Y().isTectonic)
        });
        E(this, this.Ic);
        this.Sc = new E7(a, this.Ka, this.u, this.i, this.ma, this.T);
        E(this, this.Sc);
        this.yc = {
            ij: new Map([
                ["OPPORTUNITY_TYPE_AD_BREAK_SERVICE_RESPONSE_RECEIVED", this.Ab],
                ["OPPORTUNITY_TYPE_LIVE_STREAM_BREAK_SIGNAL", this.Fa],
                ["OPPORTUNITY_TYPE_PLAYER_BYTES_MEDIA_LAYOUT_ENTERED", this.Jb],
                ["OPPORTUNITY_TYPE_PLAYER_RESPONSE_RECEIVED", this.xb],
                ["OPPORTUNITY_TYPE_THROTTLED_AD_BREAK_REQUEST_SLOT_REENTRY", this.Ta]
            ]),
            Gg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.kb],
                ["SLOT_TYPE_FORECASTING", this.K],
                ["SLOT_TYPE_IN_PLAYER",
                    this.K
                ],
                ["SLOT_TYPE_PLAYER_BYTES", this.K]
            ]),
            mf: new Map([
                ["TRIGGER_TYPE_SKIP_REQUESTED", this.D],
                ["TRIGGER_TYPE_SURVEY_SUBMITTED", this.D],
                ["TRIGGER_TYPE_LAYOUT_ID_ACTIVE_AND_SLOT_ID_HAS_EXITED", this.l],
                ["TRIGGER_TYPE_LAYOUT_ID_ENTERED", this.l],
                ["TRIGGER_TYPE_LAYOUT_ID_EXITED", this.l],
                ["TRIGGER_TYPE_LAYOUT_EXITED_FOR_REASON", this.l],
                ["TRIGGER_TYPE_ON_DIFFERENT_LAYOUT_ID_ENTERED", this.l],
                ["TRIGGER_TYPE_SLOT_ID_ENTERED", this.l],
                ["TRIGGER_TYPE_SLOT_ID_EXITED", this.l],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_EMPTY",
                    this.l
                ],
                ["TRIGGER_TYPE_SLOT_ID_FULFILLED_NON_EMPTY", this.l],
                ["TRIGGER_TYPE_SLOT_ID_SCHEDULED", this.l],
                ["TRIGGER_TYPE_BEFORE_CONTENT_VIDEO_ID_STARTED", this.va],
                ["TRIGGER_TYPE_ON_NEW_PLAYBACK_AFTER_CONTENT_VIDEO_ID", this.va],
                ["TRIGGER_TYPE_CONTENT_VIDEO_ID_ENDED", this.Ha],
                ["TRIGGER_TYPE_MEDIA_TIME_RANGE", this.Ha],
                ["TRIGGER_TYPE_LIVE_STREAM_BREAK_STARTED", this.Qa],
                ["TRIGGER_TYPE_LIVE_STREAM_BREAK_ENDED", this.Qa],
                ["TRIGGER_TYPE_ON_LAYOUT_SELF_EXIT_REQUESTED", this.G],
                ["TRIGGER_TYPE_ON_SLOT_SELF_ENTER_REQUESTED",
                    this.G
                ],
                ["TRIGGER_TYPE_ON_OPPORTUNITY_TYPE_RECEIVED", this.zb],
                ["TRIGGER_TYPE_PLAYBACK_MINIMIZED", this.Bc]
            ]),
            jh: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.U],
                ["SLOT_TYPE_FORECASTING", this.U],
                ["SLOT_TYPE_IN_PLAYER", this.U],
                ["SLOT_TYPE_PLAYER_BYTES", this.qc]
            ]),
            Qg: new Map([
                ["SLOT_TYPE_AD_BREAK_REQUEST", this.jb],
                ["SLOT_TYPE_FORECASTING", this.vb],
                ["SLOT_TYPE_PLAYER_BYTES", this.Cb],
                ["SLOT_TYPE_IN_PLAYER", this.Ic]
            ])
        };
        this.listeners = [this.ea.get()];
        this.bd = {
            Ab: this.Ab,
            fg: null,
            Tg: this.Ka.get(),
            We: this.ma.get(),
            Vh: this.Ba.get(),
            xb: this.xb,
            Sg: null,
            Cf: this.D,
            Je: this.ea.get()
        }
    }
    v(Cva, C);
    var b8 = new zg(320, 63);

    function c8(a) {
        return Math.round(a.width) + "x" + Math.round(a.height)
    };

    function d8(a, b, c, d) {
        C.call(this);
        var e = this;
        this.i = Dva(function() {
            return e.l
        }, a, b, c, d);
        E(this, this.i);
        this.l = (new M5(this.i)).u();
        E(this, this.l)
    }
    v(d8, C);
    d8.prototype.u = function() {
        return this.l
    };

    function Dva(a, b, c, d, e) {
        try {
            return Eva(a, b, c, d, e)
        } catch (f) {
            return e = b.Y(), V("Unexpected interface not supported in Ads Control Flow", void 0, void 0, {
                platform: e.deviceParams.cplatform,
                interface: e.deviceParams.c,
                FU: e.deviceParams.cver,
                EU: e.deviceParams.ctheme,
                DU: e.deviceParams.cplayer,
                VU: e.playerStyle
            }), new Eua(a, b, c, d)
        }
    }

    function Eva(a, b, c, d, e) {
        var f = b.Y();
        if ("TVHTML5_AUDIO" === f.deviceParams.c) return new fva(a, b, c, d, e);
        if (xI(f)) return new gva(a, b, c, d, e);
        if ("TVHTML5_KIDS" === f.deviceParams.c) return new hva(a, b, c, d, e);
        if ("TVHTML5" === f.deviceParams.c) return new xva(a, b, c, d, e);
        if (zI(f)) return new yva(a, b, c, d, e);
        if (lI(f)) return new zva(a, b, c, d, e);
        if (DI(f)) return new Cva(a, b, c, d, e);
        throw new TypeError("Unknown tv interface");
    };

    function e8(a, b) {
        this.i = a;
        this.fg = b
    }
    e8.prototype.Ip = function(a) {
        this.fg.Ip(a)
    };
    e8.prototype.Ap = function() {
        try {
            this.fg.Ap()
        } catch (a) {}
    };
    e8.prototype.Ji = function() {
        this.i().Ji()
    };
    e8.prototype.Eg = function() {
        this.i().Eg()
    };

    function f8(a) {
        WF.call(this);
        this.i = a;
        this.Ga(this.i, "onAdUxUpdate", this.I)
    }
    v(f8, WF);
    f8.prototype.I = function(a) {
        if (Array.isArray(a)) {
            a = t(a);
            for (var b = a.next(); !b.done; b = a.next()) b = b.value, b instanceof s_ && this.B(b)
        }
    };

    function g8(a) {
        f8.call(this, a)
    }
    v(g8, f8);
    g8.prototype.B = function(a) {
        var b = a.content;
        if ("shopping-companion" === b.componentType) switch (a.actionType) {
            case 1:
            case 2:
                a = this.i.getVideoData(1);
                this.i.Ja("updateKevlarOrC3Companion", {
                    contentVideoId: a && a.videoId,
                    shoppingCompanionCarouselRenderer: b.renderer,
                    layoutId: b.layoutId,
                    macros: b.macros,
                    onLayoutVisibleCallback: b.l,
                    interactionLoggingClientData: b.i
                });
                break;
            case 3:
                this.i.Ja("updateKevlarOrC3Companion", {})
        } else if ("action-companion" === b.componentType) switch (a.actionType) {
            case 1:
            case 2:
                a = this.i.getVideoData(1);
                this.i.Ja("updateKevlarOrC3Companion", {
                    contentVideoId: a && a.videoId,
                    actionCompanionAdRenderer: b.renderer,
                    layoutId: b.layoutId,
                    macros: b.macros,
                    onLayoutVisibleCallback: b.l,
                    interactionLoggingClientData: b.i
                });
                break;
            case 3:
                b.renderer && (b = this.i.getVideoData(1), this.i.Ja("updateKevlarOrC3Companion", {
                    contentVideoId: b && b.videoId
                })), this.i.Ja("updateKevlarOrC3Companion", {})
        } else if ("image-companion" === b.componentType) switch (a.actionType) {
            case 1:
            case 2:
                a = this.i.getVideoData(1);
                this.i.Ja("updateKevlarOrC3Companion", {
                    contentVideoId: a && a.videoId,
                    imageCompanionAdRenderer: b.renderer,
                    layoutId: b.layoutId,
                    macros: b.macros,
                    onLayoutVisibleCallback: b.l,
                    interactionLoggingClientData: b.i
                });
                break;
            case 3:
                b = this.i.getVideoData(1), this.i.Ja("updateKevlarOrC3Companion", {
                    contentVideoId: b && b.videoId
                }), this.i.Ja("updateKevlarOrC3Companion", {})
        } else if ("ads-engagement-panel" === b.componentType) switch (b = b.renderer, a.actionType) {
            case 1:
            case 2:
                this.i.Ja("updateEngagementPanelAction", b.addAction);
                this.i.Ja("changeEngagementPanelVisibility",
                    b.expandAction);
                break;
            case 3:
                this.i.Ja("changeEngagementPanelVisibility", b.hideAction), this.i.Ja("updateEngagementPanelAction", b.removeAction)
        }
    };

    function h8(a) {
        C.call(this);
        this.l = a
    }
    v(h8, C);
    h8.prototype.append = function(a) {
        if (!this.l) throw Error("This does not support the append operation");
        this.i.appendChild(a.i)
    };

    function i8(a) {
        h8.call(this, !0);
        this.i = a
    }
    v(i8, h8);

    function j8() {
        C.call(this);
        var a = this;
        this.i = new Map;
        this.l = Gfa(function(b) {
            if (b.target && (b = a.i.get(b.target)) && b)
                for (var c = 0; c < b.length; c++) Lu(b[c], void 0, void 0)
        })
    }
    v(j8, C);

    function Fva() {
        null == k8 && (k8 = new j8);
        return k8
    }
    j8.prototype.Da = function() {
        this.l && Qs(this.l);
        this.i.clear();
        k8 = null;
        C.prototype.Da.call(this)
    };
    j8.prototype.register = function(a, b) {
        b && this.i.set(a, b)
    };
    var k8 = null;

    function Gva(a, b) {
        function c(f) {
            return {
                toString: f
            }
        }
        var d = {},
            e = a.getVideoData(1);
        d.CPN = c(function() {
            return e && e.clientPlaybackNonce || null
        });
        d.ASR = c(function() {
            return e && e.xj || null
        });
        d.EI = c(function() {
            return e && e.eventId || null
        });
        d.AD_CPN = c(function() {
            return b.Np()
        });
        d.AD_MT = c(function() {
            return Math.round(Math.max(0, 1E3 * a.getCurrentTime(2))).toString()
        });
        d.MT = c(function() {
            return Math.round(Math.max(0, 1E3 * a.getCurrentTime(1))).toString()
        });
        d.P_H = c(function() {
            return a.getPlayerSize().height.toString()
        });
        d.PV_H = d.P_H;
        d.P_W = c(function() {
            return a.getPlayerSize().width.toString()
        });
        d.PV_W = d.P_W;
        d.CONN = "0";
        d.WT = c(function() {
            return Date.now().toString()
        });
        d.LACT = c(function() {
            return jt().toString()
        });
        d.VIS = c(function() {
            return a.getVisibilityState().toString()
        });
        d.VOL = c(function() {
            return a.getVolume().toString()
        });
        return d
    };

    function Hva(a, b) {
        C.call(this);
        var c = this;
        this.u = [];
        this.G = !1;
        this.l = 0;
        this.C = this.D = this.B = !1;
        this.K = null;
        var d = Sa(a, b);
        this.i = new dr(function() {
            return d(c.K)
        }, 300);
        E(this, this.i);
        this.J = this.I = Infinity
    }
    v(Hva, C);

    function Iva(a, b) {
        if (!b) return !1;
        for (var c = 0; c < b.length; c++) {
            var d = b.item(c);
            if (d && a.u.includes(d.identifier)) return !0
        }
        return !1
    };
    var Jva = new WeakSet;

    function Z(a, b, c, d, e, f, g) {
        g = void 0 === g ? null : g;
        cN.call(this, c);
        this.api = a;
        this.Ia = b;
        this.macros = {};
        this.componentType = d;
        this.J = null;
        this.Ta = g;
        this.layoutId = e;
        this.i = f;
        this.Ha = null;
        this.aB = new i8(this.element);
        E(this, this.aB);
        this.Sa = this.Ga(this.element, "click", this.onClick);
        this.ea = [];
        this.X = new Hva(this.onClick, this);
        E(this, this.X);
        this.bb = !1;
        this.U = null
    }
    v(Z, cN);
    h = Z.prototype;
    h.bind = function(a) {
        if (!this.Ha && a.renderer) {
            var b = Object.assign({}, Gva(this.api, this.Ia), a.macros);
            this.init(a.id, a.renderer, b, a)
        }
        return Promise.resolve()
    };
    h.init = function(a, b, c) {
        this.Ha = a;
        this.element.setAttribute("id", this.Ha);
        this.Ta && rr(this.element, this.Ta);
        this.U = b && b.adRendererCommands;
        this.macros = c;
        this.J = b.trackingParams || null;
        null != this.J && this.Ii(this.element, this.J)
    };
    h.clear = function() {};
    h.hide = function() {
        cN.prototype.hide.call(this);
        null != this.J && this.Ug(this.element, !1)
    };
    h.show = function() {
        cN.prototype.show.call(this);
        if (!this.bb) {
            this.bb = !0;
            var a = this.U && this.U.impressionCommand;
            a && Kva(this, a, null)
        }
        null != this.J && this.Ug(this.element, !0)
    };
    h.onClick = function(a) {
        if (this.J && !Jva.has(a)) {
            var b = this.element;
            if (this.api.gq(b) && this.u) {
                var c = this.api;
                c.Y().X && c.app.Ck.click(b, this.i)
            }
            Jva.add(a)
        }
        if (a = this.U && this.U.clickCommand) a = this.GA(a), Kva(this, a, this.Ky())
    };
    h.GA = function(a) {
        return a
    };
    h.Ky = function() {
        return null
    };
    h.ZC = function(a) {
        var b = this.X;
        b.G = !0;
        b.l = a.touches.length;
        b.i.isActive() && (b.i.stop(), b.C = !0);
        a = a.touches;
        b.D = Iva(b, a) || 1 != a.length;
        var c = a.item(0);
        b.D || !c ? (b.I = Infinity, b.J = Infinity) : (b.I = c.clientX, b.J = c.clientY);
        for (c = b.u.length = 0; c < a.length; c++) {
            var d = a.item(c);
            b.u.push(d.identifier)
        }
    };
    h.YC = function(a) {
        var b = this.X;
        a = a.changedTouches.item(0);
        if (he() && !(0 <= Oc(ie(), 8)) || a && Math.pow(a.clientX - b.I, 2) + Math.pow(a.clientY - b.J, 2) > Math.pow(5, 2)) b.B = !0
    };
    h.XC = function(a) {
        if (this.X) {
            var b = this.X,
                c = a.changedTouches;
            c && b.G && 1 == b.l && !b.B && !b.C && !b.D && Iva(b, c) && (b.K = a, b.i.start());
            b.l = a.touches.length;
            0 === b.l && (b.G = !1, b.B = !1, b.u.length = 0);
            b.C = !1
        }
    };

    function Kva(a, b, c) {
        a.Ia ? a.Ia.executeCommand(b, a.macros, c) : Cs(Error("null or undefined adService"))
    }

    function l8(a, b) {
        a = void 0 === a ? null : a;
        b = void 0 === b ? null : b;
        if (null == a) return Ds(Error("Got null or undefined adText object")), "";
        var c = Ed(a.text);
        if (!a.isTemplated) return c;
        if (null == b) return Ds(Error("Missing required parameters for a templated message")), c;
        a = t(Object.entries(b));
        for (b = a.next(); !b.done; b = a.next()) {
            var d = t(b.value);
            b = d.next().value;
            d = d.next().value;
            c = c.replace("{" + b + "}", d)
        }
        return c
    }

    function Lva(a) {
        a = void 0 === a ? null : a;
        return null != a && (a = a.thumbnail, null != a && null != a.thumbnails && 0 != a.thumbnails.length && null != a.thumbnails[0].url) ? Ed(a.thumbnails[0].url) : ""
    }

    function Mva(a) {
        a = void 0 === a ? null : a;
        return null != a && (a = a.thumbnail, null != a && null != a.thumbnails && 0 != a.thumbnails.length && null != a.thumbnails[0].width && null != a.thumbnails[0].height) ? new zg(a.thumbnails[0].width || 0, a.thumbnails[0].height || 0) : new zg(0, 0)
    }
    h.Ii = function(a, b) {
        this.api.Ii(a, this);
        this.api.Fv(a, b)
    };
    h.Ug = function(a, b) {
        this.api.gq(a) && this.api.Ug(a, b, this.i)
    };
    h.Da = function() {
        this.clear(null);
        this.xe(this.Sa);
        for (var a = t(this.ea), b = a.next(); !b.done; b = a.next()) this.xe(b.value);
        cN.prototype.Da.call(this)
    };

    function m8(a) {
        if (!a) return null;
        switch (a.iconType) {
            case "OPEN_IN_NEW":
                return {
                    V: "svg", Va: {
                        fill: "#fff",
                        height: "100%",
                        version: "1.1",
                        viewBox: "0 0 48 48",
                        width: "100%"
                    }, Na: [{
                        V: "path",
                        Va: {
                            d: "M0 0h48v48H0z",
                            fill: "none"
                        }
                    }, {
                        V: "path",
                        Va: {
                            d: "M38 38H10V10h14V6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V24h-4v14zM28 6v4h7.17L15.51 29.66l2.83 2.83L38 12.83V20h4V6H28z"
                        }
                    }]
                };
            case "CHECK_BOX":
                return {
                    V: "svg", Va: {
                        height: "100%",
                        viewBox: "0 0 24 24",
                        width: "100%"
                    }, Na: [{
                        V: "path",
                        Va: {
                            d: "M0 0h24v24H0z",
                            fill: "none"
                        }
                    }, {
                        V: "path",
                        Va: {
                            d: "M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",
                            fill: "#d4d4d4"
                        }
                    }]
                };
            case "CHECK_BOX_OUTLINE_BLANK":
                return {
                    V: "svg", Va: {
                        height: "100%",
                        viewBox: "0 0 24 24",
                        width: "100%"
                    }, Na: [{
                        V: "path",
                        Va: {
                            d: "M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z",
                            fill: "#d4d4d4"
                        }
                    }, {
                        V: "path",
                        Va: {
                            d: "M0 0h24v24H0z",
                            fill: "none"
                        }
                    }]
                };
            case "CLOSE":
                return QM();
            case "INFO_OUTLINE":
                return {
                    V: "svg",
                        Va: {
                            fill: "#fff",
                            height: "100%",
                            version: "1.1",
                            viewBox: "0 0 48 48",
                            width: "100%"
                        }, Na: [{
                            V: "path",
                            Va: {
                                d: "M0 0h48v48H0z",
                                fill: "none"
                            }
                        }, {
                            V: "path",
                            Va: {
                                d: "M22 34h4V22h-4v12zm2-30C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm-2-22h4v-4h-4v4z"
                            }
                        }]
                };
            case "REMOVE_CIRCLE":
                return {
                    V: "svg", Va: {
                        fill: "#fff",
                        height: "100%",
                        version: "1.1",
                        viewBox: "0 0 24 24",
                        width: "100%"
                    }, Na: [{
                        V: "path",
                        Va: {
                            d: "M0 0h24v24H0z",
                            fill: "none"
                        }
                    }, {
                        V: "path",
                        Va: {
                            d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z",
                            fill: "#757575"
                        }
                    }]
                };
            case "SKIP_NEXT":
                return {
                    V: "svg", Va: {
                        height: "100%",
                        version: "1.1",
                        viewBox: "0 0 36 36",
                        width: "100%"
                    }, Na: [{
                        V: "path",
                        wH: !0,
                        Ca: "ytp-svg-fill",
                        Va: {
                            d: "M 12,24 20.5,18 12,12 V 24 z M 22,12 v 12 h 2 V 12 h -2 z"
                        }
                    }]
                };
            case "LIKE":
                return {
                    V: "svg", Va: {
                        viewBox: "0 0 24 24"
                    }, Na: [{
                        V: "path",
                        Va: {
                            d: "M0 0h24v24H0z",
                            fill: "none"
                        }
                    }, {
                        V: "path",
                        Va: {
                            d: "M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z",
                            fill: "#fff"
                        }
                    }]
                };
            case "DISLIKE":
                return {
                    V: "svg", Va: {
                        viewBox: "0 0 24 24"
                    }, Na: [{
                        V: "path",
                        Va: {
                            d: "M0 0h24v24H0z",
                            fill: "none"
                        }
                    }, {
                        V: "path",
                        Va: {
                            d: "M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z",
                            fill: "#fff"
                        }
                    }]
                };
            default:
                return ly(new lw("Unexpected icon:", a)), null
        }
    };

    function n8(a, b, c, d, e, f, g, k) {
        e = void 0 === e ? [] : e;
        g = void 0 === g ? !1 : g;
        e = {
            V: "button",
            fd: ["ytp-ad-button"].concat(e)
        };
        null != k && (e.Va = {
            tabindex: k
        });
        Z.call(this, a, b, e, void 0 === f ? "button" : f, c, d);
        this.l = this.B = this.C = null;
        this.D = g;
        this.hide()
    }
    v(n8, Z);
    n8.prototype.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        this.l = b;
        if (null == b.text && null == b.icon) Ds(Error("ButtonRenderer did not have text or an icon set."));
        else {
            switch (b.style || null) {
                case "STYLE_UNKNOWN":
                    a = "ytp-ad-button-link";
                    break;
                default:
                    a = null
            }
            null != a && rr(this.element, a);
            null != b.text && (a = mC(b.text), Ec(a) || (this.element.setAttribute("aria-label", a), this.C = new cN({
                V: "span",
                Ca: "ytp-ad-button-text",
                eb: a
            }), E(this, this.C), this.C.Ua(this.element)));
            null != b.icon && (b = m8(b.icon), null != b && (this.B =
                new cN({
                    V: "span",
                    Ca: "ytp-ad-button-icon",
                    Na: [b]
                }), E(this, this.B)), this.D ? Rg(this.element, this.B.element, 0) : this.B.Ua(this.element))
        }
    };
    n8.prototype.clear = function() {
        this.hide()
    };
    n8.prototype.onClick = function(a) {
        var b = this;
        Z.prototype.onClick.call(this, a);
        Nva(this).forEach(function(c) {
            return b.Ia.executeCommand(c, b.macros)
        });
        this.api.onAdUxClicked(this.componentType, this.layoutId)
    };

    function Nva(a) {
        var b = null;
        null != a.l && (b = [a.l.serviceEndpoint, a.l.navigationEndpoint].filter(function(c) {
            return null != c
        }), a.l.command && (b = b.concat(a.l.command)));
        return b || []
    };

    function o8(a, b) {
        if (a.simpleText) {
            a: {
                a = a.simpleText;
                if (b && (b = Ova(a))) {
                    b = Lg("SPAN", null, b);
                    break a
                }
                b = Pg(a)
            }
            return b
        }
        var c = [];
        if (a.runs)
            for (var d = 0; d < a.runs.length; d++) {
                var e = a.runs[d];
                e.text && c.push(Pva(e, b))
            }
        return 1 == c.length ? c[0] : Lg("SPAN", null, c)
    }

    function Pva(a, b) {
        var c = null,
            d = a.text;
        b && (d = Ova(d) || d);
        a.bold && (c = Lg("B", null, c || d));
        a.italics && (c = Lg("I", null, c || d));
        a.strikethrough && (c = Lg("STRIKE", null, c || d));
        a.navigationEndpoint && a.navigationEndpoint.urlEndpoint && (b = a.navigationEndpoint.urlEndpoint, c = Lg("A", null, c || d), vd(c, b.url), "TARGET_NEW_WINDOW" == b.target && (c.target = "_blank"), a = a.navigationEndpoint.loggingUrls) && (a = a.map(function(e) {
            return e.baseUrl
        }), Fva().register(c, a), rr(c, "ytp-ad-has-logging-urls"));
        return c || Lg("SPAN", null, d)
    }

    function Ova(a) {
        a = a.split(/(?:\r\n|\r|\n)/g);
        if (1 < a.length) {
            for (var b = [a[0]], c = 1; c < a.length; c++) b.push(Lg("BR")), b.push(a[c]);
            return b
        }
        return null
    };

    function p8(a, b, c, d, e, f, g, k) {
        f = void 0 === f ? !1 : f;
        g = void 0 === g ? [] : g;
        Z.call(this, a, b, {
            V: "span",
            fd: ["ytp-ad-hover-text-button"].concat(g)
        }, void 0 === k ? "ad-hover-text-button" : k, c, d);
        this.button = this.B = null;
        this.G = f;
        this.D = e;
        this.hide()
    }
    v(p8, Z);
    p8.prototype.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        a = b.hoverText || null;
        b = b.button && b.button.buttonRenderer || null;
        null == b ? Cs(Error("AdHoverTextButtonRenderer.button was not set in response.")) : (this.button = new n8(this.api, this.Ia, this.layoutId, this.i), E(this, this.button), this.button.init(p0("button"), b, this.macros), a && this.button.element.setAttribute("aria-label", mC(a)), this.button.Ua(this.element), this.G && !qr(this.button.element, "ytp-ad-clickable") && rr(this.button.element, "ytp-ad-clickable"),
            a && (this.B = new cN({
                V: "div",
                Ca: "ytp-ad-hover-text-container"
            }), this.D && (b = new cN({
                V: "div",
                Ca: "ytp-ad-hover-text-callout"
            }), b.Ua(this.B.element), E(this, b)), E(this, this.B), this.B.Ua(this.element), b = o8(a), Rg(this.B.element, b, 0)), this.show())
    };
    p8.prototype.hide = function() {
        this.button && this.button.hide();
        this.B && this.B.hide();
        Z.prototype.hide.call(this)
    };
    p8.prototype.show = function() {
        this.button && this.button.show();
        Z.prototype.show.call(this)
    };

    function q8(a, b, c, d) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-feedback-dialog-background",
            Na: [{
                V: "div",
                Ca: "ytp-ad-feedback-dialog-container",
                Na: [{
                    V: "div",
                    Ca: "ytp-ad-feedback-dialog-form",
                    Va: {
                        role: "dialog",
                        tabindex: "-1"
                    },
                    Na: [{
                        V: "div",
                        Ca: "ytp-ad-feedback-dialog-title",
                        Na: [{
                            V: "span",
                            eb: "{{title}}"
                        }]
                    }, {
                        V: "span",
                        Ca: "ytp-ad-info-dialog-feedback-options-title",
                        eb: "{{reasonsTitle}}"
                    }, {
                        V: "div",
                        Ca: "ytp-ad-info-dialog-feedback-options"
                    }, {
                        V: "div",
                        Ca: "ytp-ad-feedback-dialog-confirm-container",
                        Na: [{
                            V: "button",
                            Ca: "ytp-ad-feedback-dialog-cancel-button",
                            eb: "{{cancelLabel}}"
                        }, {
                            V: "button",
                            Ca: "ytp-ad-feedback-dialog-confirm-button",
                            eb: "{{confirmLabel}}"
                        }]
                    }]
                }]
            }]
        }, "ad-info-dialog", c, d);
        this.D = [];
        this.l = null;
        this.G = this.Wa("ytp-ad-feedback-dialog-cancel-button");
        this.K = this.Wa("ytp-ad-feedback-dialog-confirm-button");
        this.T = this.Wa("ytp-ad-info-dialog-feedback-options");
        this.Z = this.Wa("ytp-ad-feedback-dialog-title");
        this.C = this.B = null;
        this.hide()
    }
    v(q8, Z);
    h = q8.prototype;
    h.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        b.reasons ? null == b.confirmLabel ? Cs(Error("AdFeedbackRenderer.confirmLabel was not set.")) : (null == b.cancelLabel && Ds(Error("AdFeedbackRenderer.cancelLabel was not set.")), null == b.title && Ds(Error("AdFeedbackRenderer.title was not set.")), Qva(this, b)) : Cs(Error("AdFeedbackRenderer.reasons were not set."))
    };
    h.clear = function() {
        Rs(this.G);
        Rs(this.K);
        this.D.length = 0;
        this.hide()
    };
    h.hide = function() {
        this.l && this.l.hide();
        this.B && this.B.hide();
        Z.prototype.hide.call(this);
        this.C && this.C.focus()
    };
    h.show = function() {
        this.l && this.l.show();
        this.B && this.B.show();
        this.C = document.activeElement;
        Z.prototype.show.call(this);
        this.G.focus()
    };

    function Qva(a, b) {
        var c = b.cancelRenderer && b.cancelRenderer.buttonRenderer || null;
        c && (a.l = new n8(a.api, a.Ia, a.layoutId, a.i, ["ytp-ad-feedback-dialog-close-button"], "button"), E(a, a.l), a.l.init(p0("button"), c, a.macros), a.l.jd("click", a.eA, a), a.l.Ua(a.element));
        b.title && (c = mC(b.title), a.zc("title", c));
        b.reasonsTitle && (c = mC(b.reasonsTitle), a.zc("reasonsTitle", c));
        b.reasons && Rva(a, b.reasons);
        b.cancelLabel && (c = mC(b.cancelLabel), a.zc("cancelLabel", c), Os(a.G, "click", function() {
            return a.eA()
        }));
        b.confirmLabel && (c = mC(b.confirmLabel), a.zc("confirmLabel", c), Os(a.K, "click", function() {
            return Sva(a)
        }));
        b.undoRenderer && Tva(a, b.undoRenderer)
    }

    function Rva(a, b) {
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) {
            var d = c.value;
            c = d.reason;
            null == c ? Ds(Error("AdFeedbackReason.reason was not set.")) : (d = d.endpoint, null == d ? Ds(Error("AdFeedbackReason.endpoint was not set.")) : (c = new Uva(c, d), E(a, c), a.T.appendChild(c.i.element), a.D.push(c)))
        }
    }

    function Tva(a, b) {
        if (b = b && b.buttonRenderer || null) b.serviceEndpoint ? (a.B = new n8(a.api, a.Ia, a.layoutId, a.i, ["ytp-ad-feedback-dialog-undo-mute-button"], "ad-feedback-undo-mute-button"), E(a, a.B), a.B.init(p0("ad-feedback-undo-mute-button"), b, a.macros), a.B.jd("click", a.KG, a), a.B.Ua(a.Z)) : Ds(Error("AdFeedbackRenderer.undoRenderer.undoButtonRenderer was specified but did not contain a service endpoint."))
    }
    h.eA = function() {
        this.api.onAdUxClicked("ad-feedback-dialog-close-button", this.layoutId);
        this.W("c");
        this.hide()
    };

    function Sva(a) {
        var b = a.D.filter(function(c) {
            return c.isChecked()
        });
        0 !== b.length && (a.Ia.executeCommand(b[0].l, a.macros), a.api.onAdUxClicked("ad-feedback-dialog-confirm-button", a.layoutId), a.W("c"), a.hide())
    }
    h.KG = function() {
        this.hide()
    };

    function Uva(a, b) {
        this.l = b;
        this.i = new cN({
            V: "label",
            Ca: "ytp-ad-feedback-dialog-reason-label",
            Na: [{
                V: "input",
                Ca: "ytp-ad-feedback-dialog-reason-input",
                Va: {
                    type: "radio",
                    name: "feedback-reason-group"
                }
            }, {
                V: "span",
                Ca: "ytp-ad-feedback-dialog-reason-text",
                eb: mC(a)
            }]
        });
        this.u = this.i.Wa("ytp-ad-feedback-dialog-reason-input")
    }
    Uva.prototype.isChecked = function() {
        return this.u.checked
    };

    function r8(a, b, c, d, e, f) {
        e = void 0 === e ? [] : e;
        Z.call(this, a, b, {
            V: "div",
            fd: ["ytp-ad-confirm-dialog-background"],
            Na: [{
                V: "div",
                Ca: "ytp-ad-confirm-dialog-container",
                Na: [{
                    V: "div",
                    fd: ["ytp-ad-confirm-dialog"].concat(e),
                    Va: {
                        role: "dialog",
                        tabindex: "-1"
                    },
                    Na: [{
                        V: "div",
                        Ca: "ytp-ad-confirm-dialog-title",
                        eb: "{{title}}"
                    }, {
                        V: "div",
                        Ca: "ytp-ad-confirm-dialog-messages"
                    }, {
                        V: "div",
                        Ca: "ytp-ad-confirm-dialog-confirm-container",
                        Na: [{
                            V: "button",
                            Ca: "ytp-ad-confirm-dialog-cancel-button",
                            eb: "{{cancelLabel}}"
                        }, {
                            V: "button",
                            Ca: "ytp-ad-confirm-dialog-confirm-button",
                            eb: "{{confirmLabel}}"
                        }]
                    }]
                }]
            }, {
                V: "button",
                fd: ["ytp-ad-confirm-dialog-close-overlay-button", "ytp-ad-button", "ytp-ad-button-link"],
                Na: [{
                    V: "span",
                    Ca: "ytp-ad-button-icon",
                    Na: [QM()]
                }]
            }]
        }, void 0 === f ? "confirm-dialog" : f, c, d);
        this.K = this.Wa("ytp-ad-confirm-dialog-close-overlay-button");
        this.D = this.Wa("ytp-ad-confirm-dialog-cancel-button");
        this.G = this.Wa("ytp-ad-confirm-dialog-confirm-button");
        this.T = this.Wa("ytp-ad-confirm-dialog-messages");
        this.C = null;
        this.l = new WF;
        E(this, this.l);
        this.B = null;
        this.hide()
    }
    v(r8, Z);
    h = r8.prototype;
    h.hide = function() {
        Z.prototype.hide.call(this);
        this.C && this.C.focus()
    };
    h.show = function() {
        this.C = document.activeElement;
        Z.prototype.show.call(this);
        this.D.focus()
    };
    h.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        this.B = b;
        b.dialogMessages || null != b.title ? null == b.confirmLabel ? Cs(Error("ConfirmDialogRenderer.confirmLabel was not set.")) : null == b.cancelLabel ? Cs(Error("ConfirmDialogRenderer.cancelLabel was not set.")) : Vva(this, b) : Cs(Error("Neither ConfirmDialogRenderer.title nor ConfirmDialogRenderer.dialogMessages were set."))
    };
    h.clear = function() {
        YF(this.l);
        this.hide()
    };
    h.Hu = function() {
        this.hide()
    };
    h.Gu = function() {
        var a = this.B.cancelEndpoint;
        a && this.Ia.executeCommand(a, this.macros);
        this.hide()
    };
    h.Iu = function() {
        var a = this.B.confirmNavigationEndpoint || this.B.confirmEndpoint;
        a && this.Ia.executeCommand(a, this.macros);
        this.hide()
    };

    function Vva(a, b) {
        if (b.title) {
            var c = mC(b.title);
            a.zc("title", c)
        }
        if (b.dialogMessages) {
            c = t(b.dialogMessages);
            for (var d = c.next(); !d.done; d = c.next()) d = o8(d.value), a.T.appendChild(d)
        }
        b.cancelLabel && (c = mC(b.cancelLabel), a.zc("cancelLabel", c), a.l.Ga(a.D, "click", function(e) {
            return a.Gu(e)
        }));
        b.confirmLabel && (b = mC(b.confirmLabel), a.zc("confirmLabel", b), a.l.Ga(a.G, "click", function(e) {
            return a.Iu(e)
        }));
        a.l.Ga(a.K, "click", function(e) {
            return a.Hu(e)
        })
    };

    function s8(a, b, c, d) {
        r8.call(this, a, b, c, d, [], "ad-mute-confirm-dialog")
    }
    v(s8, r8);
    s8.prototype.Hu = function(a) {
        r8.prototype.Hu.call(this, a);
        this.api.onAdUxClicked("ad-mute-confirm-dialog-close-button")
    };
    s8.prototype.Gu = function(a) {
        r8.prototype.Gu.call(this, a);
        this.api.onAdUxClicked("ad-mute-confirm-dialog-close-button")
    };
    s8.prototype.Iu = function(a) {
        r8.prototype.Iu.call(this, a);
        this.api.onAdUxClicked("ad-mute-confirm-dialog-confirm-button");
        this.W("d")
    };

    function t8(a, b, c, d, e) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-info-dialog-background",
            Na: [{
                V: "div",
                Ca: "ytp-ad-info-dialog-container",
                Na: [{
                    V: "div",
                    Ca: "ytp-ad-info-dialog-form",
                    Va: {
                        role: "dialog",
                        tabindex: "-1"
                    },
                    Na: [{
                        V: "div",
                        Ca: "ytp-ad-info-dialog-title",
                        eb: "{{title}}"
                    }, {
                        V: "ul",
                        Ca: "ytp-ad-info-dialog-ad-reasons"
                    }, {
                        V: "div",
                        Ca: "ytp-ad-info-dialog-message"
                    }, {
                        V: "div",
                        Ca: "ytp-ad-info-dialog-mute-container"
                    }, {
                        V: "div",
                        Ca: "ytp-ad-info-dialog-confirm-container",
                        Na: [{
                            V: "button",
                            Ca: "ytp-ad-info-dialog-confirm-button",
                            eb: "{{confirmLabel}}"
                        }]
                    }]
                }]
            }]
        }, "ad-info-dialog", c, d);
        this.l = this.B = null;
        this.K = this.Wa("ytp-ad-info-dialog-confirm-button");
        this.Ma = this.Wa("ytp-ad-info-dialog-mute-container");
        this.Fa = this.Wa("ytp-ad-info-dialog-message");
        this.ra = this.Wa("ytp-ad-info-dialog-ad-reasons");
        this.D = this.C = null;
        this.Z = e;
        this.G = null;
        this.va = !1;
        this.T = null;
        this.hide()
    }
    v(t8, Z);
    h = t8.prototype;
    h.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        this.G = b;
        if (null == b.dialogMessage && null == b.title) Cs(Error("Neither AdInfoDialogRenderer.dialogMessage nor AdInfoDialogRenderer.title was set."));
        else {
            null == b.confirmLabel && Ds(Error("AdInfoDialogRenderer.confirmLabel was not set."));
            if (a = b.closeOverlayRenderer && b.closeOverlayRenderer.buttonRenderer || null) this.l = new n8(this.api, this.Ia, this.layoutId, this.i, ["ytp-ad-info-dialog-close-button"], "ad-info-dialog-close-button"), E(this, this.l), this.l.init(p0("button"),
                a, this.macros), this.l.Ua(this.element);
            b.title && (a = mC(b.title), this.zc("title", a));
            if (b.adReasons)
                for (a = b.adReasons, c = 0; c < a.length; c++) {
                    var d = o8(a[c]);
                    if (!Ec(d.textContent)) {
                        var e = Lg("LI");
                        e.appendChild(d);
                        this.ra.appendChild(e)
                    }
                } else lm(this.ra, !1);
            b.dialogMessage && (a = o8(b.dialogMessage, !0), this.Fa.appendChild(a));
            b.confirmLabel && (a = mC(b.confirmLabel), this.zc("confirmLabel", a));
            b.muteAdRenderer && (b = (b = b.muteAdRenderer) && b.buttonRenderer || null) && (a = b.navigationEndpoint && b.navigationEndpoint.adFeedbackEndpoint ||
                null, c = b.navigationEndpoint && b.navigationEndpoint.confirmDialogEndpoint || null, null == a && null == c ? Ds(Error("AdInfoDialogRenderer.muteAdRenderer was specified but contains neither an AdFeedbackEndpoint, nor a ConfirmDialogEndpoint.")) : (a ? Wva(this, a) : c && Xva(this, c), this.C = new n8(this.api, this.Ia, this.layoutId, this.i, ["ytp-ad-info-dialog-mute-button"], "button", !0), E(this, this.C), this.C.init(p0("button"), b, this.macros), this.C.jd("click", this.bG, this), this.C.Ua(this.Ma)));
            Yva(this)
        }
    };
    h.clear = function() {
        Rs(this.K);
        this.hide()
    };
    h.hide = function() {
        this.B ? this.B.hide() : this.D && this.D.hide();
        this.l && this.l.hide();
        this.C && this.C.hide();
        Z.prototype.hide.call(this);
        this.T && this.T.focus()
    };
    h.show = function() {
        this.l && this.l.show();
        this.C && this.C.show();
        this.va || (Zva(this), this.va = !0);
        this.T = document.activeElement;
        Z.prototype.show.call(this);
        this.K.focus()
    };

    function Zva(a) {
        (a.G && a.G.impressionEndpoints || []).forEach(function(b) {
            return a.Ia.executeCommand(b, a.macros)
        })
    }

    function Wva(a, b) {
        if (b = b.content && b.content.adFeedbackRenderer || null) a.B = new q8(a.api, a.Ia, a.layoutId, a.i), E(a, a.B), a.B.init(p0("ad-feedback-dialog"), b, a.macros), a.B.Ua(a.Z), a.B.subscribe("c", function() {
            return a.W("e")
        })
    }

    function Xva(a, b) {
        if (b = b.content && b.content.confirmDialogRenderer || null) a.D = new s8(a.api, a.Ia, a.layoutId, a.i), E(a, a.D), a.D.init(p0("ad-mute-confirm-dialog"), b, a.macros), a.D.Ua(a.Z), a.D.subscribe("d", function() {
            return a.W("e")
        })
    }
    h.Tw = function() {
        this.G && this.G.confirmServiceEndpoint && this.Ia.executeCommand(this.G.confirmServiceEndpoint, this.macros);
        this.api.onAdUxClicked("ad-info-dialog-close-button", this.layoutId);
        this.W("f");
        this.hide()
    };
    h.bG = function() {
        var a = this.B ? this.B : this.D;
        a && !a.u && (this.hide(), a.show())
    };

    function Yva(a) {
        a.l && a.l.jd("click", a.Tw, a);
        Os(a.K, "click", function() {
            return a.Tw()
        })
    };

    function u8(a, b, c, d, e, f) {
        p8.call(this, a, b, c, d, void 0 === f ? !0 : f, !0, ["ytp-ad-info-hover-text-button"], "ad-info-hover-text-button");
        this.l = null;
        this.C = e;
        this.hide()
    }
    v(u8, p8);
    u8.prototype.init = function(a, b, c) {
        p8.prototype.init.call(this, a, b, c);
        a = b.button && b.button.buttonRenderer || null;
        null != a && ($va(this, a, c), this.show())
    };
    u8.prototype.hide = function() {
        this.button && this.button.hide();
        this.l && this.l.hide();
        p8.prototype.hide.call(this)
    };
    u8.prototype.show = function() {
        this.button && this.button.show();
        p8.prototype.show.call(this)
    };

    function awa(a, b, c) {
        b = b.dialog && b.dialog.adInfoDialogRenderer || null;
        null == b ? Cs(Error("AdInfoDialogEndpoint did not contain an AdInfoDialogRenderer.")) : (a.l = new t8(a.api, a.Ia, a.layoutId, a.i, a.C), E(a, a.l), a.l.init(p0("ad-info-dialog"), b, c), a.l.Ua(a.C), a.l.subscribe("f", function() {
            return a.W("h")
        }), a.l.subscribe("e", function() {
            return a.W("g")
        }))
    }

    function $va(a, b, c) {
        null == a.button ? Cs(Error("AdInfoHoverTextButton.button was expected but it was not created.")) : (a.B && rr(a.B.element, "ytp-ad-info-hover-text-short"), (b = b && b.serviceEndpoint && b.serviceEndpoint.adInfoDialogEndpoint || null) ? (awa(a, b, c), a.button.jd("click", function() {
            a.l && !a.l.u && (a.l.show(), bwa(a))
        })) : a.button.jd("click", function() {
            return bwa(a)
        }))
    }

    function bwa(a) {
        a.api.onAdUxClicked("ad-info-icon-button", a.layoutId)
    }
    u8.prototype.clear = function() {
        this.hide()
    };

    function v8(a) {
        return a && a.thumbnails && 0 != (a.thumbnails || null).length && a.thumbnails[0].url ? Ed(a.thumbnails[0].url) : ""
    };

    function w8(a, b, c, d, e, f) {
        f = void 0 === f ? !1 : f;
        Z.call(this, a, b, {
            V: "img",
            Ca: "ytp-ad-image"
        }, "ad-image", c, d, void 0 === e ? null : e);
        this.l = f;
        this.hide()
    }
    v(w8, Z);
    w8.prototype.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        b = (a = b.thumbnail) && v8(a) || "";
        Ec(b) ? (R(this.api.Y().experiments, "web_player_ad_image_error_rate_sampling_killswitch") || .01 > Math.random()) && Ds(Error("Found AdImage without valid image URL")) : (this.l ? $l(this.element, "backgroundImage", "url(" + b + ")") : Hg(this.element, {
            src: b
        }), Hg(this.element, {
            alt: a && a.accessibility && a.accessibility.label || ""
        }), this.show())
    };
    w8.prototype.clear = function() {
        this.hide()
    };

    function x8(a, b, c, d, e, f) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-text"
        }, void 0 === f ? "ad-text" : f, c, d, void 0 === e ? null : e);
        this.l = null;
        this.hide()
    }
    v(x8, Z);
    x8.prototype.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        this.l = b;
        this.isTemplated() || Ug(this.element, l8(this.l));
        if (b.backgroundImage && (a = (a = b.backgroundImage.thumbnail) ? v8(a) : "", c = (c = this.api.getVideoData(1)) && c.zg, a && c && (this.element.style.backgroundImage = "url(" + a + ")", this.element.style.backgroundSize = "100%"), b.style && b.style.adTextStyle)) switch (b.style.adTextStyle.fontSize) {
            case "AD_FONT_SIZE_MEDIUM":
                this.element.style.fontSize = "26px"
        }
        this.show()
    };
    x8.prototype.isTemplated = function() {
        return this.l.isTemplated || !1
    };

    function y8(a, b) {
        b && Ug(a.element, l8(a.l, b))
    }
    x8.prototype.clear = function() {
        this.hide()
    };

    function z8(a, b, c, d, e, f, g) {
        Z.call(this, a, b, c, d, e, f);
        this.l = g;
        E(this, this.l);
        this.ra = this.D = -1
    }
    v(z8, Z);

    function A8(a) {
        a.l && -1 === a.D && (a.D = a.l.subscribe("b", a.jj, a), a.ra = a.l.subscribe("a", a.Zk, a), a.jj())
    }

    function B8(a) {
        null != a.l && -1 !== a.D && (a.l.cg(a.D), a.l.cg(a.ra), a.ra = -1, a.D = -1)
    }
    z8.prototype.clear = function() {
        this.dispose()
    };

    function C8(a, b, c, d, e, f) {
        z8.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-preview-slot"
        }, "ad-preview", c, d, e);
        var g = this;
        this.Fa = -1;
        this.B = new cN({
            V: "span",
            Ca: "ytp-ad-preview-container"
        });
        E(this, this.B);
        this.C = new x8(this.api, this.Ia, this.layoutId, this.i, "ytp-ad-preview-text");
        E(this, this.C);
        this.C.Ua(this.B.element);
        this.K = new cN({
            V: "span",
            Ca: "ytp-ad-preview-image"
        });
        E(this, this.K);
        this.G = new w8(this.api, this.Ia, this.layoutId, this.i);
        E(this, this.G);
        this.G.Ua(this.K.element);
        this.K.Ua(this.B.element);
        this.B.Ua(this.element);
        this.T = new OM(this.B, 400, !1, 100, function() {
            return g.hide()
        });
        E(this, this.T);
        this.Z = 0;
        this.va = !1;
        this.Ma = f;
        this.hide()
    }
    v(C8, z8);
    h = C8.prototype;
    h.init = function(a, b, c) {
        z8.prototype.init.call(this, a, b, c);
        a = b.durationMilliseconds;
        "number" === typeof a && 0 > a && Cs(Error("durationMilliseconds was specified incorrectly in AdPreviewRenderer with a value of: " + a));
        this.Ma && rr(this.B.element, "countdown-next-to-thumbnail");
        a = b.durationMilliseconds;
        this.Z = null == a || 0 === a ? this.l.Pn() : a;
        if (b.templatedCountdown) var d = b.templatedCountdown.templatedAdText;
        else b.staticPreview && (d = b.staticPreview);
        this.C.init(p0("ad-text"), d, c);
        (d = this.api.getVideoData(1)) && d.zg &&
            b.thumbnail ? this.G.init(p0("ad-image"), b.thumbnail, c) : this.K.hide()
    };

    function D8(a) {
        a.T.show(100);
        a.show()
    }
    h.clear = function() {
        this.hide()
    };
    h.hide = function() {
        this.B.hide();
        this.C.hide();
        this.G.hide();
        B8(this);
        z8.prototype.hide.call(this)
    };
    h.show = function() {
        A8(this);
        this.B.show();
        this.C.show();
        this.G.show();
        z8.prototype.show.call(this)
    };
    h.Zk = function() {
        this.hide()
    };
    h.jj = function() {
        if (null != this.l) {
            var a = this.l.getProgressState();
            null != a && null != a.current && (a = 1E3 * a.current, !this.va && a >= this.Z ? (R(this.api.Y().experiments, "enable_pubsub_for_skip_transition_bulleit") || this.T.hide(), this.va = !0, this.W("i")) : this.C && this.C.isTemplated() && (a = Math.max(0, Math.ceil((this.Z - a) / 1E3)), a != this.Fa && (y8(this.C, {
                TIME_REMAINING: String(a)
            }), this.Fa = a)))
        }
    };

    function E8(a, b, c, d, e) {
        z8.call(this, a, b, {
            V: "div",
            fd: ["ytp-flyout-cta", "ytp-flyout-cta-inactive"],
            Na: [{
                V: "div",
                Ca: "ytp-flyout-cta-icon-container"
            }, {
                V: "div",
                Ca: "ytp-flyout-cta-body",
                Na: [{
                    V: "div",
                    Ca: "ytp-flyout-cta-text-container",
                    Na: [{
                        V: "div",
                        Ca: "ytp-flyout-cta-headline-container"
                    }, {
                        V: "div",
                        Ca: "ytp-flyout-cta-description-container"
                    }]
                }, {
                    V: "div",
                    Ca: "ytp-flyout-cta-action-button-container"
                }]
            }]
        }, "flyout-cta", c, d, e);
        this.K = new w8(this.api, this.Ia, this.layoutId, this.i, "ytp-flyout-cta-icon");
        E(this, this.K);
        this.K.Ua(this.Wa("ytp-flyout-cta-icon-container"));
        this.G = new x8(this.api, this.Ia, this.layoutId, this.i, "ytp-flyout-cta-headline");
        E(this, this.G);
        this.G.Ua(this.Wa("ytp-flyout-cta-headline-container"));
        this.C = new x8(this.api, this.Ia, this.layoutId, this.i, "ytp-flyout-cta-description");
        E(this, this.C);
        this.C.Ua(this.Wa("ytp-flyout-cta-description-container"));
        this.B = new n8(this.api, this.Ia, this.layoutId, this.i, ["ytp-flyout-cta-action-button"]);
        E(this, this.B);
        this.B.Ua(this.Wa("ytp-flyout-cta-action-button-container"));
        this.T = null;
        this.Z = 0;
        this.hide()
    }
    v(E8, z8);
    h = E8.prototype;
    h.init = function(a, b, c) {
        z8.prototype.init.call(this, a, b, c);
        if (b.image && b.image.thumbnail)
            if (b.headline)
                if (b.description)
                    if (b.actionButton && b.actionButton.buttonRenderer && b.actionButton.buttonRenderer.navigationEndpoint) {
                        a = this.api.getVideoData(2);
                        if (null != a)
                            if (b.image && b.image.thumbnail) {
                                var d = b.image.thumbnail.thumbnails;
                                null != d && 0 < d.length && Ec(Ed(d[0].url)) && (d[0].url = a.Xh)
                            } else ly(Error("FlyoutCtaRenderer does not have image.thumbnail."));
                        this.K.init(p0("ad-image"), b.image, c);
                        this.G.init(p0("ad-text"),
                            b.headline, c);
                        this.C.init(p0("ad-text"), b.description, c);
                        this.B.init(p0("button"), b.actionButton.buttonRenderer, c);
                        this.T = b.actionButton.buttonRenderer.navigationEndpoint;
                        this.show();
                        this.Z = b.startMs || 0;
                        A8(this)
                    } else ky(Error("FlyoutCtaRenderer has no valid action button."));
        else ky(Error("FlyoutCtaRenderer has no description AdText."));
        else ky(Error("FlyoutCtaRenderer has no headline AdText."));
        else ly(Error("FlyoutCtaRenderer has no image."))
    };
    h.onClick = function(a) {
        z8.prototype.onClick.call(this, a);
        this.api.pauseVideo();
        !Tg(this.B.element, a.target) && this.T && this.Ia.executeCommand(this.T, this.macros)
    };
    h.jj = function() {
        if (this.l) {
            var a = this.l.getProgressState();
            a && a.current && 1E3 * a.current >= this.Z && (B8(this), sr(this.element, "ytp-flyout-cta-inactive"))
        }
    };
    h.Zk = function() {
        this.clear()
    };
    h.clear = function() {
        this.hide()
    };
    h.show = function() {
        this.B && this.B.show();
        z8.prototype.show.call(this)
    };
    h.hide = function() {
        this.B && this.B.hide();
        z8.prototype.hide.call(this)
    };

    function F8(a, b, c, d, e, f) {
        e = void 0 === e ? [] : e;
        f = void 0 === f ? "toggle-button" : f;
        var g = p0("ytp-ad-toggle-button-input");
        Z.call(this, a, b, {
            V: "div",
            fd: ["ytp-ad-toggle-button"].concat(e),
            Na: [{
                V: "label",
                Ca: "ytp-ad-toggle-button-label",
                Va: {
                    "for": g
                },
                Na: [{
                        V: "span",
                        Ca: "ytp-ad-toggle-button-icon",
                        Va: {
                            role: "button",
                            "aria-label": "{{tooltipText}}"
                        },
                        Na: [{
                            V: "span",
                            Ca: "ytp-ad-toggle-button-untoggled-icon",
                            eb: "{{untoggledIconTemplateSpec}}"
                        }, {
                            V: "span",
                            Ca: "ytp-ad-toggle-button-toggled-icon",
                            eb: "{{toggledIconTemplateSpec}}"
                        }]
                    },
                    {
                        V: "input",
                        Ca: "ytp-ad-toggle-button-input",
                        Va: {
                            id: g,
                            type: "checkbox"
                        }
                    }, {
                        V: "span",
                        Ca: "ytp-ad-toggle-button-text",
                        eb: "{{buttonText}}"
                    }, {
                        V: "span",
                        Ca: "ytp-ad-toggle-button-tooltip",
                        eb: "{{tooltipText}}"
                    }
                ]
            }]
        }, f, c, d);
        this.C = this.Wa("ytp-ad-toggle-button");
        this.l = this.Wa("ytp-ad-toggle-button-input");
        this.Wa("ytp-ad-toggle-button-label");
        this.T = this.Wa("ytp-ad-toggle-button-icon");
        this.G = this.Wa("ytp-ad-toggle-button-untoggled-icon");
        this.D = this.Wa("ytp-ad-toggle-button-toggled-icon");
        this.Z = this.Wa("ytp-ad-toggle-button-text");
        this.B = null;
        this.K = !1;
        this.hide()
    }
    v(F8, Z);
    h = F8.prototype;
    h.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        this.B = b;
        if (null == b.defaultText && null == b.defaultIcon) Cs(Error("ToggleButtonRenderer must have either text or icon set."));
        else if (null == b.defaultIcon && null != b.toggledIcon) Cs(Error("ToggleButtonRenderer cannot have toggled icon set without a default icon."));
        else {
            if (b.style) {
                switch (b.style.styleType) {
                    case "STYLE_UNKNOWN":
                    case "STYLE_DEFAULT":
                        a = "ytp-ad-toggle-button-default-style";
                        break;
                    default:
                        a = null
                }
                null != a && rr(this.C, a)
            }
            a = {};
            b.defaultText ?
                (c = mC(b.defaultText), Ec(c) || (a.buttonText = c, this.l.setAttribute("aria-label", c))) : lm(this.Z, !1);
            b.defaultTooltip && (a.tooltipText = b.defaultTooltip, this.l.hasAttribute("aria-label") || this.T.setAttribute("aria-label", b.defaultTooltip));
            b.defaultIcon ? (c = m8(b.defaultIcon), this.zc("untoggledIconTemplateSpec", c), b.toggledIcon ? (this.K = !0, c = m8(b.toggledIcon), this.zc("toggledIconTemplateSpec", c)) : (lm(this.G, !0), lm(this.D, !1)), lm(this.l, !1)) : lm(this.T, !1);
            bc(a) || this.update(a);
            b.isToggled && (rr(this.C, "ytp-ad-toggle-button-toggled"),
                this.toggleButton(b.isToggled));
            G8(this);
            this.Ga(this.element, "change", this.Uw);
            this.show()
        }
    };
    h.onClick = function(a) {
        0 < this.ea.length && (this.toggleButton(!this.isToggled()), this.Uw());
        Z.prototype.onClick.call(this, a)
    };
    h.Uw = function() {
        var a = this;
        tr(this.C, "ytp-ad-toggle-button-toggled", this.isToggled());
        cwa(this, this.isToggled()).forEach(function(b) {
            return a.Ia.executeCommand(b, a.macros)
        });
        if (this.isToggled()) this.api.onAdUxClicked("toggle-button", this.layoutId);
        G8(this)
    };

    function G8(a) {
        a.K && (a.isToggled() ? (lm(a.G, !1), lm(a.D, !0)) : (lm(a.G, !0), lm(a.D, !1)))
    }
    h.clear = function() {
        this.hide()
    };
    h.toggleButton = function(a) {
        tr(this.C, "ytp-ad-toggle-button-toggled", a);
        this.l.checked = a;
        G8(this)
    };
    h.isToggled = function() {
        return this.l.checked
    };

    function cwa(a, b) {
        var c = null;
        a.B && (c = (b ? [a.B.defaultServiceEndpoint, a.B.defaultNavigationEndpoint] : [a.B.toggledServiceEndpoint]).filter(function(d) {
            return null != d
        }));
        return c || []
    };

    function H8(a, b, c, d, e) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-instream-user-sentiment-container"
        }, "instream-user-sentiment", c, d, void 0 === e ? null : e);
        var f = this;
        this.l = null;
        this.C = new F8(this.api, this.Ia, this.layoutId, this.i, ["ytp-ad-instream-user-sentiment-like-button"]);
        E(this, this.C);
        this.C.Ua(this.element);
        this.B = new F8(this.api, this.Ia, this.layoutId, this.i, ["ytp-ad-instream-user-sentiment-dislike-button"]);
        E(this, this.B);
        this.B.Ua(this.element);
        this.D = new OM(this, 400, !1, 500, function() {
            return f.hide()
        });
        E(this, this.D);
        this.hide()
    }
    v(H8, Z);
    h = H8.prototype;
    h.init = function(a, b, c) {
        var d = this;
        Z.prototype.init.call(this, a, b, c);
        this.l = b;
        this.l.rectangle && (dwa(this, c), this.D.show(100), this.show(), (this.l && this.l.impressionCommands || []).forEach(function(e) {
            return d.Ia.executeCommand(e, d.macros)
        }))
    };

    function dwa(a, b) {
        a.C.init(p0("toggle-button"), a.l.likeButton.toggleButtonRenderer, b);
        a.B.init(p0("toggle-button"), a.l.dislikeButton.toggleButtonRenderer, b);
        a.Ga(a.element, "change", a.Vw)
    }
    h.clear = function() {
        this.hide()
    };
    h.hide = function() {
        this.C.hide();
        this.B.hide();
        Z.prototype.hide.call(this)
    };
    h.show = function() {
        this.C.show();
        this.B.show();
        Z.prototype.show.call(this)
    };
    h.Vw = function() {
        var a = this.element,
            b = !qr(a, "ytp-ad-instream-user-sentiment-selected");
        tr(a, "ytp-ad-instream-user-sentiment-selected", b);
        this.l.postMessageAction && this.api.Ja("onYtShowToast", this.l.postMessageAction);
        this.D.hide()
    };
    h.onClick = function(a) {
        0 < this.ea.length && this.Vw();
        Z.prototype.onClick.call(this, a)
    };

    function I8(a, b, c, d, e) {
        e = void 0 === e ? 0 : e;
        C.call(this);
        this.u = a;
        this.l = !1;
        this.J = d;
        this.D = !1;
        this.i = null;
        0 < b && (this.i = new dr(this.Hx, b, this), E(this, this.i));
        this.C = new dr(this.Hx, c, this);
        E(this, this.C);
        this.I = xr(this.u, e, 1, d);
        E(this, this.I);
        this.G = xr(this.u, 0, d, 1);
        E(this, this.G);
        this.B = new WF;
        E(this, this.B)
    }
    v(I8, C);
    h = I8.prototype;
    h.Da = function() {
        this.reset();
        C.prototype.Da.call(this)
    };
    h.reset = function() {
        YF(this.B);
        this.D = !1;
        this.i && this.i.stop();
        this.C.stop();
        this.l && (this.l = !1, this.G.play())
    };
    h.start = function() {
        this.reset();
        this.B.Ga(this.u, "mouseover", this.aG, this);
        this.B.Ga(this.u, "mouseout", this.ZF, this);
        this.i ? this.i.start() : (this.D = this.l = !0, $l(this.u, {
            opacity: this.J
        }))
    };
    h.aG = function() {
        this.l && (this.l = !1, this.G.play());
        this.C.stop();
        this.i && this.i.stop()
    };
    h.ZF = function() {
        this.D ? this.C.start() : this.i && this.i.start()
    };
    h.Hx = function() {
        this.l || (this.l = !0, this.I.play(), this.D = !0)
    };

    function J8(a, b, c, d, e, f) {
        z8.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-skip-button-slot"
        }, "skip-button", c, d, e);
        var g = this;
        this.K = null;
        this.Z = !1;
        this.va = f;
        this.C = new cN({
            V: "span",
            fd: ["ytp-ad-skip-button-container"]
        });
        E(this, this.C);
        this.C.Ua(this.element);
        this.B = this.G = null;
        this.Fa = new OM(this.C, 500, !1, 100, function() {
            return g.hide()
        });
        E(this, this.Fa);
        this.T = new I8(this.C.element, 15E3, 5E3, .5, .5);
        E(this, this.T);
        this.hide()
    }
    v(J8, z8);
    h = J8.prototype;
    h.init = function(a, b, c) {
        z8.prototype.init.call(this, a, b, c);
        this.K = b;
        this.Z = ewa(this);
        if (!b || bc(b)) Cs(Error("SkipButtonRenderer was not specified or empty."));
        else if (!b.message || bc(b.message)) Cs(Error("SkipButtonRenderer.message was not specified or empty."));
        else {
            a = {
                iconType: "SKIP_NEXT"
            };
            b = m8(a);
            null == b ? Cs(Error("Icon for SkipButton was unable to be retrieved. yt.innertube.Icon.IconType: " + a.iconType + ".")) : (this.G = new cN({
                V: "button",
                fd: ["ytp-ad-skip-button", "ytp-button"],
                Na: [{
                    V: "span",
                    Ca: "ytp-ad-skip-button-icon",
                    Na: [b]
                }]
            }), E(this, this.G), this.G.Ua(this.C.element), this.B = new x8(this.api, this.Ia, this.layoutId, this.i, "ytp-ad-skip-button-text"), this.B.init(p0("ad-text"), this.K.message, c), E(this, this.B), Rg(this.G.element, this.B.element, 0));
            var d = void 0 === d ? null : d;
            c = this.api.Y();
            !(0 < this.ea.length) && c.u && (ye ? 0 : "ontouchstart" in document.documentElement && (El() || Fl())) && (this.xe(this.Sa), d && this.xe(d), this.ea = [this.Ga(this.element, "touchstart", this.ZC, this), this.Ga(this.element, "touchmove", this.YC, this), this.Ga(this.element,
                "touchend", this.XC, this)])
        }
    };
    h.clear = function() {
        this.T.reset();
        this.hide()
    };
    h.hide = function() {
        this.C.hide();
        this.B && this.B.hide();
        B8(this);
        z8.prototype.hide.call(this)
    };
    h.onClick = function(a) {
        if (null != this.G) {
            if (a) {
                var b = a || window.event;
                b.returnValue = !1;
                b.preventDefault && b.preventDefault()
            }
            z8.prototype.onClick.call(this, a);
            this.W("j");
            if (this.va || !this.Z) this.api.onAdUxClicked(this.componentType, this.layoutId)
        }
    };
    h.GA = function(a) {
        if (!R(this.api.Y().experiments, "html5_enable_single_video_vod_ivar_on_pacf") || !this.va) return a;
        var b, c = null == (b = a.commandExecutorCommand) ? void 0 : b.commands;
        if (!c) return a;
        b = [];
        for (var d = 0; d < c.length; d++) {
            var e = a.commandExecutorCommand.commands[d];
            e.adLifecycleCommand && fwa(e.adLifecycleCommand) || e.pingingEndpoint || e.adPingingEndpoint || b.push(e)
        }
        return {
            commandExecutorCommand: {
                commands: b
            }
        }
    };
    h.Ky = function() {
        return "skip"
    };
    h.show = function() {
        this.T.start();
        this.C.show();
        this.B && this.B.show();
        A8(this);
        z8.prototype.show.call(this)
    };
    h.Zk = function() {
        this.W("k")
    };
    h.jj = function() {};

    function ewa(a) {
        var b = a.K && a.K.adRendererCommands;
        b = b && b.clickCommand && b.clickCommand.commandExecutorCommand && b.clickCommand.commandExecutorCommand.commands || [];
        return R(a.api.Y().experiments, "html5_enable_single_video_vod_ivar_on_pacf") ? b.some(function(c) {
            return c.adLifecycleCommand ? fwa(c.adLifecycleCommand) : !1
        }) : b.some(function(c) {
            return c.adLifecycleCommand
        })
    }

    function fwa(a) {
        return "END_LINEAR_AD" === a.action || "END_LINEAR_AD_PLACEMENT" === a.action
    };

    function K8(a, b, c, d, e, f) {
        z8.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-skip-ad-slot"
        }, "skip-ad", c, d, e);
        this.T = f;
        this.K = !1;
        this.G = 0;
        this.C = this.B = null;
        this.hide()
    }
    v(K8, z8);
    h = K8.prototype;
    h.init = function(a, b, c) {
        z8.prototype.init.call(this, a, b, c);
        a = b && b.preskipRenderer && b.preskipRenderer.adPreviewRenderer || {};
        if (a = bc(a) ? null : a) {
            this.G = null != a.durationMilliseconds && void 0 !== a.durationMilliseconds ? a.durationMilliseconds : 5E3;
            var d = "countdown_next_to_thumbnail" == rH(this.api.Y().experiments, "preskip_button_style_ads_backend") && pI(this.api.Y());
            this.B = new C8(this.api, this.Ia, this.layoutId, this.i, this.l, d);
            this.B.init(p0("preskip-component"), a, c);
            D8(this.B);
            E(this, this.B);
            this.B.Ua(this.element);
            R(this.api.Y().experiments, "enable_pubsub_for_skip_transition_bulleit") && this.B.subscribe("i", this.mG, this)
        } else b.skipOffsetMilliseconds && (this.G = b.skipOffsetMilliseconds);
        b = b && b.skippableRenderer && b.skippableRenderer.skipButtonRenderer || {};
        b = bc(b) ? null : b;
        null == b ? Cs(Error("SkipButtonRenderer was not set in player response.")) : (this.C = new J8(this.api, this.Ia, this.layoutId, this.i, this.l, this.T), this.C.init(p0("skip-button"), b, c), E(this, this.C), this.C.Ua(this.element), this.show())
    };
    h.show = function() {
        this.K && this.C ? this.C.show() : this.B && this.B.show();
        A8(this);
        z8.prototype.show.call(this)
    };
    h.Zk = function() {};
    h.clear = function() {
        this.B && this.B.clear();
        this.C && this.C.clear();
        B8(this);
        z8.prototype.hide.call(this)
    };
    h.hide = function() {
        this.B && this.B.hide();
        this.C && this.C.hide();
        B8(this);
        z8.prototype.hide.call(this)
    };

    function L8(a, b) {
        a.K || (a.K = !0, a.B && (b ? a.B.T.hide() : a.B.hide()), b ? (a = a.C, a.Fa.show(), a.show()) : a.C.show())
    }
    h.mG = function() {
        L8(this, !0)
    };
    h.jj = function() {
        R(this.api.Y().experiments, "enable_pubsub_for_skip_transition_bulleit") ? this.B || 1E3 * this.l.getProgressState().current >= this.G && L8(this, !0) : 1E3 * this.l.getProgressState().current >= this.G && L8(this, !0)
    };

    function M8(a, b, c, d) {
        n8.call(this, a, b, c, d, ["ytp-ad-visit-advertiser-button"], "visit-advertiser")
    }
    v(M8, n8);
    M8.prototype.init = function(a, b, c) {
        n8.prototype.init.call(this, a, b, c);
        a = !1;
        null != b.text && (a = mC(b.text), a = !Ec(a));
        a ? null == b.navigationEndpoint ? Ds(Error("No visit advertiser clickthrough provided in renderer,")) : "STYLE_UNKNOWN" !== b.style ? Ds(Error("Button style was not a link-style type in renderer,")) : this.show() : Ds(Error("No visit advertiser text was present in the renderer."))
    };

    function N8(a, b, c, d, e) {
        e = void 0 === e ? !1 : e;
        Z.call(this, a, b, {
            V: "span",
            Ca: "ytp-ad-simple-ad-badge"
        }, "simple-ad-badge", c, d);
        this.l = e;
        this.hide()
    }
    v(N8, Z);
    N8.prototype.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        a = b.text;
        Ec(l8(a)) ? Ds(Error("SimpleAdBadgeRenderer has invalid or empty text")) : (a && a.text && (b = a.text, this.l && (b = this.api.Y(), b = a.text + " " + (b && b.u ? "\u2022" : "\u00b7")), b = {
            text: b,
            isTemplated: a.isTemplated
        }, a.style && (b.style = a.style), a = new x8(this.api, this.Ia, this.layoutId, this.i), a.init(p0("simple-ad-badge"), b, c), a.Ua(this.element), E(this, a)), this.show())
    };
    N8.prototype.clear = function() {
        this.hide()
    };

    function O8(a, b) {
        S.call(this);
        this.api = a;
        this.durationMs = b;
        this.i = null;
        this.Zc = new WF(this);
        E(this, this.Zc);
        this.l = fN;
        this.Zc.Ga(this.api, "presentingplayerstatechange", this.aD);
        this.i = this.Zc.Ga(this.api, "onAdPlaybackProgress", this.md)
    }
    v(O8, S);
    h = O8.prototype;
    h.Pn = function() {
        return this.durationMs
    };
    h.stop = function() {
        this.i && this.Zc.xe(this.i)
    };
    h.md = function(a) {
        this.l = {
            seekableStart: 0,
            seekableEnd: this.durationMs / 1E3,
            current: a.current
        };
        this.W("b")
    };
    h.getProgressState = function() {
        return this.l
    };
    h.aD = function(a) {
        iN(a, 2) && this.W("a")
    };

    function P8(a, b, c) {
        c = void 0 === c ? !1 : c;
        S.call(this);
        var d = this;
        this.Ia = b;
        this.C = c;
        this.u = !1;
        this.l = 0;
        this.Zc = new WF(this);
        E(this, this.Zc);
        this.durationMs = a;
        this.i = new Fh(100);
        E(this, this.i);
        this.C ? this.i.jd("tick", function() {
            d.md()
        }) : this.Zc.Ga(this.i, "tick", this.md);
        this.B = {
            seekableStart: 0,
            seekableEnd: a / 1E3,
            current: 0
        };
        this.start()
    }
    v(P8, S);
    h = P8.prototype;
    h.Pn = function() {
        return this.durationMs
    };
    h.start = function() {
        this.u || (this.u = !0, this.i.start())
    };
    h.stop = function() {
        this.u && (this.u = !1, this.i.stop())
    };
    h.md = function() {
        this.l += 100;
        var a = !1;
        this.l > this.durationMs && (this.l = this.durationMs, this.i.stop(), a = !0);
        this.B = {
            seekableStart: 0,
            seekableEnd: this.durationMs / 1E3,
            current: this.l / 1E3
        };
        this.Ia && this.Ia.md(this.B.current);
        this.W("b");
        a && this.W("a")
    };
    h.getProgressState = function() {
        return this.B
    };

    function Q8(a, b, c, d, e, f) {
        z8.call(this, a, b, {
            V: "span",
            Ca: "ytp-ad-duration-remaining"
        }, "ad-duration-remaining", c, d, e);
        this.videoAdDurationSeconds = f;
        this.B = null;
        this.hide()
    }
    v(Q8, z8);
    h = Q8.prototype;
    h.init = function(a, b, c) {
        var d;
        z8.prototype.init.call(this, a, b, c);
        if (null === (d = null === b || void 0 === b ? void 0 : b.templatedCountdown) || void 0 === d ? 0 : d.templatedAdText) {
            a = b.templatedCountdown.templatedAdText;
            if (!a.isTemplated) {
                Ds(Error("AdDurationRemainingRenderer has no templated ad text."));
                return
            }
            this.B = new x8(this.api, this.Ia, this.layoutId, this.i);
            this.B.init(p0("ad-text"), a, {});
            this.B.Ua(this.element);
            E(this, this.B)
        }
        this.show()
    };
    h.clear = function() {
        this.hide()
    };
    h.hide = function() {
        B8(this);
        z8.prototype.hide.call(this)
    };
    h.Zk = function() {
        this.hide()
    };
    h.jj = function() {
        if (null != this.l) {
            var a = this.l.getProgressState();
            if (null != a && null != a.current && this.B) {
                a = (this.l instanceof O8 ? void 0 !== this.videoAdDurationSeconds ? this.videoAdDurationSeconds : a.seekableEnd : void 0 !== this.videoAdDurationSeconds ? this.videoAdDurationSeconds : this.l instanceof P8 ? a.seekableEnd : this.api.getDuration(2, !1)) - a.current;
                var b = NM(a);
                y8(this.B, {
                    FORMATTED_AD_DURATION_REMAINING: String(b),
                    TIME_REMAINING: String(Math.ceil(a))
                })
            }
        }
    };
    h.show = function() {
        A8(this);
        z8.prototype.show.call(this)
    };

    function R8(a, b, c, d) {
        x8.call(this, a, b, c, d, "ytp-video-ad-top-bar-title", "ad-title")
    }
    v(R8, x8);
    R8.prototype.onClick = function(a) {
        x8.prototype.onClick.call(this, a);
        this.api.onAdUxClicked(this.componentType)
    };

    function S8(a, b, c, d, e, f) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-player-overlay",
            Na: [{
                V: "div",
                Ca: "ytp-ad-player-overlay-flyout-cta"
            }, {
                V: "div",
                Ca: "ytp-ad-player-overlay-instream-info"
            }, {
                V: "div",
                Ca: "ytp-ad-player-overlay-skip-or-preview"
            }, {
                V: "div",
                Ca: "ytp-ad-player-overlay-progress-bar"
            }, {
                V: "div",
                Ca: "ytp-ad-player-overlay-instream-user-sentiment"
            }]
        }, "player-overlay", c, d);
        this.G = f;
        this.K = this.Wa("ytp-ad-player-overlay-flyout-cta");
        this.B = this.Wa("ytp-ad-player-overlay-instream-info");
        this.C = null;
        gwa(this) &&
            (a = Lg("div"), rr(a, "ytp-ad-player-overlay-top-bar-gradients"), b = this.B, b.parentNode && b.parentNode.insertBefore(a, b), (b = this.api.getVideoData(2)) && b.isListed && b.title && (c = new R8(this.api, this.Ia, this.layoutId, this.i), c.Ua(a), c.init(p0("ad-title"), {
                text: b.title
            }, this.macros), E(this, c)), this.C = a);
        this.D = this.Wa("ytp-ad-player-overlay-skip-or-preview");
        this.Z = this.Wa("ytp-ad-player-overlay-progress-bar");
        this.T = this.Wa("ytp-ad-player-overlay-instream-user-sentiment");
        this.l = e;
        E(this, this.l);
        this.hide()
    }
    v(S8, Z);
    S8.prototype.init = function(a, b, c, d) {
        Z.prototype.init.call(this, a, b, c);
        b.skipOrPreviewRenderer && (a = b.skipOrPreviewRenderer, a.skipAdRenderer ? (c = new K8(this.api, this.Ia, this.layoutId, this.i, this.l, this.G), c.Ua(this.D), c.init(p0("skip-button"), a.skipAdRenderer, this.macros), E(this, c)) : a.adPreviewRenderer && (c = new C8(this.api, this.Ia, this.layoutId, this.i, this.l, !1), c.Ua(this.D), c.init(p0("ad-preview"), a.adPreviewRenderer, this.macros), D8(c), E(this, c)));
        b.brandInteractionRenderer && (a = b.brandInteractionRenderer.brandInteractionRenderer, c =
            new H8(this.api, this.Ia, this.layoutId, this.i), c.Ua(this.T), c.init(p0("instream-user-sentiment"), a, this.macros), E(this, c));
        b.flyoutCtaRenderer && (a = b.flyoutCtaRenderer, a.flyoutCtaRenderer && (c = new E8(this.api, this.Ia, this.layoutId, this.i, this.l), E(this, c), c.Ua(this.K), c.init(p0("flyout-cta"), a.flyoutCtaRenderer, this.macros)));
        d = d && d.videoAdDurationSeconds;
        b.adBadgeRenderer && (a = b.adBadgeRenderer.simpleAdBadgeRenderer, null == a && (a = {
            text: {
                text: "Ad",
                isTemplated: !1
            }
        }), c = new N8(this.api, this.Ia, this.layoutId,
            this.i, !0), E(this, c), c.Ua(this.B), c.init(p0("simple-ad-badge"), a, this.macros));
        b.adDurationRemaining && (a = b.adDurationRemaining.adDurationRemainingRenderer, null == a && (a = {
            templatedCountdown: {
                templatedAdText: {
                    text: "{FORMATTED_AD_DURATION_REMAINING}",
                    isTemplated: !0
                }
            }
        }), d = new Q8(this.api, this.Ia, this.layoutId, this.i, this.l, d), E(this, d), d.Ua(this.B), d.init(p0("ad-duration-remaining"), a, this.macros));
        b.adInfoRenderer && (d = b.adInfoRenderer, d.adHoverTextButtonRenderer && (a = new u8(this.api, this.Ia, this.layoutId,
            this.i, this.element), E(this, a), a.Ua(this.B), a.init(p0("ad-info-hover-text-button"), d.adHoverTextButtonRenderer, this.macros)));
        b.visitAdvertiserRenderer && (b = b.visitAdvertiserRenderer, b.buttonRenderer && (d = gwa(this) && this.C ? this.C : this.B)) && (a = new M8(this.api, this.Ia, this.layoutId, this.i), E(this, a), a.Ua(d), a.init(p0("visit-advertiser"), b.buttonRenderer, this.macros));
        (b = this.api.Y()) && !eC(b) && "3" == b.controlsType && (b = new gN(this.api, this.l), b.Ua(this.Z), E(this, b));
        R(this.api.Y().experiments, "enable_updated_html5_player_focus_style") &&
            rr(this.element, "ytp-ad-player-overlay-updated-focus-style");
        this.show()
    };

    function gwa(a) {
        a = a.api.Y();
        return nI(a) && a.u
    }
    S8.prototype.clear = function() {
        this.hide()
    };

    function T8(a, b, c, d, e) {
        z8.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-timed-pie-countdown-container",
            Na: [{
                V: "svg",
                Ca: "ytp-ad-timed-pie-countdown",
                Va: {
                    viewBox: "0 0 20 20"
                },
                Na: [{
                    V: "circle",
                    Ca: "ytp-ad-timed-pie-countdown-background",
                    Va: {
                        r: "10",
                        cx: "10",
                        cy: "10"
                    }
                }, {
                    V: "circle",
                    Ca: "ytp-ad-timed-pie-countdown-inner",
                    Va: {
                        r: "5",
                        cx: "10",
                        cy: "10"
                    }
                }, {
                    V: "circle",
                    Ca: "ytp-ad-timed-pie-countdown-outer",
                    Va: {
                        r: "10",
                        cx: "10",
                        cy: "10"
                    }
                }]
            }]
        }, "timed-pie-countdown", c, d, e);
        this.C = this.Wa("ytp-ad-timed-pie-countdown-inner");
        this.B = Math.ceil(10 *
            Math.PI);
        this.hide()
    }
    v(T8, z8);
    h = T8.prototype;
    h.init = function(a, b, c) {
        z8.prototype.init.call(this, a, b, c);
        $l(this.C, "stroke-dasharray", "0 " + this.B);
        this.show()
    };
    h.clear = function() {
        this.hide()
    };
    h.hide = function() {
        B8(this);
        z8.prototype.hide.call(this)
    };
    h.show = function() {
        A8(this);
        z8.prototype.show.call(this)
    };
    h.Zk = function() {
        this.hide()
    };
    h.jj = function() {
        if (this.l) {
            var a = this.l.getProgressState();
            null != a && null != a.current && $l(this.C, "stroke-dasharray", a.current / a.seekableEnd * this.B + " " + this.B)
        }
    };

    function U8(a, b, c, d, e, f) {
        Z.call(this, a, b, {
                V: "div",
                Ca: "ytp-ad-action-interstitial",
                Va: {
                    tabindex: "0"
                },
                Na: [{
                    V: "div",
                    Ca: "ytp-ad-action-interstitial-background-container"
                }, {
                    V: "div",
                    Ca: "ytp-ad-action-interstitial-slot",
                    Na: [{
                        V: "div",
                        Ca: "ytp-ad-action-interstitial-card",
                        Na: [{
                            V: "div",
                            Ca: "ytp-ad-action-interstitial-image-container"
                        }, {
                            V: "div",
                            Ca: "ytp-ad-action-interstitial-headline-container"
                        }, {
                            V: "div",
                            Ca: "ytp-ad-action-interstitial-description-container"
                        }, {
                            V: "div",
                            Ca: "ytp-ad-action-interstitial-action-button-container"
                        }]
                    }]
                }]
            },
            "ad-action-interstitial", c, d);
        this.If = e;
        this.ih = f;
        this.navigationEndpoint = this.l = this.skipButton = this.B = this.actionButton = null;
        this.va = this.Wa("ytp-ad-action-interstitial-image-container");
        this.D = new w8(this.api, this.Ia, this.layoutId, this.i, "ytp-ad-action-interstitial-image");
        E(this, this.D);
        this.D.Ua(this.va);
        this.ra = this.Wa("ytp-ad-action-interstitial-headline-container");
        this.T = new x8(this.api, this.Ia, this.layoutId, this.i, "ytp-ad-action-interstitial-headline");
        E(this, this.T);
        this.T.Ua(this.ra);
        this.Z = this.Wa("ytp-ad-action-interstitial-description-container");
        this.K = new x8(this.api, this.Ia, this.layoutId, this.i, "ytp-ad-action-interstitial-description");
        E(this, this.K);
        this.K.Ua(this.Z);
        this.Ma = this.Wa("ytp-ad-action-interstitial-background-container");
        this.G = new w8(this.api, this.Ia, this.layoutId, this.i, "ytp-ad-action-interstitial-background", !0);
        E(this, this.G);
        this.G.Ua(this.Ma);
        this.Fa = this.Wa("ytp-ad-action-interstitial-action-button-container");
        this.C = new WF;
        E(this, this.C);
        this.hide()
    }
    v(U8, Z);
    h = U8.prototype;
    h.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        if (b.image && b.image.thumbnail)
            if (b.headline)
                if (b.description)
                    if (b.backgroundImage && b.backgroundImage.thumbnail)
                        if (b.actionButton && b.actionButton.buttonRenderer)
                            if (a = b.durationMilliseconds || 0, "number" !== typeof a || 0 >= a) ky(Error("durationMilliseconds was specified incorrectly in AdActionInterstitialRenderer with a value of: " + a));
                            else if (b.navigationEndpoint) {
            var d = this.api.getVideoData(2);
            if (null != d) {
                var e = b.image.thumbnail.thumbnails;
                null != e &&
                    0 < e.length && Ec(Ed(e[0].url)) && (e[0].url = d.Xh);
                e = b.backgroundImage.thumbnail.thumbnails;
                null != e && 0 < e.length && Ec(Ed(e[0].url)) && (e[0].url = d.Yy());
                e = b.headline;
                null != e && Ec(Ed(e.text)) && (e.text = d.author)
            }
            this.D.init(p0("ad-image"), b.image, c);
            this.T.init(p0("ad-text"), b.headline, c);
            this.K.init(p0("ad-text"), b.description, c);
            this.G.init(p0("ad-image"), b.backgroundImage, c);
            this.actionButton = new n8(this.api, this.Ia, this.layoutId, this.i, ["ytp-ad-action-interstitial-action-button"]);
            E(this, this.actionButton);
            this.actionButton.Ua(this.Fa);
            this.actionButton.init(p0("button"), b.actionButton.buttonRenderer, c);
            this.navigationEndpoint = b.navigationEndpoint;
            this.api.Y().u || (this.C.Ga(this.va, "click", this.Zs, this), this.C.Ga(this.ra, "click", this.Zs, this), this.C.Ga(this.Z, "click", this.Zs, this));
            this.l = this.If ? new O8(this.api, a) : new P8(a);
            E(this, this.l);
            b.skipButton ? (a = b.skipButton.skipButtonRenderer) && this.l && (this.skipButton = new J8(this.api, this.Ia, this.layoutId, this.i, this.l, this.ih), E(this, this.skipButton), this.skipButton.Ua(this.element),
                this.skipButton.init(p0("skip-button"), a, c)) : b.nonskippableOverlayRenderer && (a = b.nonskippableOverlayRenderer.adPreviewRenderer) && this.l && (this.B = new C8(this.api, this.Ia, this.layoutId, this.i, this.l, !1), E(this, this.B), this.B.Ua(this.element), this.B.init(p0("ad-preview"), a, c));
            b.countdownRenderer && (b = b.countdownRenderer, b.timedPieCountdownRenderer && this.l && (c = new T8(this.api, this.Ia, this.layoutId, this.i, this.l), E(this, c), c.Ua(this.element), c.init(p0("timed-pie-countdown"), b.timedPieCountdownRenderer,
                this.macros)));
            this.show();
            this.element.focus()
        } else ky(Error("AdActionInterstitialRenderer has no navigation endpoint."));
        else ky(Error("AdActionInterstitialRenderer has no button."));
        else ky(Error("AdActionInterstitialRenderer has no background AdImage."));
        else ky(Error("AdActionInterstitialRenderer has no description AdText."));
        else ky(Error("AdActionInterstitialRenderer has no headline AdText."));
        else ky(Error("AdActionInterstitialRenderer has no image."))
    };
    h.clear = function() {
        YF(this.C);
        this.hide()
    };
    h.show = function() {
        hwa(!0);
        this.actionButton && this.actionButton.show();
        this.skipButton && this.skipButton.show();
        this.B && this.B.show();
        Z.prototype.show.call(this)
    };
    h.hide = function() {
        hwa(!1);
        this.actionButton && this.actionButton.hide();
        this.skipButton && this.skipButton.hide();
        this.B && this.B.hide();
        Z.prototype.hide.call(this)
    };

    function hwa(a) {
        var b = Fg("html5-video-player");
        b && tr(b, "ytp-ad-display-override", a)
    }
    h.Zs = function() {
        this.navigationEndpoint && this.Ia.executeCommand(this.navigationEndpoint, this.macros)
    };
    var V8 = {
            iconType: "CLOSE"
        },
        W8 = new zg(320, 63);

    function X8(a, b, c, d) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-overlay-slot",
            Na: [{
                V: "div",
                Ca: "ytp-ad-overlay-container"
            }]
        }, "invideo-overlay", c, d);
        this.K = [];
        this.Qa = this.Z = this.D = this.Ma = this.va = null;
        this.Fa = !1;
        this.G = null;
        this.T = 0;
        a = this.Wa("ytp-ad-overlay-container");
        this.ra = new I8(a, 45E3, 6E3, .3, .4);
        E(this, this.ra);
        this.C = iwa(this);
        E(this, this.C);
        this.C.Ua(a);
        this.B = jwa(this);
        E(this, this.B);
        this.B.Ua(a);
        this.l = kwa(this);
        E(this, this.l);
        this.l.Ua(a);
        this.hide()
    }
    v(X8, Z);

    function iwa(a) {
        var b = new cN({
            V: "div",
            Ca: "ytp-ad-text-overlay",
            Na: [{
                V: "div",
                Ca: "ytp-ad-overlay-ad-info-button-container"
            }, {
                V: "div",
                Ca: "ytp-ad-overlay-close-container",
                Na: [{
                    V: "button",
                    Ca: "ytp-ad-overlay-close-button",
                    Na: [m8(V8)]
                }]
            }, {
                V: "div",
                Ca: "ytp-ad-overlay-title",
                eb: "{{title}}"
            }, {
                V: "div",
                Ca: "ytp-ad-overlay-desc",
                eb: "{{description}}"
            }, {
                V: "div",
                fd: ["ytp-ad-overlay-link-inline-block", "ytp-ad-overlay-link"],
                eb: "{{displayUrl}}"
            }]
        });
        a.Ga(b.Wa("ytp-ad-overlay-title"), "click", function(c) {
            return Y8(a, b.element,
                c)
        });
        a.Ga(b.Wa("ytp-ad-overlay-link"), "click", function(c) {
            return Y8(a, b.element, c)
        });
        a.Ga(b.Wa("ytp-ad-overlay-close-container"), "click", a.Nr);
        b.hide();
        return b
    }

    function jwa(a) {
        var b = new cN({
            V: "div",
            fd: ["ytp-ad-text-overlay", "ytp-ad-enhanced-overlay"],
            Na: [{
                V: "div",
                Ca: "ytp-ad-overlay-ad-info-button-container"
            }, {
                V: "div",
                Ca: "ytp-ad-overlay-close-container",
                Na: [{
                    V: "button",
                    Ca: "ytp-ad-overlay-close-button",
                    Na: [m8(V8)]
                }]
            }, {
                V: "div",
                Ca: "ytp-ad-overlay-text-image",
                Na: [{
                    V: "img",
                    Va: {
                        src: "{{imageUrl}}"
                    }
                }]
            }, {
                V: "div",
                Ca: "ytp-ad-overlay-title",
                eb: "{{title}}"
            }, {
                V: "div",
                Ca: "ytp-ad-overlay-desc",
                eb: "{{description}}"
            }, {
                V: "div",
                fd: ["ytp-ad-overlay-link-inline-block", "ytp-ad-overlay-link"],
                eb: "{{displayUrl}}"
            }]
        });
        a.Ga(b.Wa("ytp-ad-overlay-title"), "click", function(c) {
            return Y8(a, b.element, c)
        });
        a.Ga(b.Wa("ytp-ad-overlay-link"), "click", function(c) {
            return Y8(a, b.element, c)
        });
        a.Ga(b.Wa("ytp-ad-overlay-close-container"), "click", a.Nr);
        a.Ga(b.Wa("ytp-ad-overlay-text-image"), "click", a.HG);
        b.hide();
        return b
    }

    function kwa(a) {
        var b = new cN({
            V: "div",
            Ca: "ytp-ad-image-overlay",
            Na: [{
                V: "div",
                Ca: "ytp-ad-overlay-ad-info-button-container"
            }, {
                V: "div",
                Ca: "ytp-ad-overlay-close-container",
                Na: [{
                    V: "button",
                    Ca: "ytp-ad-overlay-close-button",
                    Na: [m8(V8)]
                }]
            }, {
                V: "div",
                Ca: "ytp-ad-overlay-image",
                Na: [{
                    V: "img",
                    Va: {
                        src: "{{imageUrl}}",
                        width: "{{width}}",
                        height: "{{height}}"
                    }
                }]
            }]
        });
        a.Ga(b.Wa("ytp-ad-overlay-image"), "click", function(c) {
            return Y8(a, b.element, c)
        });
        a.Ga(b.Wa("ytp-ad-overlay-close-container"), "click", a.Nr);
        b.hide();
        return b
    }
    h = X8.prototype;
    h.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        this.D = b;
        this.K = Cb(this.D.onClickCommands || []);
        this.va = this.D.onErrorCommand || null;
        if (a = this.D.contentSupportedRenderer) a = this.D.contentSupportedRenderer, b = this.D.adInfoRenderer || null, a.textOverlayAdContentRenderer ? (this.G = Fg("ytp-ad-overlay-ad-info-button-container", this.C.element), Z8(this, b), a = lwa(this, a.textOverlayAdContentRenderer)) : a.enhancedTextOverlayAdContentRenderer ? (this.G = Fg("ytp-ad-overlay-ad-info-button-container", this.B.element),
            Z8(this, b), a = mwa(this, a.enhancedTextOverlayAdContentRenderer)) : a.imageOverlayAdContentRenderer ? (this.G = Fg("ytp-ad-overlay-ad-info-button-container", this.l.element), Z8(this, b), a = nwa(this, a.imageOverlayAdContentRenderer)) : (ky(Error("InvideoOverlayAdRenderer content could not be initialized.")), a = !1);
        a && (this.show(), owa(this, !0))
    };

    function Z8(a, b) {
        if (b) {
            var c = b.adHoverTextButtonRenderer || null;
            if (null == c) ky(Error("AdInfoRenderer did not contain an AdHoverTextButtonRenderer."));
            else if (b = Fg("video-ads ytp-ad-module") || null, null == b) ky(Error("Could not locate the root ads container element to attach the ad info dialog."));
            else if (a.Z = new cN({
                    V: "div",
                    Ca: "ytp-ad-overlay-ad-info-dialog-container"
                }), E(a, a.Z), a.Z.Ua(b), b = new u8(a.api, a.Ia, a.layoutId, a.i, a.Z.element, !1), E(a, b), b.init(p0("ad-info-hover-text-button"), c, a.macros), a.G) {
                b.Ua(a.G,
                    0);
                b.subscribe("h", a.oF, a);
                b.subscribe("g", a.Nu, a);
                a.Ga(a.G, "click", a.pF);
                var d = Fg("ytp-ad-button", b.element);
                a.Ga(d, "click", function() {
                    var e, f, g;
                    if (null === (g = null === (f = null === (e = c.button) || void 0 === e ? void 0 : e.buttonRenderer) || void 0 === f ? void 0 : f.serviceEndpoint) || void 0 === g ? 0 : g.adInfoDialogEndpoint) a.Fa = 2 === a.api.getPlayerState(1), a.api.pauseVideo();
                    else a.api.onAdUxClicked("ad-info-hover-text-button", a.layoutId)
                });
                a.Qa = b
            } else ky(Error("Ad info button container within overlay ad was not present."))
        } else ly(Error("AdInfoRenderer was not present within InvideoOverlayAdRenderer."))
    }

    function pwa(a) {
        return a.D && a.D.closeButton && a.D.closeButton.buttonRenderer && (a = a.D.closeButton.buttonRenderer, a.serviceEndpoint) ? [a.serviceEndpoint] : []
    }

    function lwa(a, b) {
        if ($8(a, W8) || a.api.bf()) return !1;
        var c = l8(b.title),
            d = l8(b.description);
        if (Ec(c) || Ec(d)) return !1;
        a.Ii(a.C.element, b.trackingParams || null);
        a.C.zc("title", l8(b.title));
        a.C.zc("description", l8(b.description));
        a.C.zc("displayUrl", l8(b.displayUrl));
        b.navigationEndpoint && Db(a.K, b.navigationEndpoint);
        a.C.show();
        a.ra.start();
        a.Ug(a.C.element, !0);
        a.Ga(a.C.element, "mouseover", function() {
            a.T++
        });
        return !0
    }

    function mwa(a, b) {
        if ($8(a, W8) || a.api.bf()) return !1;
        var c = l8(b.title),
            d = l8(b.description);
        if (Ec(c) || Ec(d)) return !1;
        a.Ii(a.B.element, b.trackingParams || null);
        a.B.zc("title", l8(b.title));
        a.B.zc("description", l8(b.description));
        a.B.zc("displayUrl", l8(b.displayUrl));
        a.B.zc("imageUrl", Lva(b.image));
        b.navigationEndpoint && Db(a.K, b.navigationEndpoint);
        a.Ma = b.imageNavigationEndpoint || null;
        a.B.show();
        a.ra.start();
        a.Ug(a.B.element, !0);
        a.Ga(a.B.element, "mouseover", function() {
            a.T++
        });
        return !0
    }

    function nwa(a, b) {
        if (a.api.bf()) return !1;
        var c = Mva(b.image),
            d = c;
        c.width < W8.width && (d = W8);
        if (0 === c.width || 0 === c.height || $8(a, d)) return !1;
        a.Ii(a.l.element, b.trackingParams || null);
        a.l.zc("imageUrl", Lva(b.image));
        a.l.zc("width", c.width);
        a.l.zc("height", c.height);
        b.navigationEndpoint && Db(a.K, b.navigationEndpoint);
        b = a.l.Wa("ytp-ad-image-overlay");
        $l(b, "max-width", c.width + "px");
        a.l.show();
        a.Ug(a.l.element, !0);
        a.Ga(a.l.element, "mouseover", function() {
            a.T++;
            a.api.W("aduxmouseover", "invideo-overlay", a.layoutId)
        });
        a.Ga(a.l.element, "mouseout", function() {
            a.api.W("aduxmouseout", "invideo-overlay", a.layoutId)
        });
        return !0
    }

    function $8(a, b) {
        var c = a.api.Tb().Ye(),
            d = UC(a.api, !0, !1);
        b = void 0 === b ? b8 : b;
        b.width < b8.width && (b = b8);
        c = c.width < b.width || c.height < b.height ? {
            xr: 3,
            bp: 501,
            errorMessage: "ad(" + c8(b) + ") larger than container(" + c8(c) + ")."
        } : b.width * b.height > c.width * c.height * .2 ? {
            xr: 3,
            bp: 501,
            errorMessage: "ad(" + c8(b) + ") to container(" + c8(c) + ") ratio exceeds limit."
        } : b.height > c.height / 3 - (c.height - (d.height + d.top)) ? {
            xr: 3,
            bp: 501,
            errorMessage: "ad(" + c8(b) + ") covers container(" + c8(c) + ") center."
        } : void 0;
        return c ? (a.va && c && (d = gc(a.macros),
            d.ERRORCODE = c.bp.toString(), d.ERROR_MSG = c.errorMessage, a.Ia.executeCommand(a.va, d)), !0) : !1
    }
    h.clear = function() {
        owa(this, !1);
        this.ra.reset();
        this.T = 0;
        this.C.hide();
        this.Ug(this.C.element, !1);
        this.B.hide();
        this.Ug(this.B.element, !1);
        this.l.hide();
        this.Ug(this.l.element, !1);
        this.hide();
        this.dispose()
    };

    function Y8(a, b, c) {
        var d = gc(a.macros),
            e = km(b);
        d.AW = {
            toString: function() {
                return e.width.toString()
            }
        };
        d.AH = {
            toString: function() {
                return e.height.toString()
            }
        };
        var f = Mca(c, b).floor();
        d.I_X = {
            toString: function() {
                return f.x.toString()
            }
        };
        d.NX = {
            toString: function() {
                return f.x.toString()
            }
        };
        d.I_Y = {
            toString: function() {
                return f.y.toString()
            }
        };
        d.NY = {
            toString: function() {
                return f.y.toString()
            }
        };
        d.NM = {
            toString: function() {
                return a.T.toString()
            }
        };
        a.K.forEach(function(g) {
            return a.Ia.executeCommand(g, d)
        });
        a.api.pauseVideo()
    }
    h.HG = function() {
        this.Ma && this.Ia.executeCommand(this.Ma, this.macros);
        this.api.pauseVideo()
    };
    h.Nr = function() {
        var a = this;
        pwa(this).forEach(function(b) {
            return a.Ia.executeCommand(b, a.macros)
        });
        this.api.onAdUxClicked("in_video_overlay_close_button", this.layoutId)
    };
    h.oF = function() {
        this.Fa || 2 !== this.api.getPlayerState(1) || this.api.playVideo()
    };
    h.Nu = function() {
        this.Fa || 2 !== this.api.getPlayerState(1) || this.api.playVideo();
        this.api.Nu("invideo-overlay")
    };
    h.pF = function(a) {
        a.target === this.G && Fg("ytp-ad-button", this.Qa.element).click()
    };

    function owa(a, b) {
        a = a.api.getRootNode();
        tr(a, "ytp-ad-overlay-open", b);
        tr(a, "ytp-ad-overlay-closed", !b)
    };

    function a9(a, b, c, d, e) {
        z8.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-message-overlay",
            Na: [{
                V: "div",
                Ca: "ytp-ad-message-slot"
            }]
        }, "ad-message", c, d, e);
        var f = this;
        this.T = -1;
        this.C = 0;
        this.K = !1;
        this.Z = this.Wa("ytp-ad-message-slot");
        this.B = new cN({
            V: "span",
            Ca: "ytp-ad-message-container"
        });
        this.B.Ua(this.Z);
        E(this, this.B);
        this.messageText = new x8(this.api, this.Ia, this.layoutId, this.i, "ytp-ad-message-text");
        E(this, this.messageText);
        this.messageText.Ua(this.B.element);
        this.G = new OM(this.B, 400, !1, 100, function() {
            return f.hide()
        });
        E(this, this.G);
        this.hide()
    }
    v(a9, z8);
    h = a9.prototype;
    h.init = function(a, b, c) {
        z8.prototype.init.call(this, a, b, c);
        a = b.durationMs;
        this.C = null == a || 0 === a ? 0 : a + 1E3 * this.l.getProgressState().current;
        if (b.text) var d = b.text.templatedAdText;
        else b.staticMessage && (d = b.staticMessage);
        this.messageText.init(p0("ad-text"), d, c);
        this.messageText.Ua(this.B.element);
        this.G.show(100);
        this.show()
    };
    h.clear = function() {
        this.hide()
    };
    h.hide = function() {
        qwa(this, !1);
        z8.prototype.hide.call(this);
        this.B.hide();
        this.messageText.hide();
        B8(this)
    };
    h.show = function() {
        qwa(this, !0);
        z8.prototype.show.call(this);
        A8(this);
        this.B.show();
        this.messageText.show()
    };
    h.Zk = function() {
        this.hide()
    };
    h.jj = function() {
        if (null != this.l) {
            var a = this.l.getProgressState();
            null != a && null != a.current && (a = 1E3 * a.current, !this.K && a >= this.C ? (this.G.hide(), this.K = !0) : this.messageText && this.messageText.isTemplated() && (a = Math.max(0, Math.ceil((this.C - a) / 1E3)), a !== this.T && (y8(this.messageText, {
                TIME_REMAINING: String(a)
            }), this.T = a)))
        }
    };

    function qwa(a, b) {
        a = a.api.getRootNode();
        tr(a, "ytp-ad-overlay-open", b);
        tr(a, "ytp-ad-overlay-closed", !b)
    };

    function b9(a, b, c, d) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-survey-answer"
        }, "survey-answer", c, d);
        this.l = null;
        this.toggledLoggingParams = "";
        this.answer = this.Wa("ytp-ad-survey-answer");
        this.hide()
    }
    v(b9, Z);
    b9.prototype.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        b.toggledLoggingParams && (this.toggledLoggingParams = b.toggledLoggingParams);
        b.answer && b.answer.buttonRenderer ? (a = new n8(this.api, this.Ia, this.layoutId, this.i, ["ytp-ad-survey-answer-button"], "survey-single-select-answer-button"), a.Ua(this.answer), a.init(p0("ytp-ad-survey-answer-button"), b.answer.buttonRenderer, c), a.show()) : b.answer && b.answer.toggleButtonRenderer && (this.l = new F8(this.api, this.Ia, this.layoutId, this.i, ["ytp-ad-survey-answer-toggle-button"]), this.l.Ua(this.answer),
            E(this, this.l), this.l.init(p0("survey-answer-button"), b.answer.toggleButtonRenderer, c));
        this.show()
    };
    b9.prototype.clear = function() {
        this.hide()
    };

    function c9(a, b, c, d) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-survey-none-of-the-above"
        }, "survey-none-of-the-above", c, d);
        this.button = null;
        this.l = this.Wa("ytp-ad-survey-none-of-the-above");
        this.hide()
    }
    v(c9, Z);
    c9.prototype.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        b.answer && b.answer.toggleButtonRenderer && (this.button = new F8(this.api, this.Ia, this.layoutId, this.i, ["ytp-ad-survey-answer-toggle-button", "ytp-ad-survey-none-of-the-above-button"]), this.button.Ua(this.l), this.button.init(p0("survey-none-of-the-above-button"), b.answer.toggleButtonRenderer, c));
        this.show()
    };

    function d9(a, b, c, d) {
        n8.call(this, a, b, c, d, ["ytp-ad-survey-submit-button"], "survey-submit")
    }
    v(d9, n8);
    d9.prototype.init = function(a, b, c) {
        n8.prototype.init.call(this, a, b, c);
        a = !1;
        b.text && (b = mC(b.text), a = !Ec(b));
        a || ly(Error("No submit text was present in the renderer."))
    };
    d9.prototype.onClick = function(a) {
        this.W("l");
        n8.prototype.onClick.call(this, a)
    };

    function e9(a, b, c, d, e, f) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-survey-player-overlay",
            Na: [{
                V: "div",
                Ca: "ytp-ad-survey-player-overlay-instream-info"
            }, {
                V: "div",
                Ca: "ytp-ad-survey-player-overlay-skip-preview-submit",
                Na: [{
                    V: "div",
                    Ca: "ytp-ad-survey-player-overlay-skip-or-preview"
                }, {
                    V: "div",
                    Ca: "ytp-ad-survey-player-overlay-submit"
                }]
            }, {
                V: "div",
                Ca: "ytp-ad-survey-player-overlay-instream-user-sentiment"
            }]
        }, "survey-player-overlay", c, d);
        this.C = e;
        this.ih = f;
        this.B = this.l = null;
        this.D = this.Wa("ytp-ad-survey-player-overlay-instream-info");
        this.G = this.Wa("ytp-ad-survey-player-overlay-skip-or-preview");
        this.submitButton = this.Wa("ytp-ad-survey-player-overlay-submit");
        E(this, this.C);
        this.hide()
    }
    v(e9, Z);
    e9.prototype.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        if (a = b.skipOrPreviewRenderer) a.skipAdRenderer ? (a = a.skipAdRenderer, c = new K8(this.api, this.Ia, this.layoutId, this.i, this.C, this.ih), c.Ua(this.G), c.init(p0("skip-button"), a, this.macros), E(this, c), this.l = c) : a.adPreviewRenderer && (a = a.adPreviewRenderer, c = new C8(this.api, this.Ia, this.layoutId, this.i, this.C, !1), c.Ua(this.G), c.init(p0("ad-preview"), a, this.macros), D8(c), E(this, c), this.l = c);
        null == this.l && ky(Error("ISAPOR.skipOrPreviewRenderer was not initialized properly.ISAPOR: " + JSON.stringify(b)));
        b.submitButton && (a = b.submitButton, a.buttonRenderer && (a = a.buttonRenderer, c = new d9(this.api, this.Ia, this.layoutId, this.i), c.Ua(this.submitButton), c.init(p0("survey-submit"), a, this.macros), E(this, c), this.B = c));
        if (a = b.adBadgeRenderer) a = a.simpleAdBadgeRenderer, c = new N8(this.api, this.Ia, this.layoutId, this.i, !0), c.Ua(this.D), c.init(p0("simple-ad-badge"), a, this.macros), E(this, c);
        if (a = b.adDurationRemaining) a = a.adDurationRemainingRenderer, c = new Q8(this.api, this.Ia, this.layoutId, this.i, this.C, void 0), c.Ua(this.D),
            c.init(p0("ad-duration-remaining"), a, this.macros), E(this, c);
        (b = b.adInfoRenderer) && b.adHoverTextButtonRenderer && (a = new u8(this.api, this.Ia, this.layoutId, this.i, this.element), E(this, a), a.Ua(this.D), a.init(p0("ad-info-hover-text-button"), b.adHoverTextButtonRenderer, this.macros));
        this.show()
    };
    e9.prototype.clear = function() {
        this.hide()
    };

    function f9(a, b, c, d, e, f, g) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-survey-question",
            Na: [{
                V: "div",
                fd: ["ytp-ad-survey-question-text", "ytp-ad-survey-question-foreground"]
            }, {
                V: "div",
                fd: ["ytp-ad-survey-answers", "ytp-ad-survey-question-foreground"]
            }, {
                V: "div",
                fd: ["ytp-ad-survey-question-player-overlay", "ytp-ad-survey-question-foreground"]
            }, {
                V: "div",
                Ca: "ytp-ad-survey-question-background"
            }]
        }, e, c, d);
        this.If = f;
        this.ih = g;
        this.D = null;
        this.B = [];
        this.l = null;
        this.question = this.Wa("ytp-ad-survey-question");
        this.K = this.Wa("ytp-ad-survey-question-background");
        this.questionText = this.Wa("ytp-ad-survey-question-text");
        this.answers = this.Wa("ytp-ad-survey-answers");
        this.playerOverlay = this.Wa("ytp-ad-survey-question-player-overlay");
        this.C = Va()
    }
    v(f9, Z);
    f9.prototype.init = function(a, b, c) {
        Z.prototype.init.call(this, a, b, c);
        rwa(this)
    };
    f9.prototype.show = function() {
        this.C = Va();
        Z.prototype.show.call(this)
    };

    function swa(a, b, c) {
        var d = new b9(a.api, a.Ia, a.layoutId, a.i);
        d.Ua(a.answers);
        d.init(p0("survey-answer"), b, c);
        a.B.push(d)
    }

    function twa(a, b) {
        if (b) {
            var c = b.background;
            c && c.instreamSurveyAdBackgroundImageRenderer && (c = (c = c.instreamSurveyAdBackgroundImageRenderer.image) && v8(c) || "", Ec(c) ? ly(Error("Found ThumbnailDetails without valid image URL")) : $l(a.K, "backgroundImage", "url(" + c + ")"));
            uwa(a, b)
        } else ky(Error("addCommonComponents() needs to be called before starting countdown."))
    }

    function uwa(a, b) {
        if (null == b.durationMilliseconds || void 0 === b.durationMilliseconds || 0 === b.durationMilliseconds) ky(Error("durationMilliseconds unset or 0 for SurveyAdQuestionCommon: " + JSON.stringify(b)));
        else {
            a.C = Va();
            var c = R(a.api.Y().experiments, "html5_use_normal_timer_for_survey");
            a.l = a.If ? new O8(a.api, b.durationMilliseconds) : new P8(b.durationMilliseconds, a.Ia, c);
            E(a, a.l);
            if (b.timeoutCommands) {
                var d = b.timeoutCommands;
                a.l.subscribe("a", function() {
                    d.forEach(function(f) {
                        return a.Ia.executeCommand(f,
                            a.macros)
                    })
                })
            }
            if (a.l && b.instreamAdPlayerOverlay && b.instreamAdPlayerOverlay.instreamSurveyAdPlayerOverlayRenderer) try {
                var e = new e9(a.api, a.Ia, a.layoutId, a.i, a.l, a.ih);
                e.Ua(a.playerOverlay);
                e.init(p0("survey-player-overlay"), b.instreamAdPlayerOverlay.instreamSurveyAdPlayerOverlayRenderer, a.macros);
                a.D = e;
                E(a, e);
                a.VA()
            } catch (f) {
                ky(Error("ISAPOR had an error when initializing. Error: " + (f + " SurveyAdQuestionCommon: " + JSON.stringify(b))))
            } else ky(Error("ISAPOR was not present in renderer. SurveyAdQuestionCommon: " + JSON.stringify(b)));
            a.l && b.durationMilliseconds && 0 < b.durationMilliseconds ? (b = new gN(a.api, a.l), b.Ua(a.playerOverlay), E(a, b)) : ky(Error("Survey progress bar was not added. SurveyAdQuestionCommon: " +
                JSON.stringify(b)))
        }
    }
    f9.prototype.VA = function() {};

    function rwa(a) {
        function b(c) {
            return {
                toString: function() {
                    return c()
                }
            }
        }
        a.macros.SURVEY_LOCAL_TIME_EPOCH_S = b(function() {
            var c = new Date;
            return (Math.round(c.valueOf() / 1E3) + -60 * c.getTimezoneOffset()).toString()
        });
        a.macros.SURVEY_ELAPSED_MS = b(function() {
            return (Va() - a.C).toString()
        })
    };

    function g9(a, b, c, d, e, f) {
        f9.call(this, a, b, c, d, "survey-question-multi-select", e, f);
        this.noneOfTheAbove = null;
        this.submitEndpoints = [];
        this.G = null;
        this.hide()
    }
    v(g9, f9);
    h = g9.prototype;
    h.init = function(a, b, c) {
        var d = this;
        f9.prototype.init.call(this, a, b, c);
        b.questionText && Ug(this.questionText, mC(b.questionText));
        b.answers && b.answers.forEach(function(e) {
            e.instreamSurveyAdAnswerRenderer && swa(d, e.instreamSurveyAdAnswerRenderer, c)
        });
        this.G = new Set(this.B.map(function(e) {
            return e.l.l
        }));
        (a = b.noneOfTheAbove) && (a = a.instreamSurveyAdAnswerNoneOfTheAboveRenderer) && vwa(this, a, c);
        b.surveyAdQuestionCommon && twa(this, b.surveyAdQuestionCommon);
        b.submitEndpoints && (this.submitEndpoints = b.submitEndpoints);
        this.Ga(this.element, "change", this.onChange);
        this.show()
    };
    h.VA = function() {
        h9(this, !1);
        this.D.B.subscribe("l", this.GG, this)
    };

    function vwa(a, b, c) {
        a.noneOfTheAbove = new c9(a.api, a.Ia, a.layoutId, a.i);
        a.noneOfTheAbove.Ua(a.answers);
        a.noneOfTheAbove.init(p0("survey-none-of-the-above"), b, c)
    }
    h.onChange = function(a) {
        a.target === this.noneOfTheAbove.button.l ? wwa(this) : this.G.has(a.target) && (this.noneOfTheAbove.button.toggleButton(!1), h9(this, !0))
    };

    function wwa(a) {
        a.B.forEach(function(b) {
            b.l.toggleButton(!1)
        });
        h9(a, !0)
    }
    h.GG = function() {
        var a = this,
            b = this.B.reduce(function(d, e) {
                var f = e.toggledLoggingParams;
                e.l && e.l.isToggled() && f && d.push(f);
                return d
            }, []).join("&"),
            c = this.submitEndpoints.map(function(d) {
                if (!d.loggingUrls) return d;
                d = hc(d);
                d.loggingUrls = d.loggingUrls.map(function(e) {
                    e.baseUrl && (e.baseUrl = Ui(e.baseUrl, b));
                    return e
                });
                return d
            });
        c && c.forEach(function(d) {
            return a.Ia.executeCommand(d, a.macros)
        })
    };

    function h9(a, b) {
        var c = a.D;
        a = xwa(a);
        b = void 0 === b ? !1 : b;
        c.l && (a ? c.l.hide() : c.l.show(), b && c.l instanceof K8 && !c.l.K && L8(c.l, !1));
        c.B && (a ? c.B.show() : c.B.hide())
    }

    function xwa(a) {
        return a.B.some(function(b) {
            return b.l.isToggled()
        }) || a.noneOfTheAbove.button.isToggled()
    }
    h.clear = function() {
        R(this.api.Y().experiments, "enable_hide_on_clear_in_survey_question_bulleit") ? this.hide() : this.dispose()
    };

    function i9(a, b, c, d, e, f) {
        f9.call(this, a, b, c, d, "survey-question-single-select", e, f);
        this.hide()
    }
    v(i9, f9);
    i9.prototype.init = function(a, b, c) {
        var d = this;
        f9.prototype.init.call(this, a, b, c);
        b.questionText && Ug(this.questionText, mC(b.questionText));
        b.answers && b.answers.forEach(function(e) {
            e.instreamSurveyAdAnswerRenderer && swa(d, e.instreamSurveyAdAnswerRenderer, c)
        });
        b.surveyAdQuestionCommon ? twa(this, b.surveyAdQuestionCommon) : ky(Error("SurveyAdQuestionCommon was not sent.SingleSelectQuestionRenderer: " + JSON.stringify(b)));
        this.show()
    };
    i9.prototype.clear = function() {
        R(this.api.Y().experiments, "enable_hide_on_clear_in_survey_question_bulleit") ? this.hide() : this.dispose()
    };

    function j9(a, b, c, d, e, f) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-survey",
            Na: [{
                V: "div",
                Ca: "ytp-ad-survey-questions"
            }]
        }, "survey", c, d);
        this.If = e;
        this.ih = f;
        this.questions = [];
        this.l = this.Wa("ytp-ad-survey-questions");
        this.hide()
    }
    v(j9, Z);
    j9.prototype.init = function(a, b, c) {
        var d = this;
        Z.prototype.init.call(this, a, b, c);
        (b.questions || []).forEach(function(e) {
            if (e.instreamSurveyAdSingleSelectQuestionRenderer) {
                e = e.instreamSurveyAdSingleSelectQuestionRenderer;
                var f = new i9(d.api, d.Ia, d.layoutId, d.i, d.If, d.ih);
                f.Ua(d.l);
                f.init(p0("survey-question-single-select"), e, c);
                d.questions.push(f);
                E(d, f)
            } else e.instreamSurveyAdMultiSelectQuestionRenderer && (e = e.instreamSurveyAdMultiSelectQuestionRenderer, f = new g9(d.api, d.Ia, d.layoutId, d.i, d.If, d.ih), f.Ua(d.l),
                f.init(p0("survey-question-multi-select"), e, c), d.questions.push(f), E(d, f))
        });
        this.show()
    };
    j9.prototype.clear = function() {
        R(this.api.Y().experiments, "enable_hide_on_clear_in_survey_question_bulleit") ? this.hide() : (this.hide(), this.dispose())
    };

    function k9(a, b, c, d, e, f) {
        Z.call(this, a, b, {
            V: "div",
            Ca: "ytp-ad-survey-interstitial",
            Na: [{
                V: "div",
                Ca: "ytp-ad-survey-interstitial-contents",
                Na: [{
                    V: "div",
                    Ca: "ytp-ad-survey-interstitial-logo",
                    Na: [{
                        V: "div",
                        Ca: "ytp-ad-survey-interstitial-logo-image"
                    }]
                }, {
                    V: "div",
                    Ca: "ytp-ad-survey-interstitial-text"
                }]
            }]
        }, "survey-interstitial", c, d);
        this.If = e;
        this.Hv = f;
        this.l = this.actionButton = null;
        this.interstitial = this.Wa("ytp-ad-survey-interstitial");
        this.B = this.Wa("ytp-ad-survey-interstitial-contents");
        this.text = this.Wa("ytp-ad-survey-interstitial-text");
        this.logoImage = this.Wa("ytp-ad-survey-interstitial-logo-image");
        this.transition = new OM(this, 500, !1, 300);
        E(this, this.transition)
    }
    v(k9, Z);
    k9.prototype.init = function(a, b, c) {
        var d = this;
        Z.prototype.init.call(this, a, b, c);
        a = b.timeoutSeconds || 0;
        if ("number" !== typeof a || 0 > a) ky(Error("timeoutSeconds was specified incorrectly in SurveyTextInterstitialRenderer with a value of: " + a));
        else if (b.timeoutCommands)
            if (b.text)
                if (b.ctaButton && b.ctaButton.buttonRenderer)
                    if (b.brandImage)
                        if (b.backgroundImage && b.backgroundImage.thumbnailLandscapePortraitRenderer && b.backgroundImage.thumbnailLandscapePortraitRenderer.landscape) {
                            ywa(this.interstitial, b.backgroundImage.thumbnailLandscapePortraitRenderer.landscape);
                            ywa(this.logoImage, b.brandImage);
                            Ug(this.text, mC(b.text));
                            this.actionButton = new n8(this.api, this.Ia, this.layoutId, this.i, ["ytp-ad-survey-interstitial-action-button"]);
                            E(this, this.actionButton);
                            this.actionButton.Ua(this.B);
                            this.actionButton.init(p0("button"), b.ctaButton.buttonRenderer, c);
                            this.actionButton.show();
                            var e = b.timeoutCommands;
                            this.l = this.If ? new O8(this.api, 1E3 * a) : new P8(1E3 * a);
                            this.l.subscribe("a", function() {
                                d.transition.hide();
                                if (!d.If) {
                                    for (var g = t(e), k = g.next(); !k.done; k = g.next()) d.Ia.executeCommand(k.value,
                                        c);
                                    d.Ia.executeCommand({
                                        adLifecycleCommand: {
                                            action: "END_LINEAR_AD"
                                        }
                                    }, c)
                                }
                            });
                            E(this, this.l);
                            this.Ga(this.element, "click", function(g) {
                                var k = b.dismissCommands,
                                    l = g.target === d.interstitial;
                                g = d.actionButton.element.contains(g.target);
                                if (l || g)
                                    if (d.transition.hide(), l)
                                        if (d.Hv) d.api.onAdUxClicked(d.componentType, d.layoutId);
                                        else
                                            for (k = t(k), l = k.next(); !l.done; l = k.next()) d.Ia.executeCommand(l.value, d.macros)
                            });
                            this.transition.show(100);
                            if (!this.If && b.impressionCommands) {
                                a = t(b.impressionCommands);
                                for (var f = a.next(); !f.done; f = a.next()) this.Ia.executeCommand(f.value, c)
                            }
                        } else ky(Error("SurveyTextInterstitialRenderer has no landscape background image."));
        else ky(Error("SurveyTextInterstitialRenderer has no brandImage."));
        else ky(Error("SurveyTextInterstitialRenderer has no button."));
        else ky(Error("SurveyTextInterstitialRenderer has no text."));
        else ky(Error("timeoutSeconds was specified yet no timeoutCommands where specified"))
    };
    k9.prototype.clear = function() {
        this.hide()
    };
    k9.prototype.show = function() {
        zwa(!0);
        Z.prototype.show.call(this)
    };
    k9.prototype.hide = function() {
        zwa(!1);
        Z.prototype.hide.call(this)
    };

    function ywa(a, b) {
        b = b && v8(b) || "";
        if (Ec(b)) ly(Error("Found ThumbnailDetails without valid image URL"));
        else {
            var c = a.style.cssText;
            if (ne && 10 > document.documentMode) c = ad;
            else {
                var d = document;
                "function" === typeof HTMLTemplateElement && (d = Og("TEMPLATE").content.ownerDocument);
                d = d.implementation.createHTMLDocument("").createElement("DIV");
                d.style.cssText = c;
                c = mfa(d.style)
            }
            b = Gaa(c, bd({
                "background-image": 'url("' + b + '")'
            }));
            a.style.cssText = $c(b)
        }
    }

    function zwa(a) {
        var b = Fg("html5-video-player");
        b && tr(b, "ytp-ad-display-override", a)
    };
    var Awa = "ad-attribution-bar ad-channel-thumbnail advertiser-name ad-preview ad-title skip-button visit-advertiser".split(" ").concat(["shopping-companion", "action-companion", "image-companion", "ads-engagement-panel"]);

    function l9(a, b) {
        f8.call(this, a);
        this.api = a;
        this.l = {};
        this.G = b;
        a = new YM({
            V: "div",
            fd: ["video-ads", "ytp-ad-module"]
        });
        E(this, a);
        ye && rr(a.element, "ytp-ads-tiny-mode");
        this.C = new i8(a.element);
        E(this, this.C);
        WC(this.api, a.element);
        E(this, Fva())
    }
    v(l9, f8);
    l9.prototype.B = function(a) {
        var b = a.id,
            c = a.content,
            d = c.componentType;
        if (!Awa.includes(d)) switch (a.actionType) {
            case 1:
                a = this.G();
                var e = this.api,
                    f = c.layoutId,
                    g = c.i,
                    k = c instanceof x0 || c instanceof o4 ? c.If : !1,
                    l = c instanceof x0 ? c.ih : !1,
                    m = c instanceof o4 ? c.Hv : !1;
                g = void 0 === g ? {} : g;
                k = void 0 === k ? !1 : k;
                l = void 0 === l ? !1 : l;
                m = void 0 === m ? !1 : m;
                switch (d) {
                    case "invideo-overlay":
                        a = new X8(e, a, f, g);
                        break;
                    case "player-overlay":
                        a = new S8(e, a, f, g, new hN(e), l);
                        break;
                    case "survey":
                        a = new j9(e, a, f, g, k, l);
                        break;
                    case "ad-action-interstitial":
                        a = new U8(e,
                            a, f, g, k, l);
                        break;
                    case "survey-interstitial":
                        a = new k9(e, a, f, g, k, m);
                        break;
                    case "ad-message":
                        a = new a9(e, a, f, g, new hN(e, 1));
                        break;
                    default:
                        a = null
                }
                if (!a) {
                    ly(Error("No UI component returned from ComponentFactory for type: " + d));
                    break
                }
                Wb(this.l, b) ? ly(Error("Ad UI component already registered: " + b)) : this.l[b] = a;
                a.bind(c);
                this.C.append(a.aB);
                break;
            case 2:
                b = Bwa(this, a);
                if (null == b) break;
                b.bind(c);
                break;
            case 3:
                c = Bwa(this, a), null != c && (Of(c), Wb(this.l, b) ? dc(this.l, b) : ly(Error("Ad UI component does not exist: " +
                    b)))
        }
    };

    function Bwa(a, b) {
        a = ec(a.l, b.id, null);
        null == a && ly(Error("Component not found for element id: " + b.id));
        return a || null
    }
    l9.prototype.Da = function() {
        Pf(Object.values(this.l));
        this.l = {};
        f8.prototype.Da.call(this)
    };

    function m9(a) {
        bM.call(this, a);
        var b = this;
        this.l = this.Ia = null;
        this.created = !1;
        this.Ai = new I4(this.player);
        this.u = function() {
            function d() {
                return b.Ia
            }
            if (null != b.l) return b.l;
            var e = Bsa({
                gk: a.getVideoData(1)
            });
            e = new Psa({
                KD: new e8(function() {
                    return b.Ia
                }, b.i.i.bd.fg),
                Uj: e.rE(),
                VD: d,
                jF: d,
                Cf: b.i.i.bd.Cf,
                qg: e.Dt(),
                S: b.player,
                We: b.i.i.bd.We,
                Pa: b.i.i.Pa,
                Je: b.i.i.bd.Je,
                Eb: b.i.i.Eb
            });
            b.l = e.VC;
            return b.l
        };
        this.i = new d8(this.player, this, this.Ai, this.u);
        E(this, this.i);
        var c = a.Y();
        pI(c) && !rI(c) && "WEB_KIDS" !== c.deviceParams.c && (E(this, new l9(a, function() {
            return b.Ia
        })), E(this, new g8(a)))
    }
    v(m9, bM);
    h = m9.prototype;
    h.create = function() {
        this.load();
        this.created = !0
    };
    h.load = function() {
        bM.prototype.load.call(this);
        this.player.getRootNode().classList.add("ad-created");
        var a = this.i.i.bd.We,
            b = this.u(),
            c = this.player.getVideoData(1),
            d = c && c.videoId || "",
            e = c && c.getPlayerResponse() || {},
            f = (e && e.adPlacements || []).map(function(l) {
                return l.adPlacementRenderer
            });
        e = e.playerConfig && e.playerConfig.daiConfig && e.playerConfig.daiConfig.enableDai || !1;
        var g = c && c.Rf() || !1;
        f = Cwa(f, a, e, g);
        g = c && c.clientPlaybackNonce || "";
        c = c && c.dk || !1;
        var k = 1E3 * this.player.getDuration(1);
        m_(a, f.Zg) ? (this.Ia = new X4(this, this, this.player, this.Ai, b, this.i.i.bd), Csa(this.Ia, f.ck, f.Zg), this.i.i.Wg.Df(g, k, c, f.Zg, f.Zg.concat(f.ck), e, d), L4(this.Ia, f.Zg)) : (this.i.i.Wg.Df(g, k, c, f.Zg, f.Zg.concat(f.ck), e, d), this.Ia = new X4(this, this, this.player, this.Ai, b, this.i.i.bd), Csa(this.Ia, f.ck, f.Zg))
    };

    function u4(a, b) {
        b === a.qp && (a.qp = void 0)
    }

    function oqa(a) {
        a.Ia ? a.i.i.bd.xb.Qt() || a.Ia.Qt() || a.i.i.bd.Vh.Dg() : V("AdService is null when calling maybeUnlockPrerollIfReady")
    }

    function IB(a) {
        a = t(a.i.i.bd.Je.rj.keys());
        for (var b = a.next(); !b.done; b = a.next())
            if (b = b.value, "SLOT_TYPE_PLAYER_BYTES" === b.Za && "core" === b.Ra) return !0;
        return !1
    }

    function JB(a) {
        a = t(a.i.i.bd.Je.rj.values());
        for (var b = a.next(); !b.done; b = a.next())
            if ("LAYOUT_TYPE_MEDIA_BREAK" === b.value.layoutType) return !0;
        return !1
    }

    function g_(a, b, c) {
        c = void 0 === c ? "" : c;
        var d = a.i.i.bd.We,
            e = a.player.getVideoData(1),
            f = e && e.getPlayerResponse() || {};
        f = f && f.playerConfig && f.playerConfig.daiConfig && f.playerConfig.daiConfig.enableDai || !1;
        e = e && e.Rf() || !1;
        b = Cwa(b, d, f, e);
        nqa(a.i.i.bd.Ab, c, b.Zg);
        a.Ia && 0 < b.ck.length && (a = a.Ia, c = b.ck, c = Esa(a, c), c = Fsa(a, c), Y4(a, c))
    }
    h.destroy = function() {
        var a = this.player.getVideoData(1);
        this.i.i.Wg.Vg(a && a.clientPlaybackNonce || "");
        this.unload();
        this.created = !1
    };
    h.unload = function() {
        bM.prototype.unload.call(this);
        this.player.getRootNode().classList.remove("ad-created");
        if (null !== this.Ia) {
            var a = this.Ia;
            this.Ia = null;
            a.dispose()
        }
        null != this.l && (a = this.l, this.l = null, a.dispose());
        this.Ai.reset()
    };
    h.Gm = function() {
        return !1
    };
    h.Rh = function(a) {
        null !== this.Ia && this.Ia.Rh(a)
    };
    h.getAdState = function() {
        return this.Ia ? this.Ia.iq : -1
    };
    h.getOptions = function() {
        return Object.values(Nsa)
    };
    h.Ch = function(a, b) {
        b = void 0 === b ? {} : b;
        switch (a) {
            case "replaceUrlMacros":
                return a = b, a.url ? (b = L_(this.player), Object.assign(b, a.pU), this.Ia && !b.AD_CPN && (b.AD_CPN = this.Ia.Np()), a = Yq(a.url, b)) : a = null, a;
            case "isExternalShelfAllowedFor":
                a: if (b.playerResponse) {
                    a = b.playerResponse.adPlacements || [];
                    for (b = 0; b < a.length; b++) {
                        var c = a[b];
                        if (c.adPlacementRenderer && c.adPlacementRenderer.renderer && c.adPlacementRenderer.renderer.plaShelfRenderer) {
                            a = !1;
                            break a
                        }
                    }
                    a = !0
                } else a = !1;
                return a;
            case "onAboutThisAdPopupClosed":
                this.Fu(b);
                break;
            default:
                return null
        }
    };
    h.Fu = function(a) {
        a.isMuted && zsa(this.Ia, this.i.i.bd.Je, this.i.i.bd.Cf, a.layoutId);
        this.qp && this.qp.Fu()
    };
    h.bj = function() {
        return null === this.Ia ? !1 : this.Ia.bj()
    };

    function Cwa(a, b, c, d) {
        var e = {
            ck: [],
            Zg: []
        };
        a = t(a);
        for (var f = a.next(); !f.done; f = a.next())
            if ((f = f.value) && null != f.renderer) {
                var g = f.renderer,
                    k = f.config && f.config.adPlacementConfig && f.config.adPlacementConfig.kind,
                    l = b;
                c ? g = !0 : d && !I6(l) ? g = !1 : null != g.clientForecastingAdRenderer || null != g.actionCompanionAdRenderer || null != g.imageCompanionAdRenderer || null != g.shoppingCompanionCarouselRenderer || null != g.invideoOverlayAdRenderer || null != g.adBreakServiceRenderer && ("AD_PLACEMENT_KIND_CUE_POINT_TRIGGERED" !== k || I6(l)) ?
                    g = !0 : null != g.instreamVideoAdRenderer || null != g.remoteSlotsRenderer ? (g = l, g = EI(g.S.Y()) ? !1 : pI(g.S.Y()) ? R(g.S.Y().experiments, "html5_enable_single_video_vod_ivar_on_pacf") : R(g.S.Y().experiments, "html5_enable_single_video_vod_ivar_on_pacf_tv")) : g.linearAdSequenceRenderer && g.linearAdSequenceRenderer.linearAds ? g.linearAdSequenceRenderer.adStart ? g = R(l.S.Y().experiments, "html5_enable_vod_lasr_with_notify_pacf") : (g = l, g = EI(g.S.Y()) ? !1 : pI(g.S.Y()) ? R(g.S.Y().experiments, "html5_enable_non_notify_composite_vod_lsar_pacf") :
                        R(g.S.Y().experiments, "html5_enable_non_notify_composite_vod_lsar_pacf_tv")) : g = null != g.instreamSurveyAdRenderer ? !!g.instreamSurveyAdRenderer.controlflowEnabled : null != g.sandwichedLinearAdRenderer ? null != g.sandwichedLinearAdRenderer.linearAd && null != g.sandwichedLinearAdRenderer.linearAd.instreamSurveyAdRenderer ? !!g.sandwichedLinearAdRenderer.linearAd.instreamSurveyAdRenderer.controlflowEnabled : R(l.S.Y().experiments, "html5_enable_vod_slar_with_notify_pacf") : !1;
                g ? e.Zg.push(f) : e.ck.push(f)
            } return e
    };

    function n9(a, b) {
        dN.call(this, a, {
            V: "div",
            Ca: "ytp-reminder-menu",
            Va: {
                role: "menu",
                tabindex: "-1"
            },
            Na: [{
                V: "div",
                Ca: "ytp-reminder-menu-contents",
                Na: [{
                    V: "div",
                    Ca: "ytp-reminder-menu-items"
                }]
            }]
        }, 100, !0);
        this.B = b;
        this.D = [];
        this.menuPopupRenderer = void 0;
        this.items = this.Wa("ytp-reminder-menu-items");
        this.hide()
    }
    v(n9, dN);

    function Dwa(a) {
        var b = Ewa(a),
            c = 0,
            d = {};
        for (c = 0; c < b.length; d = {
                yr: d.yr
            }, c++) {
            var e = a.D[c];
            e || (e = new YM({
                V: "div",
                Ca: "ytp-reminder-menu-item",
                Va: {
                    role: "menuitem",
                    tabindex: "0"
                },
                Na: [{
                    V: "div",
                    Ca: "ytp-reminder-menu-item-icon",
                    eb: "{{icon}}"
                }, {
                    V: "div",
                    Ca: "ytp-reminder-menu-item-label",
                    eb: "{{text}}"
                }]
            }), d.yr = c, e.jd("click", function(k) {
                return function() {
                    var l = k.yr;
                    a.C();
                    l = Ewa(a)[l];
                    a.W("reminderMenuItemClicked", l.serviceEndpoint || l.command)
                }
            }(d)), e.Ua(a.items), a.D[c] = e);
            var f = b[c],
                g = null;
            switch (f.icon && f.icon.iconType) {
                case "NOTIFICATIONS":
                    g = RM();
                    break;
                case "NOTIFICATIONS_NONE":
                    g = TM();
                    break;
                case "NOTIFICATIONS_ACTIVE":
                    g = SM()
            }
            f = f.text ? mC(f.text) : "";
            e.update({
                icon: g,
                text: f
            })
        }
        for (; c < a.D.length;) a.D.pop().dispose();
        0 === c ? a.C() : rla(a, a.B)
    }
    n9.prototype.hide = function() {
        this.B && this.B.removeAttribute("aria-haspopup");
        dN.prototype.hide.call(this)
    };
    n9.prototype.show = function() {
        this.B && this.B.setAttribute("aria-haspopup", "true");
        dN.prototype.show.call(this)
    };

    function Ewa(a) {
        return (a.menuPopupRenderer && a.menuPopupRenderer.items || []).reduce(function(b, c) {
            c && c.menuServiceItemRenderer && b.push(c.menuServiceItemRenderer);
            return b
        }, [])
    }
    n9.prototype.Da = function() {
        Pf(this.D);
        dN.prototype.Da.call(this)
    };

    function o9(a) {
        YM.call(this, {
            V: "div",
            Na: [{
                V: "button",
                fd: ["ytp-offline-slate-button", "ytp-button"],
                Na: [{
                    V: "div",
                    Ca: "ytp-offline-slate-button-icon",
                    eb: "{{icon}}"
                }, {
                    V: "div",
                    Ca: "ytp-offline-slate-button-text",
                    eb: "{{text}}"
                }]
            }]
        });
        this.S = a;
        this.upcomingEventReminderButtonRenderer = this.toggleButtonRenderer = null;
        this.l = void 0;
        this.C = this.i = null;
        (this.D = this.Wa("ytp-offline-slate-button")) && this.Ga(this.D, "click", this.G);
        this.hide()
    }
    v(o9, YM);

    function Fwa(a, b, c) {
        !a.toggleButtonRenderer && b && b.toggleButtonRenderer ? a.toggleButtonRenderer = b.toggleButtonRenderer : b && b.toggleButtonRenderer || (a.toggleButtonRenderer = null);
        !a.upcomingEventReminderButtonRenderer && c && c.upcomingEventReminderButtonRenderer ? a.upcomingEventReminderButtonRenderer = c.upcomingEventReminderButtonRenderer : c && c.upcomingEventReminderButtonRenderer || (a.upcomingEventReminderButtonRenderer = null);
        p9(a)
    }

    function p9(a) {
        if (a.toggleButtonRenderer) {
            var b = a.toggleButtonRenderer;
            if (b.isToggled) {
                var c = b.toggledText ? mC(b.toggledText) : "";
                a.update({
                    text: c,
                    icon: q9(b.toggledIcon)
                })
            } else c = b.defaultText ? mC(b.defaultText) : "", a.update({
                text: c,
                icon: q9(b.defaultIcon)
            });
            a.show()
        } else a.upcomingEventReminderButtonRenderer ? (b = Gwa(a)) ? (c = b.text ? mC(b.text) : "", a.update({
            text: c,
            icon: q9(b.icon)
        }), a.show()) : a.hide() : a.hide()
    }
    o9.prototype.G = function() {
        if (this.toggleButtonRenderer) {
            var a = this.toggleButtonRenderer;
            a.isToggled ? this.B(a.toggledServiceEndpoint) : this.B(a.defaultServiceEndpoint);
            a.isToggled = !a.isToggled;
            p9(this)
        } else if (this.upcomingEventReminderButtonRenderer)
            if (this.i && this.i.u) this.i.C();
            else {
                var b = Gwa(this);
                b && this.B(b.serviceEndpoint || b.command);
                b = t(b && b.command && b.command.commandExecutorCommand && b.command.commandExecutorCommand.commands || []);
                for (var c = b.next(); !c.done; c = b.next())
                    if ((c = c.value) && c.openPopupAction &&
                        c.openPopupAction.popup && c.openPopupAction.popup.menuPopupRenderer) {
                        a = c.openPopupAction.popup.menuPopupRenderer;
                        break
                    } this.i || (this.i = new n9(this.S, this.D), this.i.Ua(this.element), E(this, this.i), this.i.subscribe("reminderMenuItemClicked", this.B, this));
                b = this.i;
                b.menuPopupRenderer = a;
                Dwa(b)
            }
    };
    o9.prototype.B = function(a) {
        if (a && (a.addUpcomingEventReminderEndpoint || a.removeUpcomingEventReminderEndpoint)) {
            if (a.addUpcomingEventReminderEndpoint) {
                var b = a.addUpcomingEventReminderEndpoint;
                var c = "notification/add_upcoming_event_reminder"
            } else a.removeUpcomingEventReminderEndpoint && (b = a.removeUpcomingEventReminderEndpoint, c = "notification/remove_upcoming_event_reminder");
            if (c && b && b.params)
                for (Hwa(this, c, b.params), a = t(b.commands || []), b = a.next(); !b.done; b = a.next())
                    if ((b = b.value) && b.updateUpcomingEventReminderButtonStateCommand) {
                        this.l =
                            b.updateUpcomingEventReminderButtonStateCommand.state;
                        p9(this);
                        break
                    }
        }
    };

    function Hwa(a, b, c) {
        a.C || (a.C = new Jx(a.S.Y().jb));
        var d = {
            context: lv(a.C.config_ || mv())
        };
        Xx() && (d.context.clientScreenNonce = Xx());
        d.params = c;
        nv(a.C, b, d, {
            timeout: 5E3,
            onSuccess: function() {
                a.upcomingEventReminderButtonRenderer && a.l && (a.upcomingEventReminderButtonRenderer.currentState = a.l, a.l = void 0)
            },
            onError: function() {
                Iwa(a)
            },
            onTimeout: function() {
                Iwa(a)
            }
        })
    }

    function Iwa(a) {
        a.toggleButtonRenderer ? (a.toggleButtonRenderer.isToggled = !a.toggleButtonRenderer.isToggled, p9(a)) : a.upcomingEventReminderButtonRenderer && (a.l = void 0, p9(a))
    }

    function q9(a) {
        if (!a) return null;
        switch (a.iconType) {
            case "NOTIFICATIONS":
                return RM();
            case "NOTIFICATIONS_NONE":
                return TM();
            case "NOTIFICATIONS_ACTIVE":
                return SM();
            default:
                return null
        }
    }

    function Gwa(a) {
        if (!a.upcomingEventReminderButtonRenderer) return null;
        var b = a.l || a.upcomingEventReminderButtonRenderer.currentState;
        a = t(a.upcomingEventReminderButtonRenderer.states || []);
        for (var c = a.next(); !c.done; c = a.next())
            if ((c = c.value.upcomingEventReminderButtonStateRenderer) && c.state === b && c.button && c.button.buttonRenderer) return c.button.buttonRenderer;
        return null
    };

    function r9(a) {
        YM.call(this, {
            V: "div",
            Ca: "ytp-offline-slate",
            Na: [{
                V: "div",
                Ca: "ytp-offline-slate-background"
            }, {
                V: "div",
                Ca: "ytp-offline-slate-bar",
                Na: [{
                    V: "span",
                    Ca: "ytp-offline-slate-icon",
                    Na: [{
                        V: "svg",
                        Va: {
                            fill: "#fff",
                            height: "100%",
                            viewBox: "0 0 24 24",
                            width: "100%"
                        },
                        Na: [{
                                V: "path",
                                Va: {
                                    d: "M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"
                                }
                            },
                            {
                                V: "circle",
                                Va: {
                                    cx: "12",
                                    cy: "12",
                                    r: "3"
                                }
                            }
                        ]
                    }]
                }, {
                    V: "span",
                    Ca: "ytp-offline-slate-messages",
                    Na: [{
                        V: "div",
                        Ca: "ytp-offline-slate-main-text",
                        Va: {
                            "aria-label": "{{label}}"
                        },
                        eb: "{{mainText}}"
                    }, {
                        V: "div",
                        Ca: "ytp-offline-slate-subtitle-text",
                        eb: "{{subtitleText}}"
                    }]
                }, {
                    V: "span",
                    Ca: "ytp-offline-slate-buttons"
                }]
            }, {
                V: "button",
                fd: ["ytp-offline-slate-close-button", "ytp-button"],
                Na: [{
                    V: "svg",
                    Va: {
                        height: "100%",
                        version: "1.1",
                        viewBox: "0 0 32 32",
                        width: "100%"
                    },
                    Na: [{
                        V: "path",
                        Va: {
                            d: "m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z",
                            fill: "#fff"
                        }
                    }]
                }]
            }, {
                V: "button",
                fd: ["ytp-offline-slate-open-button", "ytp-button"],
                Na: [{
                    V: "svg",
                    Va: {
                        height: "100%",
                        version: "1.1",
                        viewBox: "0 0 32 32",
                        width: "100%"
                    },
                    Na: [{
                        V: "path",
                        Va: {
                            d: "M 19.41,20.09 14.83,15.5 19.41,10.91 18,9.5 l -6,6 6,6 z",
                            fill: "#fff"
                        }
                    }]
                }]
            }, {
                V: "div",
                Ca: "ytp-offline-slate-trailer-chip",
                eb: "Trailer"
            }]
        });
        var b = this;
        this.api = a;
        this.i = this.l = null;
        this.background = this.Wa("ytp-offline-slate-background");
        this.B = this.Wa("ytp-offline-slate-bar");
        this.D = new dr(function() {
                rr(b.B, "ytp-offline-slate-bar-fade")
            },
            15E3);
        this.G = !1;
        this.C = new dr(function() {
            rr(b.element, "ytp-offline-slate-collapsed")
        }, 15E3);
        E(this, this.C);
        E(this, this.D);
        this.countdownTimer = new dr(this.DB, 1E3, this);
        this.Ga(a, "presentingplayerstatechange", this.EB);
        this.Ga(a, "livestatedata", this.nh);
        a = this.Wa("ytp-offline-slate-close-button");
        this.Ga(a, "click", function() {
            rr(b.element, "ytp-offline-slate-collapsed")
        });
        a = this.Wa("ytp-offline-slate-open-button");
        this.Ga(a, "click", function() {
            sr(b.element, "ytp-offline-slate-collapsed")
        });
        this.hide();
        a = this.getVideoData();
        a.getPlayerResponse() && (a = a.getPlayerResponse().playabilityStatus) && this.nh(a)
    }
    v(r9, YM);
    h = r9.prototype;
    h.getPlayerType = function() {
        if (8 === this.api.getPresentingPlayerType()) return 1
    };
    h.getVideoData = function() {
        return this.api.getVideoData(this.getPlayerType())
    };
    h.nh = function(a) {
        var b, c, d = null === (c = null === (b = null === a || void 0 === a ? void 0 : a.liveStreamability) || void 0 === b ? void 0 : b.liveStreamabilityRenderer) || void 0 === c ? void 0 : c.offlineSlate;
        if (d) {
            this.l = a;
            d = d.liveStreamOfflineSlateRenderer;
            d.canShowCountdown ? this.DB() : s9(this, d);
            var e, f, g, k, l = null === (k = null === (g = null === (f = null === (e = null === a || void 0 === a ? void 0 : a.liveStreamability) || void 0 === e ? void 0 : e.liveStreamabilityRenderer) || void 0 === f ? void 0 : f.offlineSlate) || void 0 === g ? void 0 : g.liveStreamOfflineSlateRenderer) ||
                void 0 === k ? void 0 : k.thumbnail;
            if (l) {
                e = 0;
                f = null;
                l = l.thumbnails;
                for (g = 0; g < l.length; g++) l[g].width > e && (e = l[g].width || 0, f = l[g].url);
                f && (this.background.style.backgroundImage = "url(" + f + ")")
            } else this.background.style.backgroundImage = "";
            d.actionButtons || d.reminderButton ? (this.i || (this.i = new o9(this.api), this.i.Ua(this.Wa("ytp-offline-slate-buttons")), E(this, this.i)), Fwa(this.i, d.actionButtons && d.actionButtons[0], d.reminderButton)) : this.i && Fwa(this.i, null, null);
            this.l = a
        } else this.l = null;
        this.EB()
    };

    function s9(a, b, c) {
        var d, e, f, g;
        if (b) {
            var k = null != b.subtitleText ? mC(b.subtitleText) : "";
            c = c ? c : null != b.mainText ? mC(b.mainText) : "";
            b = null !== (g = null === (f = null === (e = null === (d = b.mainText) || void 0 === d ? void 0 : d.accessibility) || void 0 === e ? void 0 : e.accessibilityData) || void 0 === f ? void 0 : f.label) && void 0 !== g ? g : c;
            a.update({
                mainText: c,
                subtitleText: k,
                label: b
            });
            tr(a.element, "ytp-offline-slate-single-text-line", !k);
            tr(a.B, "ytp-offline-slate-bar-hidden", !c && !k)
        }
    }
    h.EB = function(a) {
        if (8 === this.api.getPresentingPlayerType()) var b = !0;
        else {
            var c = this.api.Nd(),
                d = this.getVideoData();
            b = d.isLivePlayback && (AQ(c) || Q(c, 2) || Q(c, 64));
            var e = 2 === d.autonavState && Q(c, 2);
            c = c.Kc() && !VC(d) && !this.api.isAtLiveHead(void 0, !0);
            b = b && !c && !e
        }
        if (b && this.l)
            if (this.u) {
                if (null === a || void 0 === a ? 0 : iN(a, 2)) sr(this.element, "ytp-offline-slate-collapsed"), this.C.stop(), sr(this.B, "ytp-offline-slate-bar-fade"), this.D.start()
            } else a = 8 === this.api.getPresentingPlayerType() && !this.getVideoData().Bg,
                b = 8 === this.api.getPresentingPlayerType(), tr(this.element, "ytp-offline-slate-premiere-trailer", a), tr(this.element, "ytp-offline-slate-hide-background", b), this.show(), this.C.start(), this.api.W("offlineslatestatechange"), this.G && this.api.Dm();
        else this.u && (this.hide(), this.api.W("offlineslatestatechange"))
    };
    h.DB = function() {
        var a, b, c, d, e = null === (d = null === (c = null === (b = null === (a = this.l) || void 0 === a ? void 0 : a.liveStreamability) || void 0 === b ? void 0 : b.liveStreamabilityRenderer) || void 0 === c ? void 0 : c.offlineSlate) || void 0 === d ? void 0 : d.liveStreamOfflineSlateRenderer;
        if (e) {
            var f = Math.floor(Va() / 1E3),
                g = e.canShowCountdown && Number(e.scheduledStartTime);
            !g || g <= f ? (s9(this, e), this.countdownTimer.stop()) : (f = NM(g - f), s9(this, e, f), er(this.countdownTimer))
        }
    };
    h.Da = function() {
        this.countdownTimer.dispose();
        this.countdownTimer = null;
        YM.prototype.Da.call(this)
    };

    function t9(a, b) {
        var c = K();
        this.module = "heartbeat";
        this.trigger = a;
        this.i = b;
        this.l = c
    }

    function IZ(a, b) {
        return a.trigger && b.trigger ? a.module === b.module && a.trigger === b.trigger && a.i === b.i : !1
    }
    t9.prototype.isExpired = function() {
        return 6E4 < K() - this.l
    };
    t9.prototype.toString = function() {
        return this.module + ":" + this.trigger + ":" + this.i
    };

    function u9(a) {
        bM.call(this, a);
        var b = this;
        this.G = !1;
        this.I = 0;
        this.C = !1;
        this.l = new dr(function() {
            var e = b.player.Y(),
                f = b.getVideoData();
            if (v9(b))
                if (Jwa(b)) {
                    var g;
                    null !== (g = b.heartbeatParams) && void 0 !== g && g.url && (e = Ti(b.heartbeatParams.url, {
                        request_id: Nx()
                    }), f.K && (e = Ti(e, {
                        vvt: f.K
                    }), f.mdxEnvironment && (e = Ti(e, {
                        mdx_environment: f.mdxEnvironment
                    }))), f.oauthToken && (e = Ti(e, {
                        access_token: f.oauthToken
                    })), Kwa(b, f, e))
                } else Lwa(b), Mwa(b, e, f)
        }, 0);
        this.i = this.heartbeatParams = null;
        this.B = !1;
        this.D = new Ff(1E3, 6E4, 1);
        this.sequenceNumber = 0;
        this.offlineSlate = null;
        this.K = new Jx(void 0);
        this.J = this.attestationResponse = void 0;
        this.utcOffsetMinutes = -(new kr).date.getTimezoneOffset();
        this.u = new NI(this);
        E(this, this.l);
        E(this, this.u);
        Lwa(this);
        Nwa(this);
        this.u.Ga(a, "heartbeatparams", this.bD);
        this.u.Ga(a, "presentingplayerstatechange", this.jG);
        this.u.Ga(a, "videoplayerreset", this.PG);
        this.u.Ga(a, "crn_heartbeat", this.Hd);
        this.B && this.i && Owa(this, this.i);
        var c = new TI(1E3, 0x7ffffffffffff, {
                priority: 0,
                namespace: "heartbeat"
            }),
            d = new TI(0x8000000000000, 0x8000000000000, {
                id: "stream_end",
                priority: 0,
                namespace: "heartbeat"
            });
        a.Mf([c, d])
    }
    v(u9, bM);
    h = u9.prototype;
    h.Da = function() {
        w9(this);
        this.player.Zh("heartbeat");
        bM.prototype.Da.call(this)
    };

    function Lwa(a) {
        var b = a.getVideoData();
        b.uh && FA(new EA(b)).then(function(c) {
            a.attestationResponse = c || void 0
        }, function() {})
    }
    h.Hd = function() {
        this.G = !0;
        x9(this, 2E3)
    };
    h.bD = function(a) {
        this.heartbeatParams = a;
        x9(this, 2E3)
    };
    h.jG = function(a) {
        var b;
        8 === this.player.getPresentingPlayerType() || "UNPLAYABLE" === (null === (b = this.i) || void 0 === b ? void 0 : b.status) && !this.player.N("stop_heartbeat_on_unplayable_live_videos_killswitch") || (Q(a.state, 2) || Q(a.state, 64) ? (w9(this), this.B && (this.G = !0, x9(this, 1E3))) : (Q(a.state, 1) || Q(a.state, 8)) && x9(this, 2E3))
    };
    h.PG = function() {
        3 !== this.player.getPresentingPlayerType() && x9(this, 2E3)
    };
    h.getPlayerType = function() {
        if (8 === this.player.getPresentingPlayerType()) return 1
    };
    h.getVideoData = function() {
        return this.player.getVideoData(this.getPlayerType())
    };

    function Jwa(a) {
        var b = a.getVideoData();
        if (!CL(a.getVideoData()) || b.ex) return !1;
        if (b.useInnertubeDrmService() && b.C) {
            a = "playready" === b.C.flavor && b.N("html5_innertube_heartbeats_for_playready");
            var c = "widevine" === b.C.flavor && b.N("html5_innertube_heartbeats_for_widevine");
            b = xJ(b.C) && b.N("html5_innertube_heartbeats_for_fairplay");
            return !(a || c || b)
        }
        return !0
    }

    function y9(a) {
        if (Jwa(a)) return !!a.heartbeatParams;
        var b = a.player.Y(),
            c = a.getVideoData();
        return R(b.experiments, "html5_heartbeat_wait_for_drm_killswitch") || !CL(a.getVideoData()) || !c.useInnertubeDrmService() || c.Sc || c.Vr ? !!c.heartbeatToken : !1
    }

    function x9(a, b) {
        if (!a.l.isActive() && a.G) {
            var c = a.getVideoData();
            if (y9(a) || c.isLivePlayback) {
                if (void 0 === b)
                    if (a.C) {
                        var d;
                        b = a.B ? 7500 : (null === (d = a.heartbeatParams) || void 0 === d ? 0 : d.interval) ? 1E3 * a.heartbeatParams.interval : a.getVideoData().Zw || 6E4
                    } else b = 1E3;
                a.l.start(b)
            }
        }
    }

    function Kwa(a, b, c) {
        b.kh && (c = Ti(c, {
            internalipoverride: b.kh
        }));
        var d = {
            cpn: b.clientPlaybackNonce
        };
        b.contextParams && (d.context_params = b.contextParams);
        b.Ka && (d.kpt = b.Ka);
        c = Ti(c, d);
        pu(c, {
            format: "RAW",
            method: "GET",
            timeout: 3E4,
            onSuccess: function(e) {
                if (!a.l.isActive() && v9(a)) {
                    a.D.reset();
                    a.sequenceNumber++;
                    e = e.responseText;
                    var f = Pwa(e);
                    if (f) {
                        a.player.Ja("onHeartbeat", f);
                        var g = "ok" === f.status ? f.stop_heartbeat ? 2 : 0 : "stop" === f.status ? 1 : "live_stream_offline" === f.status ? 0 : -1
                    } else g = (g = e.match(Qwa)) ? "0" === g[1] ?
                        0 : 1 : -1;
                    Rwa(a, f, e, g)
                }
            },
            onError: function(e) {
                v9(a) && z9(a, !0, "net-" + e.status)
            },
            onTimeout: function() {
                v9(a) && z9(a, !0, "timeout")
            },
            withCredentials: !0
        })
    }

    function v9(a) {
        var b = a.getVideoData();
        return 3 === a.player.getPresentingPlayerType() || Q(a.player.Nd(a.getPlayerType()), 4) ? !1 : y9(a) || b.isLivePlayback ? !0 : (w9(a), !1)
    }

    function Mwa(a, b, c) {
        var d, e = {
            videoId: c.videoId,
            sequenceNumber: a.sequenceNumber,
            heartbeatServerData: c.heartbeatServerData
        };
        a.J = a.attestationResponse;
        c.uh && (e.attestationResponse = {
            challenge: c.U,
            webResponse: a.J
        });
        var f = YL(c),
            g = null !== (d = f.client) && void 0 !== d ? d : {};
        g.utcOffsetMinutes = a.utcOffsetMinutes;
        e.context = f;
        e.cpn = c.clientPlaybackNonce;
        if (f = "undefined" !== typeof Intl ? (new Intl.DateTimeFormat).resolvedOptions().timeZone : null) g.timeZone = f;
        g = {
            heartbeatChecks: []
        };
        if (f = c.getPlayerResponse()) c.heartbeatToken &&
            (e.heartbeatToken = c.heartbeatToken), (f = f.playabilityStatus) && (f = f.liveStreamability) && f.liveStreamabilityRenderer && g.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");
        c.heartbeatToken && g.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");
        EI(b) && (g.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"), (b = a.player.getProgressState(a.getPlayerType()).ingestionTime) && isFinite(b) && (f = {}, f.clientPlayerPositionUtcMillis = "" + Math.floor(1E3 * b), g.unpluggedParams = f));
        e.heartbeatRequestParams = g;
        b = {
            timeout: 3E4,
            onSuccess: function(k) {
                var l;
                if (!a.l.isActive() && v9(a)) {
                    var m = a.getVideoData(),
                        n = m.uh && null == a.J;
                    m.uh = !(null === (l = k.heartbeatAttestationConfig) || void 0 === l || !l.requiresAttestation) || n;
                    l = k.playabilityStatus;
                    m = JSON.stringify(l) || "{}";
                    k.authenticationMismatch && a.player.Aa("authshear", "");
                    n = -1;
                    var p = k.playabilityStatus;
                    p && (a.player.Ja("onHeartbeat", p), "OK" === p.status ? n = k.stopHeartbeat ? 2 : 0 : "UNPLAYABLE" === p.status ? n = 1 : "LIVE_STREAM_OFFLINE" === p.status && (n = 0));
                    k = n;
                    a.sequenceNumber && -1 === k || a.D.reset();
                    a.sequenceNumber++;
                    Rwa(a, l, m, k)
                }
            },
            onError: function(k) {
                v9(a) && z9(a, !0, "net-" + k.status)
            },
            onTimeout: function() {
                v9(a) && z9(a, !0, "timeout")
            }
        };
        c.Gd() && (b.Gx = "Bearer " + c.Gd());
        nv(a.K, "player/heartbeat", e, b)
    }

    function Rwa(a, b, c, d) {
        -1 === d ? (b = "decode " + Re(cb(c), 3), z9(a, !1, b)) : 2 === d ? (w9(a), a.C = !0) : (a.I = 0, a.l.stop(), 1 === d ? (a.C = !1, a.player.Rd("heartbeat.stop", a.Yc(c)), iw("heartbeatActionPlayerHalted", Swa(b))) : (a.C = !0, c = 0, a.B && b && (c = Owa(a, b), a.player.W("livestatedata", b)), c ? x9(a, c) : x9(a)))
    }

    function Owa(a, b) {
        var c, d, e = b.liveStreamability && b.liveStreamability.liveStreamabilityRenderer,
            f = !(!e || !e.switchStreamsImmediately),
            g = Twa(e),
            k = a.getVideoData(),
            l = a.player.Nd(a.getPlayerType()),
            m = l.Kc() && !VC(k) && !a.player.isAtLiveHead(a.getPlayerType());
        if (rL(k)) {
            var n = (null === (c = a.player.Dc()) || void 0 === c ? void 0 : c.wb()) || {};
            n.status = b.status || "";
            n.dvr = "" + +m;
            n["switch"] = "" + +f;
            n.ended = "" + +!(!e || !e.displayEndscreen);
            a.player.Aa("heartbeat", JA(n))
        }
        if (m && !f) return g;
        f = e && e.streamTransitionEndpoint &&
            e.streamTransitionEndpoint.watchEndpoint;
        if ("STREAM_TRANSITION_TIMING_AT_STREAM_END" === (e && e.transitionTiming)) a.getVideoData().sD = f;
        else {
            if (m = f)(m = f && f.videoId) ? (a.player.jw(m, void 0, void 0, !0, !0, f), A9("HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT", b), m = !0) : m = !1;
            if (m) return g
        }
        if ("OK" === b.status.toUpperCase()) {
            f = e && e.broadcastId;
            m = a.i && a.i.liveStreamability && a.i.liveStreamability.liveStreamabilityRenderer && a.i.liveStreamability.liveStreamabilityRenderer.broadcastId;
            n = f !==
                m && (null != f || a.player.N("web_player_heartbeat_undefined_killswitch"));
            if (!k.hlsvp && !k.va || n) return e = {
                video_id: k.videoId
            }, k.gs && (e.is_live_destination = "1"), a.player.N("web_player_heartbeat_request_watch_next") || (e.disable_watch_next = !0, e.raw_watch_next_response = k.watchNextResponse), e.autonav_state = k.autonavState, e.oauth_token = k.oauthToken, e.force_gvi = k.td, e.Sf = k.Sf, 8 === a.player.getPresentingPlayerType() && a.player.lj(8), l = void 0, k.hlsvp || k.va ? n && (l = new t9("broadcastIdChanged", m + "," + f), A9("HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",
                b)) : (f && (l = new t9("formatsReceived", "" + f)), A9("HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE", b)), a.player.loadVideoByPlayerVars(e, void 0, void 0, void 0, l), g;
            a.player.Bd("heartbeat", a.getPlayerType())
        }
        e && e.displayEndscreen && (a.offlineSlate ? (a = a.offlineSlate, a.G = !0, a.u && a.api.Dm()) : AQ(l) && (k = (null === (d = a.player.Dc()) || void 0 === d ? void 0 : d.wb()) || {}, a.player.Aa("hbse", JA(k), !0), a.player.Dm(), a.player.Ja("onLiveMediaEnded", b)));
        return g
    }

    function Twa(a) {
        var b = 0;
        a && a.pollDelayMs && (a = Number(a.pollDelayMs)) && (b = a);
        return b
    }

    function z9(a, b, c) {
        if (!a.l.isActive()) {
            a.l.stop();
            a.I++;
            var d = a.getVideoData();
            if (d.dx || b && !CL(a.getVideoData()) && !y9(a) && d.isLivePlayback) var e = !1;
            else {
                var f;
                (null === (e = a.heartbeatParams) || void 0 === e ? 0 : e.Wq) ? f = a.heartbeatParams.Wq: f = d.bx || 5;
                e = a.I >= f
            }
            e ? (b ? (b = "heartbeat.net", e = {
                enforcedPolicyToHaltOnNetworkFailure: !0
            }) : (b = "heartbeat.servererror", e = Swa()), iw("heartbeatActionPlayerHalted", e), (e = a.getVideoData()) && e.isLivePlayback ? a.player.Rd(b, "Video playback interrupted. Please try again.", c) : a.player.Rd(b,
                "Sorry, there was an error licensing this video.", c)) : (x9(a, a.D.getValue()), If(a.D))
        }
    }
    h.Gm = function(a) {
        switch (a) {
            case 4:
            case 3:
                return !1
        }
        return !0
    };

    function Swa(a) {
        var b = {
            enforcedPolicyToHaltOnNetworkFailure: !1
        };
        a && (b.serializedServerContext = a.additionalLoggingData);
        return b
    }

    function A9(a, b) {
        a = {
            trigger: "HEARTBEAT_ACTION_TRIGGER_IMMEDIATE",
            reason: a
        };
        b && (a.serializedServerContext = b.additionalLoggingData);
        iw("heartbeatActionPlayerTransitioned", a)
    }

    function w9(a) {
        a.I = 0;
        a.l.stop();
        a.C = !1;
        a.sequenceNumber = 0
    }
    h.Yc = function(a) {
        var b = "LICENSE",
            c = Pwa(a);
        if (c) return c.reason || LI[b] || "";
        (a = a.match(Qwa)) && (a = Number(a[1])) && (b = MI(a));
        return LI[b] || ""
    };

    function Nwa(a) {
        var b, c = a.getVideoData(),
            d = a.player.Y();
        if (c.isLivePlayback)
            if (xH(d.i)) {
                if (a.B = !0, a.G = !0, EI(d) && (a.offlineSlate = new r9(a.player), E(a, a.offlineSlate), WC(a.player, a.offlineSlate.element)), (c = c.getPlayerResponse()) && c.playabilityStatus && (a.i = c.playabilityStatus), "UNPLAYABLE" !== (null === (b = a.i) || void 0 === b ? void 0 : b.status) || a.player.N("stop_heartbeat_on_unplayable_live_videos_killswitch")) a.i ? (c = Twa(a.i.liveStreamability && a.i.liveStreamability.liveStreamabilityRenderer)) ? x9(a, c) : x9(a, 7500) :
                    x9(a, 1E3)
            } else a.player.Rd("html5.unsupportedlive", "HTML5_NO_AVAILABLE_FORMATS_FALLBACK", "nolive.1");
        else !R(d.experiments, "html5_release_post_live_heartbeat_killswitch") && xb(c.J, "heartbeat") && a.player.Bd("heartbeat", a.getPlayerType())
    }
    h.au = function() {
        return !!this.offlineSlate && this.offlineSlate.u
    };
    var Qwa = /^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;

    function Pwa(a) {
        try {
            var b = JSON.parse(a);
            return null != b ? b : void 0
        } catch (c) {}
    };
    var Uwa = ["left", "right", "center", "justify"];

    function B9(a, b, c, d, e, f) {
        var g = {};
        Ua(g, b);
        Ua(g, a.params);
        Ua(g, c);
        var k = {};
        Ua(k, b.fc);
        a.params.fc && Ua(k, a.params.fc);
        Ua(k, c.fc);
        g.fc = k;
        YM.call(this, {
            V: "div",
            Ca: "caption-window",
            Va: {
                id: "caption-window-" + a.id,
                dir: 1 === g.ue ? "rtl" : "ltr",
                tabindex: "0",
                "aria-live": "assertive",
                lang: g.lang
            },
            Na: [{
                V: "span",
                Ca: "captions-text",
                Va: {
                    style: "word-wrap: normal; display: block;"
                }
            }]
        });
        this.G = [];
        this.T = !1;
        this.l = a;
        this.ea = this.X = null;
        this.playerWidth = e;
        this.playerHeight = f;
        this.D = null;
        this.maxWidth = .9 * e;
        this.i = g;
        this.Sa =
            c;
        this.C = this.Wa("captions-text");
        this.Ma = "" !== this.C.style.getPropertyValue("box-decoration-break") || "" !== this.C.style.getPropertyValue("-webkit-box-decoration-break");
        this.Z = d / 360 * 16;
        this.type = 0;
        this.va = this.Z * Vwa(k);
        b = "";
        this.i.windowOpacity && (a = fr(this.i.windowColor), b = "rgba(" + a[0] + "," + a[1] + "," + a[2] + "," + this.i.windowOpacity + ")");
        a = {
            "background-color": b,
            display: !1 === this.i.isVisible ? "none" : "",
            "text-align": Uwa[this.i.textAlign]
        };
        this.Ma && (a["border-radius"] = b ? this.va / 8 + "px" : "");
        if (this.B = 2 === this.l.params.ue ||
            3 === this.l.params.ue) b = this.element, c = "vertical-rl", 1 === this.i.Wv && (c = "vertical-lr"), ne && (c = "vertical-lr" === c ? "tb-lr" : "tb-rl"), $l(b, "-o-writing-mode", c), $l(b, "-webkit-writing-mode", c), $l(b, "writing-mode", c), $l(b, "text-orientation", "upright"), rr(b, "ytp-vertical-caption"), 3 === this.l.params.ue && ($l(b, "text-orientation", ""), $l(b, "transform", "rotate(180deg)"));
        $l(this.element, a);
        switch (this.i.Bi) {
            case 0:
            case 1:
            case 2:
                rr(this.element, "ytp-caption-window-top");
                break;
            case 6:
            case 7:
            case 8:
                rr(this.element,
                    "ytp-caption-window-bottom")
        }
    }
    v(B9, YM);
    h = B9.prototype;
    h.tb = function() {
        return this.type
    };

    function Vwa(a) {
        var b = 1 + .25 * (a.fontSizeIncrement || 0);
        if (0 === a.offset || 2 === a.offset) b *= .8;
        return b
    }

    function Wwa(a, b) {
        var c = {},
            d = b.background ? b.background : a.i.fc.background;
        if (null != b.backgroundOpacity || b.background) {
            var e = null != b.backgroundOpacity ? b.backgroundOpacity : a.i.fc.backgroundOpacity;
            d = fr(d);
            c.background = "rgba(" + d[0] + "," + d[1] + "," + d[2] + "," + e + ")";
            a.Ma && (c["box-decoration-break"] = "clone", c["border-radius"] = a.va / 8 + "px")
        }
        if (null != b.fontSizeIncrement || null != b.offset) c["font-size"] = a.Z * Vwa(b) + "px";
        d = 1;
        e = b.color || a.i.fc.color;
        if (b.color || null != b.textOpacity) e = fr(e), d = null == b.textOpacity ? a.i.fc.textOpacity :
            b.textOpacity, e = "rgba(" + e[0] + "," + e[1] + "," + e[2] + "," + d + ")", c.color = e, c.fill = e;
        var f = b.charEdgeStyle;
        0 === f && (f = void 0);
        if (f) {
            e = "rgba(34, 34, 34, " + d + ")";
            var g = "rgba(204, 204, 204, " + d + ")";
            b.Ks && (g = e = b.Ks);
            var k = a.Z / 16 / 2,
                l = Math.max(k, 1),
                m = Math.max(2 * k, 1),
                n = Math.max(3 * k, 1),
                p = Math.max(5 * k, 1);
            d = [];
            switch (f) {
                case 4:
                    for (; n <= p; n += k) d.push(m + "px " + m + "px " + n + "px " + e);
                    break;
                case 1:
                    m = 2 <= window.devicePixelRatio ? .5 : 1;
                    for (f = l; f <= n; f += m) d.push(f + "px " + f + "px " + e);
                    break;
                case 2:
                    d.push(l + "px " + l + "px " + g);
                    d.push("-" + l +
                        "px -" + l + "px " + e);
                    break;
                case 3:
                    for (n = 0; 5 > n; n++) d.push("0 0 " + m + "px " + e)
            }
            c["text-shadow"] = d.join(", ")
        }
        e = "";
        switch (b.fontFamily) {
            case 1:
                e = '"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';
                break;
            case 2:
                e = '"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif';
                break;
            case 3:
                e = '"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';
                break;
            case 5:
                e = '"Comic Sans MS", Impact, Handlee, fantasy';
                break;
            case 6:
                e = '"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';
                break;
            case 7:
                e = zu() ? '"Carrois Gothic SC", sans-serif-smallcaps' : '"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif';
                break;
            case 0:
            case 4:
                e = '"YouTube Noto", Roboto, "Arial Unicode Ms", Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'
        }
        e && (c["font-family"] = e);
        e = b.offset;
        null == e && (e = a.i.fc.offset);
        switch (e) {
            case 0:
                c["vertical-align"] = "sub";
                break;
            case 2:
                c["vertical-align"] = "super"
        }
        7 === b.fontFamily && (c["font-variant"] = "small-caps");
        b.bold && (c["font-weight"] = "bold");
        b.hg &&
            (c["font-style"] = "italic");
        b.underline && (c["text-decoration"] = "underline");
        b.PE && (c.visibility = "hidden");
        1 === b.lz && a.B && (c["text-combine-upright"] = "all", c["text-orientation"] = "mixed", e = pe || Oe, 3 === a.l.params.ue ? c.transform = e ? "rotate(90deg)" : "rotate(180deg)" : e && (c.transform = "rotate(-90deg)"));
        if (1 === b.vg || 2 === b.vg || 3 === b.vg || 4 === b.vg || 5 === b.vg)
            if (pe) c["font-weight"] = "bold";
            else switch (c["text-emphasis-style"] = "filled circle", c["text-emphasis-color"] = "currentcolor", c["webkit-text-emphasis"] = "filled circle",
                b.vg) {
                case 4:
                case 3:
                    c["text-emphasis-position"] = "under left";
                    c["webkit-text-emphasis-position"] = "under left";
                    break;
                case 5:
                case 2:
                    c["text-emphasis-position"] = "over right", c["webkit-text-emphasis-position"] = "over right"
            }
        return c
    }
    h.Ro = function(a) {
        var b = Math.min(this.Py(), this.maxWidth),
            c = this.Oy(),
            d = "";
        3 === this.l.params.ue && (d = "rotate(180deg)");
        $l(this.element, {
            top: 0,
            left: 0,
            right: "",
            bottom: "",
            width: b ? b + "px" : "",
            height: c ? c + "px" : "",
            "max-width": "90%",
            "max-height": "90%",
            margin: "",
            transform: ""
        });
        this.As(a);
        a = {
            transform: d,
            top: "",
            left: "",
            width: b ? b + "px" : "",
            height: c ? c + "px" : "",
            "max-width": "",
            "max-height": ""
        };
        var e = .9 * this.i.Rg + 5;
        d = this.i.Bi;
        switch (d) {
            case 0:
            case 3:
            case 6:
                (b = this.i.fc.fontSizeIncrement) && 0 < b && 2 !== this.i.ue && 3 !== this.i.ue &&
                    (e = Math.max(e / (1 + 2 * b), 5));
                a.left = e + "%";
                break;
            case 1:
            case 4:
            case 7:
                a.left = e + "%";
                e = this.C.offsetWidth;
                b || e ? (b = b || e + 1, a.width = b + "px", a["margin-left"] = b / -2 + "px") : a.transform += " translateX(-50%)";
                break;
            case 2:
            case 5:
            case 8:
                a.right = 100 - e + "%"
        }
        b = .9 * this.i.jl + 5;
        switch (d) {
            case 0:
            case 1:
            case 2:
                a.top = b + "%";
                break;
            case 3:
            case 4:
            case 5:
                a.top = b + "%";
                (c = c || this.element.clientHeight) ? (a.height = c + "px", a["margin-top"] = c / -2 + "px") : a.transform += " translateY(-50%)";
                break;
            case 6:
            case 7:
            case 8:
                a.bottom = 100 - b + "%"
        }
        $l(this.element,
            a)
    };
    h.As = function(a) {
        var b;
        for (b = 0; b < a.length && a[b] === this.G[b]; b++);
        if (this.T || this.G.length > b) b = 0, this.T = !1, this.G = [], this.D = this.ea = this.X = null, Qg(this.C);
        for (; b < a.length; b++) Xwa(this, a[b])
    };
    h.Py = function() {
        return 0
    };
    h.Oy = function() {
        return 0
    };

    function Ywa(a) {
        a.D = Og("SPAN");
        $l(a.D, {
            display: "block"
        });
        rr(a.D, "caption-visual-line");
        a.C.appendChild(a.D)
    }

    function Zwa(a, b) {
        var c = Og("SPAN");
        $l(c, {
            display: "inline-block",
            "white-space": "pre-wrap"
        });
        $l(c, Wwa(a, b));
        c.classList.add("ytp-caption-segment");
        a.D.appendChild(c);
        c.previousElementSibling && ($l(c.previousElementSibling, {
            "border-top-right-radius": "0",
            "border-bottom-right-radius": "0"
        }), $l(c, {
            "border-top-left-radius": "0",
            "border-bottom-left-radius": "0"
        }));
        return c
    }

    function Xwa(a, b, c) {
        a.T = a.T || !!c;
        var d = {};
        Ua(d, a.i.fc);
        Ua(d, c || b.i);
        Ua(d, a.Sa.fc);
        (c = !a.D) && Ywa(a);
        for (var e = a.X && a.ea && fc(d, a.ea) ? a.X : Zwa(a, d), f = "string" === typeof b.text, g = f ? b.text.split("\n") : [b.text], k = 0; k < g.length; k++) {
            var l = 0 < k || !b.append,
                m = g[k];
            l && !c ? (Ywa(a), e = Zwa(a, d)) : l && c && (c = !1);
            m && (e.appendChild(f ? Pg(m) : m), f || "RUBY" !== m.tagName || 4 !== m.childElementCount || pe || !cm(m.children[2], "text-emphasis") || (l = a.B ? "padding-right" : "padding-top", cm(m.children[2], "text-emphasis-position") && (l = a.B ? "padding-left" :
                "padding-bottom"), re ? $l(e, l, "1em") : $l(e, l, "0.5em")))
        }
        a.ea = d;
        a.X = e;
        a.G.push(b)
    }
    h.toString = function() {
        return YM.prototype.toString.call(this)
    };

    function C9(a, b, c) {
        fM.call(this, a);
        this.videoData = b;
        this.audioTrack = c;
        this.B = b.vn
    }
    v(C9, fM);
    C9.prototype.uo = function(a, b, c) {
        pia(this.videoData.videoId, a.vssId, c)
    };
    C9.prototype.mm = function(a) {
        if (this.audioTrack)
            for (var b = t(this.audioTrack.captionTracks), c = b.next(); !c.done; c = b.next()) dM(this.l, c.value);
        a()
    };

    function D9(a, b, c, d, e, f, g) {
        B9.call(this, a, b, c, d, e, f, g);
        this.type = 1
    }
    v(D9, B9);
    D9.prototype.As = function(a) {
        var b = this.l.i;
        B9.prototype.As.call(this, a);
        for (a = a.length; a < b.length; a++) {
            var c = b[a];
            if (f && c.i === e) var d = f;
            else {
                d = {};
                Ua(d, c.i);
                Ua(d, $wa);
                var e = c.i;
                var f = d
            }
            Xwa(this, c, d)
        }
    };
    var $wa = {
        PE: !0
    };

    function E9(a, b, c, d, e, f, g) {
        B9.call(this, a, b, c, d, e, f, g);
        this.type = 2;
        this.I = [];
        this.K = this.J = this.ra = 0;
        this.U = NaN;
        this.Fa = 0;
        this.Qa = null;
        this.Ha = new dr(this.Ta, 433, this);
        rr(this.element, "ytp-caption-window-rollup");
        E(this, this.Ha);
        $l(this.element, "overflow", "hidden")
    }
    v(E9, B9);
    E9.prototype.Ta = function() {
        sr(this.element, "ytp-rollup-mode");
        this.Ro(this.Qa, !0)
    };
    E9.prototype.Oy = function() {
        return this.B ? this.K : this.J
    };
    E9.prototype.Py = function() {
        return this.B ? this.J : this.K
    };

    function axa(a, b) {
        if (!b) return "";
        a.B && 1 !== a.l.params.Wv && (b *= -1);
        return "translate" + (a.B ? "X" : "Y") + "(" + b + "px)"
    }

    function bxa(a) {
        a.I = Array.from(document.getElementsByClassName("caption-visual-line"));
        for (var b = a.l.params.mj, c = 0, d = 0, e = a.I.length - 1; c < b && -1 < e;) {
            var f = a.I[e];
            d += a.B ? f.offsetWidth : f.offsetHeight;
            c++;
            e--
        }
        a.I.length < b && (d *= b / a.I.length);
        a.J = d;
        b = Math;
        c = b.max;
        isNaN(a.U) && ((d = a.i.Hi) ? (e = Og("SPAN"), Ug(e, "\u2013".repeat(d)), $l(e, Wwa(a, a.i.fc)), a.C.appendChild(e), a.U = e.offsetWidth, a.C.removeChild(e)) : a.U = 0);
        d = a.C;
        a.K = c.call(b, a.U, a.Fa, (a.B ? d.offsetHeight : d.offsetWidth) + 1)
    }

    function cxa(a, b) {
        bxa(a);
        var c = a.I.reduce(function(e, f) {
            return (a.B ? f.offsetWidth : f.offsetHeight) + e
        }, 0);
        c = a.J - c;
        if (c !== a.ra) {
            var d = 0 < c && 0 === a.ra;
            b || isNaN(c) || d || (rr(a.element, "ytp-rollup-mode"), er(a.Ha));
            $l(a.C, "transform", axa(a, c));
            a.ra = c
        }
        bxa(a)
    }
    E9.prototype.Ro = function(a, b) {
        this.Qa = a;
        if (this.l.params.mj) {
            for (var c = 0, d = 0; d < this.G.length && c < a.length; d++) this.G[d] === a[c] && c++;
            0 < c && c < a.length && (a = this.G.concat(a.slice(c)));
            this.Fa = this.K;
            this.J = this.K = 0;
            B9.prototype.Ro.call(this, a);
            cxa(this, b)
        }
        B9.prototype.Ro.call(this, a)
    };

    function F9(a, b, c, d, e, f, g) {
        f = void 0 === f ? !1 : f;
        g = void 0 === g ? null : g;
        TI.call(this, a, a + b, {
            priority: c,
            namespace: "captions"
        });
        this.windowId = d;
        this.text = e;
        this.append = f;
        this.i = g
    }
    v(F9, TI);
    F9.prototype.toString = function() {
        return TI.prototype.toString.call(this)
    };

    function G9(a, b, c, d, e) {
        TI.call(this, a, a + b, {
            priority: c,
            namespace: "captions"
        });
        this.id = d;
        this.params = e;
        this.i = []
    }
    v(G9, TI);
    G9.prototype.toString = function() {
        return TI.prototype.toString.call(this)
    };
    var H9 = 0;

    function dxa(a, b, c, d, e, f, g) {
        var k = f[0],
            l = g[k.getAttribute("p")];
        if (1 === l.Rc) {
            var m = f[1],
                n = f[2];
            f = f[3];
            k.getAttribute("t");
            m.getAttribute("t");
            n.getAttribute("t");
            f.getAttribute("t");
            k.getAttribute("p");
            m.getAttribute("p");
            f.getAttribute("p");
            g = g[n.getAttribute("p")];
            k = exa(k.textContent, m.textContent, n.textContent, f.textContent, g);
            return new F9(a, b, e, c, k, d, l)
        }
        switch (l.Rc) {
            case 9:
            case 10:
                l.vg = 1;
                break;
            case 11:
                l.vg = 2;
                break;
            case 12:
                l.vg = 3;
                break;
            case 13:
                l.vg = 4;
                break;
            case 14:
                l.vg = 5
        }
        return new F9(a, b, e, c,
            k.textContent || "", d, l)
    }

    function exa(a, b, c, d, e) {
        var f = zu(),
            g = f ? Og("DIV") : Og("RUBY"),
            k = Og("SPAN");
        k.textContent = a;
        g.appendChild(k);
        a = f ? Og("DIV") : Og("RP");
        a.textContent = b;
        g.appendChild(a);
        b = f ? Og("DIV") : Og("RT");
        b.textContent = c;
        g.appendChild(b);
        c = e.Rc;
        if (10 === c || 11 === c || 12 === c || 13 === c || 14 === c)
            if ($l(b, "text-emphasis-style", "filled circle"), $l(b, "text-emphasis-color", "currentcolor"), $l(b, "webkit-text-emphasis", "filled circle"), 11 === e.Rc || 13 === e.Rc) $l(b, "webkit-text-emphasis-position", "under left"), $l(b, "text-emphasis-position",
                "under left");
        c = !0;
        if (4 === e.Rc || 7 === e.Rc || 12 === e.Rc || 14 === e.Rc) $l(g, "ruby-position", "over"), $l(g, "-webkit-ruby-position", "before");
        else if (5 === e.Rc || 6 === e.Rc || 11 === e.Rc || 13 === e.Rc) $l(g, "ruby-position", "under"), $l(g, "-webkit-ruby-position", "after"), c = !1;
        e = f ? Og("DIV") : Og("RP");
        e.textContent = d;
        g.appendChild(e);
        f && (d = c, $l(g, {
            display: "inline-block",
            position: "relative"
        }), f = g.firstElementChild.nextElementSibling, $l(f, "display", "none"), f = f.nextElementSibling, $l(f, {
            "font-size": "0.5em",
            "line-height": "1.2em",
            "text-align": "center",
            position: "absolute",
            left: "50%",
            transform: "translateX(-50%)",
            width: "400%"
        }), $l(g.lastElementChild, "display", "none"), d ? ($l(g, "padding-top", "0.6em"), $l(f, "top", "0")) : ($l(g, "padding-bottom", "0.6em"), $l(f, "bottom", "0")));
        return g
    };

    function I9() {
        C.apply(this, arguments)
    }
    v(I9, C);
    I9.prototype.l = function() {
        return []
    };
    I9.prototype.reset = function() {};

    function J9(a) {
        I9.call(this);
        this.C = a;
        this.B = {};
        this.J = {};
        this.K = {};
        this.D = "_" + H9++;
        this.I = {};
        this.u = this.i = null;
        this.G = !0
    }
    v(J9, I9);
    J9.prototype.reset = function() {
        this.I = {};
        this.u = this.i = null;
        this.G = !0
    };
    J9.prototype.l = function(a, b) {
        a = a.firstChild;
        a.getAttribute("format");
        b = b || 0;
        Number.isFinite(b);
        a = Array.from(a.childNodes);
        a = t(a);
        for (var c = a.next(); !c.done; c = a.next())
            if (c = c.value, 1 === c.nodeType) switch (c.tagName) {
                case "head":
                    var d = c;
                    break;
                case "body":
                    var e = c
            }
        if (d)
            for (d = Array.from(d.childNodes), d = t(d), a = d.next(); !a.done; a = d.next())
                if (a = a.value, 1 === a.nodeType) switch (a.tagName) {
                    case "pen":
                        c = a.getAttribute("id");
                        var f = this.B,
                            g = {},
                            k = a.getAttribute("p");
                        k && Ua(g, this.B[k]);
                        k = K9(a, "b");
                        null != k && (g.bold = k);
                        k = K9(a, "i");
                        null != k && (g.hg = k);
                        k = K9(a, "u");
                        null != k && (g.underline = k);
                        k = L9(a, "et");
                        null != k && (g.charEdgeStyle = k);
                        k = L9(a, "of");
                        null != k && (g.offset = k);
                        k = M9(a, "bc");
                        null != k && (g.background = k);
                        k = M9(a, "ec");
                        null != k && (g.Ks = k);
                        k = M9(a, "fc");
                        null != k && (g.color = k);
                        k = L9(a, "fs");
                        null != k && 0 !== k && (g.fontFamily = k);
                        k = N9(a, "sz");
                        void 0 !== k && (g.fontSizeIncrement = k / 100 - 1);
                        k = N9(a, "bo");
                        void 0 !== k && (g.backgroundOpacity = k / 255);
                        k = N9(a, "fo");
                        void 0 !== k && (g.textOpacity = k / 255);
                        k = L9(a, "rb");
                        null != k && 10 !== k && 0 !== k && (g.Rc = 10 < k ? k - 1 :
                            k);
                        a = L9(a, "hg");
                        null != a && (g.lz = a);
                        f[c] = g;
                        break;
                    case "ws":
                        c = a.getAttribute("id");
                        this.K[c] = fxa(this, a);
                        break;
                    case "wp":
                        c = a.getAttribute("id"), this.J[c] = gxa(this, a)
                }
        if (e) {
            d = [];
            e = Array.from(e.childNodes);
            e = t(e);
            for (a = e.next(); !a.done; a = e.next())
                if (a = a.value, 1 === a.nodeType) switch (a.tagName) {
                    case "w":
                        this.i = hxa(this, a, b, !1);
                        (a = this.I[this.i.id]) && a.end > this.i.start && (a.end = this.i.start);
                        this.I[this.i.id] = this.i;
                        d.push(this.i);
                        break;
                    case "p":
                        k = b;
                        c = [];
                        f = a.getAttribute("w") || this.D;
                        g = !!K9(a, "a");
                        k = (N9(a,
                            "t") || 0) + k;
                        var l = N9(a, "d") || 5E3;
                        g || (!this.G && this.u && this.u.windowId === f && this.u.end > k && (this.u.end = k), this.u && "\n" === this.u.text && (this.u.text = ""));
                        var m = g ? 6 : 5,
                            n = a.getAttribute("p");
                        n = n ? this.B[n] : null;
                        var p = Array.from(a.childNodes);
                        p.length && (this.G = null != a.getAttribute("d"));
                        for (var q = 0; q < p.length; q++) {
                            var r = p[q],
                                u = void 0;
                            0 < q && (g = !0);
                            var x = void 0;
                            1 === r.nodeType && (x = r);
                            if (x && "s" === x.tagName) {
                                if ((r = (r = x.getAttribute("p")) ? this.B[r] : null) && r.Rc && (1 === r.Rc ? (r = p.slice(q, q + 4), 4 === r.length && (u = dxa(k, l,
                                        f, g, m, r, this.B), q += 3)) : u = dxa(k, l, f, g, m, [x], this.B)), !u) {
                                    var z = x;
                                    u = k;
                                    x = l;
                                    r = f;
                                    var D = g,
                                        H = m,
                                        O = z.textContent ? z.textContent : "",
                                        M = z.getAttribute("p");
                                    M = M ? this.B[M] : null;
                                    z = N9(z, "t") || 0;
                                    u = new F9(u + z, x - z, H, r, O, D, M)
                                }
                            } else u = new F9(k, l, m, f, r.textContent || "", g, n);
                            c.push(u);
                            this.u = u
                        }
                        if (0 < c.length)
                            for (c[0].windowId === this.D && (this.i = hxa(this, a, b, !0), d.push(this.i)), a = t(c), c = a.next(); !c.done; c = a.next()) c = c.value, c.windowId = this.i.id, this.i.i.push(c), d.push(c)
                }
            b = d
        } else b = [];
        return b
    };

    function N9(a, b) {
        a = a.getAttribute(b);
        if (null != a) return Number(a)
    }

    function K9(a, b) {
        a = a.getAttribute(b);
        if (null != a) return "1" === a
    }

    function L9(a, b) {
        a = N9(a, b);
        return void 0 !== a ? a : null
    }

    function M9(a, b) {
        a = a.getAttribute(b);
        if (null != a) return jN.test(a), a
    }

    function fxa(a, b) {
        var c = {},
            d = b.getAttribute("ws");
        Ua(c, d ? a.K[d] : a.C);
        a = L9(b, "mh");
        null != a && (c.qm = a);
        a = L9(b, "ju");
        null != a && (c.textAlign = a);
        a = L9(b, "pd");
        null != a && (c.ue = a);
        a = L9(b, "sd");
        null != a && (c.Wv = a);
        a = M9(b, "wfc");
        null != a && (c.windowColor = a);
        b = N9(b, "wfo");
        void 0 !== b && (c.windowOpacity = b / 255);
        return c
    }

    function gxa(a, b) {
        var c = {},
            d = b.getAttribute("wp");
        d && Ua(c, a.J[d]);
        a = L9(b, "ap");
        null != a && (c.Bi = a);
        a = N9(b, "cc");
        null != a && (c.Hi = a);
        a = N9(b, "ah");
        null != a && (c.Rg = a);
        a = N9(b, "rc");
        null != a && (c.mj = a);
        b = N9(b, "av");
        null != b && (c.jl = b);
        return c
    }

    function hxa(a, b, c, d) {
        var e = {};
        Ua(e, gxa(a, b));
        Ua(e, fxa(a, b));
        d ? fc(e, a.C) ? (d = a.D, e = a.C) : d = "_" + H9++ : d = b.getAttribute("id") || "_" + H9++;
        a = N9(b, "t") + c;
        b = N9(b, "d") || 0x8000000000000;
        if (2 === e.ue || 3 === e.ue) c = e.mj, e.mj = e.Hi, e.Hi = c;
        return new G9(a, b, 0, d, e)
    };
    var ixa = new Map([
        [9, 1],
        [10, 1],
        [11, 2],
        [12, 3],
        [13, 4],
        [14, 5]
    ]);

    function O9(a) {
        I9.call(this);
        this.D = a;
        this.i = new Map;
        this.B = new Map;
        this.C = new Map;
        this.u = new Map
    }
    v(O9, I9);
    O9.prototype.reset = function() {
        this.u.clear()
    };
    O9.prototype.l = function(a, b) {
        var c = JSON.parse(a);
        if (!c) return [];
        if (c.pens) {
            a = 0;
            for (var d = t(c.pens), e = d.next(); !e.done; e = d.next()) {
                e = e.value;
                var f = {},
                    g = e.pParentId;
                g && Object.assign(f, this.i.get(g));
                e.bAttr && (f.bold = !0);
                e.iAttr && (f.hg = !0);
                e.uAttr && (f.underline = !0);
                g = e.ofOffset;
                null != g && (f.offset = g);
                void 0 !== e.szPenSize && (f.fontSizeIncrement = e.szPenSize / 100 - 1);
                g = e.etEdgeType;
                null != g && (f.charEdgeStyle = g);
                void 0 !== e.ecEdgeColor && (f.Ks = P9(e.ecEdgeColor));
                g = e.fsFontStyle;
                null != g && 0 !== g && (f.fontFamily = g);
                void 0 !== e.fcForeColor && (f.color = P9(e.fcForeColor));
                void 0 !== e.foForeAlpha && (f.textOpacity = e.foForeAlpha / 255);
                void 0 !== e.bcBackColor && (f.background = P9(e.bcBackColor));
                void 0 !== e.boBackAlpha && (f.backgroundOpacity = e.boBackAlpha / 255);
                (g = e.rbRuby) && 10 !== g && (f.Rc = 10 < g ? g - 1 : g, f.vg = ixa.get(f.Rc));
                e.hgHorizGroup && (f.lz = e.hgHorizGroup);
                this.i.set(a++, f)
            }
        }
        if (c.wsWinStyles)
            for (a = 0, d = t(c.wsWinStyles), e = d.next(); !e.done; e = d.next()) e = e.value, f = {}, (g = e.wsParentId) ? Object.assign(f, this.C.get(g)) : Object.assign(f, this.D),
                void 0 !== e.mhModeHint && (f.qm = e.mhModeHint), void 0 !== e.juJustifCode && (f.textAlign = e.juJustifCode), void 0 !== e.pdPrintDir && (f.ue = e.pdPrintDir), void 0 !== e.sdScrollDir && (f.Wv = e.sdScrollDir), void 0 !== e.wfcWinFillColor && (f.windowColor = P9(e.wfcWinFillColor)), void 0 !== e.wfoWinFillAlpha && (f.windowOpacity = e.wfoWinFillAlpha / 255), this.C.set(a++, f);
        if (c.wpWinPositions)
            for (a = 0, d = t(c.wpWinPositions), e = d.next(); !e.done; e = d.next()) e = e.value, f = {}, (g = e.wpParentId) && Object.assign(f, this.B.get(g)), void 0 !== e.ahHorPos &&
                (f.Rg = e.ahHorPos), void 0 !== e.apPoint && (f.Bi = e.apPoint), void 0 !== e.avVerPos && (f.jl = e.avVerPos), void 0 !== e.ccCols && (f.Hi = e.ccCols), void 0 !== e.rcRows && (f.mj = e.rcRows), this.B.set(a++, f);
        if (c.events) {
            a = [];
            c = t(c.events);
            for (d = c.next(); !d.done; d = c.next()) {
                var k = d.value;
                d = (k.tStartMs || 0) + b;
                e = k.dDurationMs || 0;
                if (k.id) f = String(k.id), d = jxa(this, k, d, e, f), a.push(d), this.u.set(f, d);
                else {
                    k.wWinId ? f = k.wWinId.toString() : (f = "_" + H9++, g = jxa(this, k, d, e, f), a.push(g), this.u.set(f, g));
                    0 === e && (e = 5E3);
                    g = this.u.get(f);
                    var l = !!k.aAppend,
                        m = l ? 6 : 5,
                        n = k.segs,
                        p = null;
                    k.pPenId && (p = this.i.get(k.pPenId));
                    for (k = 0; k < n.length; k++) {
                        var q = n[k],
                            r = q.utf8;
                        if (r) {
                            var u = q.tOffsetMs || 0,
                                x = null;
                            q.pPenId && (x = this.i.get(q.pPenId));
                            if (2 === (null != g.params.qm ? g.params.qm : 1 < g.i.length ? 1 : 0) && l && "\n" === r) continue;
                            if (q = x && 1 === x.Rc)
                                if (q = k, q + 3 >= n.length || !n[q + 1].pPenId || !n[q + 2].pPenId || !n[q + 3].pPenId) q = !1;
                                else {
                                    var z = n[q + 1].pPenId;
                                    (z = this.i.get(z)) && z.Rc && 2 === z.Rc ? (z = n[q + 2].pPenId, z = this.i.get(z), !z || !z.Rc || 3 > z.Rc ? q = !1 : (z = n[q + 3].pPenId, q = (z = this.i.get(z)) &&
                                        z.Rc && 2 === z.Rc ? !0 : !1)) : q = !1
                                } if (q) {
                                u = n[k + 1].utf8;
                                q = n[k + 3].utf8;
                                z = n[k + 2].utf8;
                                var D = this.i.get(n[k + 2].pPenId);
                                r = exa(r, u, z, q, D);
                                l = new F9(d, e, m, f, r, l, x);
                                k += 3
                            } else l = new F9(d + u, e - u, m, g.id, r, l, x || p);
                            l && (a.push(l), g.i.push(l))
                        }
                        l = !0
                    }
                }
            }
            b = a
        } else b = [];
        return b
    };

    function P9(a) {
        a = rg(Math.round(a), 0, 16777215).toString(16).toUpperCase();
        return "#000000".substr(0, 7 - a.length) + a
    }

    function jxa(a, b, c, d, e) {
        0 === d && (d = 0x8000000000000);
        var f = {};
        b.wpWinPosId && Object.assign(f, a.B.get(b.wpWinPosId));
        b.wsWinStyleId && Object.assign(f, a.C.get(b.wsWinStyleId));
        a = b.rcRowCount;
        void 0 !== a && (f.mj = a);
        b = b.ccColCount;
        void 0 !== b && (f.Hi = b);
        if (2 === f.ue || 3 === f.ue) b = f.mj, f.mj = f.Hi, f.Hi = b;
        return new G9(c, d, 0, e, f)
    };

    function Q9() {
        this.u = this.time = this.mode = this.l = 0;
        this.B = new R9(this);
        this.C = new R9(this);
        this.i = [];
        this.clear()
    }
    Q9.prototype.clear = function() {
        this.u = this.time = this.mode = 0;
        this.i = [];
        this.reset()
    };
    Q9.prototype.reset = function() {
        this.mode = 0;
        this.B.reset(0);
        this.C.reset(1)
    };

    function kxa(a, b, c) {
        if (255 === a && 255 === b || !a && !b) return {
            Zj: a,
            Ci: b,
            result: 0
        };
        a = lxa[a];
        b = lxa[b];
        if (a & 128) {
            var d;
            if (d = !(b & 128)) d = b, d = c.isValid() && c.Ci === d;
            if (d) return {
                Zj: a,
                Ci: b,
                result: 1
            }
        } else if (b & 128 && 1 <= a && 31 >= a) return {
            Zj: a,
            Ci: b,
            result: 2
        };
        return {
            Zj: a,
            Ci: b,
            result: 3
        }
    }

    function mxa(a, b, c, d) {
        255 === b && 255 === c || !b && !c ? (45 === ++a.u && a.reset(), a.B.l.clear(), a.C.l.clear()) : (a.u = 0, nxa(a.B, b, c, d))
    }

    function oxa(a, b) {
        a.i.sort(function(e, f) {
            var g = e.time - f.time;
            return 0 === g ? e.order - f.order : g
        });
        for (var c = t(a.i), d = c.next(); !d.done; d = c.next()) d = d.value, a.time = d.time, 0 === d.type ? mxa(a, d.Qx, d.Rx, b) : 1 === d.type && a.l & 496 && nxa(a.C, d.Qx, d.Rx, b);
        a.i.length = 0
    }
    var lxa = [128, 1, 2, 131, 4, 133, 134, 7, 8, 137, 138, 11, 140, 13, 14, 143, 16, 145, 146, 19, 148, 21, 22, 151, 152, 25, 26, 155, 28, 157, 158, 31, 32, 161, 162, 35, 164, 37, 38, 167, 168, 41, 42, 171, 44, 173, 174, 47, 176, 49, 50, 179, 52, 181, 182, 55, 56, 185, 186, 59, 188, 61, 62, 191, 64, 193, 194, 67, 196, 69, 70, 199, 200, 73, 74, 203, 76, 205, 206, 79, 208, 81, 82, 211, 84, 213, 214, 87, 88, 217, 218, 91, 220, 93, 94, 223, 224, 97, 98, 227, 100, 229, 230, 103, 104, 233, 234, 107, 236, 109, 110, 239, 112, 241, 242, 115, 244, 117, 118, 247, 248, 121, 122, 251, 124, 253, 254, 127, 0, 129, 130, 3, 132, 5, 6, 135, 136, 9, 10, 139,
        12, 141, 142, 15, 144, 17, 18, 147, 20, 149, 150, 23, 24, 153, 154, 27, 156, 29, 30, 159, 160, 33, 34, 163, 36, 165, 166, 39, 40, 169, 170, 43, 172, 45, 46, 175, 48, 177, 178, 51, 180, 53, 54, 183, 184, 57, 58, 187, 60, 189, 190, 63, 192, 65, 66, 195, 68, 197, 198, 71, 72, 201, 202, 75, 204, 77, 78, 207, 80, 209, 210, 83, 212, 85, 86, 215, 216, 89, 90, 219, 92, 221, 222, 95, 96, 225, 226, 99, 228, 101, 102, 231, 232, 105, 106, 235, 108, 237, 238, 111, 240, 113, 114, 243, 116, 245, 246, 119, 120, 249, 250, 123, 252, 125, 126, 255
    ];

    function S9() {
        this.type = 0
    }
    S9.prototype.set = function(a) {
        this.type = a
    };
    S9.prototype.get = function() {
        return this.type
    };

    function T9() {
        this.state = this.Ci = this.Zj = 0
    }
    T9.prototype.clear = function() {
        this.state = 0
    };
    T9.prototype.update = function() {
        this.state = 2 === this.state ? 1 : 0
    };
    T9.prototype.isValid = function() {
        return 0 !== this.state
    };
    T9.prototype.matches = function(a, b) {
        return this.isValid() && a === this.Zj && b === this.Ci
    };

    function pxa() {
        this.timestamp = this.i = 0
    }
    pxa.prototype.reset = function() {
        this.timestamp = this.i = 0
    };

    function U9(a) {
        this.C = a;
        this.u = [];
        this.i = this.l = this.row = 0;
        this.style = new S9;
        for (a = this.B = 0; 15 >= a; a++) {
            this.u[a] = [];
            for (var b = 0; 32 >= b; b++) this.u[a][b] = new pxa
        }
    }
    U9.prototype.updateTime = function(a) {
        for (var b = 1; 15 >= b; ++b)
            for (var c = 1; 32 >= c; ++c) this.u[b][c].timestamp = a
    };

    function V9(a, b) {
        if (3 === a.style.type) {
            for (var c = 0, d = 0, e = a.C.time + 0, f = "", g = "", k = e, l = 1; 15 >= l; ++l) {
                for (var m = !1, n = d ? d : 1; 32 >= n; ++n) {
                    var p = a.u[l][n];
                    if (0 !== p.i) {
                        0 === c && (c = l, d = n);
                        m = String.fromCharCode(p.i);
                        var q = p.timestamp;
                        q < e && (e = q);
                        p.timestamp = k;
                        g && (f += g, g = "");
                        f += m;
                        m = !0
                    }
                    if ((0 === p.i || 32 === n) && m) {
                        g = "\n";
                        break
                    } else if (d && !m) break
                }
                if (c && !m) break
            }
            f && b.B(c, d, e, k, f)
        } else
            for (d = c = 0, f = e = a.C.time + 0, g = 1; 15 >= g; ++g)
                for (k = "", l = 1; 32 >= l; ++l)
                    if (n = a.u[g][l], p = n.i, 0 !== p && (0 === c && (c = g, d = l), m = String.fromCharCode(p), q = n.timestamp,
                            q <= e && (e = q), k += m, n.reset()), 32 === l || 0 === p) k && b.B(c, d, e, f, k), e = f, k = "", d = c = 0
    }
    U9.prototype.debugString = function() {
        for (var a = "\n", b = 1; 15 >= b; ++b) {
            for (var c = 1; 32 >= c; ++c) {
                var d = this.u[b][c];
                a = 0 === d.i ? a + "_" : a + String.fromCharCode(d.i)
            }
            a += "\n"
        }
        return a
    };
    U9.prototype.reset = function(a) {
        for (var b = 0; 15 >= b; b++)
            for (var c = 0; 32 >= c; c++) this.u[b][c].reset();
        this.B = a;
        this.i = 0;
        this.l = this.row = 1
    };

    function qxa(a, b) {
        switch (a) {
            case 0:
                return rxa[(b & 127) - 32];
            case 1:
                return sxa[b & 15];
            case 2:
                return txa[b & 31];
            case 3:
                return uxa[b & 31]
        }
        return 0
    }

    function W9(a) {
        return a.u[a.row][a.l]
    }

    function X9(a, b, c) {
        2 <= b && 1 < a.l && (--a.l, W9(a).i = 0);
        var d = W9(a);
        d.timestamp = a.C.time + 0;
        d.i = qxa(b, c);
        32 > a.l && a.l++
    }

    function vxa(a, b, c, d) {
        for (var e = 0; e < d; e++)
            for (var f = 0; 32 >= f; f++) {
                var g = a.u[b + e][f],
                    k = a.u[c + e][f];
                g.i = k.i;
                g.timestamp = k.timestamp
            }
    }

    function Y9(a, b, c) {
        for (var d = 0; d < c; d++)
            for (var e = 0; 32 >= e; e++) a.u[b + d][e].reset()
    }

    function Z9(a) {
        a.row = 0 < a.i ? a.i : 1;
        a.l = 1;
        Y9(a, 0, 15)
    }
    var rxa = [32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 225, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 233, 93, 237, 243, 250, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 231, 247, 209, 241, 9632],
        sxa = [174, 176, 189, 191, 8482, 162, 163, 9834, 224, 32, 232, 226, 234, 238, 244, 251],
        txa = [193, 201, 211, 218, 220, 252, 8216, 161, 42, 39, 9473, 169, 8480, 183, 8220, 8221, 192, 194, 199, 200, 202, 203, 235,
            206, 207, 239, 212, 217, 249, 219, 171, 187
        ],
        uxa = [195, 227, 205, 204, 236, 210, 242, 213, 245, 123, 125, 92, 94, 95, 124, 126, 196, 228, 214, 246, 223, 165, 164, 9475, 197, 229, 216, 248, 9487, 9491, 9495, 9499];

    function $9(a) {
        this.u = a;
        this.C = 0;
        this.style = new S9;
        this.D = new U9(this.u);
        this.G = new U9(this.u);
        this.text = new U9(this.u);
        this.l = this.D;
        this.B = this.G;
        this.i = this.l
    }
    $9.prototype.reset = function(a, b) {
        this.C = b;
        this.style.set(2);
        this.l = this.D;
        this.B = this.G;
        this.i = this.l;
        var c = (a << 2) + (b << 1);
        this.D.reset(c);
        this.G.reset(c);
        this.text.reset((a << 2) + (b << 1) + 1)
    };

    function a$(a, b, c) {
        var d = a.l,
            e = !1;
        switch (a.style.get()) {
            case 4:
            case 1:
            case 2:
                4 === a.style.get() && 0 < d.i || (V9(d, c), Z9(a.l), Z9(a.B), d.row = 15, d.i = b, e = !0)
        }
        a.style.set(3);
        a.i = d;
        a.i.style = a.style;
        a.u.mode = 1 << d.B;
        e ? d.l = 1 : d.i !== b && (d.i > b ? (V9(d, c), Y9(d, d.row - d.i, b)) : d.row < b && (b = d.i), d.i = b)
    }

    function wxa(a) {
        a.style.set(1);
        a.i = a.B;
        a.i.i = 0;
        a.i.style = a.style;
        a.u.mode = 1 << a.i.B
    }

    function xxa(a) {
        a.style.set(4);
        a.i = a.text;
        a.i.style = a.style;
        a.u.mode = 1 << a.i.B
    }

    function R9(a) {
        this.i = a;
        this.C = 0;
        this.u = new $9(this.i);
        this.D = new $9(this.i);
        this.l = new T9;
        this.B = this.u
    }
    R9.prototype.reset = function(a) {
        this.C = a;
        this.l.clear();
        this.B = this.u;
        this.u.reset(a, 0);
        this.D.reset(a, 1)
    };

    function nxa(a, b, c, d) {
        a.l.update();
        b = kxa(b, c, a.l);
        switch (b.result) {
            case 0:
                return;
            case 1:
            case 2:
                return
        }
        var e = b.Zj;
        c = b.Ci;
        if (32 <= e || !e) a.i.mode & a.i.l && (b = e, b & 128 && (b = 127), c & 128 && (c = 127), a = a.B.i, b & 96 && X9(a, 0, b), c & 96 && X9(a, 0, c), 0 !== b && 0 !== c && 3 === a.style.type && V9(a, d));
        else if (e & 16) a: if (!a.l.matches(e, c) && (b = a.l, b.Zj = e, b.Ci = c, b.state = 2, b = e & 8 ? a.D : a.u, a.B = b, a.i.mode = 1 << (a.C << 2) + (b.C << 1) + (4 === b.style.type ? 1 : 0), (a.i.mode | 1 << (a.C << 2) + (b.C << 1) + (4 !== b.style.type ? 1 : 0)) & a.i.l))
            if (c & 64) {
                d = [11, 11, 1, 2, 3, 4, 12, 13, 14,
                    15, 5, 6, 7, 8, 9, 10
                ][(e & 7) << 1 | c >> 5 & 1];
                a = c & 16 ? 4 * ((c & 14) >> 1) : 0;
                c = b.i;
                switch (b.style.get()) {
                    case 4:
                        d = c.row;
                        break;
                    case 3:
                        if (d !== c.row) {
                            if (d < c.i && (d = c.i, d === c.row)) break;
                            var f = 1 + c.row - c.i,
                                g = 1 + d - c.i;
                            vxa(c, g, f, c.i);
                            b = f;
                            e = c.i;
                            g < f ? (f = g + e - f, 0 < f && (b += f, e -= f)) : (f = f + e - g, 0 < f && (e -= f));
                            Y9(c, b, e)
                        }
                }
                c.row = d;
                c.l = a + 1
            } else switch (e & 7) {
                case 1:
                    switch (c & 112) {
                        case 32:
                            X9(b.i, 0, 32);
                            break a;
                        case 48:
                            57 === c ? (d = b.i, W9(d).i = 0, 32 > d.l && d.l++) : X9(b.i, 1, c & 15)
                    }
                    break;
                case 2:
                    c & 32 && X9(b.i, 2, c & 31);
                    break;
                case 3:
                    c & 32 && X9(b.i, 3, c & 31);
                    break;
                case 4:
                case 5:
                    if (32 <=
                        c && 47 >= c) switch (c) {
                        case 32:
                            wxa(b);
                            break;
                        case 33:
                            d = b.i;
                            1 < d.l && (--d.l, W9(d).i = 0);
                            break;
                        case 36:
                            d = b.i;
                            b = W9(d);
                            for (a = 0; 15 >= a; a++)
                                for (c = 0; 32 >= c; c++)
                                    if (d.u[a][c] === b) {
                                        for (; 32 >= c; c++) d.u[a][c].reset();
                                        break
                                    } break;
                        case 37:
                            a$(b, 2, d);
                            break;
                        case 38:
                            a$(b, 3, d);
                            break;
                        case 39:
                            a$(b, 4, d);
                            break;
                        case 40:
                            X9(b.i, 0, 32);
                            break;
                        case 41:
                            b.style.set(2);
                            b.i = b.l;
                            b.i.i = 0;
                            b.i.style = b.style;
                            b.u.mode = 1 << b.i.B;
                            break;
                        case 42:
                            d = b.text;
                            d.i = 15;
                            d.style.set(4);
                            Z9(d);
                            xxa(b);
                            break;
                        case 43:
                            xxa(b);
                            break;
                        case 44:
                            a = b.l;
                            switch (b.style.get()) {
                                case 1:
                                case 2:
                                case 3:
                                    V9(a,
                                        d)
                            }
                            Y9(a, 0, 15);
                            break;
                        case 45:
                            b: {
                                a = b.i;
                                switch (b.style.get()) {
                                    default:
                                    case 2:
                                    case 1:
                                        break b;
                                    case 4:
                                        if (15 > a.row) {
                                            ++a.row;
                                            a.l = 1;
                                            break b
                                        }
                                        case 3:
                                }
                                2 > a.i && (a.i = 2, a.row < a.i && (a.row = a.i));b = a.row - a.i + 1;V9(a, d);vxa(a, b, b + 1, a.i - 1);Y9(a, a.row, 1)
                            }
                            break;
                        case 46:
                            Y9(b.B, 0, 15);
                            break;
                        case 47:
                            V9(b.l, d), b.B.updateTime(b.u.time + 0), d = b.B, b.B = b.l, b.l = d, wxa(b)
                    }
                    break;
                case 7:
                    switch (c) {
                        case 33:
                        case 34:
                        case 35:
                            d = b.i, 32 < (d.l += c & 3) && (d.l = 32)
                    }
            }
    };

    function yxa() {}
    yxa.prototype.B = function() {};

    function b$(a, b, c) {
        this.trackData = a;
        this.D = c;
        this.version = this.C = this.u = this.byteOffset = 0;
        this.i = new DataView(this.trackData);
        this.l = []
    }
    v(b$, yxa);

    function c$(a) {
        var b = a.byteOffset;
        a.byteOffset += 1;
        return a.i.getUint8(b)
    }

    function d$(a) {
        var b = a.byteOffset;
        a.byteOffset += 4;
        return a.i.getUint32(b)
    }
    b$.prototype.B = function(a, b, c, d, e) {
        if (c < d) {
            var f = "_" + H9++;
            c = c / 1E3 - this.D;
            d = d / 1E3 - this.D;
            a = new G9(c, d - c, 5, f, {
                textAlign: 0,
                Bi: 0,
                Rg: 2.5 * b,
                jl: 5.33 * a
            });
            e = new F9(c, d - c, 5, f, e);
            this.l.push(a);
            this.l.push(e)
        }
    };

    function e$(a, b) {
        I9.call(this);
        this.u = a;
        this.B = b;
        this.track = "CC3" === this.B.languageName ? 4 : 0;
        this.i = new Q9;
        this.i.l = 1 << this.track
    }
    v(e$, I9);

    function f$(a) {
        if ("string" === typeof a) return !1;
        a = new b$(a, 8, 0);
        return zxa(a)
    }
    e$.prototype.l = function(a) {
        a = new b$(a, a.byteLength, this.u);
        if (zxa(a)) {
            for (; a.byteOffset < a.i.byteLength;)
                for (0 === a.version ? a.u = d$(a) * (1E3 / 45) : 1 === a.version && (a.u = 4294967296 * d$(a) + d$(a)), a.C = c$(a); 0 < a.C; a.C--) {
                    var b = c$(a),
                        c = c$(a),
                        d = c$(a);
                    b & 4 && (b & 3) === this.track && (0 === this.track || 1 === this.track) && (b = this.i, b.i.push({
                        time: a.u,
                        type: this.track,
                        Qx: c,
                        Rx: d,
                        order: b.i.length
                    }))
                }
            oxa(this.i, a);
            return a.l
        }
        return []
    };

    function zxa(a) {
        if (!(a.byteOffset < a.i.byteLength) || 1380139777 !== d$(a)) return !1;
        a.version = c$(a);
        if (1 < a.version) return !1;
        c$(a);
        c$(a);
        c$(a);
        return !0
    }
    e$.prototype.reset = function() {
        this.i.clear()
    };

    function g$() {
        I9.call(this)
    }
    v(g$, I9);
    g$.prototype.l = function(a, b) {
        var c = [];
        a = a.split(Axa);
        for (var d = 1; d < a.length; d++) {
            var e = a[d],
                f = b;
            if ("" !== e && !Bxa.test(e)) {
                var g = h$.exec(e);
                if (g && 4 <= g.length) {
                    var k = i$(g[1]),
                        l = i$(g[2]) - k;
                    k += f;
                    var m = (g = g[3]) ? g.split(" ") : [];
                    g = {};
                    var n = null;
                    var p = "";
                    var q = null,
                        r = "";
                    m = t(m);
                    for (var u = m.next(); !u.done; u = m.next())
                        if (u = u.value.split(":"), 2 === u.length) {
                            var x = u[1];
                            switch (u[0]) {
                                case "line":
                                    u = x.split(",");
                                    u[0].endsWith("%") && (n = u[0], g.jl = Number.parseInt(n, 10), 2 === u.length && (p = u[1].trim()));
                                    break;
                                case "position":
                                    u = x.split(",");
                                    q = u[0];
                                    g.Rg = Number.parseInt(q, 10);
                                    2 === u.length && (r = u[1].trim());
                                    break;
                                case "align":
                                    switch (x) {
                                        case "start":
                                            g.textAlign = 0;
                                            break;
                                        case "middle":
                                            g.textAlign = 2;
                                            break;
                                        case "end":
                                            g.textAlign = 1
                                    }
                            }
                        } n || p || (p = "end");
                    if (!q) switch (g.textAlign) {
                        case 0:
                            g.Rg = 0;
                            break;
                        case 1:
                            g.Rg = 100;
                            break;
                        case 2:
                            g.Rg = 50
                    }
                    if (null != g.textAlign) {
                        n = 0;
                        switch (p) {
                            case "center":
                                n += 3;
                                break;
                            case "end":
                                n += 6;
                                break;
                            default:
                                n += 0
                        }
                        switch (r) {
                            case "line-left":
                                n += 0;
                                break;
                            case "center":
                                n += 1;
                                break;
                            case "line-right":
                                n += 2;
                                break;
                            default:
                                switch (g.textAlign) {
                                    case 0:
                                        n +=
                                            0;
                                        break;
                                    case 2:
                                        n += 1;
                                        break;
                                    case 1:
                                        n += 2
                                }
                        }
                        p = 0 > n || 8 < n ? 7 : n;
                        g.Bi = p
                    }
                    e = e.substring(h$.lastIndex).replace(/[\x01-\x09\x0b-\x1f]/g, "");
                    r = g;
                    g = e;
                    e = {};
                    if (0 > g.indexOf("<") && 0 > g.indexOf("&")) f = Cxa(k, l, 5, r), l = new F9(k, l, 5, f.id, g, !1, bc(e) ? void 0 : e), c.push(f), c.push(l), f.i.push(l);
                    else
                        for (p = g.split(Dxa), 1 === p.length ? (g = 5, r = Cxa(k, l, g, r)) : (n = g = 6, r = Object.assign({
                                Hi: 32
                            }, r), r = new G9(k, l, n, "_" + H9++, r)), c.push(r), n = k, q = 0; q < p.length; q++) m = p[q], 0 === q % 2 ? (u = ur("<html>" + m + "</html>"), u.getElementsByTagName("parsererror").length ?
                            (x = u.createElement("span"), x.appendChild(u.createTextNode(m))) : x = u.firstChild, Exa(this, n, l - (n - k), g, r, 0 < q, x, e, c)) : n = i$(m) + f
                }
                h$.lastIndex = 0
            }
        }
        return c
    };

    function Exa(a, b, c, d, e, f, g, k, l) {
        switch (g.tagName) {
            case "b":
                k.bold = !0;
                break;
            case "i":
                k.hg = !0;
                break;
            case "u":
                k.underline = !0
        }
        for (var m = 0; m < g.childNodes.length; m++) {
            var n = g.childNodes[m];
            if (3 === n.nodeType) n = new F9(b, c, d, e.id, n.nodeValue, f || 0 < m, bc(k) ? void 0 : k), l.push(n), e.i.push(n);
            else {
                var p = {};
                Ua(p, k);
                Exa(a, b, c, d, e, !0, n, p, l)
            }
        }
    }

    function i$(a) {
        var b = a.split(":");
        a = 0;
        b = t(b);
        for (var c = b.next(); !c.done; c = b.next()) a = 60 * a + Number(c.value);
        return 1E3 * a
    }

    function Cxa(a, b, c, d) {
        d = Object.assign({
            qm: 0
        }, d);
        return new G9(a, b, c, "_" + H9++, d)
    }
    var Bxa = /^NOTE/,
        Axa = /(?:\r\n|\r|\n){2,}/,
        h$ = /^((?:[\d]{2}:)?[\d]{2}:[\d]{2}\.[\d]{3})[\t ]+--\x3e[\t ]+((?:[\d]{2}:)?[\d]{2}:[\d]{2}\.[\d]{3})(?:[\t ]*)(.*)(?:\r\n|\r|\n)/gm,
        Dxa = /<((?:[\d]{2}:)?[\d]{2}:[\d]{2}\.[\d]{3})>/;
    KH.jq(g$, {
        l: "wvppt"
    });

    function j$(a) {
        C.call(this);
        this.l = a;
        this.i = null
    }
    v(j$, C);

    function Fxa(a, b, c, d, e) {
        d = d || 0;
        e = e || 0;
        if (a.l.N("enable_h5_ssdai_caption") && b) {
            var f = e,
                g = Gxa(b, d),
                k = [];
            try {
                for (var l = t(g), m = l.next(); !m.done; m = l.next()) {
                    var n = m.value,
                        p = n.trackData,
                        q = n.Ov;
                    k = "string" !== typeof p ? k.concat(Hxa(a, c, p, q, f)) : "WEBVTT" === p.substring(0, 6) ? k.concat(Ixa(a, p, q)) : k.concat(Jxa(a, c, p, q))
                }
                var r = k
            } catch (u) {
                ky(u), a.clear(), r = []
            }
            if (0 !== r.length) return r
        }
        a.l.N("html5_disable_rawcc_killswitch") ? "string" !== typeof b && (r = new DataView(b), 8 <= r.byteLength && 1718909296 === r.getUint32(4) && (r = GD(r,
            0, 1835295092), b = a.l.N("html5_fix_mdat_offset_killswitch") ? b.slice(r.dataOffset, r.dataOffset + r.size) : b.slice(r.dataOffset, r.offset + r.size), f$(b) || (b = eb(new Uint8Array(b))))) : b = Kxa(a, b);
        if (!b) return [];
        try {
            return "string" !== typeof b ? Hxa(a, c, b, d, e) : "WEBVTT" === b.substring(0, 6) ? Ixa(a, b, d) : Jxa(a, c, b, d)
        } catch (u) {
            return ky(u), a.clear(), []
        }
    }

    function Kxa(a, b) {
        if ("string" === typeof b || f$(b)) return b;
        var c = new DataView(b);
        if (8 >= c.byteLength || 1718909296 !== c.getUint32(4)) return "";
        c = GD(c, 0, 1835295092);
        if (!c || !c.size) return "";
        a = a.l.N("html5_fix_mdat_offset_killswitch") ? b.slice(c.dataOffset, c.dataOffset + c.size) : b.slice(c.dataOffset, c.offset + c.size);
        return eb(new Uint8Array(a))
    }

    function Gxa(a, b) {
        if ("string" === typeof a || f$(a)) return [{
            trackData: a,
            Ov: b
        }];
        var c = new DataView(a);
        if (8 >= c.byteLength || 1718909296 !== c.getUint32(4)) return [];
        var d = RD(c, 1835295092);
        if (!d || !d.length || !d[0].size) return [];
        var e = [];
        d = t(d.entries());
        for (var f = d.next(); !f.done; f = d.next()) {
            var g = t(f.value);
            f = g.next().value;
            g = g.next().value;
            g = eb(new Uint8Array(a.slice(g.dataOffset, g.offset + g.size)));
            e.push({
                trackData: g,
                Ov: b + 1E3 * f
            })
        }
        Lxa(c, e, b);
        return e = e.filter(function(k) {
            return !!k.trackData
        })
    }

    function Lxa(a, b, c) {
        var d = GD(a, 0, 1836476516),
            e = 9E4;
        d && (e = ID(d) || 9E4);
        d = 0;
        var f = RD(a, 1836019558);
        f = t(f.entries());
        for (var g = f.next(); !g.done; g = f.next()) {
            var k = t(g.value);
            g = k.next().value;
            k = k.next().value;
            g < b.length && (k = GD(a, k.dataOffset, 1953653094)) && (k = GD(a, k.dataOffset, 1952867444)) && (k = ND(k) / e * 1E3, 0 === g && (d = k), b[g].Ov = k - d + c || c * g * 1E3)
        }
    }

    function Hxa(a, b, c, d, e) {
        if (!f$(c)) throw Error("Invalid binary caption track data");
        a.i || (a.i = new e$(e, b));
        return a.i.l(c, d)
    }

    function Ixa(a, b, c) {
        a.i || (a.i = new g$);
        a = a.i.l(b, c);
        .01 > Math.random() && ly(Error("Deprecated subtitles format in web player: WebVTT"));
        return a
    }

    function Jxa(a, b, c, d) {
        if ("{" === c[0]) try {
            return a.i || (a.i = new O9(Mxa(b))), a.i.l(c, d)
        } catch (f) {
            return ky(f), []
        }
        var e = ur(c);
        if (!e || !e.firstChild) throw a = Error("Invalid caption track data"), a.params = c, a;
        if ("timedtext" === e.firstChild.tagName) {
            if (3 === Number(e.firstChild.getAttribute("format"))) return a.i || (a.i = new J9(Mxa(b), a.l)), a.i.l(e, d);
            a = Error("Unsupported subtitles format in web player (Format2)");
            a.params = c;
            throw a;
        }
        if ("transcript" === e.firstChild.tagName) throw a = Error("Unsupported subtitles format in web player (Format1)"),
            a.params = c, a;
        a = Error("Invalid caption track data");
        a.params = c;
        throw a;
    }

    function Mxa(a) {
        var b = {};
        if (a = EC(a)) b.lang = a, uc.test(a) && (b.ue = 1);
        return b
    }
    j$.prototype.clear = function() {
        this.i && this.i.dispose();
        this.i = null
    };
    j$.prototype.reset = function() {
        this.i && this.i.reset()
    };
    j$.prototype.Da = function() {
        C.prototype.Da.call(this);
        this.clear()
    };
    var bC = {
        windowColor: "#080808",
        windowOpacity: 0,
        textAlign: 2,
        Bi: 7,
        Rg: 50,
        jl: 100,
        fc: {
            background: "#080808",
            backgroundOpacity: .75,
            charEdgeStyle: 0,
            color: "#fff",
            fontFamily: 4,
            fontSizeIncrement: 0,
            textOpacity: 1,
            offset: 1
        }
    };

    function k$(a) {
        bM.call(this, a);
        var b = this;
        this.S = a;
        this.Ac = this.S.Y();
        this.videoData = this.S.getVideoData();
        this.Fa = this.S.Tb();
        this.l = {
            fc: {}
        };
        this.u = {
            fc: {}
        };
        this.G = [];
        this.D = {};
        this.U = {};
        this.J = !1;
        this.Ma = WL(this.videoData);
        this.ra = sM(this.videoData, this.S);
        this.Ka = !!this.videoData.captionTracks.length;
        this.Qa = !!this.videoData.zb;
        this.ya = "3" === this.Ac.controlsType;
        this.i = this.B = this.C = this.Ha = null;
        this.X = new j$(this.Ac);
        this.Cc = null;
        this.T = new NI(this);
        this.ea = new YM({
            V: "div",
            Ca: "ytp-caption-window-container",
            Va: {
                id: "ytp-caption-window-container"
            }
        });
        var c = null,
            d = Wr("yt-html5-player-modules::subtitlesModuleData");
        d && (c = new Hr(d));
        this.storage = c;
        c = a.Dc();
        this.va = !(null === c || void 0 === c || !c.Tv());
        this.Jf = Nxa(this);
        this.K = !this.Jf && this.ya && this.va && this.ra;
        E(this, this.X);
        this.Jf ? this.Z = this.I = null : (this.I = new $q(this.ew, void 0, this), E(this, this.I), this.Z = new dr(this.dH, 2E3, this), E(this, this.Z));
        E(this, this.T);
        this.Ac.N("caption_window_container_killswitch") || WC(this.player, this.ea.element);
        E(this, this.ea);
        this.T.Ga(a, "onPlaybackAudioChange", this.IF);
        this.T.Ga(a, "crn_captions", function(e) {
            b.Hd(e)
        });
        this.T.Ga(a, "crx_captions", function(e) {
            b.Uf(e)
        });
        dC(this, cC(this, "display-settings") || {})
    }
    v(k$, bM);
    h = k$.prototype;
    h.Da = function() {
        if (this.Jf || this.K) {
            var a = this.S.Dc();
            a && !a.Ea() && a.Ns()
        } else Oxa(this, !1);
        bM.prototype.Da.call(this)
    };

    function Pxa(a) {
        if (1 === a.Ac.J || 1 === a.videoData.ym || "alwayson" === EL(a.videoData, "yt:cc")) return !0;
        if (2 === a.Ac.J) {
            var b;
            tC(a.Ac) ? b = Qxa(a) : b = cC(a, "module-enabled");
            if (null != b) return !!b
        }
        if (a.videoData.captionTracks.length) var c = a.player.getAudioTrack().l;
        b = MA(a.player.getAudioTrack(), FI(a.Ac));
        var d = EL(a.videoData, "yt:cc");
        if (void 0 === l$(a)) {
            if ("CAPTIONS_INITIAL_STATE_ON_RECOMMENDED" === b) return d ? "on" === d : !0;
            if ("CAPTIONS_INITIAL_STATE_OFF_RECOMMENDED" === b) return "on" === d
        } else return "on" === d;
        return "ON" ===
            c || "on" === EL(a.videoData, "yt:cc")
    }

    function wC(a, b) {
        if (a.Cc && (void 0 === b || !b) || !a.videoData.captionTracks.length) return !1;
        a = a.player.getAudioTrack();
        return !!a.i || "FORCED_ON" === a.l
    }

    function l$(a) {
        var b = void 0,
            c = Av(xv.getInstance(), 65);
        if (tC(a.Ac) && null != c) {
            if (null != Qxa(a)) return !1;
            b = !c
        }
        return b
    }

    function Rxa(a) {
        if (a.ya) return a.Jf || a.K;
        var b = MA(a.player.getAudioTrack(), FI(a.Ac));
        return "CAPTIONS_INITIAL_STATE_ON_REQUIRED" === b ? !0 : "CAPTIONS_INITIAL_STATE_OFF_REQUIRED" === b ? wC(a) : l$(a) || wC(a) ? !0 : Pxa(a)
    }
    h.load = function() {
        var a = this;
        bM.prototype.load.call(this);
        var b = !R(this.Ac.experiments, "web_player_captions_track_list_changed_killswitch");
        this.B = this.player.getAudioTrack();
        this.i ? (this.Cc && (this.X.clear(), this.Jf ? Sxa(this, !0) : 3 !== this.player.getPresentingPlayerType() && this.i.uo(this.Cc, "json3", function(c, d, e, f) {
            c && (a.i.FA() && (a.G = [], a.S.Zh("captions"), cr(a.I), a.X.reset()), c = Fxa(a.X, c, d, e, f), a.player.Mf(c), !a.J || a.K || sC(a) || (tC(a.Ac) ? uC(a, !0) : vC(a, "module-enabled", !0), a.B && (a.B.B = a.Cc), a.player.ol()),
                a.J = !1)
        }), !b || this.Jf || this.K || sC(this) || this.player.Ja("captionschanged", CC(this.Cc))), b || (this.Cc && !sC(this) ? this.player.Ja("captionschanged", CC(this.Cc)) : this.player.Ja("onCaptionsTrackListChanged"))) : (this.i = Txa(this), E(this, this.i), this.i.mm(function() {
            var c = MA(a.player.getAudioTrack(), FI(a.Ac)),
                d;
            "CAPTIONS_INITIAL_STATE_UNKNOWN" === c ? l$(a) || a.J || Pxa(a) ? d = m$(a, a.J) : wC(a) && (d = yC(a)) : "CAPTIONS_INITIAL_STATE_ON_REQUIRED" === c ? d = m$(a, a.J) : "CAPTIONS_INITIAL_STATE_OFF_REQUIRED" === c && wC(a) && (d = yC(a));
            if (a.Jf || a.K) {
                var e = cM(a.i.l, !0);
                c = [];
                for (var f = 0; f < e.length; f++) {
                    var g = e[f],
                        k = Og("TRACK");
                    k.setAttribute("kind", "subtitles");
                    k.setAttribute("label", DC(g));
                    k.setAttribute("srclang", EC(g));
                    k.setAttribute("id", g.toString());
                    a.K || k.setAttribute("src", a.i.zk(g, "vtt"));
                    g === d && k.setAttribute("default", "1");
                    c.push(k)
                }
                d =
                    a.S.Dc();
                d.Bs(c);
                d = d.Cd();
                a.va && a.T.Ga(d.textTracks, "change", a.JG)
            } else !a.Cc && d && xC(a, d), a.player.Ja("onCaptionsTrackListChanged"), a.player.Ja("onApiChange")
        }))
    };
    h.unload = function() {
        if (this.Jf && this.Cc) Sxa(this, !1);
        else {
            if (this.Z) {
                var a = this.Z;
                a.isActive() && (a.stop(), a.Iw())
            }
            this.player.Zh("captions");
            this.G = [];
            this.i && this.i.ni();
            this.X.clear();
            this.C && this.player.Mf(this.C);
            Uxa(this)
        }
        bM.prototype.unload.call(this);
        this.player.ol();
        this.player.Ja("captionschanged", {})
    };
    h.create = function() {
        Rxa(this) && this.load()
    };

    function Txa(a) {
        var b;
        a.Ma ? b = new C9(a.Ac, a.videoData, a.player.getAudioTrack(), a.player) : a.ra ? b = new pM(a.videoData.i, a.player) : a.Ka ? b = new gM(a.Ac, a.videoData, a.player.getAudioTrack()) : b = new tM(a.videoData.zb, a.videoData.videoId, XL(a.videoData), a.videoData.rg, a.Ac);
        return b
    }

    function m$(a, b) {
        if (a.i) {
            if (a.B && a.B.B) return a.B.B;
            b || (b = a.Qa ? !1 : a.Ka ? !1 : !0);
            b = cM(a.i.l, b);
            for (var c = [a.videoData.captionsLanguagePreference, a.Ac.captionsLanguagePreference, EL(a.videoData, "yt:cc_default_lang")], d = 0; d < c.length; d++)
                for (var e = 0; e < b.length; e++)
                    if (EC(b[e]) === c[d]) return b[e];
            return a.B && a.B.u ? a.B.u : (c = b.find(function(f) {
                return f.isDefault
            })) ? c : b[0] || yC(a)
        }
        return null
    }

    function yC(a) {
        return a.B && a.B.i
    }

    function sC(a) {
        var b = yC(a);
        return !!b && a.Cc === b
    }
    h.JG = function() {
        for (var a = this.S.Dc().Cd().textTracks, b = null, c = 0; c < a.length; c++)
            if ("showing" === a[c].mode) a: {
                b = a[c].id;
                var d = cM(this.i.l, !0);
                for (var e = 0; e < d.length; e++)
                    if (d[e].toString() === b) {
                        b = d[e];
                        break a
                    } b = null
            }(this.loaded ? this.Cc : null) !== b && xC(this, b, !0)
    };

    function Sxa(a, b) {
        var c = a.S.Dc().Cd().textTracks;
        a = a.Cc.toString();
        for (var d = 0; d < c.length; d++) {
            var e = c[d];
            e.id === a && (b ? "showing" !== e.mode && (e.mode = "showing") : "showing" === e.mode && (e.mode = "disabled"))
        }
    }

    function xC(a, b, c) {
        a.loaded && a.unload();
        null != c && (a.J = c, a.J && (tC(a.Ac) ? uC(a, !!b) : vC(a, "module-enabled", !!b)));
        a.Cc = b;
        wC(a) && (a.Cc = yC(a));
        a.load()
    }
    h.Hd = function(a) {
        this.G.push(a);
        cr(this.I)
    };
    h.Uf = function(a) {
        zb(this.G, a);
        this.i instanceof pM && this.i.D && this.player.qe([a]);
        cr(this.I)
    };
    h.ZG = function(a) {
        if (a instanceof G9) {
            var b = this.D[a.id];
            b && b.l !== a && (b.dispose(), delete this.D[a.id], b = null);
            b || (b = Vxa(this, a)) && (this.D[a.id] = b)
        } else b = a.windowId, this.U[b] || (this.U[b] = []), this.U[b].push(a)
    };

    function Wxa(a, b) {
        a.Ac.N("caption_window_container_killswitch") ? WC(a.player, b) : a.ea.element.appendChild(b)
    }
    h.getCaptionWindowContainerId = function() {
        return this.ea.element.id
    };

    function Vxa(a, b) {
        var c = a.Fa.getVideoContentRect(!0).height;
        if (!c) return null;
        var d = a.Cc ? EC(a.Cc) : null;
        d && uc.test(d) && (b.params.ue = 1);
        d = a.Fa.getPlayerSize();
        switch (null != b.params.qm ? b.params.qm : 1 < b.i.length ? 1 : 0) {
            case 1:
                return new D9(b, a.l, a.u, c, d.width, d.height, a.Ac.experiments);
            case 2:
                return new E9(b, a.l, a.u, c, d.width, d.height, a.Ac.experiments);
            default:
                return new B9(b, a.l, a.u, c, d.width, d.height, a.Ac.experiments)
        }
    }
    h.dH = function() {
        Xxa(this, this.Ha);
        this.Ha = null
    };
    h.ew = function() {
        var a = this;
        this.I.stop();
        cc(this.U);
        this.G.sort(VI);
        var b = this.G;
        this.C && (b = this.C);
        nb(b, this.ZG, this);
        Nb(this.D, function(c, d) {
            a.U[d] ? (c.element.parentNode || (c instanceof E9 || c instanceof D9 || Qb(a.D, function(e, f) {
                f !== d && e.l.params.Bi === c.l.params.Bi && e.l.params.Rg === c.l.params.Rg && e.l.params.jl === c.l.params.jl && (e.dispose(), delete a.D[f]);
                return f === d
            }, a), Wxa(a, c.element)), c.Ro(a.U[d])) : (c.dispose(), delete a.D[d])
        }, this)
    };

    function dC(a, b, c) {
        c = void 0 === c ? !1 : c;
        var d = bC.fc;
        a.l = {};
        Ua(a.l, bC);
        a.l.fc = {};
        Ua(a.l.fc, d);
        a.u = {
            fc: {}
        };
        var e = b.backgroundOverride ? a.u : a.l,
            f = b.background || d.background;
        jN.test(f);
        e.fc.background = f;
        e = b.colorOverride ? a.u : a.l;
        f = b.color || d.color;
        jN.test(f);
        e.fc.color = f;
        e = b.windowColorOverride ? a.u : a.l;
        f = b.windowColor || bC.windowColor;
        jN.test(f);
        e.windowColor = f;
        e = b.backgroundOpacityOverride ? a.u : a.l;
        f = b.backgroundOpacity;
        null == f && (f = d.backgroundOpacity);
        e.fc.backgroundOpacity = f;
        e = b.fontSizeIncrementOverride ?
            a.u : a.l;
        f = b.fontSizeIncrement;
        null == f && (f = d.fontSizeIncrement);
        e.fc.fontSizeIncrement = f;
        f = b.fontStyleOverride ? a.u : a.l;
        e = b.fontStyle;
        null == e && (e = d.bold && d.hg ? 3 : d.bold ? 1 : d.hg ? 2 : 0);
        f = f.fc;
        switch (e) {
            case 1:
                f.bold = !0;
                delete f.hg;
                break;
            case 2:
                delete f.bold;
                f.hg = !0;
                break;
            case 3:
                f.bold = !0;
                f.hg = !0;
                break;
            default:
                delete f.bold, delete f.hg
        }
        e = b.textOpacityOverride ? a.u : a.l;
        f = b.textOpacity;
        null == f && (f = d.textOpacity);
        e.fc.textOpacity = f;
        e = b.windowOpacityOverride ? a.u : a.l;
        f = b.windowOpacity;
        null == f && (f = bC.windowOpacity);
        e.windowOpacity = f;
        e = b.charEdgeStyleOverride ? a.u : a.l;
        f = b.charEdgeStyle;
        null == f && (f = d.charEdgeStyle);
        e.fc.charEdgeStyle = f;
        e = b.fontFamilyOverride ? a.u : a.l;
        f = b.fontFamily;
        null == f && (f = d.fontFamily);
        e.fc.fontFamily = f;
        a.loaded && Uxa(a);
        c && vC(a, "display-settings", b)
    }

    function VB(a, b, c) {
        var d = {};
        Ua(d, cC(a, "display-settings"));
        Ua(d, b);
        dC(a, d, c);
        a.player.Ja("captionssettingschanged")
    }

    function Uxa(a) {
        !a.Jf && a.loaded && (Nb(a.D, function(b, c) {
            b.dispose();
            delete this.D[c]
        }, a), a.ew())
    }
    h.Ch = function(a, b) {
        switch (a) {
            case "fontSize":
                if (isNaN(b)) break;
                var c = rg(b, -2, 4);
                VB(this, {
                    fontSizeIncrement: c
                });
                return c;
            case "reload":
                b && !this.Jf && xC(this, this.Cc, !0);
                break;
            case "stickyLoading":
                void 0 !== b && this.Ac.l && (tC(this.Ac) ? uC(this, !!b) : vC(this, "module-enabled", !!b));
                break;
            case "track":
                if (!this.i) return {};
                if (b) {
                    if (this.Jf) break;
                    if (!Oa(b)) break;
                    if (bc(b)) {
                        xC(this, null, !0);
                        break
                    }
                    a = cM(this.i.l, !0);
                    for (var d = 0; d < a.length; d++) {
                        var e = a[d];
                        e.languageCode !== b.languageCode || c && e.languageName !== b.languageName ||
                            (c = b.translationLanguage ? dia(e, b.translationLanguage) : e)
                    }!c || c === this.Cc && this.loaded || (b = VH(), a = EC(c), b.length && a === b[b.length - 1] || (b.push(a), Pja(b)), xC(this, c, !0))
                } else return this.loaded && this.Cc && !sC(this) ? CC(this.Cc) : {};
                return "";
            case "tracklist":
                return this.i ? pb(cM(this.i.l, !(!b || !b.includeAsr)), function(f) {
                    return CC(f)
                }) : [];
            case "translationLanguages":
                return this.i ? this.i.B.map(function(f) {
                    return Object.assign({}, f)
                }) : [];
            case "sampleSubtitles":
                this.Jf || void 0 === b || Oxa(this, !!b)
        }
    };

    function Oxa(a, b) {
        b && !a.C ? (b = "_" + H9++, b = new G9(0, 0x8000000000000, 0, b, {
            ue: 0,
            lang: "en"
        }), a.C = [b, new F9(b.start, b.end - b.start, 0, b.id, "Captions look like this")], a.player.Mf(a.C)) : !b && a.C && (Xxa(a, a.C), a.C = null)
    }

    function Xxa(a, b) {
        a.player.qe(b);
        nb(b, function(c) {
            zb(this.G, c)
        }, a);
        cr(a.I)
    }
    h.getOptions = function() {
        var a = "reload fontSize track tracklist translationLanguages sampleSubtitle".split(" ");
        this.Ac.l && a.push("stickyLoading");
        return a
    };
    h.It = function() {
        var a = this.Cc;
        return a ? {
            cc: a.vssId
        } : {}
    };

    function WB(a) {
        a.loaded && a.Cc || xC(a, sC(a) || !a.Cc ? m$(a, !0) : a.Cc, !0)
    }
    h.IF = function() {
        var a = sC(this);
        wC(this, a) ? xC(this, this.player.getAudioTrack().i, !1) : this.videoData.captionTracks.length && (this.loaded && this.unload(), Rxa(this) && (a ? xC(this, m$(this), !1) : this.load()))
    };

    function cC(a, b) {
        if (!a.storage) return null;
        try {
            var c = a.storage.get(b)
        } catch (d) {
            a.storage.remove(b)
        }
        return c
    }

    function vC(a, b, c) {
        if (a.storage) try {
            a.storage.set(b, c)
        } catch (d) {}
    }

    function uC(a, b) {
        a.S.isInline() || Oja(b)
    }

    function Qxa(a) {
        if (!a.S.isInline()) return UH()
    }

    function Nxa(a) {
        var b = a.S.Dc();
        b = !(null === b || void 0 === b || !b.Sv());
        return a.ya && b && !a.ra
    }
    KH.jq(k$, {
        ew: "smucd"
    });

    function Yxa(a) {
        this.S = a;
        this.l = null;
        this.i = new Ml(0, 0, 0, 0);
        this.D = new zg(0, 0);
        this.C = this.u = 0;
        this.B = null;
        this.G = this.DH;
        pe && Fe(11) && !Fe(15.15063) && (this.l = Og("CANVAS").getContext("2d"), Fe(12.10532) || (this.u = 3))
    }
    h = Yxa.prototype;
    h.oe = function(a) {
        if (null == this.l) return a;
        var b = new zg(a.videoWidth, a.videoHeight);
        if (!Ag(b, this.D) && (null !== this.l && (this.l.canvas.width = b.width, this.l.canvas.height = b.height), this.i.top = 0, this.i.left = 0, this.i.width = b.width, this.i.height = b.height, this.D = b, 0 < this.u)) {
            this.u = 3;
            var c = this.S.Tb().getVideoAspectRatio(),
                d = 16 / 9;
            c < d ? (this.i.width = b.width * c / d, this.i.left = Math.ceil(.5 * (b.width - this.i.width)), this.i.width |= 0) : c > d && (this.i.height = b.height * d / c, this.i.top = Math.ceil(.5 * (b.height - this.i.height)),
                this.i.height |= 0)
        }
        0 < this.u && (this.C ^= 1, 2 <= this.i.top ? (this.C ? n$(this, a, 0, 0, this.i.width, this.i.top - 1) : n$(this, a, 0, a.videoHeight - this.i.top + 1, this.i.width, this.i.top - 1)) && --this.u : 2 <= this.i.left && (this.C ? n$(this, a, 0, 0, this.i.left - 1, this.i.height) : n$(this, a, a.videoWidth - this.i.left + 1, 0, this.i.left - 1, this.i.height)) && --this.u, 0 >= this.u && (this.i.top = 0, this.i.left = 0, this.i.width = a.videoWidth, this.i.height = a.videoHeight));
        Zxa(this, a, this.i.left, this.i.top, this.i.width, this.i.height, 0, 0, this.D.width, this.D.height);
        return this.l.canvas
    };

    function n$(a, b, c, d, e, f) {
        e >= f ? (d += Math.random() * f | 0, f = 1) : (c += Math.random() * e | 0, e = 1);
        Zxa(a, b, c, d, e, f, c, d, e, f);
        a = a.l.getImageData(c, d, e, f).data;
        for (b = 0; b < a.length; b += 4)
            if (255 < a[b] + a[b + 1] + a[b + 2] + a[b + 3]) return !0;
        return !1
    }

    function Zxa(a, b, c, d, e, f, g, k, l, m) {
        try {
            a.l.drawImage(b, c, d, e, f, g, k, l, m)
        } catch (n) {
            if (!(n instanceof DOMException) || "IndexSizeError" !== n.name) throw n;
        }
    }
    h.En = function(a, b, c) {
        this.B = a; - 1 < a.i.indexOf("OES_EGL_image_external") && b.Dr && (c[b.Dr] = 1, this.G = this.CH)
    };
    h.DH = function(a, b) {
        a.texImage2D(a.TEXTURE_2D, 0, a.RGBA, a.RGBA, a.UNSIGNED_BYTE, this.oe(b))
    };
    h.CH = function(a, b) {
        null !== this.B && this.B.u(this.B.l, b)
    };
    h.destroy = function() {
        null !== this.l && (this.l.canvas.remove ? this.l.canvas.remove() : this.l.canvas.removeNode(!0), this.l = null)
    };

    function $xa() {
        var a = zy("yt-player-webgl-perf") || {};
        return a.fpsdata ? a.fpsdata : []
    }

    function aya(a) {
        var b = zy("yt-player-webgl-perf") || {},
            c = {};
        c.fpsdata = a;
        b.prevperf && (c.prevperf = b.prevperf);
        vy("yt-player-webgl-perf", c, 1814400)
    };
    if (navigator.getBattery) {
        var o$ = navigator.getBattery();
        void 0 !== o$ && o$.then && o$.then(function() {})
    };

    function bya(a) {
        this.data = a;
        this.u = 0;
        this.C = !1;
        this.l = 0;
        this.error = !1;
        this.i = new Uint8Array(100);
        this.register = this.B = 0;
        if (0 === p$.length) {
            p$.length = 288;
            p$.fill(8);
            for (a = 144; 280 > a; a++) p$[a] = 255 >= a ? 9 : 7;
            q$.length = 32;
            q$.fill(5);
            r$.length = 286;
            r$.fill(0);
            for (a = 261; 285 > a; a++) r$[a] = Math.floor((a - 261) / 4);
            s$[257] = 3;
            for (a = 258; 285 > a; a++) {
                var b = s$[a - 1];
                b += 1 << r$[a - 1];
                s$[a] = b
            }
            s$[285] = 258;
            for (a = 0; 30 > a; a++) t$[a] = 3 >= a ? 0 : Math.floor((a - 2) / 2);
            for (a = u$[0] = 1; 30 > a; a++) b = u$[a - 1], b += 1 << t$[a - 1], u$[a] = b
        }
    }

    function cya(a, b, c) {
        b = v$(b);
        c = v$(c);
        for (var d = -1; 256 !== d && (d = w$(a, b), !a.error);)
            if (256 > d) x$(a, 1), a.i[a.l++] = d;
            else if (256 < d) {
            var e = s$[d];
            e += y$(a, r$[d]);
            var f = w$(a, c),
                g = u$[f];
            g += y$(a, t$[f]);
            f = a;
            var k = g;
            if (e && k)
                if (x$(f, e), g = f.l - k, e > k || !f.i.copyWithin)
                    for (k = 0; k < e; k++) f.i[f.l++] = f.i[g++];
                else f.i.copyWithin(f.l, g, g + e), f.l += e;
            else f.error = !0
        }
    }

    function w$(a, b) {
        for (; b && null == b.value;) {
            var c = y$(a, 1);
            b = b.i[c]
        }
        return b && null != b.value ? b.value : (a.error = !0, 0)
    }

    function x$(a, b) {
        if (!(b + a.l < a.i.length)) {
            for (var c = a.i.length; b + a.l >= c;) c *= 1.5;
            b = new Uint8Array(c | 0);
            b.set(a.i);
            a.i = b
        }
    }

    function y$(a, b) {
        for (; a.u < b;) {
            if (a.B >= a.data.length) return a.error = !0, 0;
            a.register |= a.data[a.B++] << a.u;
            a.u += 8
        }
        var c = a.register & (1 << b) - 1;
        a.register >>>= b;
        a.u -= b;
        return c
    }
    var p$ = [],
        q$ = [],
        dya = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
        s$ = [],
        r$ = [],
        u$ = [],
        t$ = [];

    function v$(a) {
        for (var b = [], c = t(a), d = c.next(); !d.done; d = c.next()) d = d.value, b[d] || (b[d] = 0), b[d]++;
        d = b[0] = 0;
        c = [];
        for (var e = 1; e < b.length; e++) b[e] || (b[e] = 0), d = d + b[e - 1] << 1, c[e] = d;
        b = new eya;
        for (d = 0; d < a.length; d++)(e = a[d]) && fya(b, c[e]++, d, e);
        return b
    }

    function eya() {
        this.value = null;
        this.i = []
    }

    function fya(a, b, c, d) {
        if (0 === d) a.value = c;
        else {
            var e = b >>> d - 1 & 1;
            a.i[e] || (a.i[e] = new eya);
            fya(a.i[e], b, c, d - 1)
        }
    };

    function z$(a, b) {
        var c = II();
        this.D = a;
        this.G = b;
        this.I = c;
        this.l = this.projectionType = 0;
        this.u = {};
        this.Ae = null;
        this.i = {};
        this.C = this.B = 0
    }

    function gya(a, b) {
        b = a.u[b];
        if (!b || b.pm === a.Ae && 0 === a.projectionType) return !1;
        a.Ae = b.pm;
        a.projectionType = 0;
        a.l = a.Ae.l || a.l;
        return !0
    }
    z$.prototype.stringValue = function() {
        switch (this.l) {
            case 2:
                var a = "stereoscopic-top-bottom";
                break;
            case 1:
                a = "stereoscopic-left-right";
                break;
            default:
                a = "monoscopic"
        }
        var b = ", " + (this.B || 1.74) + "rad " + (this.C || 1.18) + "rad, matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)," + a + ")";
        if (0 === this.projectionType && this.Ae && this.D) {
            a = "map-to-mesh(url(" + (this.i[this.Ae.i] + ")");
            for (var c in this.u)
                if (this.u.hasOwnProperty(c)) {
                    var d = this.u[Number(c)];
                    this.i[d.pm.i] && (a += " " + d.width + " " + c + " url(" + this.i[d.pm.i] +
                        ")")
                } return a + b
        }
        return 1 === this.projectionType ? this.I ? "map-to-mesh(rectangular, none, none, " + a + ")" : "" : 2 === this.projectionType ? (this.G ? "map-to-mesh(equirectangular" : "-cobalt-mtm(url(p.msh)") + b : "map-to-mesh(equirectangular" + b
    };
    z$.prototype.destroy = function() {
        for (var a in this.i) this.i.hasOwnProperty(a) && URL.revokeObjectURL(this.i[Number(a)])
    };

    function A$(a, b, c, d, e, f, g) {
        this.i = f;
        this.x = Math.cos(g);
        this.y = Math.sin(g);
        this.Jp = a.l();
        this.Kp = a.l();
        this.Lp = a.l();
        this.Mp = a.l();
        c.connect(this.Jp, b.w, 0);
        c.connect(this.Kp, b.x, 0);
        c.connect(this.Lp, b.y, 0);
        c.connect(this.Mp, b.z, 0);
        this.Jp.connect(d, 0, e);
        this.Kp.connect(d, 0, e);
        this.Lp.connect(d, 0, e);
        this.Mp.connect(d, 0, e);
        this.rotate(0, 0);
        this.Jp.gain.value = 1 - this.i
    }
    A$.prototype.rotate = function(a, b) {
        var c = Math.sin(a);
        a = Math.cos(a);
        var d = Math.sin(b);
        b = Math.cos(b);
        this.Kp.gain.value = this.i * (a * b * this.x - c * this.y);
        this.Lp.gain.value = this.i * (c * b * this.x + a * this.y);
        this.Mp.gain.value = this.i * d * this.x
    };
    A$.prototype.destroy = function() {
        delete this.Jp;
        delete this.Kp;
        delete this.Lp;
        delete this.Mp
    };

    function B$(a, b, c) {
        this.i = a;
        this.l = c;
        this.B = this.u = null
    }
    B$.prototype.gB = function() {
        this.i.u();
        var a = this.i.D(this.l.channelCount),
            b = this.i.C(2),
            c = 65 * Math.PI / 180;
        this.u = new A$(this.i, this.l, a, b, 0, .45, c);
        this.B = new A$(this.i, this.l, a, b, 1, .45, -1 * c);
        null != this.l.mq && null != this.l.r && (a.connect(b, this.l.mq, 0), a.connect(b, this.l.r, 1));
        this.i.B().connect(a);
        b.connect(this.i.i())
    };
    B$.prototype.G = function() {
        this.u && this.B && (this.u.destroy(), this.B.destroy(), this.B = this.u = null);
        this.i.u();
        this.i.B().connect(this.i.i())
    };
    B$.prototype.rotate = function(a, b) {
        this.u && this.B && (this.u.rotate(a, b), this.B.rotate(a, b))
    };
    B$.prototype.destroy = function() {
        this.u && (this.i.u(), this.G())
    };

    function C$() {
        B$.apply(this, arguments);
        this.B = this.u = this.D = this.C = null
    }
    v(C$, B$);
    C$.prototype.gB = function() {
        this.i.u();
        var a = this.i.D(this.l.channelCount),
            b = this.i.i();
        b.channelCount = Math.min(6, b.maxChannelCount);
        b.channelInterpretation = "discrete";
        b = this.i.C(6);
        var c = Math.PI / 6;
        this.u = new A$(this.i, this.l, a, b, 0, .65, c);
        this.B = new A$(this.i, this.l, a, b, 1, .65, -1 * c);
        null != this.l.mq && null != this.l.r && (a.connect(b, this.l.mq, 0), a.connect(b, this.l.r, 1));
        c = 120 * Math.PI / 180;
        this.C = new A$(this.i, this.l, a, b, 4, .65, c);
        this.D = new A$(this.i, this.l, a, b, 5, .65, -1 * c);
        this.i.B().connect(a);
        b.connect(this.i.i())
    };
    C$.prototype.G = function() {
        this.C && (this.C.destroy(), this.D.destroy(), this.D = this.C = null);
        B$.prototype.G.call(this)
    };
    C$.prototype.rotate = function(a, b) {
        this.u && (this.u.rotate(a, b), this.B.rotate(a, b), this.C.rotate(a, b), this.D.rotate(a, b))
    };

    function hya(a) {
        switch (a) {
            case 1:
                return {
                    w: 2, x: 0, y: 1, z: 4, channelCount: 6
                };
            case 3:
                return {
                    w: 0, x: 3, y: 1, z: 2, mq: 4, r: 5, channelCount: 6
                };
            default:
                return {
                    w: 0, x: 3, y: 1, z: 2, channelCount: 4
                }
        }
    };

    function D$(a, b) {
        a.set(b)
    }
    zu() && (D$ = function(a, b) {
        for (var c = Math.min(b.length, a.length), d = 0; d < c; d++) a[d] = b[d]
    });

    function E$() {
        this.elements = new Float32Array(16);
        this.i = new Float32Array(16);
        D$(this.i, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
        this.l = new Float32Array(16);
        D$(this.l, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
        this.identity()
    }
    E$.prototype.identity = function() {
        D$(this.elements, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
    };

    function iya(a, b, c, d) {
        var e = Math.cos(b);
        b = Math.sin(b);
        var f = Math.cos(c);
        c = Math.sin(c);
        var g = Math.cos(d);
        d = Math.sin(d);
        D$(a.elements, [b * c * d + e * g, f * d, e * c * d - b * g, 0, b * c * g - e * d, f * g, e * c * g + b * d, 0, b * f, -c, e * f, 0, 0, 0, 0, 1])
    }
    E$.prototype.get = function() {
        return this.elements
    };

    function F$(a, b) {
        if (b) {
            var c = Math.sin(b);
            b = Math.cos(b);
            D$(a.i, [1, 0, 0, 0, 0, b, c, 0, 0, -c, b, 0, 0, 0, 0, 1]);
            G$(a, a.i)
        }
    }

    function jya(a, b) {
        if (b) {
            var c = Math.sin(b);
            b = Math.cos(b);
            D$(a.i, [b, 0, -c, 0, 0, 1, 0, 0, c, 0, b, 0, 0, 0, 0, 1]);
            G$(a, a.i)
        }
    }

    function H$(a, b) {
        if (b) {
            var c = Math.sin(b);
            b = Math.cos(b);
            D$(a.i, [b, c, 0, 0, -c, b, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
            G$(a, a.i)
        }
    }

    function G$(a, b) {
        for (var c = a.elements, d = a.l, e = 0; 4 > e; e++)
            for (var f = 0; 12 >= f; f += 4) d[e + f] = c[e] * b[f] + c[e + 4] * b[f + 1] + c[e + 8] * b[f + 2] + c[e + 12] * b[f + 3];
        a.elements = d;
        a.l = c
    }

    function I$(a) {
        return Math.atan2(a.elements[8], a.elements[10])
    }

    function kya(a) {
        return Math.atan2(a.elements[1], a.elements[5])
    };

    function lya(a) {
        var b = new Float32Array(3),
            c = cs(a);
        b[0] = a[0] / c;
        b[1] = a[1] / c;
        b[2] = a[2] / c;
        a = 1 / (Math.abs(b[0]) + Math.abs(b[1]) + Math.abs(b[2]));
        b[0] *= a;
        b[1] *= a;
        b[2] *= a;
        0 < b[2] && (a = (1 - Math.abs(b[0])) * (0 < b[1] ? 1 : -1), b[0] = (1 - Math.abs(b[1])) * (0 < b[0] ? 1 : -1), b[1] = a);
        b[0] *= .5;
        b[1] *= .5;
        b[2] *= .5;
        b[0] += .5;
        b[1] += .5;
        a = Math.floor(256 * b[0]);
        b = Math.floor(256 * b[1]);
        256 === a && --a;
        256 === b && --b;
        return {
            x: a,
            y: 255 - b
        }
    }

    function mya(a) {
        function b(r, u) {
            var x, z = u;
            for (x = 0; r[x] !== u; ++x) {
                var D = r[x];
                r[x] = z;
                z = D
            }
            r[x] = z;
            return x
        }
        var c = a.length,
            d = Array(2 * c + 3),
            e = 0;
        d[0] = 0;
        d[1] = c >> 8 & 255;
        d[2] = c & 255;
        e = 3;
        for (var f = Array(256), g = Array(256), k = Array(256), l = 0; 256 > l; ++l) f[l] = l, g[l] = l, k[l] = 0;
        for (var m = l = 0, n = 0; n < c; ++n) {
            var p = a[n],
                q = b(f, p);
            g[m] === p ? k[m] += 4 : 0 === (k[m] >>= 1) && (g[m] = p, k[m] = 1);
            1 < k[p] && b(f, g[p]);
            m = p;
            0 === q && ++l;
            if (0 !== q || n + 1 === c) {
                for (; 0 < l;) --l, 0 === l % 2 ? d[e++] = 0 : d[e++] = 254, l >>= 1;
                if (255 === q || 254 === q) d[e++] = 255;
                0 !== q && (d[e++] = q)
            }
        }
        return d.slice(0, e)
    };

    function nya() {
        this.G = this.C = this.l = this.I = this.B = 0;
        this.i = [];
        this.D = new Float32Array(3);
        this.u = -1
    }
    nya.prototype.flush = function() {
        var a = null;
        if (5 <= this.i.length) {
            a = this.i;
            for (var b = Array(2 * a.length), c = 0, d = 0, e = 0; e < a.length; ++e) b[e] = a[e].x - c & 255, b[e + a.length] = a[e].y - d & 255, c = a[e].x, d = a[e].y;
            a = mya(b);
            a = {
                start: this.B,
                duration: 1 === this.u ? this.l : 0,
                data: Re(a, 2)
            }
        }
        this.i = [];
        this.l = 0;
        return a
    };
    var J$ = Math.PI / 2,
        oya = ue || Eu(),
        pya = .4 * J$,
        qya = .6 * J$;

    function K$(a, b) {
        this.api = a;
        this.Ex = b;
        this.l = null;
        this.fov = .872665;
        this.J = this.U = this.K = this.Kh = this.Jh = 0;
        this.fp = !0;
        this.alpha = this.roll = this.pitch = this.G = this.yaw = 0;
        this.beta = 90;
        this.orientation = this.gamma = 0;
        this.Mc = new E$;
        this.u = oya;
        this.Fk = (a = this.api.getVideoData()) ? a.Fk : !1;
        this.C = new Float32Array(3);
        this.X = new nya
    }
    h = K$.prototype;
    h.bz = function() {
        return ""
    };
    h.Qy = function() {
        return ""
    };
    h.oz = function() {};
    h.En = function() {};
    h.tm = function() {
        var a = this.api;
        var b = a.getVideoData();
        var c;
        if (c = b) b.D && b.D.audio ? (c = b.D.audio.spatialAudioType, c = !!c && 0 != c) : c = !1;
        c ? (a = a.Ct()) ? (b = b.D.audio.spatialAudioType, c = a.i(), b = 6 <= c.maxChannelCount && !Je ? new C$(a, b, hya(b)) : 2 <= c.maxChannelCount ? new B$(a, b, hya(b)) : null) : b = null : b = null;
        if (this.l = b) this.l.gB(), this.l.rotate(this.yaw, this.pitch)
    };
    h.mA = function() {};
    h.gj = function() {
        this.fp = !0
    };
    h.Jq = function() {};

    function rya(a, b, c) {
        b > c ? (a.Jh = a.fov, a.Kh = Math.atan(Math.tan(a.fov) * c / b)) : (a.Kh = a.fov, a.Jh = Math.atan(Math.tan(a.fov) * b / c))
    }
    h.Fp = function(a) {
        var b = this.Jh,
            c = this.Kh;
        this.fp && (rya(this, a.l, a.i), this.u ? (iya(this.Mc, this.alpha * Math.PI / 180, this.beta * Math.PI / 180, -this.gamma * Math.PI / 180), F$(this.Mc, -J$), H$(this.Mc, -this.orientation * Math.PI / 180), this.G = this.G || I$(this.Mc), a = -Math.asin(this.Mc.elements[9]), this.pitch = rg(this.pitch, Math.max(-J$, -J$ - a), Math.min(J$, J$ - a)), iya(this.Mc, I$(this.Mc) - this.G + this.yaw, a + this.pitch, kya(this.Mc))) : (a = J$, this.Fk && (this.yaw = rg(this.yaw, -pya, pya), a = qya), this.pitch = rg(this.pitch, -a, a), this.Mc.identity(),
            jya(this.Mc, this.yaw), F$(this.Mc, this.pitch), H$(this.Mc, this.roll)), this.l && this.l.rotate(I$(this.Mc), -Math.asin(this.Mc.elements[9])), this.fp = !1);
        a = Va();
        this.C[0] = -this.Mc.get()[8];
        this.C[1] = -this.Mc.get()[9];
        this.C[2] = -this.Mc.get()[10];
        var d = this.X,
            e = this.C;
        var f = this.api.getCurrentTime();
        var g = a / 1E3,
            k = this.api.getPlayerState(),
            l = null;
        if (1 === k) {
            var m = d.B;
            var n = d.C;
            var p = f
        } else m = d.I, n = d.G, p = g;
        var q = 0 !== d.i.length;
        if (q) {
            var r = 150 <= d.i.length;
            if (d.u !== k || .5 < p - n || p < n || r) l = d.flush(), q = !1
        }
        if (1 === k ||
            2 === k || 3 === k) {
            if (q)
                for (m = m + d.l + .2; m < p;) {
                    r = (m - n) / (p - n);
                    d.l += .2;
                    q = d.D;
                    var u = e,
                        x = r;
                    r = new Float32Array(3);
                    var z = cs(q),
                        D = cs(u),
                        H = (q[0] * u[0] + q[1] * u[1] + q[2] * u[2]) / (z * D);
                    if (.999999 < H) z = q[0], D = q[1], q = q[2], r[0] = (u[0] - z) * x + z, r[1] = (u[1] - D) * x + D, r[2] = (u[2] - q) * x + q, q = r;
                    else {
                        if (-.999999 > H) {
                            H = new Float32Array(3);
                            var O = (z + D) / 2;
                            q[0] ? (O /= Math.sqrt(q[0] * q[0] + q[1] + q[1]), H[0] = -q[1] * O, H[1] = q[0] * O, H[2] = 0) : (O /= Math.sqrt(q[2] * q[2] + q[1] + q[1]), H[0] = 0, H[1] = -q[2] * O, H[2] = q[1] * O);
                            .5 >= x ? (D = z, u = H, x *= 2) : (q = H, x = 2 * x - 1);
                            O = Math.PI / 2;
                            var M =
                                1
                        } else O = Math.acos(H), M = Math.sqrt(1 - H * H);
                        H = Math.sin((1 - x) * O) / M / z;
                        O = Math.sin(x * O) / M / D;
                        x = (1 - x) * z + x * D;
                        r[0] = (q[0] * H + u[0] * O) * x;
                        r[1] = (q[1] * H + u[1] * O) * x;
                        r[2] = (q[2] * H + u[2] * O) * x;
                        q = r
                    }
                    d.i.push(lya(q));
                    m += .2
                } else d.B = f, d.I = g, d.i.push(lya(e)), d.l = 0;
            d.D = e;
            d.C = f;
            d.G = g;
            d.u = k
        }
        f = l;
        f && (d = f.start, e = f.duration, f = f.data, g = P(this.api.app)) && (g = g.C, g.qoe && (g = g.qoe, RV(g, PP(g.i), "dir", [d.toFixed(3), e.toFixed(3), f])));
        (this.K !== this.Jh || this.U !== this.Kh) && 3E4 < a - this.J && b === this.Jh && c === this.Kh && (this.K = this.Jh, this.U = this.Kh,
            this.J = a, b = Math.round(360 * this.Jh / Math.PI), c = Math.round(360 * this.Kh / Math.PI), a = P(this.api.app)) && (a = a.C, a.qoe && (a = a.qoe, RV(a, PP(a.i), "fov", [b, c])))
    };
    h.py = function() {};
    h.getSettings = function() {
        return {
            jc: "Spherical",
            yaw: this.yaw,
            pitch: this.pitch,
            roll: this.roll,
            fov: this.fov
        }
    };
    h.Em = function(a) {
        "Spherical" === a.jc && (a.WE && (!1 === a.enableOrientationSensor && this.u ? (this.u = !1, this.alpha = 0, this.beta = 90, this.orientation = this.gamma = 0) : !0 === a.enableOrientationSensor && (this.u = oya), this.u && (delete a.yaw, delete a.pitch, delete a.roll, delete a.alpha, delete a.beta, delete a.gamma)), void 0 === a.yaw || isNaN(a.yaw) || (this.yaw = a.yaw), void 0 === a.pitch || isNaN(a.pitch) || (this.pitch = a.pitch), void 0 === a.roll || isNaN(a.roll) || (this.roll = a.roll), void 0 === a.alpha || isNaN(a.alpha) || (this.alpha = a.alpha),
            void 0 === a.beta || isNaN(a.beta) || (this.beta = a.beta), void 0 === a.gamma || isNaN(a.gamma) || (this.gamma = a.gamma), void 0 === a.orientation || isNaN(a.orientation) || (this.orientation = a.orientation), void 0 === a.fov || isNaN(a.fov) || (this.fov = rg(a.fov, .2618, 1.0472)), this.fp = !0, this.Ex(), this.api.Ja("onWebglSettingsChanged"))
    };
    h.destroy = function() {
        this.l && this.l.destroy()
    };

    function L$(a, b) {
        K$.call(this, a, b);
        this.T = this.Xa = null;
        this.D = -1;
        a = !!CSS && !!CSS.supports;
        this.B = HI();
        this.I = a && CSS.supports("filter", "map-to-mesh(equirectangular, 100deg 60deg,matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),stereoscopic-left-right)");
        this.i = new z$(this.B, this.I)
    }
    v(L$, K$);

    function M$(a) {
        a.Xa && (a.B || a.I ? a.Xa.style.filter = "" : $l(a.Xa, "cssText", a.T || a.Xa.style.cssText))
    }

    function sya(a, b) {
        var c = !1;
        if (ML(a.api.getVideoData())) {
            if (a.B) {
                var d = a.api.getVideoData();
                c = NL(d);
                if (d.u) {
                    var e = d.u.video;
                    if (e && c) b: {
                        d = a.i;
                        var f = e.width;e = e.height;
                        if (!d.i[c.i]) {
                            var g = d.i,
                                k = c.i;
                            var l = new Blob([c.u], {
                                type: "video/mp4"
                            });
                            var m = l.type.match(/^([^;]+)(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i);
                            if (2 !== (null === m || void 0 === m ? void 0 : m.length) || !(/^image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)$/i.test(m[1]) || /^video\/(?:mpeg|mp4|ogg|webm|x-matroska|quicktime|x-ms-wmv)$/i.test(m[1]) || /^audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)$/i.test(m[1]))) throw Error("unsafe blob MIME type: " +
                                l.type);
                            if (URL && URL.createObjectURL) l = new ak(URL.createObjectURL(l), Rj);
                            else throw Error("cannot find createObjectURL");
                            g[k] = l.toString()
                        }
                        if (g = d.u[e])
                            if (g.pm !== c) g.pm = c, g.width = f;
                            else {
                                c = !1;
                                break b
                            }
                        else d.u[e] = {
                            width: f,
                            pm: c
                        };null === d.Ae && gya(d, e);c = !0
                    }
                    else c = !1
                } else c = !1; - 1 !== a.D && (c = c || gya(a.i, a.D))
            }
        } else LL(a.api.getVideoData()) ? (c = a.i, 1 === c.projectionType && 1 === c.l ? c = !1 : (c.projectionType = 1, c.l = 1, c = !0)) : (c = KL(a.api.getVideoData()) ? 2 : 0, d = a.i, 2 === d.projectionType && d.l === c ? c = !1 : (d.projectionType = 2, d.l =
            c, c = !0));
        (c || b) && a.Xa && (a.Xa && (b = a.Xa.clientWidth, c = a.Xa.clientHeight, b && c && (rya(a, b, c), b = a.i, c = 2 * a.Kh, b.B = 2 * a.Jh, b.C = c)), b = a.i.stringValue()) && (M$(a), a.B || a.I ? a.Xa.style.filter = b : a.Xa.style.cssText += "; filter: " + b + ";")
    }
    L$.prototype.Jq = function(a, b, c, d) {
        this.D = d;
        sya(this, !1)
    };
    L$.prototype.py = function(a) {
        var b;
        (b = a !== this.Xa) || (b = this.i, b = !(b.B && b.C));
        b && (a !== this.Xa && (M$(this), this.Xa = a, this.T = a.style.cssText), sya(this, !0))
    };
    L$.prototype.getSettings = function() {
        var a = K$.prototype.getSettings.call(this);
        this.Fk && (a.lB = 0);
        return a
    };
    L$.prototype.destroy = function(a) {
        M$(this);
        this.i.destroy();
        K$.prototype.destroy.call(this, a)
    };

    function tya(a) {
        this.gl = a;
        this.i = [];
        this.l = 0;
        this.B = null != a.getSupportedExtensions() ? a.getSupportedExtensions() : [];
        this.u = Ka
    }

    function uya(a, b) {
        if (!(-1 < a.B.indexOf(b))) return !1;
        if (-1 < a.i.indexOf(b)) return !0;
        var c = a.gl.getExtension(b);
        if (!c) return !1;
        "OES_EGL_image_external" === b && (a.l = c.TEXTURE_EXTERNAL_OES, a.u = function(d, e) {
            return c.EGLImageTargetTexture2DOES(d, e)
        }, a.i.push("OES_EGL_image_external"));
        a.i.push(b);
        return !0
    };

    function N$() {
        this.displayMode = 0;
        this.l = null;
        this.i = !0;
        if (0 !== this.displayMode) {
            var a = zy("yt-player-webgl-spherical-3d-display-mode");
            null != a && (this.displayMode = a)
        }
    }
    N$.prototype.tm = function(a, b, c) {
        this.l = a.getUniformLocation(b, c);
        this.i && (a.uniform1i(this.l, this.displayMode), this.i = !1)
    };
    N$.prototype.Em = function(a, b) {
        var c = null;
        (void 0 === b ? 0 : b) && (c = zy("yt-player-webgl-spherical-3d-display-mode"));
        c || null == a.displayMode || (c = a.displayMode);
        null != c && c !== this.displayMode && (this.displayMode = c, this.i = !0, 0 !== this.displayMode && vy("yt-player-webgl-spherical-3d-display-mode", this.displayMode));
        return this.i ? !0 : !1
    };
    var O$ = null;

    function vya(a, b) {
        this.i = b;
        this.length = a.length;
        this.vr = new Float32Array(3 * this.length);
        this.Vv = new Float32Array(2 * this.length);
        for (b = 0; b < this.length; b++) this.vr[3 * b] = a[b][0], this.vr[3 * b + 1] = a[b][1], this.vr[3 * b + 2] = a[b][2], this.Vv[2 * b] = a[b][3], this.Vv[2 * b + 1] = 1 - a[b][4]
    };
    var P$ = {
            Dr: "enableOesEglImageExternal"
        },
        wya = [0, 1];
    P$.Wy = function(a) {
        var b = "";
        a = a[P$.Dr];
        void 0 !== a && a in wya && (b += "#define _a " + a + "\n");
        return b
    };
    P$.wE = function() {
        return "varying vec2 a,b;uniform mat4 c;uniform vec2 d,e;attribute vec4 f;attribute vec2 g;void main(){gl_Position=c*f;a=g*d;b=a+e;}"
    };
    P$.tE = function() {
        return "#ifdef _a\n#extension GL_OES_EGL_image_external : enable\n#endif\nprecision mediump float;varying vec2 a,b;\n#ifdef _a\nuniform samplerExternalOES h;\n#else\nuniform sampler2D h;\n#endif\nuniform int i;const mat4 j=mat4(-.043,.378,-.072,0,-.088,.734,-.113,0,0,-.018,1.226,0,0,0,0,1);const mat4 k=mat4(.456,-.04,-.015,0,.5,-.038,-.021,0,.176,-.016,-.005,0,0,0,0,1);void main(){if(i==2){vec4 l,m;l=k*texture2D(h,a);m=j*texture2D(h,b);gl_FragColor=l+m;}else gl_FragColor=texture2D(h,a);}"
    };
    P$.HH = "c";
    P$.GH = "d";
    P$.EH = "e";
    P$.FH = "h";
    P$.xB = "i";
    P$.CD = "f";
    P$.BD = "g";

    function Q$(a, b, c) {
        this.data = a;
        this.offset = b;
        this.size = c;
        this.Db = 0
    }
    Q$.prototype.Pe = function() {
        var a = this.data.getUint8(this.offset + this.Db);
        this.Db += 1;
        return a
    };
    Q$.prototype.Mb = function() {
        var a = this.data.getUint32(this.offset + this.Db);
        this.Db += 4;
        return a
    };
    Q$.prototype.zd = function() {
        var a = this.data.getInt32(this.Db);
        this.Db += 4;
        return a
    };

    function xya(a, b) {
        void 0 === b && (b = a.size - a.Db);
        var c = a.data.byteOffset + a.offset + a.Db;
        a.Db += b;
        return new Uint8Array(a.data.buffer, c, b)
    };
    var R$ = {};

    function yya(a) {
        var b = new S$(a);
        if (0 !== b.Pe()) return [];
        b.Db += 3;
        a = b.Mb();
        if (a in R$) return R$[a];
        b = zya(b);
        if (!b) return [];
        for (var c = [], d = 0; 2 > d && 8 <= b.size - b.Db; d++) {
            var e = b.Mb();
            if (1835365224 === b.Mb()) {
                e = xya(b, e - 8);
                e = new DataView(e.buffer, e.byteOffset, e.byteLength);
                e = new S$(e);
                for (var f = [], g = e.Mb() & 2147483647, k = 0; k < g; k++) {
                    var l = f,
                        m = l.push,
                        n = e,
                        p = n.data.getFloat32(n.Db);
                    n.Db += 4;
                    m.call(l, p)
                }
                a: {
                    g = [];k = e.Mb() & 2147483647;l = f.length;m = Math.ceil(Math.log2(2 * l));
                    for (var q = p = n = 0, r = 0, u = 0, x = 0; x < k; x++) {
                        n += T$(U$(e,
                            m));
                        p += T$(U$(e, m));
                        q += T$(U$(e, m));
                        r += T$(U$(e, m));
                        u += T$(U$(e, m));
                        if (Math.max(n, p, q, r, u) >= l) {
                            f = null;
                            break a
                        }
                        g.push([f[n], f[p], f[q], f[r], f[u]])
                    }
                    e.register = 0;e.i = 0;f = g
                }
                if (f) a: {
                    k = f;e.Mb();e.Pe();f = e.Pe();l = e.Mb() & 2147483647;
                    switch (f) {
                        case 1:
                            f = 5;
                            break;
                        case 2:
                            f = 6;
                            break;
                        default:
                            f = 4
                    }
                    g = [];m = k.length;n = Math.ceil(Math.log2(2 * m));
                    for (q = p = 0; q < l; q++) {
                        p += T$(U$(e, n));
                        if (p >= m) {
                            e = null;
                            break a
                        }
                        g.push(k[p])
                    }
                    e.register = 0;e.i = 0;e = new vya(g, f)
                }
                else e = null;
                e && c.push(e)
            }
        }
        0 < c.length && (R$[a] = c);
        return c
    }

    function zya(a) {
        var b = a.Mb();
        if (1918990112 === b) return a;
        if (1684433976 === b) {
            a = new bya(xya(a));
            try {
                for (; !a.C && !a.error;) switch (b = void 0, a.C = !!y$(a, 1), y$(a, 2)) {
                    case 2:
                        var c = [],
                            d = [];
                        d.length = 19;
                        d.fill(0);
                        for (var e = y$(a, 5) + 257, f = y$(a, 5) + 1, g = y$(a, 4) + 4, k = 0; k < g; k++) d[dya[k]] = y$(a, 3);
                        var l = v$(d);
                        for (d = e + f; c.length < d;) {
                            var m = w$(a, l);
                            switch (m) {
                                case 16:
                                    m = c[c.length - 1];
                                    var n = y$(a, 2) + 3;
                                    break;
                                case 17:
                                    m = 0;
                                    n = y$(a, 3) + 3;
                                    break;
                                case 18:
                                    m = 0;
                                    n = y$(a, 7) + 11;
                                    break;
                                default:
                                    n = 1
                            }
                            for (; 0 < n; n--) c.push(m)
                        }
                        c.length !== d ? a.error = !0 :
                            (b = c.slice(-f), c.length = e, cya(a, c, b));
                        break;
                    case 1:
                        cya(a, p$, q$);
                        break;
                    case 0:
                        a.u = 0;
                        a.register = 0;
                        var p = y$(a, 16),
                            q = y$(a, 16);
                        65535 !== (p ^ q) && (a.error = !0);
                        x$(a, p);
                        a.i.set(a.data.subarray(a.B, a.B + p), a.l);
                        a.B += p;
                        a.l += p;
                        break;
                    default:
                        a.error = !0
                }
                if (a.i.slice) a.i = a.i.slice(0, a.l);
                else {
                    var r = new Uint8Array(a.l);
                    for (e = 0; e < a.l; e++) r[e] = a.i[e];
                    a.i = r
                }
                var u = a.error ? new Uint8Array(0) : a.i
            } catch (x) {
                return null
            }
            if (0 < u.byteLength) return new S$(new DataView(u.buffer))
        }
        return null
    }

    function S$(a) {
        Q$.call(this, a, 0, a.byteLength);
        this.i = this.register = 0
    }
    v(S$, Q$);

    function U$(a, b) {
        for (; a.i < b;) a.register = a.register << 8 | a.Pe(), a.i += 8;
        a.i -= b;
        b = a.register >>> a.i;
        a.register ^= b << a.i;
        return b
    }

    function T$(a) {
        return a >>> 1 ^ -(a & 1)
    };

    function V$(a, b, c) {
        K$.call(this, a, b);
        this.Ex = b;
        this.iE = c;
        this.Kt = {};
        this.Ae = null;
        this.nu = this.ou = NaN;
        this.Xo = this.ep = this.Pz = this.Oz = null;
        this.yf = P$;
        this.Ll = null;
        this.ev = new E$;
        this.Xj = new N$;
        this.gr = 0;
        this.ir = new Yxa(a)
    }
    v(V$, K$);
    h = V$.prototype;
    h.bz = function() {
        var a = this.yf.Wy,
            b = this.yf.wE;
        return a(this.Kt) + b()
    };
    h.Qy = function() {
        var a = this.yf.Wy,
            b = this.yf.tE;
        return a(this.Kt) + b()
    };
    h.oz = function(a) {
        this.ep = a.createBuffer();
        this.Xo = a.createBuffer()
    };
    h.En = function(a) {
        K$.prototype.En.call(this, a);
        this.ir.En(a, this.yf, this.Kt)
    };
    h.tm = function(a, b, c) {
        K$.prototype.tm.call(this, a, b, c);
        this.ou = a.getAttribLocation(b, this.yf.CD);
        a.enableVertexAttribArray(this.ou);
        this.nu = a.getAttribLocation(b, this.yf.BD);
        a.enableVertexAttribArray(this.nu);
        this.Pz = a.getUniformLocation(b, this.yf.HH);
        this.Oz = a.getUniformLocation(b, this.yf.FH);
        a.uniform1i(this.Oz, 0);
        this.Xj.tm(a, b, this.yf.xB);
        this.Ll && this.Ll.tm(a, b)
    };
    h.mA = function(a) {
        a.bindBuffer(a.ARRAY_BUFFER, this.ep);
        a.vertexAttribPointer(this.ou, 3, a.FLOAT, !1, 0, 0);
        a.bindBuffer(a.ARRAY_BUFFER, this.Xo);
        a.vertexAttribPointer(this.nu, 2, a.FLOAT, !1, 0, 0)
    };
    h.Jq = function(a, b, c, d) {
        this.Ll && this.Ll.Jq(a, c, d);
        var e = this.api.getVideoData();
        c = this.api.Y().experiments;
        var f = [];
        d = 0;
        if (ML(e)) f = (e = NL(e)) ? yya(e.u) : [], e && (d = e.l);
        else {
            var g = JL(e);
            e = KL(e);
            if (g || e) {
                if (!O$) {
                    f = [];
                    g = [];
                    for (var k = [], l = [], m = [], n = [], p = 0; 60 >= p; p++) {
                        var q = 1 * p / 60;
                        f.push(q);
                        g.push(Math.cos((2 * q + .5) * Math.PI));
                        k.push(Math.sin((2 * q + .5) * Math.PI))
                    }
                    for (p = 0; 60 >= p; p++) q = 1 * p / 60 - .5, q = .632456 * q / Math.sqrt(q * q + .15) + .5, l.push(q), m.push(Math.cos((1 - q) * Math.PI)), n.push(Math.sin((1 - q) * Math.PI));
                    p = [];
                    for (q =
                        0; q < l.length - 1; q++) {
                        for (var r = 0; r < f.length; r++) p.push([g[r] * n[q], m[q], k[r] * n[q], f[r], l[q]]), p.push([g[r] * n[q + 1], m[q + 1], k[r] * n[q + 1], f[r], l[q + 1]]);
                        p.push([g[0] * n[q + 1], m[q + 1], k[0] * n[q + 1], f[0], l[q + 1]]);
                        p.push([g[f.length - 1] * n[q + 1], m[q + 1], k[f.length - 1] * n[q + 1], f[f.length - 1], l[q + 1]])
                    }
                    O$ = new vya(p, 5)
                }
                f = [O$]
            }
            e && (d = 2)
        }
        if (f.length) {
            if (!this.Ae) switch (e = a.getUniformLocation(b, this.yf.GH), g = a.getUniformLocation(b, this.yf.EH), this.gr = 1, d) {
                default:
                    a.uniform1i(a.getUniformLocation(b, this.yf.xB), 0);
                    a.uniform2f(e,
                        1, 1);
                    a.uniform2f(g, 0, 0);
                    break;
                case 1:
                    a.uniform2f(e, .5, 1);
                    a.uniform2f(g, .5, 0);
                    break;
                case 2:
                    a.uniform2f(e, 1, .5), a.uniform2f(g, 0, .5)
            }
            this.Fk && !R(c, "html5_desktop_vr180_allow_panning") && (this.gr = 0);
            this.Fk || 1 !== d && 2 !== d || this.Xj.Em({
                displayMode: 1
            }, !0);
            b = !this.Ae;
            this.Ae = f[0];
            b && (this.api.W("webglsettingschanged", this.getSettings()), this.api.Ja("onWebglSettingsChanged"));
            a.bindBuffer(a.ARRAY_BUFFER, this.ep);
            a.bufferData(a.ARRAY_BUFFER, this.Ae.vr, a.STATIC_DRAW);
            a.bindBuffer(a.ARRAY_BUFFER, this.Xo);
            a.bufferData(a.ARRAY_BUFFER,
                this.Ae.Vv, a.STATIC_DRAW)
        } else this.api.Qo("html5.missingapi.webgl", {
            code: (11).toString()
        }), this.Ae || (this.gr = 0, this.iE(!1))
    };
    h.Fp = function(a, b) {
        var c = this.fp;
        K$.prototype.Fp.call(this, a, b);
        var d = this.Xj;
        d.i && (a.uniform1i(d.l, d.displayMode), d.i = !1);
        this.Ll && this.Ll.Fp(a);
        if (c) {
            c = I$(this.Mc);
            d = -Math.asin(this.Mc.elements[9]);
            var e = kya(this.Mc);
            this.Mc.identity();
            H$(this.Mc, -e);
            F$(this.Mc, -d);
            jya(this.Mc, -c);
            c = 1 / 1.99;
            D$(this.ev.elements, [Math.tan(.5 * Math.PI - this.Jh), 0, 0, 0, 0, Math.tan(.5 * Math.PI - this.Kh), 0, 0, 0, 0, -2.01 * c, -1, 0, 0, -.04 * c, 0]);
            G$(this.ev, this.Mc.get());
            a.uniformMatrix4fv(this.Pz, !1, this.ev.get())
        }
        this.ir.G(a, b);
        a.drawArrays(Number(this.Ae.i),
            0, this.Ae.length)
    };
    h.getSettings = function() {
        var a = K$.prototype.getSettings.call(this);
        if (this.Xj) {
            var b = this.Xj;
            0 !== b.displayMode && (a.displayMode = b.displayMode)
        }
        a.lB = this.gr;
        return a
    };
    h.Em = function(a) {
        "Spherical" === a.jc && (this.Xj && this.Xj.Em(a) && this.api.W("webglsettingschanged", this.getSettings()), K$.prototype.Em.call(this, a))
    };
    h.destroy = function(a) {
        this.ep && a && a.deleteBuffer(this.ep);
        this.Xo && a.deleteBuffer(this.Xo);
        this.ir && a && this.ir.destroy();
        K$.prototype.destroy.call(this, a)
    };

    function Aya() {
        this.l = !0;
        this.i = [];
        this.u = K()
    };

    function Bya(a, b, c, d) {
        this.S = a;
        this.B = b;
        this.parent = c;
        this.X = d;
        this.error = 10;
        this.u = !0;
        this.T = NaN;
        this.jc = this.D = this.I = this.C = this.gl = this.i = null;
        this.G = !1;
        this.enabled = !0;
        this.U = HI();
        this.K = !R(this.S.Y().experiments, "disable_webglfps_logging");
        this.l = null;
        this.J = new Aya;
        this.Xa = a.Dc().Cd()
    }

    function Cya(a) {
        a.jc = null;
        return a.U ? Dya(a) : Eya(a)
    }

    function Dya(a) {
        switch (a.B) {
            case "Spherical":
                return a.jc = new L$(a.S, function() {
                    a.requestAnimationFrame()
                }), W$(a), a.error = 0, !0;
            default:
                return !1
        }
    }

    function Eya(a) {
        function b() {
            a.requestAnimationFrame()
        }

        function c(d) {
            if (a.enabled !== d && a.i)
                if (a.enabled = d) a.parent.appendChild(a.i), a.requestAnimationFrame(), Fya(a) && (a.Xa.style.display = "none"), a.l && a.l.stop();
                else if (Sg(a.i), a.Xa.style.display = "", "NoOp" === a.B || "BicubicSharp" === a.B || "Raisr" === a.B) a.l || (a.l = new dr(a.wB, 200, a)), a.l.start()
        }
        "Spherical" === a.B && (a.jc = new V$(a.S, b, c));
        if (a.jc) {
            a.error = Gya(a);
            if (0 === a.error) return a.enabled && Fya(a) && (a.Xa.style.display = "none"), a.gj(), !0;
            a.S.Qo("html5.missingapi.webgl", {
                code: a.error
            });
            a.jc = null
        }
        return !1
    }

    function Fya(a) {
        a.S.getVideoData();
        return !Ne || !0
    }

    function Gya(a) {
        var b = a.S.Y().experiments;
        a.i = Og("CANVAS");
        if (!a.i) return 1;
        a.parent.appendChild(a.i);
        var c = {
            antialias: !1
        };
        ne || oe || (c.alpha = !1);
        try {
            a.gl = a.i.getContext("webgl", c) || a.i.getContext("experimental-webgl", c) || a.i.getContext("webgl") || a.i.getContext("experimental-webgl")
        } catch (d) {
            return 2
        }
        if (null == a.gl) return 3;
        a.C = new tya(a.gl);
        R(b, "tvhtml5_enable_oes_eglimage_external") && uya(a.C, "OES_EGL_image_external");
        if ("Raisr" === a.B && !uya(a.C, "OES_texture_float")) return 13;
        b = Hya(a);
        if (0 !== b) return b;
        b = a.jc;
        a.i.addEventListener("webglcontextlost", function(d) {
            d.preventDefault();
            a.error = 12;
            a.S.Qo("html5.missingapi.webgl", {
                code: a.error
            });
            if (a.K) {
                d = a.J;
                var e = $xa();
                d.l ? (d.l = !1, d.i.length = 0, e.unshift(0)) : e[0] = 0;
                15 < e.length && (e.length = 15);
                aya(e)
            }
            a.X()
        }, !1);
        b.oz(a.gl);
        Iya(a);
        Jya(a);
        a.Xa.crossOrigin = "use-credentials";
        W$(a);
        return 0
    }

    function Hya(a) {
        var b = a.gl,
            c = a.jc;
        c.En(a.C);
        var d = b.createShader(b.VERTEX_SHADER);
        b.shaderSource(d, c.bz());
        b.compileShader(d);
        if (!b.getShaderParameter(d, b.COMPILE_STATUS)) return 4;
        var e = b.createShader(b.FRAGMENT_SHADER);
        b.shaderSource(e, c.Qy());
        b.compileShader(e);
        if (!b.getShaderParameter(e, b.COMPILE_STATUS)) return 5;
        var f = b.createProgram();
        b.attachShader(f, d);
        if (1 !== b.getProgramParameter(f, b.ATTACHED_SHADERS)) return 6;
        b.attachShader(f, e);
        if (2 !== b.getProgramParameter(f, b.ATTACHED_SHADERS)) return 7;
        b.linkProgram(f);
        if (!1 === b.getProgramParameter(f, b.LINK_STATUS)) return 8;
        b.validateProgram(f);
        b.useProgram(f);
        if (!1 === b.getProgramParameter(f, b.VALIDATE_STATUS)) return 9;
        b.deleteShader(d);
        b.deleteShader(e);
        a.D = f;
        c.tm(b, a.D, a.parent);
        return 0
    }

    function Iya(a) {
        var b = a.gl,
            c = a.C;
        c = -1 < c.i.indexOf("OES_EGL_image_external") ? c.l : b.TEXTURE_2D;
        var d = b.createTexture();
        b.activeTexture(b.TEXTURE0);
        b.bindTexture(c, d);
        b.texParameteri(c, b.TEXTURE_MIN_FILTER, b.LINEAR);
        b.texParameteri(c, b.TEXTURE_MAG_FILTER, b.LINEAR);
        b.texParameteri(c, b.TEXTURE_WRAP_S, b.CLAMP_TO_EDGE);
        b.texParameteri(c, b.TEXTURE_WRAP_T, b.CLAMP_TO_EDGE);
        a.I = d
    }

    function Jya(a) {
        var b = a.gl;
        b.clearColor(0, 0, 0, 1);
        b.clear(b.COLOR_BUFFER_BIT | b.DEPTH_BUFFER_BIT);
        a.jc && a.jc.mA(b)
    }

    function W$(a) {
        a.G = !1;
        a.wB();
        if (a.U && a.jc) a.jc.py(a.Xa);
        else if (a.gl && a.jc && (a.Xa.videoWidth || a.Xa.videoHeight) && (a.jc.Fp(a.gl, a.Xa), a.u && (a.S.Pk(), a.K))) {
            var b = a.J;
            if (b.l) {
                var c = K();
                b.i.push(1E3 / (c - b.u));
                b.u = c;
                if (1200 <= b.i.length) {
                    b.l = !1;
                    c = b.i;
                    if (c.length) {
                        for (var d = 0, e = c.length - 1, f, g, k, l, m = e / 2 | 0; d < e;) {
                            f = (d + e) / 2 | 0;
                            f = c[f];
                            g = d - 1;
                            for (k = e + 1;;) {
                                for (; c[++g] < f;);
                                for (; c[--k] > f;);
                                if (g >= k) break;
                                l = c[g];
                                c[g] = c[k];
                                c[k] = l
                            }
                            k < m ? d = k + 1 : e = k
                        }
                        c = c[m]
                    } else c = NaN;
                    c |= 0;
                    d = $xa();
                    d.unshift(c);
                    15 < d.length && (d.length = 15);
                    aya(d);
                    b.i.length = 0
                }
            }
        }
        a.u && a.requestAnimationFrame()
    }
    h = Bya.prototype;
    h.gj = function() {
        if (0 === this.error) {
            this.S.Tb().getVideoContentRect();
            var a = this.S.Tb().getPlayerSize();
            a = new Ml(0, 0, a.width | 0, a.height | 0);
            this.parent.style.left = a.left + "px";
            this.parent.style.top = a.top + "px";
            this.i && this.gl && (this.i.style.width = a.width + "px", this.i.style.height = a.height + "px", this.i.width = 1 * a.width, this.i.height = 1 * a.height, this.gl.l = 1 * a.width, this.gl.i = 1 * a.height, this.gl.viewport(0, 0, 1 * a.width, 1 * a.height), this.jc && this.jc.gj(this.gl));
            this.requestAnimationFrame()
        }
    };
    h.wB = function() {
        this.Xa.videoHeight !== this.T && this.Xa.videoHeight && this.Xa.videoWidth && this.jc && (this.jc.Jq(this.gl, this.D, this.Xa.videoWidth, this.Xa.videoHeight), this.T = this.Xa.videoHeight);
        !this.enabled && this.l && er(this.l)
    };
    h.Wp = function() {
        return this.jc && this.enabled ? this.jc.getSettings() : {}
    };
    h.Ev = function(a) {
        this.jc && this.jc.Em(a)
    };
    h.requestAnimationFrame = function() {
        var a = this;
        !this.G && this.enabled && (requestAnimationFrame(function() {
            W$(a)
        }), this.G = !0)
    };

    function X$(a) {
        bM.call(this, a);
        this.C = this.B = this.view = this.l = null;
        this.i = new NI(this);
        E(this, this.i);
        this.u = new YM({
            V: "div",
            Ca: "webgl"
        });
        E(this, this.u);
        this.load()
    }
    v(X$, bM);

    function Kya(a) {
        a = a.getVideoData();
        if (HI()) {
            var b = JL(a) || KL(a) || ML(a);
            if (Eu() || Au() ? b || LL(a) && II() : HI() && b) return "Spherical"
        } else {
            if (LL(a)) return "Anaglyph3D";
            if (JL(a) || ML(a) || KL(a)) return "Spherical"
        }
        return ""
    }
    h = X$.prototype;
    h.gj = function() {
        this.view.gj()
    };
    h.dD = function() {
        this.view.requestAnimationFrame()
    };
    h.cD = function(a) {
        var b = this.view,
            c = b.u;
        b.u = a.state.Kc();
        b.u && !c && b.requestAnimationFrame();
        Q(a.state, 8) && this.l ? (this.i.xe(this.l), this.l = null) : this.l || (this.l = this.i.Ga(this.player, "onVideoProgress", this.dD))
    };
    h.Wp = function() {
        return this.view ? this.view.Wp() : {}
    };
    h.Ev = function(a) {
        this.view && a && this.view.Ev(a)
    };
    h.getSphericalProperties = function() {
        if (!this.view) return {};
        var a = this.view.Wp();
        return "Spherical" !== a.jc || 0 === a.lB ? {} : {
            yaw: sg(180 * (a.yaw || 0) / Math.PI),
            pitch: 180 * (a.pitch || 0) / Math.PI,
            roll: 180 * (a.roll || 0) / Math.PI,
            fov: 180 * (a.fov || .8727) / Math.PI * 2
        }
    };
    h.setSphericalProperties = function(a, b) {
        if (this.view) {
            var c, d, e, f, g;
            "number" !== typeof a.yaw || isNaN(a.yaw) || (c = sg(a.yaw) * Math.PI / 180);
            "number" !== typeof a.pitch || isNaN(a.pitch) || (d = rg(a.pitch, -90, 90) * Math.PI / 180);
            "number" !== typeof a.roll || isNaN(a.roll) || (f = rg(a.roll, -180, 180) * Math.PI / 180);
            "number" !== typeof a.fov || isNaN(a.fov) || (e = a.fov / 2 * Math.PI / 180);
            a.enableOrientationSensor ? g = !0 : !1 === a.enableOrientationSensor && (g = !1);
            this.view.Ev({
                jc: "Spherical",
                yaw: c,
                pitch: d,
                roll: f,
                fov: e,
                enableOrientationSensor: g,
                WE: b
            })
        }
    };
    h.load = function() {
        var a = this;
        bM.prototype.load.call(this);
        RB(this.player);
        this.u.Ua(this.player.Tb().vf);
        this.view = new Bya(this.player, Kya(this.player), this.u.element, function() {
            a.unload()
        });
        this.i.Ga(this.player, "resize", this.gj);
        this.i.Ga(this.player, "presentingplayerstatechange", this.cD);
        Cya(this.view) ? (this.player.Bd("webgl"), this.player.Ja("onApiChange")) : (this.player.Bd("webgl"), this.unload())
    };
    h.unload = function() {
        bM.prototype.unload.call(this);
        this.B && (this.B.dispose(), this.B = null);
        this.C && (this.C.dispose(), this.C = null);
        var a = this.view,
            b = a.S.hc();
        if (a.gl && a.I) try {
            a.gl.deleteTexture(a.I)
        } catch (c) {
            b.Aa("gldestroy", "texture_" + btoa(c.message), !0)
        }
        if (a.jc) try {
            a.jc.destroy(a.gl), a.jc = null
        } catch (c) {
            b.Aa("gldestroy", "shader_" + btoa(c.message), !0)
        }
        if (a.gl && a.D) try {
            a.gl.deleteProgram(a.D)
        } catch (c) {
            b.Aa("gldestroy", "program_" + btoa(c.message), !0)
        }
        a.i && (Sg(a.i), a.i = null);
        a.gl = null;
        a.u = !1;
        a.Xa.removeAttribute("crossorigin");
        a.Xa.style.display = "";
        a.error = 10;
        a.l && (a.l.stop(), a.l = null);
        this.view = null;
        this.u.detach();
        YF(this.i);
        this.player.Ja("onWebglSettingsChanged")
    };

    function Y$(a) {
        bM.call(this, a);
        this.events = new NI(this);
        this.template = null;
        E(this, this.events);
        this.i = a.Y();
        this.load()
    }
    v(Y$, bM);
    Y$.prototype.load = function() {
        bM.prototype.load.call(this);
        rI(this.i) || this.player.Ja("ypcShowRentalActivation")
    };
    Y$.prototype.unload = function() {
        bM.prototype.unload.call(this);
        this.template && (this.template.dispose(), this.template = null)
    };
    Y$.prototype.Gm = function(a) {
        var b = this.player.getPresentingPlayerType(),
            c = !0;
        switch (a) {
            case 2:
            case 3:
                c = !1;
                break;
            case 4:
                c = 1 === b
        }
        return c
    };
    Y$.prototype.onConfirm = function() {
        var a = this;
        this.events.Ga(this.player, "videodatachange", function() {
            a.player.Bd("ypc_clickwrap")
        });
        this.template && this.template.hide();
        this.player.Bd("ypc_clickwrap")
    };

    function Lya(a, b) {
        this.heading = a.vb ? b.title : a.Kk;
        this.buttonLabel = a.Jk;
        this.description = a.Ag;
        this.offerId = a.Bg;
        this.thumbnail = a.Bk;
        pB(this.thumbnail) || (this.thumbnail = "");
        this.title = a.Ik;
        this.videoId = a.Yk
    };

    function Mya(a) {
        a.i || (a.endScreen.appendChild(a.template.element), a.drawer.eB(null), a.endScreen.style.display = "block")
    };

    function Z$(a) {
        bM.call(this, a);
        var b = this;
        this.B = this.i = this.C = this.l = null;
        this.D = new dr(function() {
            var c = b.i;
            c.i || c.drawer.hide()
        }, 0);
        this.G = new dr(function() {
            sr(b.B.i, "html5-ypc-purchase-refined-highlighted")
        }, 0);
        this.u = this.I = null;
        this.listeners = new NI(this);
        this.J = a.Y();
        E(this, this.listeners);
        E(this, this.D);
        E(this, this.G)
    }
    v(Z$, bM);
    h = Z$.prototype;
    h.reload = function(a) {
        this.i && "dataupdated" === a || (this.unload(), this.load())
    };
    h.load = function() {
        var a = this,
            b, c, d, e;
        if (!this.loaded) {
            bM.prototype.load.call(this);
            this.listeners.Ga(this.player, "crn_ypc", function(l) {
                a.Hd(l)
            });
            this.listeners.Ga(this.player, "crx_ypc", function(l) {
                a.Uf(l)
            });
            this.listeners.Ga(this.player, "videodatachange", function(l) {
                a.reload(l)
            });
            var f = this.player.getVideoData(),
                g = this.player.getVideoData(1);
            this.l = new Lya(f, g);
            if (!this.l.videoId && !f.Fe || f.ypcPreview) !this.l.videoId && this.l.offerId ? (this.i && Mya(this.i), Nya(this), this.player.Ja("ypcStateChanged", !0)) : f.ypcPreview ? (this.player.Ja("ypcStateChanged", !0), this.player.Bd("ypc")) : this.l.offerId || this.player.Bd("ypc");
            else {
                g = {
                    autoplay: "1",
                    oauth_token: f.oauthToken,
                    video_id: this.l.videoId,
                    ypc_buy_url: f.Wu,
                    ypc_full_video_message: f.pk,
                    ypc_item_thumbnail: f.Bk,
                    ypc_item_title: f.Ik,
                    ypc_item_url: f.fv,
                    ypc_module: "1",
                    ypc_offer_button_text: f.Jk,
                    ypc_offer_button_formatted_text: f.PB,
                    ypc_offer_description: f.Ag,
                    ypc_offer_headline: f.Kk,
                    ypc_offer_id: f.Bg,
                    ypc_origin: f.videoId,
                    ypc_overlay_timeout: f.Uv,
                    ypc_preview: "1",
                    ypc_vid: f.Yk,
                    ypc_original_itct: f.Fa
                };
                if (f.isUpcoming) {
                    var k = f.getPlayerResponse();
                    (k = null === (e = null === (d = null === (c = null === (b = null === k || void 0 === k ? void 0 : k.playabilityStatus) || void 0 === b ? void 0 : b.liveStreamability) || void 0 === c ? void 0 : c.liveStreamabilityRenderer) || void 0 === d ? void 0 : d.offlineSlate) ||
                        void 0 === e ? void 0 : e.liveStreamOfflineSlateRenderer) && Object.assign(g, {
                        ypc_is_premiere_trailer: f.isUpcoming,
                        ypc_offer_headline: k.mainText ? mC(k.mainText) : "",
                        ypc_offer_description: f.Ag
                    })
                }
                f.Fe && Object.assign(g, f.Fe);
                f = f.isUpcoming ? 8 : 1;
                this.player.gi(f);
                this.player.loadVideoByPlayerVars(g, !0, f)
            }
        }
    };
    h.create = function() {
        this.load()
    };

    function Nya(a) {
        R(a.J.experiments, "html5_ypc_release_killswitch") ? a.player.Dm() : eh(function() {
            a.player.Yh(void 0)
        })
    }
    h.unload = function() {
        this.u && (this.u.dispose(), this.u = null, this.I.dispose(), this.I = null);
        YF(this.listeners);
        this.player.Zh("ypc");
        this.D.stop();
        this.G.stop();
        Pf(this.C, this.i, this.B);
        this.B = this.i = this.C = null;
        bM.prototype.unload.call(this);
        this.player.Ja("ypcStateChanged", !1)
    };
    h.Hd = function() {
        Mya(this.i);
        this.player.Ja("ypcStateChanged", !0)
    };
    h.Uf = function() {
        var a = this.i;
        a.i || (a.endScreen.style.display = "none", a.drawer.eB(a.template.element));
        this.player.Ja("ypcStateChanged", !0)
    };
    h.Gm = function(a) {
        return 2 === a && this.player.Hb().dr() ? !1 : !0
    };

    function $$(a) {
        bM.call(this, a);
        this.G = !1;
        this.J = 0;
        this.i = !1;
        this.C = {};
        this.l = [];
        this.B = 0;
        this.D = !1;
        this.u = new NI(this);
        E(this, this.u);
        this.I = new YM({
            V: "div",
            fd: ["ytp-player-content", "ytp-yto-overlay"],
            Na: [{
                V: "div",
                fd: ["ytp-yto-preroll-message"],
                eb: "Video will begin shortly"
            }]
        });
        E(this, this.I);
        WC(this.player, this.I.element)
    }
    v($$, bM);
    h = $$.prototype;
    h.create = function() {
        var a = this,
            b = this.player.getPresentingPlayerType();
        this.G ? tr(this.player.getRootNode(), "ytp-yto-preroll", 5 === b) : (this.u.Ga(this.player, "presentingplayerstatechange", this.eD), this.u.Ga(this.player, "crn_yto", function(c, d) {
            a.Hd(c, d)
        }), this.u.Ga(this.player, "ytoprerollinternstitialnext", this.zE), Oya(this), this.G = !0);
        this.player.Bd("yto", b)
    };

    function Oya(a) {
        var b = a.player.getVideoData().interstitials,
            c = [];
        b = t(b);
        for (var d = b.next(); !d.done; d = b.next()) {
            d = d.value;
            var e = c,
                f = e.push,
                g = a,
                k = d.playerVars,
                l = d.xg,
                m = d.time,
                n = "yto-" + g.J++;
            m = new TI(m, m, {
                id: n,
                priority: 5,
                namespace: "yto"
            });
            g.C[n] = {
                playerVars: k,
                playerType: l
            };
            f.call(e, m);
            e = a.player.getVideoData(1);
            e = Object.assign({
                oauth_token: e.oauthToken
            }, d.playerVars);
            a.player.preloadVideoByPlayerVars(e, d.xg)
        }
        a.player.Mf(c, 1)
    }
    h.Hd = function(a) {
        a = a.getId();
        if (!this.i) {
            if (Q(this.player.Nd(1), 2)) {
                if (this.D) return
            } else this.D = !1;
            this.l.includes(a) || this.l.push(a);
            1 === this.player.getPresentingPlayerType() && Pya(this)
        }
    };

    function Pya(a) {
        var b = a.l[a.B];
        if (b) {
            var c = a.C[b];
            b = c.playerVars;
            c = c.playerType;
            a.i = !0;
            a.B++;
            a.player.gi(c);
            var d = a.player.getVideoData(1);
            b = Object.assign({
                oauth_token: d.oauthToken
            }, b);
            a.player.loadVideoByPlayerVars(b, !0, c, !0);
            a.i = !1
        }
    }
    h.eD = function(a) {
        var b = this.player.getPresentingPlayerType();
        a = a.state;
        if (!(this.i || 5 !== b && 6 !== b && 7 !== b || Q(a, 1) || Q(a, 16) || Q(a, 32))) {
            var c = Q(a, 128);
            (Q(a, 2) || c) && Qya(this, b)
        }
    };
    h.zE = function() {
        Qya(this, 5)
    };

    function Qya(a, b) {
        a.B < a.l.length ? Pya(a) : (Q(a.player.Nd(1), 2) && (a.D = !0), a.i = !0, a.B = 0, a.l.length = 0, a.player.lj(b), a.i = !1)
    }
    h.Gm = function(a) {
        var b = this.player.getPresentingPlayerType();
        switch (a) {
            case 2:
            case 3:
                a = 1 !== b && !(5 === b || 6 === b || 7 === b);
                break;
            case 4:
                a = !this.i;
                break;
            default:
                a = !0
        }
        return a
    };
    h.Da = function() {
        this.C = {};
        bM.prototype.Da.call(this)
    };
    uM.ad = m9;
    uM.ypc = Z$;
    uM.ypc_clickwrap = Y$;
    uM.yto = $$;
    uM.heartbeat = u9;
    uM.webgl = X$;
    uM.captions = k$;
    Ia("yt.player.Application.create", cZ.create, void 0);
    Ia("yt.player.instances.create", function(a, b) {
        return d_(a, b)
    }, void 0);
    Ia("yt.player.instances.createFromWebPlayerContextConfig", function(a, b, c) {
        return d_(a, c, b, !1)
    }, void 0);
    Ia("yt.player.instances.getById", function(a) {
        if (a = document.getElementById(a)) {
            var b = c_ + "_" + Pa(a),
                c = b_[b];
            c || (c = new PZ(a, b), b_[b] = c);
            a = c.api
        } else a = null;
        return a
    }, void 0);
    var Rya = Ja("yt.abuse.player.botguardInitialized") || $pa;
    Wa("yt.abuse.player.botguardInitialized", Rya);
    var Sya = Ja("yt.abuse.player.invokeBotguard") || aqa;
    Wa("yt.abuse.player.invokeBotguard", Sya);
    var Tya = Ja("yt.abuse.dclkstatus.checkDclkStatus") || kz;
    Wa("yt.abuse.dclkstatus.checkDclkStatus", Tya);
    var Uya = Ja("yt.player.exports.navigate") || qla;
    Wa("yt.player.exports.navigate", Uya);
    var Vya = Ja("yt.util.activity.init") || gt;
    Wa("yt.util.activity.init", Vya);
    var Wya = Ja("yt.util.activity.getTimeSinceActive") || jt;
    Wa("yt.util.activity.getTimeSinceActive", Wya);
    var Xya = Ja("yt.util.activity.setTimestamp") || ht;
    Wa("yt.util.activity.setTimestamp", Xya);
}).call(this);